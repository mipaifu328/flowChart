var Lx=Object.defineProperty,Ix=Object.defineProperties;var zx=Object.getOwnPropertyDescriptors;var nc=Object.getOwnPropertySymbols;var hg=Object.prototype.hasOwnProperty,dg=Object.prototype.propertyIsEnumerable;var ug=(i,t,e)=>t in i?Lx(i,t,{enumerable:!0,configurable:!0,writable:!0,value:e}):i[t]=e,fe=(i,t)=>{for(var e in t||(t={}))hg.call(t,e)&&ug(i,e,t[e]);if(nc)for(var e of nc(t))dg.call(t,e)&&ug(i,e,t[e]);return i},en=(i,t)=>Ix(i,zx(t));var fg=(i,t)=>{var e={};for(var n in i)hg.call(i,n)&&t.indexOf(n)<0&&(e[n]=i[n]);if(i!=null&&nc)for(var n of nc(i))t.indexOf(n)<0&&dg.call(i,n)&&(e[n]=i[n]);return e};var jx=(i,t)=>()=>(t||i((t={exports:{}}).exports,t),t.exports);var iI=jx((hi,di)=>{const Bx=function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const r of document.querySelectorAll('link[rel="modulepreload"]'))n(r);new MutationObserver(r=>{for(const s of r)if(s.type==="childList")for(const o of s.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&n(o)}).observe(document,{childList:!0,subtree:!0});function e(r){const s={};return r.integrity&&(s.integrity=r.integrity),r.referrerpolicy&&(s.referrerPolicy=r.referrerpolicy),r.crossorigin==="use-credentials"?s.credentials="include":r.crossorigin==="anonymous"?s.credentials="omit":s.credentials="same-origin",s}function n(r){if(r.ep)return;r.ep=!0;const s=e(r);fetch(r.href,s)}};Bx();function Jd(i,t){const e=Object.create(null),n=i.split(",");for(let r=0;r<n.length;r++)e[n[r]]=!0;return t?r=>!!e[r.toLowerCase()]:r=>!!e[r]}const Rx="itemscope,allowfullscreen,formnovalidate,ismap,nomodule,novalidate,readonly",Vx=Jd(Rx);function J2(i){return!!i||i===""}function Mn(i){if(Ht(i)){const t={};for(let e=0;e<i.length;e++){const n=i[e],r=Oe(n)?qx(n):Mn(n);if(r)for(const s in r)t[s]=r[s]}return t}else{if(Oe(i))return i;if(He(i))return i}}const Hx=/;(?![^(]*\))/g,Gx=/:(.+)/;function qx(i){const t={};return i.split(Hx).forEach(e=>{if(e){const n=e.split(Gx);n.length>1&&(t[n[0].trim()]=n[1].trim())}}),t}function qt(i){let t="";if(Oe(i))t=i;else if(Ht(i))for(let e=0;e<i.length;e++){const n=qt(i[e]);n&&(t+=n+" ")}else if(He(i))for(const e in i)i[e]&&(t+=e+" ");return t.trim()}const Ki=i=>Oe(i)?i:i==null?"":Ht(i)||He(i)&&(i.toString===em||!Vt(i.toString))?JSON.stringify(i,Z2,2):String(i),Z2=(i,t)=>t&&t.__v_isRef?Z2(i,t.value):To(t)?{[`Map(${t.size})`]:[...t.entries()].reduce((e,[n,r])=>(e[`${n} =>`]=r,e),{})}:Q2(t)?{[`Set(${t.size})`]:[...t.values()]}:He(t)&&!Ht(t)&&!nm(t)?String(t):t,De={},Oo=[],jn=()=>{},Ux=()=>!1,Wx=/^on[^a-z]/,du=i=>Wx.test(i),Zd=i=>i.startsWith("onUpdate:"),On=Object.assign,Qd=(i,t)=>{const e=i.indexOf(t);e>-1&&i.splice(e,1)},Xx=Object.prototype.hasOwnProperty,ue=(i,t)=>Xx.call(i,t),Ht=Array.isArray,To=i=>fu(i)==="[object Map]",Q2=i=>fu(i)==="[object Set]",Vt=i=>typeof i=="function",Oe=i=>typeof i=="string",tf=i=>typeof i=="symbol",He=i=>i!==null&&typeof i=="object",tm=i=>He(i)&&Vt(i.then)&&Vt(i.catch),em=Object.prototype.toString,fu=i=>em.call(i),Yx=i=>fu(i).slice(8,-1),nm=i=>fu(i)==="[object Object]",ef=i=>Oe(i)&&i!=="NaN"&&i[0]!=="-"&&""+parseInt(i,10)===i,wc=Jd(",key,ref,ref_for,ref_key,onVnodeBeforeMount,onVnodeMounted,onVnodeBeforeUpdate,onVnodeUpdated,onVnodeBeforeUnmount,onVnodeUnmounted"),pu=i=>{const t=Object.create(null);return e=>t[e]||(t[e]=i(e))},Kx=/-(\w)/g,Qi=pu(i=>i.replace(Kx,(t,e)=>e?e.toUpperCase():"")),Jx=/\B([A-Z])/g,Zs=pu(i=>i.replace(Jx,"-$1").toLowerCase()),gu=pu(i=>i.charAt(0).toUpperCase()+i.slice(1)),yh=pu(i=>i?`on${gu(i)}`:""),tl=(i,t)=>!Object.is(i,t),xh=(i,t)=>{for(let e=0;e<i.length;e++)i[e](t)},$c=(i,t,e)=>{Object.defineProperty(i,t,{configurable:!0,enumerable:!1,value:e})},im=i=>{const t=parseFloat(i);return isNaN(t)?i:t};let pg;const Zx=()=>pg||(pg=typeof globalThis!="undefined"?globalThis:typeof self!="undefined"?self:typeof window!="undefined"?window:typeof global!="undefined"?global:{});let ai;class Qx{constructor(t=!1){this.active=!0,this.effects=[],this.cleanups=[],!t&&ai&&(this.parent=ai,this.index=(ai.scopes||(ai.scopes=[])).push(this)-1)}run(t){if(this.active){const e=ai;try{return ai=this,t()}finally{ai=e}}}on(){ai=this}off(){ai=this.parent}stop(t){if(this.active){let e,n;for(e=0,n=this.effects.length;e<n;e++)this.effects[e].stop();for(e=0,n=this.cleanups.length;e<n;e++)this.cleanups[e]();if(this.scopes)for(e=0,n=this.scopes.length;e<n;e++)this.scopes[e].stop(!0);if(this.parent&&!t){const r=this.parent.scopes.pop();r&&r!==this&&(this.parent.scopes[this.index]=r,r.index=this.index)}this.active=!1}}}function tC(i,t=ai){t&&t.active&&t.effects.push(i)}function eC(){return ai}function nC(i){ai&&ai.cleanups.push(i)}const nf=i=>{const t=new Set(i);return t.w=0,t.n=0,t},rm=i=>(i.w&Kr)>0,sm=i=>(i.n&Kr)>0,iC=({deps:i})=>{if(i.length)for(let t=0;t<i.length;t++)i[t].w|=Kr},rC=i=>{const{deps:t}=i;if(t.length){let e=0;for(let n=0;n<t.length;n++){const r=t[n];rm(r)&&!sm(r)?r.delete(i):t[e++]=r,r.w&=~Kr,r.n&=~Kr}t.length=e}},Xh=new WeakMap;let ka=0,Kr=1;const Yh=30;let Fi;const Ls=Symbol(""),Kh=Symbol("");class rf{constructor(t,e=null,n){this.fn=t,this.scheduler=e,this.active=!0,this.deps=[],this.parent=void 0,tC(this,n)}run(){if(!this.active)return this.fn();let t=Fi,e=Yr;for(;t;){if(t===this)return;t=t.parent}try{return this.parent=Fi,Fi=this,Yr=!0,Kr=1<<++ka,ka<=Yh?iC(this):gg(this),this.fn()}finally{ka<=Yh&&rC(this),Kr=1<<--ka,Fi=this.parent,Yr=e,this.parent=void 0,this.deferStop&&this.stop()}}stop(){Fi===this?this.deferStop=!0:this.active&&(gg(this),this.onStop&&this.onStop(),this.active=!1)}}function gg(i){const{deps:t}=i;if(t.length){for(let e=0;e<t.length;e++)t[e].delete(i);t.length=0}}let Yr=!0;const om=[];function Qs(){om.push(Yr),Yr=!1}function to(){const i=om.pop();Yr=i===void 0?!0:i}function pi(i,t,e){if(Yr&&Fi){let n=Xh.get(i);n||Xh.set(i,n=new Map);let r=n.get(e);r||n.set(e,r=nf()),am(r)}}function am(i,t){let e=!1;ka<=Yh?sm(i)||(i.n|=Kr,e=!rm(i)):e=!i.has(Fi),e&&(i.add(Fi),Fi.deps.push(i))}function yr(i,t,e,n,r,s){const o=Xh.get(i);if(!o)return;let a=[];if(t==="clear")a=[...o.values()];else if(e==="length"&&Ht(i))o.forEach((l,c)=>{(c==="length"||c>=n)&&a.push(l)});else switch(e!==void 0&&a.push(o.get(e)),t){case"add":Ht(i)?ef(e)&&a.push(o.get("length")):(a.push(o.get(Ls)),To(i)&&a.push(o.get(Kh)));break;case"delete":Ht(i)||(a.push(o.get(Ls)),To(i)&&a.push(o.get(Kh)));break;case"set":To(i)&&a.push(o.get(Ls));break}if(a.length===1)a[0]&&Jh(a[0]);else{const l=[];for(const c of a)c&&l.push(...c);Jh(nf(l))}}function Jh(i,t){const e=Ht(i)?i:[...i];for(const n of e)n.computed&&mg(n);for(const n of e)n.computed||mg(n)}function mg(i,t){(i!==Fi||i.allowRecurse)&&(i.scheduler?i.scheduler():i.run())}const sC=Jd("__proto__,__v_isRef,__isVue"),lm=new Set(Object.getOwnPropertyNames(Symbol).filter(i=>i!=="arguments"&&i!=="caller").map(i=>Symbol[i]).filter(tf)),oC=sf(),aC=sf(!1,!0),lC=sf(!0),bg=cC();function cC(){const i={};return["includes","indexOf","lastIndexOf"].forEach(t=>{i[t]=function(...e){const n=xe(this);for(let s=0,o=this.length;s<o;s++)pi(n,"get",s+"");const r=n[t](...e);return r===-1||r===!1?n[t](...e.map(xe)):r}}),["push","pop","shift","unshift","splice"].forEach(t=>{i[t]=function(...e){Qs();const n=xe(this)[t].apply(this,e);return to(),n}}),i}function sf(i=!1,t=!1){return function(n,r,s){if(r==="__v_isReactive")return!i;if(r==="__v_isReadonly")return i;if(r==="__v_isShallow")return t;if(r==="__v_raw"&&s===(i?t?AC:fm:t?dm:hm).get(n))return n;const o=Ht(n);if(!i&&o&&ue(bg,r))return Reflect.get(bg,r,s);const a=Reflect.get(n,r,s);return(tf(r)?lm.has(r):sC(r))||(i||pi(n,"get",r),t)?a:gn(a)?o&&ef(r)?a:a.value:He(a)?i?lf(a):eo(a):a}}const uC=cm(),hC=cm(!0);function cm(i=!1){return function(e,n,r,s){let o=e[n];if(el(o)&&gn(o)&&!gn(r))return!1;if(!i&&!el(r)&&(Zh(r)||(r=xe(r),o=xe(o)),!Ht(e)&&gn(o)&&!gn(r)))return o.value=r,!0;const a=Ht(e)&&ef(n)?Number(n)<e.length:ue(e,n),l=Reflect.set(e,n,r,s);return e===xe(s)&&(a?tl(r,o)&&yr(e,"set",n,r):yr(e,"add",n,r)),l}}function dC(i,t){const e=ue(i,t);i[t];const n=Reflect.deleteProperty(i,t);return n&&e&&yr(i,"delete",t,void 0),n}function fC(i,t){const e=Reflect.has(i,t);return(!tf(t)||!lm.has(t))&&pi(i,"has",t),e}function pC(i){return pi(i,"iterate",Ht(i)?"length":Ls),Reflect.ownKeys(i)}const um={get:oC,set:uC,deleteProperty:dC,has:fC,ownKeys:pC},gC={get:lC,set(i,t){return!0},deleteProperty(i,t){return!0}},mC=On({},um,{get:aC,set:hC}),of=i=>i,mu=i=>Reflect.getPrototypeOf(i);function ic(i,t,e=!1,n=!1){i=i.__v_raw;const r=xe(i),s=xe(t);e||(t!==s&&pi(r,"get",t),pi(r,"get",s));const{has:o}=mu(r),a=n?of:e?uf:nl;if(o.call(r,t))return a(i.get(t));if(o.call(r,s))return a(i.get(s));i!==r&&i.get(t)}function rc(i,t=!1){const e=this.__v_raw,n=xe(e),r=xe(i);return t||(i!==r&&pi(n,"has",i),pi(n,"has",r)),i===r?e.has(i):e.has(i)||e.has(r)}function sc(i,t=!1){return i=i.__v_raw,!t&&pi(xe(i),"iterate",Ls),Reflect.get(i,"size",i)}function vg(i){i=xe(i);const t=xe(this);return mu(t).has.call(t,i)||(t.add(i),yr(t,"add",i,i)),this}function yg(i,t){t=xe(t);const e=xe(this),{has:n,get:r}=mu(e);let s=n.call(e,i);s||(i=xe(i),s=n.call(e,i));const o=r.call(e,i);return e.set(i,t),s?tl(t,o)&&yr(e,"set",i,t):yr(e,"add",i,t),this}function xg(i){const t=xe(this),{has:e,get:n}=mu(t);let r=e.call(t,i);r||(i=xe(i),r=e.call(t,i)),n&&n.call(t,i);const s=t.delete(i);return r&&yr(t,"delete",i,void 0),s}function Cg(){const i=xe(this),t=i.size!==0,e=i.clear();return t&&yr(i,"clear",void 0,void 0),e}function oc(i,t){return function(n,r){const s=this,o=s.__v_raw,a=xe(o),l=t?of:i?uf:nl;return!i&&pi(a,"iterate",Ls),o.forEach((c,u)=>n.call(r,l(c),l(u),s))}}function ac(i,t,e){return function(...n){const r=this.__v_raw,s=xe(r),o=To(s),a=i==="entries"||i===Symbol.iterator&&o,l=i==="keys"&&o,c=r[i](...n),u=e?of:t?uf:nl;return!t&&pi(s,"iterate",l?Kh:Ls),{next(){const{value:h,done:f}=c.next();return f?{value:h,done:f}:{value:a?[u(h[0]),u(h[1])]:u(h),done:f}},[Symbol.iterator](){return this}}}}function $r(i){return function(...t){return i==="delete"?!1:this}}function bC(){const i={get(s){return ic(this,s)},get size(){return sc(this)},has:rc,add:vg,set:yg,delete:xg,clear:Cg,forEach:oc(!1,!1)},t={get(s){return ic(this,s,!1,!0)},get size(){return sc(this)},has:rc,add:vg,set:yg,delete:xg,clear:Cg,forEach:oc(!1,!0)},e={get(s){return ic(this,s,!0)},get size(){return sc(this,!0)},has(s){return rc.call(this,s,!0)},add:$r("add"),set:$r("set"),delete:$r("delete"),clear:$r("clear"),forEach:oc(!0,!1)},n={get(s){return ic(this,s,!0,!0)},get size(){return sc(this,!0)},has(s){return rc.call(this,s,!0)},add:$r("add"),set:$r("set"),delete:$r("delete"),clear:$r("clear"),forEach:oc(!0,!0)};return["keys","values","entries",Symbol.iterator].forEach(s=>{i[s]=ac(s,!1,!1),e[s]=ac(s,!0,!1),t[s]=ac(s,!1,!0),n[s]=ac(s,!0,!0)}),[i,e,t,n]}const[vC,yC,xC,CC]=bC();function af(i,t){const e=t?i?CC:xC:i?yC:vC;return(n,r,s)=>r==="__v_isReactive"?!i:r==="__v_isReadonly"?i:r==="__v_raw"?n:Reflect.get(ue(e,r)&&r in n?e:n,r,s)}const wC={get:af(!1,!1)},SC={get:af(!1,!0)},EC={get:af(!0,!1)},hm=new WeakMap,dm=new WeakMap,fm=new WeakMap,AC=new WeakMap;function MC(i){switch(i){case"Object":case"Array":return 1;case"Map":case"Set":case"WeakMap":case"WeakSet":return 2;default:return 0}}function OC(i){return i.__v_skip||!Object.isExtensible(i)?0:MC(Yx(i))}function eo(i){return el(i)?i:cf(i,!1,um,wC,hm)}function TC(i){return cf(i,!1,mC,SC,dm)}function lf(i){return cf(i,!0,gC,EC,fm)}function cf(i,t,e,n,r){if(!He(i)||i.__v_raw&&!(t&&i.__v_isReactive))return i;const s=r.get(i);if(s)return s;const o=OC(i);if(o===0)return i;const a=new Proxy(i,o===2?n:e);return r.set(i,a),a}function Po(i){return el(i)?Po(i.__v_raw):!!(i&&i.__v_isReactive)}function el(i){return!!(i&&i.__v_isReadonly)}function Zh(i){return!!(i&&i.__v_isShallow)}function pm(i){return Po(i)||el(i)}function xe(i){const t=i&&i.__v_raw;return t?xe(t):i}function gm(i){return $c(i,"__v_skip",!0),i}const nl=i=>He(i)?eo(i):i,uf=i=>He(i)?lf(i):i;function mm(i){Yr&&Fi&&(i=xe(i),am(i.dep||(i.dep=nf())))}function bm(i,t){i=xe(i),i.dep&&Jh(i.dep)}function gn(i){return!!(i&&i.__v_isRef===!0)}function Mt(i){return vm(i,!1)}function ko(i){return vm(i,!0)}function vm(i,t){return gn(i)?i:new PC(i,t)}class PC{constructor(t,e){this.__v_isShallow=e,this.dep=void 0,this.__v_isRef=!0,this._rawValue=e?t:xe(t),this._value=e?t:nl(t)}get value(){return mm(this),this._value}set value(t){t=this.__v_isShallow?t:xe(t),tl(t,this._rawValue)&&(this._rawValue=t,this._value=this.__v_isShallow?t:nl(t),bm(this))}}function U(i){return gn(i)?i.value:i}const kC={get:(i,t,e)=>U(Reflect.get(i,t,e)),set:(i,t,e,n)=>{const r=i[t];return gn(r)&&!gn(e)?(r.value=e,!0):Reflect.set(i,t,e,n)}};function ym(i){return Po(i)?i:new Proxy(i,kC)}function hf(i){const t=Ht(i)?new Array(i.length):{};for(const e in i)t[e]=Jr(i,e);return t}class _C{constructor(t,e,n){this._object=t,this._key=e,this._defaultValue=n,this.__v_isRef=!0}get value(){const t=this._object[this._key];return t===void 0?this._defaultValue:t}set value(t){this._object[this._key]=t}}function Jr(i,t,e){const n=i[t];return gn(n)?n:new _C(i,t,e)}class DC{constructor(t,e,n,r){this._setter=e,this.dep=void 0,this.__v_isRef=!0,this._dirty=!0,this.effect=new rf(t,()=>{this._dirty||(this._dirty=!0,bm(this))}),this.effect.computed=this,this.effect.active=this._cacheable=!r,this.__v_isReadonly=n}get value(){const t=xe(this);return mm(t),(t._dirty||!t._cacheable)&&(t._dirty=!1,t._value=t.effect.run()),t._value}set value(t){this._setter(t)}}function NC(i,t,e=!1){let n,r;const s=Vt(i);return s?(n=i,r=jn):(n=i.get,r=i.set),new DC(n,r,s||!r,e)}const La=[];function $C(i,...t){Qs();const e=La.length?La[La.length-1].component:null,n=e&&e.appContext.config.warnHandler,r=FC();if(n)br(n,e,11,[i+t.join(""),e&&e.proxy,r.map(({vnode:s})=>`at <${Jm(e,s.type)}>`).join(`
`),r]);else{const s=[`[Vue warn]: ${i}`,...t];r.length&&s.push(`
`,...LC(r)),console.warn(...s)}to()}function FC(){let i=La[La.length-1];if(!i)return[];const t=[];for(;i;){const e=t[0];e&&e.vnode===i?e.recurseCount++:t.push({vnode:i,recurseCount:0});const n=i.component&&i.component.parent;i=n&&n.vnode}return t}function LC(i){const t=[];return i.forEach((e,n)=>{t.push(...n===0?[]:[`
`],...IC(e))}),t}function IC({vnode:i,recurseCount:t}){const e=t>0?`... (${t} recursive calls)`:"",n=i.component?i.component.parent==null:!1,r=` at <${Jm(i.component,i.type,n)}`,s=">"+e;return i.props?[r,...zC(i.props),s]:[r+s]}function zC(i){const t=[],e=Object.keys(i);return e.slice(0,3).forEach(n=>{t.push(...xm(n,i[n]))}),e.length>3&&t.push(" ..."),t}function xm(i,t,e){return Oe(t)?(t=JSON.stringify(t),e?t:[`${i}=${t}`]):typeof t=="number"||typeof t=="boolean"||t==null?e?t:[`${i}=${t}`]:gn(t)?(t=xm(i,xe(t.value),!0),e?t:[`${i}=Ref<`,t,">"]):Vt(t)?[`${i}=fn${t.name?`<${t.name}>`:""}`]:(t=xe(t),e?t:[`${i}=`,t])}function br(i,t,e,n){let r;try{r=n?i(...n):i()}catch(s){bu(s,t,e)}return r}function wi(i,t,e,n){if(Vt(i)){const s=br(i,t,e,n);return s&&tm(s)&&s.catch(o=>{bu(o,t,e)}),s}const r=[];for(let s=0;s<i.length;s++)r.push(wi(i[s],t,e,n));return r}function bu(i,t,e,n=!0){const r=t?t.vnode:null;if(t){let s=t.parent;const o=t.proxy,a=e;for(;s;){const c=s.ec;if(c){for(let u=0;u<c.length;u++)if(c[u](i,o,a)===!1)return}s=s.parent}const l=t.appContext.config.errorHandler;if(l){br(l,null,10,[i,o,a]);return}}jC(i,e,r,n)}function jC(i,t,e,n=!0){console.error(i)}let Fc=!1,Qh=!1;const li=[];let pr=0;const Ia=[];let _a=null,So=0;const za=[];let zr=null,Eo=0;const Cm=Promise.resolve();let df=null,td=null;function Yn(i){const t=df||Cm;return i?t.then(this?i.bind(this):i):t}function BC(i){let t=pr+1,e=li.length;for(;t<e;){const n=t+e>>>1;il(li[n])<i?t=n+1:e=n}return t}function wm(i){(!li.length||!li.includes(i,Fc&&i.allowRecurse?pr+1:pr))&&i!==td&&(i.id==null?li.push(i):li.splice(BC(i.id),0,i),Sm())}function Sm(){!Fc&&!Qh&&(Qh=!0,df=Cm.then(Mm))}function RC(i){const t=li.indexOf(i);t>pr&&li.splice(t,1)}function Em(i,t,e,n){Ht(i)?e.push(...i):(!t||!t.includes(i,i.allowRecurse?n+1:n))&&e.push(i),Sm()}function VC(i){Em(i,_a,Ia,So)}function HC(i){Em(i,zr,za,Eo)}function vu(i,t=null){if(Ia.length){for(td=t,_a=[...new Set(Ia)],Ia.length=0,So=0;So<_a.length;So++)_a[So]();_a=null,So=0,td=null,vu(i,t)}}function Am(i){if(vu(),za.length){const t=[...new Set(za)];if(za.length=0,zr){zr.push(...t);return}for(zr=t,zr.sort((e,n)=>il(e)-il(n)),Eo=0;Eo<zr.length;Eo++)zr[Eo]();zr=null,Eo=0}}const il=i=>i.id==null?1/0:i.id;function Mm(i){Qh=!1,Fc=!0,vu(i),li.sort((e,n)=>il(e)-il(n));const t=jn;try{for(pr=0;pr<li.length;pr++){const e=li[pr];e&&e.active!==!1&&br(e,null,14)}}finally{pr=0,li.length=0,Am(),Fc=!1,df=null,(li.length||Ia.length||za.length)&&Mm(i)}}function GC(i,t,...e){if(i.isUnmounted)return;const n=i.vnode.props||De;let r=e;const s=t.startsWith("update:"),o=s&&t.slice(7);if(o&&o in n){const u=`${o==="modelValue"?"model":o}Modifiers`,{number:h,trim:f}=n[u]||De;f&&(r=e.map(p=>p.trim())),h&&(r=e.map(im))}let a,l=n[a=yh(t)]||n[a=yh(Qi(t))];!l&&s&&(l=n[a=yh(Zs(t))]),l&&wi(l,i,6,r);const c=n[a+"Once"];if(c){if(!i.emitted)i.emitted={};else if(i.emitted[a])return;i.emitted[a]=!0,wi(c,i,6,r)}}function Om(i,t,e=!1){const n=t.emitsCache,r=n.get(i);if(r!==void 0)return r;const s=i.emits;let o={},a=!1;if(!Vt(i)){const l=c=>{const u=Om(c,t,!0);u&&(a=!0,On(o,u))};!e&&t.mixins.length&&t.mixins.forEach(l),i.extends&&l(i.extends),i.mixins&&i.mixins.forEach(l)}return!s&&!a?(n.set(i,null),null):(Ht(s)?s.forEach(l=>o[l]=null):On(o,s),n.set(i,o),o)}function yu(i,t){return!i||!du(t)?!1:(t=t.slice(2).replace(/Once$/,""),ue(i,t[0].toLowerCase()+t.slice(1))||ue(i,Zs(t))||ue(i,t))}let $n=null,xu=null;function Lc(i){const t=$n;return $n=i,xu=i&&i.type.__scopeId||null,t}function qC(i){xu=i}function UC(){xu=null}function we(i,t=$n,e){if(!t||i._n)return i;const n=(...r)=>{n._d&&Ng(-1);const s=Lc(t),o=i(...r);return Lc(s),n._d&&Ng(1),o};return n._n=!0,n._c=!0,n._d=!0,n}function Ch(i){const{type:t,vnode:e,proxy:n,withProxy:r,props:s,propsOptions:[o],slots:a,attrs:l,emit:c,render:u,renderCache:h,data:f,setupState:p,ctx:b,inheritAttrs:v}=i;let C,x;const S=Lc(i);try{if(e.shapeFlag&4){const O=r||n;C=Yi(u.call(O,O,h,s,p,f,b)),x=l}else{const O=t;C=Yi(O.length>1?O(s,{attrs:l,slots:a,emit:c}):O(s,null)),x=t.props?l:WC(l)}}catch(O){Ra.length=0,bu(O,i,1),C=Jt(fi)}let E=C;if(x&&v!==!1){const O=Object.keys(x),{shapeFlag:k}=E;O.length&&k&7&&(o&&O.some(Zd)&&(x=XC(x,o)),E=xr(E,x))}return e.dirs&&(E=xr(E),E.dirs=E.dirs?E.dirs.concat(e.dirs):e.dirs),e.transition&&(E.transition=e.transition),C=E,Lc(S),C}const WC=i=>{let t;for(const e in i)(e==="class"||e==="style"||du(e))&&((t||(t={}))[e]=i[e]);return t},XC=(i,t)=>{const e={};for(const n in i)(!Zd(n)||!(n.slice(9)in t))&&(e[n]=i[n]);return e};function YC(i,t,e){const{props:n,children:r,component:s}=i,{props:o,children:a,patchFlag:l}=t,c=s.emitsOptions;if(t.dirs||t.transition)return!0;if(e&&l>=0){if(l&1024)return!0;if(l&16)return n?wg(n,o,c):!!o;if(l&8){const u=t.dynamicProps;for(let h=0;h<u.length;h++){const f=u[h];if(o[f]!==n[f]&&!yu(c,f))return!0}}}else return(r||a)&&(!a||!a.$stable)?!0:n===o?!1:n?o?wg(n,o,c):!0:!!o;return!1}function wg(i,t,e){const n=Object.keys(t);if(n.length!==Object.keys(i).length)return!0;for(let r=0;r<n.length;r++){const s=n[r];if(t[s]!==i[s]&&!yu(e,s))return!0}return!1}function KC({vnode:i,parent:t},e){for(;t&&t.subTree===i;)(i=t.vnode).el=e,t=t.parent}const JC=i=>i.__isSuspense;function ZC(i,t){t&&t.pendingBranch?Ht(i)?t.effects.push(...i):t.effects.push(i):HC(i)}function Bi(i,t){if(vn){let e=vn.provides;const n=vn.parent&&vn.parent.provides;n===e&&(e=vn.provides=Object.create(n)),e[i]=t}}function Ve(i,t,e=!1){const n=vn||$n;if(n){const r=n.parent==null?n.vnode.appContext&&n.vnode.appContext.provides:n.parent.provides;if(r&&i in r)return r[i];if(arguments.length>1)return e&&Vt(t)?t.call(n.proxy):t}}function QC(i,t){return ff(i,null,t)}const Sg={};function Qt(i,t,e){return ff(i,t,e)}function ff(i,t,{immediate:e,deep:n,flush:r,onTrack:s,onTrigger:o}=De){const a=vn;let l,c=!1,u=!1;if(gn(i)?(l=()=>i.value,c=Zh(i)):Po(i)?(l=()=>i,n=!0):Ht(i)?(u=!0,c=i.some(x=>Po(x)||Zh(x)),l=()=>i.map(x=>{if(gn(x))return x.value;if(Po(x))return ks(x);if(Vt(x))return br(x,a,2)})):Vt(i)?t?l=()=>br(i,a,2):l=()=>{if(!(a&&a.isUnmounted))return h&&h(),wi(i,a,3,[f])}:l=jn,t&&n){const x=l;l=()=>ks(x())}let h,f=x=>{h=C.onStop=()=>{br(x,a,4)}};if(ol)return f=jn,t?e&&wi(t,a,3,[l(),u?[]:void 0,f]):l(),jn;let p=u?[]:Sg;const b=()=>{if(!!C.active)if(t){const x=C.run();(n||c||(u?x.some((S,E)=>tl(S,p[E])):tl(x,p)))&&(h&&h(),wi(t,a,3,[x,p===Sg?void 0:p,f]),p=x)}else C.run()};b.allowRecurse=!!t;let v;r==="sync"?v=b:r==="post"?v=()=>Xn(b,a&&a.suspense):v=()=>VC(b);const C=new rf(l,v);return t?e?b():p=C.run():r==="post"?Xn(C.run.bind(C),a&&a.suspense):C.run(),()=>{C.stop(),a&&a.scope&&Qd(a.scope.effects,C)}}function tw(i,t,e){const n=this.proxy,r=Oe(i)?i.includes(".")?Tm(n,i):()=>n[i]:i.bind(n,n);let s;Vt(t)?s=t:(s=t.handler,e=t);const o=vn;Lo(this);const a=ff(r,s.bind(n),e);return o?Lo(o):zs(),a}function Tm(i,t){const e=t.split(".");return()=>{let n=i;for(let r=0;r<e.length&&n;r++)n=n[e[r]];return n}}function ks(i,t){if(!He(i)||i.__v_skip||(t=t||new Set,t.has(i)))return i;if(t.add(i),gn(i))ks(i.value,t);else if(Ht(i))for(let e=0;e<i.length;e++)ks(i[e],t);else if(Q2(i)||To(i))i.forEach(e=>{ks(e,t)});else if(nm(i))for(const e in i)ks(i[e],t);return i}function ew(){const i={isMounted:!1,isLeaving:!1,isUnmounting:!1,leavingVNodes:new Map};return Fn(()=>{i.isMounted=!0}),ar(()=>{i.isUnmounting=!0}),i}const bi=[Function,Array],nw={name:"BaseTransition",props:{mode:String,appear:Boolean,persisted:Boolean,onBeforeEnter:bi,onEnter:bi,onAfterEnter:bi,onEnterCancelled:bi,onBeforeLeave:bi,onLeave:bi,onAfterLeave:bi,onLeaveCancelled:bi,onBeforeAppear:bi,onAppear:bi,onAfterAppear:bi,onAppearCancelled:bi},setup(i,{slots:t}){const e=lr(),n=ew();let r;return()=>{const s=t.default&&_m(t.default(),!0);if(!s||!s.length)return;let o=s[0];if(s.length>1){for(const v of s)if(v.type!==fi){o=v;break}}const a=xe(i),{mode:l}=a;if(n.isLeaving)return wh(o);const c=Eg(o);if(!c)return wh(o);const u=ed(c,a,n,e);nd(c,u);const h=e.subTree,f=h&&Eg(h);let p=!1;const{getTransitionKey:b}=c.type;if(b){const v=b();r===void 0?r=v:v!==r&&(r=v,p=!0)}if(f&&f.type!==fi&&(!Ms(c,f)||p)){const v=ed(f,a,n,e);if(nd(f,v),l==="out-in")return n.isLeaving=!0,v.afterLeave=()=>{n.isLeaving=!1,e.update()},wh(o);l==="in-out"&&c.type!==fi&&(v.delayLeave=(C,x,S)=>{const E=km(n,f);E[String(f.key)]=f,C._leaveCb=()=>{x(),C._leaveCb=void 0,delete u.delayedLeave},u.delayedLeave=S})}return o}}},Pm=nw;function km(i,t){const{leavingVNodes:e}=i;let n=e.get(t.type);return n||(n=Object.create(null),e.set(t.type,n)),n}function ed(i,t,e,n){const{appear:r,mode:s,persisted:o=!1,onBeforeEnter:a,onEnter:l,onAfterEnter:c,onEnterCancelled:u,onBeforeLeave:h,onLeave:f,onAfterLeave:p,onLeaveCancelled:b,onBeforeAppear:v,onAppear:C,onAfterAppear:x,onAppearCancelled:S}=t,E=String(i.key),O=km(e,i),k=(D,z)=>{D&&wi(D,n,9,z)},m=(D,z)=>{const H=z[1];k(D,z),Ht(D)?D.every(q=>q.length<=1)&&H():D.length<=1&&H()},T={mode:s,persisted:o,beforeEnter(D){let z=a;if(!e.isMounted)if(r)z=v||a;else return;D._leaveCb&&D._leaveCb(!0);const H=O[E];H&&Ms(i,H)&&H.el._leaveCb&&H.el._leaveCb(),k(z,[D])},enter(D){let z=l,H=c,q=u;if(!e.isMounted)if(r)z=C||l,H=x||c,q=S||u;else return;let R=!1;const rt=D._enterCb=st=>{R||(R=!0,st?k(q,[D]):k(H,[D]),T.delayedLeave&&T.delayedLeave(),D._enterCb=void 0)};z?m(z,[D,rt]):rt()},leave(D,z){const H=String(i.key);if(D._enterCb&&D._enterCb(!0),e.isUnmounting)return z();k(h,[D]);let q=!1;const R=D._leaveCb=rt=>{q||(q=!0,z(),rt?k(b,[D]):k(p,[D]),D._leaveCb=void 0,O[H]===i&&delete O[H])};O[H]=i,f?m(f,[D,R]):R()},clone(D){return ed(D,t,e,n)}};return T}function wh(i){if(Cu(i))return i=xr(i),i.children=null,i}function Eg(i){return Cu(i)?i.children?i.children[0]:void 0:i}function nd(i,t){i.shapeFlag&6&&i.component?nd(i.component.subTree,t):i.shapeFlag&128?(i.ssContent.transition=t.clone(i.ssContent),i.ssFallback.transition=t.clone(i.ssFallback)):i.transition=t}function _m(i,t=!1,e){let n=[],r=0;for(let s=0;s<i.length;s++){let o=i[s];const a=e==null?o.key:String(e)+String(o.key!=null?o.key:s);o.type===nn?(o.patchFlag&128&&r++,n=n.concat(_m(o.children,t,a))):(t||o.type!==fi)&&n.push(a!=null?xr(o,{key:a}):o)}if(r>1)for(let s=0;s<n.length;s++)n[s].patchFlag=-2;return n}function ze(i){return Vt(i)?{setup:i,name:i.name}:i}const ja=i=>!!i.type.__asyncLoader,Cu=i=>i.type.__isKeepAlive;function iw(i,t){Dm(i,"a",t)}function rw(i,t){Dm(i,"da",t)}function Dm(i,t,e=vn){const n=i.__wdc||(i.__wdc=()=>{let r=e;for(;r;){if(r.isDeactivated)return;r=r.parent}return i()});if(wu(t,n,e),e){let r=e.parent;for(;r&&r.parent;)Cu(r.parent.vnode)&&sw(n,t,e,r),r=r.parent}}function sw(i,t,e,n){const r=wu(t,i,n,!0);gf(()=>{Qd(n[t],r)},e)}function wu(i,t,e=vn,n=!1){if(e){const r=e[i]||(e[i]=[]),s=t.__weh||(t.__weh=(...o)=>{if(e.isUnmounted)return;Qs(),Lo(e);const a=wi(t,e,i,o);return zs(),to(),a});return n?r.unshift(s):r.push(s),s}}const Er=i=>(t,e=vn)=>(!ol||i==="sp")&&wu(i,t,e),Nm=Er("bm"),Fn=Er("m"),ow=Er("bu"),pf=Er("u"),ar=Er("bum"),gf=Er("um"),aw=Er("sp"),lw=Er("rtg"),cw=Er("rtc");function uw(i,t=vn){wu("ec",i,t)}function rl(i,t){const e=$n;if(e===null)return i;const n=Eu(e)||e.proxy,r=i.dirs||(i.dirs=[]);for(let s=0;s<t.length;s++){let[o,a,l,c=De]=t[s];Vt(o)&&(o={mounted:o,updated:o}),o.deep&&ks(a),r.push({dir:o,instance:n,value:a,oldValue:void 0,arg:l,modifiers:c})}return i}function vs(i,t,e,n){const r=i.dirs,s=t&&t.dirs;for(let o=0;o<r.length;o++){const a=r[o];s&&(a.oldValue=s[o].value);let l=a.dir[n];l&&(Qs(),wi(l,e,8,[i.el,a,i,t]),to())}}const mf="components",hw="directives";function Dn(i,t){return bf(mf,i,!0,t)||i}const $m=Symbol();function _s(i){return Oe(i)?bf(mf,i,!1)||i:i||$m}function dw(i){return bf(hw,i)}function bf(i,t,e=!0,n=!1){const r=$n||vn;if(r){const s=r.type;if(i===mf){const a=Km(s,!1);if(a&&(a===t||a===Qi(t)||a===gu(Qi(t))))return s}const o=Ag(r[i]||s[i],t)||Ag(r.appContext[i],t);return!o&&n?s:o}}function Ag(i,t){return i&&(i[t]||i[Qi(t)]||i[gu(Qi(t))])}function Fm(i,t,e,n){let r;const s=e&&e[n];if(Ht(i)||Oe(i)){r=new Array(i.length);for(let o=0,a=i.length;o<a;o++)r[o]=t(i[o],o,void 0,s&&s[o])}else if(typeof i=="number"){r=new Array(i);for(let o=0;o<i;o++)r[o]=t(o+1,o,void 0,s&&s[o])}else if(He(i))if(i[Symbol.iterator])r=Array.from(i,(o,a)=>t(o,a,void 0,s&&s[a]));else{const o=Object.keys(i);r=new Array(o.length);for(let a=0,l=o.length;a<l;a++){const c=o[a];r[a]=t(i[c],c,a,s&&s[a])}}else r=[];return e&&(e[n]=r),r}function Ze(i,t,e={},n,r){if($n.isCE||$n.parent&&ja($n.parent)&&$n.parent.isCE)return Jt("slot",t==="default"?null:{name:t},n&&n());let s=i[t];s&&s._c&&(s._d=!1),Et();const o=s&&Lm(s(e)),a=Me(nn,{key:e.key||`_${t}`},o||(n?n():[]),o&&i._===1?64:-2);return!r&&a.scopeId&&(a.slotScopeIds=[a.scopeId+"-s"]),s&&s._c&&(s._d=!0),a}function Lm(i){return i.some(t=>jc(t)?!(t.type===fi||t.type===nn&&!Lm(t.children)):!0)?i:null}const id=i=>i?Wm(i)?Eu(i)||i.proxy:id(i.parent):null,Ic=On(Object.create(null),{$:i=>i,$el:i=>i.vnode.el,$data:i=>i.data,$props:i=>i.props,$attrs:i=>i.attrs,$slots:i=>i.slots,$refs:i=>i.refs,$parent:i=>id(i.parent),$root:i=>id(i.root),$emit:i=>i.emit,$options:i=>zm(i),$forceUpdate:i=>i.f||(i.f=()=>wm(i.update)),$nextTick:i=>i.n||(i.n=Yn.bind(i.proxy)),$watch:i=>tw.bind(i)}),fw={get({_:i},t){const{ctx:e,setupState:n,data:r,props:s,accessCache:o,type:a,appContext:l}=i;let c;if(t[0]!=="$"){const p=o[t];if(p!==void 0)switch(p){case 1:return n[t];case 2:return r[t];case 4:return e[t];case 3:return s[t]}else{if(n!==De&&ue(n,t))return o[t]=1,n[t];if(r!==De&&ue(r,t))return o[t]=2,r[t];if((c=i.propsOptions[0])&&ue(c,t))return o[t]=3,s[t];if(e!==De&&ue(e,t))return o[t]=4,e[t];rd&&(o[t]=0)}}const u=Ic[t];let h,f;if(u)return t==="$attrs"&&pi(i,"get",t),u(i);if((h=a.__cssModules)&&(h=h[t]))return h;if(e!==De&&ue(e,t))return o[t]=4,e[t];if(f=l.config.globalProperties,ue(f,t))return f[t]},set({_:i},t,e){const{data:n,setupState:r,ctx:s}=i;return r!==De&&ue(r,t)?(r[t]=e,!0):n!==De&&ue(n,t)?(n[t]=e,!0):ue(i.props,t)||t[0]==="$"&&t.slice(1)in i?!1:(s[t]=e,!0)},has({_:{data:i,setupState:t,accessCache:e,ctx:n,appContext:r,propsOptions:s}},o){let a;return!!e[o]||i!==De&&ue(i,o)||t!==De&&ue(t,o)||(a=s[0])&&ue(a,o)||ue(n,o)||ue(Ic,o)||ue(r.config.globalProperties,o)},defineProperty(i,t,e){return e.get!=null?i._.accessCache[t]=0:ue(e,"value")&&this.set(i,t,e.value,null),Reflect.defineProperty(i,t,e)}};let rd=!0;function pw(i){const t=zm(i),e=i.proxy,n=i.ctx;rd=!1,t.beforeCreate&&Mg(t.beforeCreate,i,"bc");const{data:r,computed:s,methods:o,watch:a,provide:l,inject:c,created:u,beforeMount:h,mounted:f,beforeUpdate:p,updated:b,activated:v,deactivated:C,beforeDestroy:x,beforeUnmount:S,destroyed:E,unmounted:O,render:k,renderTracked:m,renderTriggered:T,errorCaptured:D,serverPrefetch:z,expose:H,inheritAttrs:q,components:R,directives:rt,filters:st}=t;if(c&&gw(c,n,null,i.appContext.config.unwrapInjectedRef),o)for(const tt in o){const bt=o[tt];Vt(bt)&&(n[tt]=bt.bind(e))}if(r){const tt=r.call(e,e);He(tt)&&(i.data=eo(tt))}if(rd=!0,s)for(const tt in s){const bt=s[tt],Ot=Vt(bt)?bt.bind(e,e):Vt(bt.get)?bt.get.bind(e,e):jn,Gt=!Vt(bt)&&Vt(bt.set)?bt.set.bind(e):jn,pt=vt({get:Ot,set:Gt});Object.defineProperty(n,tt,{enumerable:!0,configurable:!0,get:()=>pt.value,set:$t=>pt.value=$t})}if(a)for(const tt in a)Im(a[tt],n,e,tt);if(l){const tt=Vt(l)?l.call(e):l;Reflect.ownKeys(tt).forEach(bt=>{Bi(bt,tt[bt])})}u&&Mg(u,i,"c");function B(tt,bt){Ht(bt)?bt.forEach(Ot=>tt(Ot.bind(e))):bt&&tt(bt.bind(e))}if(B(Nm,h),B(Fn,f),B(ow,p),B(pf,b),B(iw,v),B(rw,C),B(uw,D),B(cw,m),B(lw,T),B(ar,S),B(gf,O),B(aw,z),Ht(H))if(H.length){const tt=i.exposed||(i.exposed={});H.forEach(bt=>{Object.defineProperty(tt,bt,{get:()=>e[bt],set:Ot=>e[bt]=Ot})})}else i.exposed||(i.exposed={});k&&i.render===jn&&(i.render=k),q!=null&&(i.inheritAttrs=q),R&&(i.components=R),rt&&(i.directives=rt)}function gw(i,t,e=jn,n=!1){Ht(i)&&(i=sd(i));for(const r in i){const s=i[r];let o;He(s)?"default"in s?o=Ve(s.from||r,s.default,!0):o=Ve(s.from||r):o=Ve(s),gn(o)&&n?Object.defineProperty(t,r,{enumerable:!0,configurable:!0,get:()=>o.value,set:a=>o.value=a}):t[r]=o}}function Mg(i,t,e){wi(Ht(i)?i.map(n=>n.bind(t.proxy)):i.bind(t.proxy),t,e)}function Im(i,t,e,n){const r=n.includes(".")?Tm(e,n):()=>e[n];if(Oe(i)){const s=t[i];Vt(s)&&Qt(r,s)}else if(Vt(i))Qt(r,i.bind(e));else if(He(i))if(Ht(i))i.forEach(s=>Im(s,t,e,n));else{const s=Vt(i.handler)?i.handler.bind(e):t[i.handler];Vt(s)&&Qt(r,s,i)}}function zm(i){const t=i.type,{mixins:e,extends:n}=t,{mixins:r,optionsCache:s,config:{optionMergeStrategies:o}}=i.appContext,a=s.get(t);let l;return a?l=a:!r.length&&!e&&!n?l=t:(l={},r.length&&r.forEach(c=>zc(l,c,o,!0)),zc(l,t,o)),s.set(t,l),l}function zc(i,t,e,n=!1){const{mixins:r,extends:s}=t;s&&zc(i,s,e,!0),r&&r.forEach(o=>zc(i,o,e,!0));for(const o in t)if(!(n&&o==="expose")){const a=mw[o]||e&&e[o];i[o]=a?a(i[o],t[o]):t[o]}return i}const mw={data:Og,props:Es,emits:Es,methods:Es,computed:Es,beforeCreate:Ln,created:Ln,beforeMount:Ln,mounted:Ln,beforeUpdate:Ln,updated:Ln,beforeDestroy:Ln,beforeUnmount:Ln,destroyed:Ln,unmounted:Ln,activated:Ln,deactivated:Ln,errorCaptured:Ln,serverPrefetch:Ln,components:Es,directives:Es,watch:vw,provide:Og,inject:bw};function Og(i,t){return t?i?function(){return On(Vt(i)?i.call(this,this):i,Vt(t)?t.call(this,this):t)}:t:i}function bw(i,t){return Es(sd(i),sd(t))}function sd(i){if(Ht(i)){const t={};for(let e=0;e<i.length;e++)t[i[e]]=i[e];return t}return i}function Ln(i,t){return i?[...new Set([].concat(i,t))]:t}function Es(i,t){return i?On(On(Object.create(null),i),t):t}function vw(i,t){if(!i)return t;if(!t)return i;const e=On(Object.create(null),i);for(const n in t)e[n]=Ln(i[n],t[n]);return e}function yw(i,t,e,n=!1){const r={},s={};$c(s,Su,1),i.propsDefaults=Object.create(null),jm(i,t,r,s);for(const o in i.propsOptions[0])o in r||(r[o]=void 0);e?i.props=n?r:TC(r):i.type.props?i.props=r:i.props=s,i.attrs=s}function xw(i,t,e,n){const{props:r,attrs:s,vnode:{patchFlag:o}}=i,a=xe(r),[l]=i.propsOptions;let c=!1;if((n||o>0)&&!(o&16)){if(o&8){const u=i.vnode.dynamicProps;for(let h=0;h<u.length;h++){let f=u[h];if(yu(i.emitsOptions,f))continue;const p=t[f];if(l)if(ue(s,f))p!==s[f]&&(s[f]=p,c=!0);else{const b=Qi(f);r[b]=od(l,a,b,p,i,!1)}else p!==s[f]&&(s[f]=p,c=!0)}}}else{jm(i,t,r,s)&&(c=!0);let u;for(const h in a)(!t||!ue(t,h)&&((u=Zs(h))===h||!ue(t,u)))&&(l?e&&(e[h]!==void 0||e[u]!==void 0)&&(r[h]=od(l,a,h,void 0,i,!0)):delete r[h]);if(s!==a)for(const h in s)(!t||!ue(t,h)&&!0)&&(delete s[h],c=!0)}c&&yr(i,"set","$attrs")}function jm(i,t,e,n){const[r,s]=i.propsOptions;let o=!1,a;if(t)for(let l in t){if(wc(l))continue;const c=t[l];let u;r&&ue(r,u=Qi(l))?!s||!s.includes(u)?e[u]=c:(a||(a={}))[u]=c:yu(i.emitsOptions,l)||(!(l in n)||c!==n[l])&&(n[l]=c,o=!0)}if(s){const l=xe(e),c=a||De;for(let u=0;u<s.length;u++){const h=s[u];e[h]=od(r,l,h,c[h],i,!ue(c,h))}}return o}function od(i,t,e,n,r,s){const o=i[e];if(o!=null){const a=ue(o,"default");if(a&&n===void 0){const l=o.default;if(o.type!==Function&&Vt(l)){const{propsDefaults:c}=r;e in c?n=c[e]:(Lo(r),n=c[e]=l.call(null,t),zs())}else n=l}o[0]&&(s&&!a?n=!1:o[1]&&(n===""||n===Zs(e))&&(n=!0))}return n}function Bm(i,t,e=!1){const n=t.propsCache,r=n.get(i);if(r)return r;const s=i.props,o={},a=[];let l=!1;if(!Vt(i)){const u=h=>{l=!0;const[f,p]=Bm(h,t,!0);On(o,f),p&&a.push(...p)};!e&&t.mixins.length&&t.mixins.forEach(u),i.extends&&u(i.extends),i.mixins&&i.mixins.forEach(u)}if(!s&&!l)return n.set(i,Oo),Oo;if(Ht(s))for(let u=0;u<s.length;u++){const h=Qi(s[u]);Tg(h)&&(o[h]=De)}else if(s)for(const u in s){const h=Qi(u);if(Tg(h)){const f=s[u],p=o[h]=Ht(f)||Vt(f)?{type:f}:f;if(p){const b=_g(Boolean,p.type),v=_g(String,p.type);p[0]=b>-1,p[1]=v<0||b<v,(b>-1||ue(p,"default"))&&a.push(h)}}}const c=[o,a];return n.set(i,c),c}function Tg(i){return i[0]!=="$"}function Pg(i){const t=i&&i.toString().match(/^\s*function (\w+)/);return t?t[1]:i===null?"null":""}function kg(i,t){return Pg(i)===Pg(t)}function _g(i,t){return Ht(t)?t.findIndex(e=>kg(e,i)):Vt(t)&&kg(t,i)?0:-1}const Rm=i=>i[0]==="_"||i==="$stable",vf=i=>Ht(i)?i.map(Yi):[Yi(i)],Cw=(i,t,e)=>{if(t._n)return t;const n=we((...r)=>vf(t(...r)),e);return n._c=!1,n},Vm=(i,t,e)=>{const n=i._ctx;for(const r in i){if(Rm(r))continue;const s=i[r];if(Vt(s))t[r]=Cw(r,s,n);else if(s!=null){const o=vf(s);t[r]=()=>o}}},Hm=(i,t)=>{const e=vf(t);i.slots.default=()=>e},ww=(i,t)=>{if(i.vnode.shapeFlag&32){const e=t._;e?(i.slots=xe(t),$c(t,"_",e)):Vm(t,i.slots={})}else i.slots={},t&&Hm(i,t);$c(i.slots,Su,1)},Sw=(i,t,e)=>{const{vnode:n,slots:r}=i;let s=!0,o=De;if(n.shapeFlag&32){const a=t._;a?e&&a===1?s=!1:(On(r,t),!e&&a===1&&delete r._):(s=!t.$stable,Vm(t,r)),o=t}else t&&(Hm(i,t),o={default:1});if(s)for(const a in r)!Rm(a)&&!(a in o)&&delete r[a]};function Gm(){return{app:null,config:{isNativeTag:Ux,performance:!1,globalProperties:{},optionMergeStrategies:{},errorHandler:void 0,warnHandler:void 0,compilerOptions:{}},mixins:[],components:{},directives:{},provides:Object.create(null),optionsCache:new WeakMap,propsCache:new WeakMap,emitsCache:new WeakMap}}let Ew=0;function Aw(i,t){return function(n,r=null){Vt(n)||(n=Object.assign({},n)),r!=null&&!He(r)&&(r=null);const s=Gm(),o=new Set;let a=!1;const l=s.app={_uid:Ew++,_component:n,_props:r,_container:null,_context:s,_instance:null,version:Ww,get config(){return s.config},set config(c){},use(c,...u){return o.has(c)||(c&&Vt(c.install)?(o.add(c),c.install(l,...u)):Vt(c)&&(o.add(c),c(l,...u))),l},mixin(c){return s.mixins.includes(c)||s.mixins.push(c),l},component(c,u){return u?(s.components[c]=u,l):s.components[c]},directive(c,u){return u?(s.directives[c]=u,l):s.directives[c]},mount(c,u,h){if(!a){const f=Jt(n,r);return f.appContext=s,u&&t?t(f,c):i(f,c,h),a=!0,l._container=c,c.__vue_app__=l,Eu(f.component)||f.component.proxy}},unmount(){a&&(i(null,l._container),delete l._container.__vue_app__)},provide(c,u){return s.provides[c]=u,l}};return l}}function ad(i,t,e,n,r=!1){if(Ht(i)){i.forEach((f,p)=>ad(f,t&&(Ht(t)?t[p]:t),e,n,r));return}if(ja(n)&&!r)return;const s=n.shapeFlag&4?Eu(n.component)||n.component.proxy:n.el,o=r?null:s,{i:a,r:l}=i,c=t&&t.r,u=a.refs===De?a.refs={}:a.refs,h=a.setupState;if(c!=null&&c!==l&&(Oe(c)?(u[c]=null,ue(h,c)&&(h[c]=null)):gn(c)&&(c.value=null)),Vt(l))br(l,a,12,[o,u]);else{const f=Oe(l),p=gn(l);if(f||p){const b=()=>{if(i.f){const v=f?u[l]:l.value;r?Ht(v)&&Qd(v,s):Ht(v)?v.includes(s)||v.push(s):f?(u[l]=[s],ue(h,l)&&(h[l]=u[l])):(l.value=[s],i.k&&(u[i.k]=l.value))}else f?(u[l]=o,ue(h,l)&&(h[l]=o)):p&&(l.value=o,i.k&&(u[i.k]=o))};o?(b.id=-1,Xn(b,e)):b()}}}const Xn=ZC;function Mw(i){return Ow(i)}function Ow(i,t){const e=Zx();e.__VUE__=!0;const{insert:n,remove:r,patchProp:s,createElement:o,createText:a,createComment:l,setText:c,setElementText:u,parentNode:h,nextSibling:f,setScopeId:p=jn,cloneNode:b,insertStaticContent:v}=i,C=($,G,Q,K=null,nt=null,gt=null,Ct=!1,dt=null,mt=!!G.dynamicChildren)=>{if($===G)return;$&&!Ms($,G)&&(K=Tt($),Dt($,nt,gt,!0),$=null),G.patchFlag===-2&&(mt=!1,G.dynamicChildren=null);const{type:ut,ref:Pt,shapeFlag:Y}=G;switch(ut){case _l:x($,G,Q,K);break;case fi:S($,G,Q,K);break;case Sh:$==null&&E(G,Q,K,Ct);break;case nn:rt($,G,Q,K,nt,gt,Ct,dt,mt);break;default:Y&1?m($,G,Q,K,nt,gt,Ct,dt,mt):Y&6?st($,G,Q,K,nt,gt,Ct,dt,mt):(Y&64||Y&128)&&ut.process($,G,Q,K,nt,gt,Ct,dt,mt,te)}Pt!=null&&nt&&ad(Pt,$&&$.ref,gt,G||$,!G)},x=($,G,Q,K)=>{if($==null)n(G.el=a(G.children),Q,K);else{const nt=G.el=$.el;G.children!==$.children&&c(nt,G.children)}},S=($,G,Q,K)=>{$==null?n(G.el=l(G.children||""),Q,K):G.el=$.el},E=($,G,Q,K)=>{[$.el,$.anchor]=v($.children,G,Q,K,$.el,$.anchor)},O=({el:$,anchor:G},Q,K)=>{let nt;for(;$&&$!==G;)nt=f($),n($,Q,K),$=nt;n(G,Q,K)},k=({el:$,anchor:G})=>{let Q;for(;$&&$!==G;)Q=f($),r($),$=Q;r(G)},m=($,G,Q,K,nt,gt,Ct,dt,mt)=>{Ct=Ct||G.type==="svg",$==null?T(G,Q,K,nt,gt,Ct,dt,mt):H($,G,nt,gt,Ct,dt,mt)},T=($,G,Q,K,nt,gt,Ct,dt)=>{let mt,ut;const{type:Pt,props:Y,shapeFlag:ft,transition:kt,patchFlag:Wt,dirs:le}=$;if($.el&&b!==void 0&&Wt===-1)mt=$.el=b($.el);else{if(mt=$.el=o($.type,gt,Y&&Y.is,Y),ft&8?u(mt,$.children):ft&16&&z($.children,mt,null,K,nt,gt&&Pt!=="foreignObject",Ct,dt),le&&vs($,null,K,"created"),Y){for(const Te in Y)Te!=="value"&&!wc(Te)&&s(mt,Te,null,Y[Te],gt,$.children,K,nt,at);"value"in Y&&s(mt,"value",null,Y.value),(ut=Y.onVnodeBeforeMount)&&Wi(ut,K,$)}D(mt,$,$.scopeId,Ct,K)}le&&vs($,null,K,"beforeMount");const Ce=(!nt||nt&&!nt.pendingBranch)&&kt&&!kt.persisted;Ce&&kt.beforeEnter(mt),n(mt,G,Q),((ut=Y&&Y.onVnodeMounted)||Ce||le)&&Xn(()=>{ut&&Wi(ut,K,$),Ce&&kt.enter(mt),le&&vs($,null,K,"mounted")},nt)},D=($,G,Q,K,nt)=>{if(Q&&p($,Q),K)for(let gt=0;gt<K.length;gt++)p($,K[gt]);if(nt){let gt=nt.subTree;if(G===gt){const Ct=nt.vnode;D($,Ct,Ct.scopeId,Ct.slotScopeIds,nt.parent)}}},z=($,G,Q,K,nt,gt,Ct,dt,mt=0)=>{for(let ut=mt;ut<$.length;ut++){const Pt=$[ut]=dt?Rr($[ut]):Yi($[ut]);C(null,Pt,G,Q,K,nt,gt,Ct,dt)}},H=($,G,Q,K,nt,gt,Ct)=>{const dt=G.el=$.el;let{patchFlag:mt,dynamicChildren:ut,dirs:Pt}=G;mt|=$.patchFlag&16;const Y=$.props||De,ft=G.props||De;let kt;Q&&ys(Q,!1),(kt=ft.onVnodeBeforeUpdate)&&Wi(kt,Q,G,$),Pt&&vs(G,$,Q,"beforeUpdate"),Q&&ys(Q,!0);const Wt=nt&&G.type!=="foreignObject";if(ut?q($.dynamicChildren,ut,dt,Q,K,Wt,gt):Ct||Ot($,G,dt,null,Q,K,Wt,gt,!1),mt>0){if(mt&16)R(dt,G,Y,ft,Q,K,nt);else if(mt&2&&Y.class!==ft.class&&s(dt,"class",null,ft.class,nt),mt&4&&s(dt,"style",Y.style,ft.style,nt),mt&8){const le=G.dynamicProps;for(let Ce=0;Ce<le.length;Ce++){const Te=le[Ce],ti=Y[Te],ei=ft[Te];(ei!==ti||Te==="value")&&s(dt,Te,ti,ei,nt,$.children,Q,K,at)}}mt&1&&$.children!==G.children&&u(dt,G.children)}else!Ct&&ut==null&&R(dt,G,Y,ft,Q,K,nt);((kt=ft.onVnodeUpdated)||Pt)&&Xn(()=>{kt&&Wi(kt,Q,G,$),Pt&&vs(G,$,Q,"updated")},K)},q=($,G,Q,K,nt,gt,Ct)=>{for(let dt=0;dt<G.length;dt++){const mt=$[dt],ut=G[dt],Pt=mt.el&&(mt.type===nn||!Ms(mt,ut)||mt.shapeFlag&70)?h(mt.el):Q;C(mt,ut,Pt,null,K,nt,gt,Ct,!0)}},R=($,G,Q,K,nt,gt,Ct)=>{if(Q!==K){for(const dt in K){if(wc(dt))continue;const mt=K[dt],ut=Q[dt];mt!==ut&&dt!=="value"&&s($,dt,ut,mt,Ct,G.children,nt,gt,at)}if(Q!==De)for(const dt in Q)!wc(dt)&&!(dt in K)&&s($,dt,Q[dt],null,Ct,G.children,nt,gt,at);"value"in K&&s($,"value",Q.value,K.value)}},rt=($,G,Q,K,nt,gt,Ct,dt,mt)=>{const ut=G.el=$?$.el:a(""),Pt=G.anchor=$?$.anchor:a("");let{patchFlag:Y,dynamicChildren:ft,slotScopeIds:kt}=G;kt&&(dt=dt?dt.concat(kt):kt),$==null?(n(ut,Q,K),n(Pt,Q,K),z(G.children,Q,Pt,nt,gt,Ct,dt,mt)):Y>0&&Y&64&&ft&&$.dynamicChildren?(q($.dynamicChildren,ft,Q,nt,gt,Ct,dt),(G.key!=null||nt&&G===nt.subTree)&&yf($,G,!0)):Ot($,G,Q,Pt,nt,gt,Ct,dt,mt)},st=($,G,Q,K,nt,gt,Ct,dt,mt)=>{G.slotScopeIds=dt,$==null?G.shapeFlag&512?nt.ctx.activate(G,Q,K,Ct,mt):j(G,Q,K,nt,gt,Ct,mt):B($,G,mt)},j=($,G,Q,K,nt,gt,Ct)=>{const dt=$.component=zw($,K,nt);if(Cu($)&&(dt.ctx.renderer=te),jw(dt),dt.asyncDep){if(nt&&nt.registerDep(dt,tt),!$.el){const mt=dt.subTree=Jt(fi);S(null,mt,G,Q)}return}tt(dt,$,G,Q,nt,gt,Ct)},B=($,G,Q)=>{const K=G.component=$.component;if(YC($,G,Q))if(K.asyncDep&&!K.asyncResolved){bt(K,G,Q);return}else K.next=G,RC(K.update),K.update();else G.el=$.el,K.vnode=G},tt=($,G,Q,K,nt,gt,Ct)=>{const dt=()=>{if($.isMounted){let{next:Pt,bu:Y,u:ft,parent:kt,vnode:Wt}=$,le=Pt,Ce;ys($,!1),Pt?(Pt.el=Wt.el,bt($,Pt,Ct)):Pt=Wt,Y&&xh(Y),(Ce=Pt.props&&Pt.props.onVnodeBeforeUpdate)&&Wi(Ce,kt,Pt,Wt),ys($,!0);const Te=Ch($),ti=$.subTree;$.subTree=Te,C(ti,Te,h(ti.el),Tt(ti),$,nt,gt),Pt.el=Te.el,le===null&&KC($,Te.el),ft&&Xn(ft,nt),(Ce=Pt.props&&Pt.props.onVnodeUpdated)&&Xn(()=>Wi(Ce,kt,Pt,Wt),nt)}else{let Pt;const{el:Y,props:ft}=G,{bm:kt,m:Wt,parent:le}=$,Ce=ja(G);if(ys($,!1),kt&&xh(kt),!Ce&&(Pt=ft&&ft.onVnodeBeforeMount)&&Wi(Pt,le,G),ys($,!0),Y&&bn){const Te=()=>{$.subTree=Ch($),bn(Y,$.subTree,$,nt,null)};Ce?G.type.__asyncLoader().then(()=>!$.isUnmounted&&Te()):Te()}else{const Te=$.subTree=Ch($);C(null,Te,Q,K,$,nt,gt),G.el=Te.el}if(Wt&&Xn(Wt,nt),!Ce&&(Pt=ft&&ft.onVnodeMounted)){const Te=G;Xn(()=>Wi(Pt,le,Te),nt)}(G.shapeFlag&256||le&&ja(le.vnode)&&le.vnode.shapeFlag&256)&&$.a&&Xn($.a,nt),$.isMounted=!0,G=Q=K=null}},mt=$.effect=new rf(dt,()=>wm(ut),$.scope),ut=$.update=()=>mt.run();ut.id=$.uid,ys($,!0),ut()},bt=($,G,Q)=>{G.component=$;const K=$.vnode.props;$.vnode=G,$.next=null,xw($,G.props,K,Q),Sw($,G.children,Q),Qs(),vu(void 0,$.update),to()},Ot=($,G,Q,K,nt,gt,Ct,dt,mt=!1)=>{const ut=$&&$.children,Pt=$?$.shapeFlag:0,Y=G.children,{patchFlag:ft,shapeFlag:kt}=G;if(ft>0){if(ft&128){pt(ut,Y,Q,K,nt,gt,Ct,dt,mt);return}else if(ft&256){Gt(ut,Y,Q,K,nt,gt,Ct,dt,mt);return}}kt&8?(Pt&16&&at(ut,nt,gt),Y!==ut&&u(Q,Y)):Pt&16?kt&16?pt(ut,Y,Q,K,nt,gt,Ct,dt,mt):at(ut,nt,gt,!0):(Pt&8&&u(Q,""),kt&16&&z(Y,Q,K,nt,gt,Ct,dt,mt))},Gt=($,G,Q,K,nt,gt,Ct,dt,mt)=>{$=$||Oo,G=G||Oo;const ut=$.length,Pt=G.length,Y=Math.min(ut,Pt);let ft;for(ft=0;ft<Y;ft++){const kt=G[ft]=mt?Rr(G[ft]):Yi(G[ft]);C($[ft],kt,Q,null,nt,gt,Ct,dt,mt)}ut>Pt?at($,nt,gt,!0,!1,Y):z(G,Q,K,nt,gt,Ct,dt,mt,Y)},pt=($,G,Q,K,nt,gt,Ct,dt,mt)=>{let ut=0;const Pt=G.length;let Y=$.length-1,ft=Pt-1;for(;ut<=Y&&ut<=ft;){const kt=$[ut],Wt=G[ut]=mt?Rr(G[ut]):Yi(G[ut]);if(Ms(kt,Wt))C(kt,Wt,Q,null,nt,gt,Ct,dt,mt);else break;ut++}for(;ut<=Y&&ut<=ft;){const kt=$[Y],Wt=G[ft]=mt?Rr(G[ft]):Yi(G[ft]);if(Ms(kt,Wt))C(kt,Wt,Q,null,nt,gt,Ct,dt,mt);else break;Y--,ft--}if(ut>Y){if(ut<=ft){const kt=ft+1,Wt=kt<Pt?G[kt].el:K;for(;ut<=ft;)C(null,G[ut]=mt?Rr(G[ut]):Yi(G[ut]),Q,Wt,nt,gt,Ct,dt,mt),ut++}}else if(ut>ft)for(;ut<=Y;)Dt($[ut],nt,gt,!0),ut++;else{const kt=ut,Wt=ut,le=new Map;for(ut=Wt;ut<=ft;ut++){const Fe=G[ut]=mt?Rr(G[ut]):Yi(G[ut]);Fe.key!=null&&le.set(Fe.key,ut)}let Ce,Te=0;const ti=ft-Wt+1;let ei=!1,kr=0;const _r=new Array(ti);for(ut=0;ut<ti;ut++)_r[ut]=0;for(ut=kt;ut<=Y;ut++){const Fe=$[ut];if(Te>=ti){Dt(Fe,nt,gt,!0);continue}let je;if(Fe.key!=null)je=le.get(Fe.key);else for(Ce=Wt;Ce<=ft;Ce++)if(_r[Ce-Wt]===0&&Ms(Fe,G[Ce])){je=Ce;break}je===void 0?Dt(Fe,nt,gt,!0):(_r[je-Wt]=ut+1,je>=kr?kr=je:ei=!0,C(Fe,G[je],Q,null,nt,gt,Ct,dt,mt),Te++)}const ma=ei?Tw(_r):Oo;for(Ce=ma.length-1,ut=ti-1;ut>=0;ut--){const Fe=Wt+ut,je=G[Fe],ho=Fe+1<Pt?G[Fe+1].el:K;_r[ut]===0?C(null,je,Q,ho,nt,gt,Ct,dt,mt):ei&&(Ce<0||ut!==ma[Ce]?$t(je,Q,ho,2):Ce--)}}},$t=($,G,Q,K,nt=null)=>{const{el:gt,type:Ct,transition:dt,children:mt,shapeFlag:ut}=$;if(ut&6){$t($.component.subTree,G,Q,K);return}if(ut&128){$.suspense.move(G,Q,K);return}if(ut&64){Ct.move($,G,Q,te);return}if(Ct===nn){n(gt,G,Q);for(let Y=0;Y<mt.length;Y++)$t(mt[Y],G,Q,K);n($.anchor,G,Q);return}if(Ct===Sh){O($,G,Q);return}if(K!==2&&ut&1&&dt)if(K===0)dt.beforeEnter(gt),n(gt,G,Q),Xn(()=>dt.enter(gt),nt);else{const{leave:Y,delayLeave:ft,afterLeave:kt}=dt,Wt=()=>n(gt,G,Q),le=()=>{Y(gt,()=>{Wt(),kt&&kt()})};ft?ft(gt,Wt,le):le()}else n(gt,G,Q)},Dt=($,G,Q,K=!1,nt=!1)=>{const{type:gt,props:Ct,ref:dt,children:mt,dynamicChildren:ut,shapeFlag:Pt,patchFlag:Y,dirs:ft}=$;if(dt!=null&&ad(dt,null,Q,$,!0),Pt&256){G.ctx.deactivate($);return}const kt=Pt&1&&ft,Wt=!ja($);let le;if(Wt&&(le=Ct&&Ct.onVnodeBeforeUnmount)&&Wi(le,G,$),Pt&6)de($.component,Q,K);else{if(Pt&128){$.suspense.unmount(Q,K);return}kt&&vs($,null,G,"beforeUnmount"),Pt&64?$.type.remove($,G,Q,nt,te,K):ut&&(gt!==nn||Y>0&&Y&64)?at(ut,G,Q,!1,!0):(gt===nn&&Y&384||!nt&&Pt&16)&&at(mt,G,Q),K&&_t($)}(Wt&&(le=Ct&&Ct.onVnodeUnmounted)||kt)&&Xn(()=>{le&&Wi(le,G,$),kt&&vs($,null,G,"unmounted")},Q)},_t=$=>{const{type:G,el:Q,anchor:K,transition:nt}=$;if(G===nn){zt(Q,K);return}if(G===Sh){k($);return}const gt=()=>{r(Q),nt&&!nt.persisted&&nt.afterLeave&&nt.afterLeave()};if($.shapeFlag&1&&nt&&!nt.persisted){const{leave:Ct,delayLeave:dt}=nt,mt=()=>Ct(Q,gt);dt?dt($.el,gt,mt):mt()}else gt()},zt=($,G)=>{let Q;for(;$!==G;)Q=f($),r($),$=Q;r(G)},de=($,G,Q)=>{const{bum:K,scope:nt,update:gt,subTree:Ct,um:dt}=$;K&&xh(K),nt.stop(),gt&&(gt.active=!1,Dt(Ct,$,G,Q)),dt&&Xn(dt,G),Xn(()=>{$.isUnmounted=!0},G),G&&G.pendingBranch&&!G.isUnmounted&&$.asyncDep&&!$.asyncResolved&&$.suspenseId===G.pendingId&&(G.deps--,G.deps===0&&G.resolve())},at=($,G,Q,K=!1,nt=!1,gt=0)=>{for(let Ct=gt;Ct<$.length;Ct++)Dt($[Ct],G,Q,K,nt)},Tt=$=>$.shapeFlag&6?Tt($.component.subTree):$.shapeFlag&128?$.suspense.next():f($.anchor||$.el),Ut=($,G,Q)=>{$==null?G._vnode&&Dt(G._vnode,null,null,!0):C(G._vnode||null,$,G,null,null,null,Q),Am(),G._vnode=$},te={p:C,um:Dt,m:$t,r:_t,mt:j,mc:z,pc:Ot,pbc:q,n:Tt,o:i};let hn,bn;return t&&([hn,bn]=t(te)),{render:Ut,hydrate:hn,createApp:Aw(Ut,hn)}}function ys({effect:i,update:t},e){i.allowRecurse=t.allowRecurse=e}function yf(i,t,e=!1){const n=i.children,r=t.children;if(Ht(n)&&Ht(r))for(let s=0;s<n.length;s++){const o=n[s];let a=r[s];a.shapeFlag&1&&!a.dynamicChildren&&((a.patchFlag<=0||a.patchFlag===32)&&(a=r[s]=Rr(r[s]),a.el=o.el),e||yf(o,a))}}function Tw(i){const t=i.slice(),e=[0];let n,r,s,o,a;const l=i.length;for(n=0;n<l;n++){const c=i[n];if(c!==0){if(r=e[e.length-1],i[r]<c){t[n]=r,e.push(n);continue}for(s=0,o=e.length-1;s<o;)a=s+o>>1,i[e[a]]<c?s=a+1:o=a;c<i[e[s]]&&(s>0&&(t[n]=e[s-1]),e[s]=n)}}for(s=e.length,o=e[s-1];s-- >0;)e[s]=o,o=t[o];return e}const Pw=i=>i.__isTeleport,Ba=i=>i&&(i.disabled||i.disabled===""),Dg=i=>typeof SVGElement!="undefined"&&i instanceof SVGElement,ld=(i,t)=>{const e=i&&i.to;return Oe(e)?t?t(e):null:e},kw={__isTeleport:!0,process(i,t,e,n,r,s,o,a,l,c){const{mc:u,pc:h,pbc:f,o:{insert:p,querySelector:b,createText:v,createComment:C}}=c,x=Ba(t.props);let{shapeFlag:S,children:E,dynamicChildren:O}=t;if(i==null){const k=t.el=v(""),m=t.anchor=v("");p(k,e,n),p(m,e,n);const T=t.target=ld(t.props,b),D=t.targetAnchor=v("");T&&(p(D,T),o=o||Dg(T));const z=(H,q)=>{S&16&&u(E,H,q,r,s,o,a,l)};x?z(e,m):T&&z(T,D)}else{t.el=i.el;const k=t.anchor=i.anchor,m=t.target=i.target,T=t.targetAnchor=i.targetAnchor,D=Ba(i.props),z=D?e:m,H=D?k:T;if(o=o||Dg(m),O?(f(i.dynamicChildren,O,z,r,s,o,a),yf(i,t,!0)):l||h(i,t,z,H,r,s,o,a,!1),x)D||lc(t,e,k,c,1);else if((t.props&&t.props.to)!==(i.props&&i.props.to)){const q=t.target=ld(t.props,b);q&&lc(t,q,null,c,0)}else D&&lc(t,m,T,c,1)}},remove(i,t,e,n,{um:r,o:{remove:s}},o){const{shapeFlag:a,children:l,anchor:c,targetAnchor:u,target:h,props:f}=i;if(h&&s(u),(o||!Ba(f))&&(s(c),a&16))for(let p=0;p<l.length;p++){const b=l[p];r(b,t,e,!0,!!b.dynamicChildren)}},move:lc,hydrate:_w};function lc(i,t,e,{o:{insert:n},m:r},s=2){s===0&&n(i.targetAnchor,t,e);const{el:o,anchor:a,shapeFlag:l,children:c,props:u}=i,h=s===2;if(h&&n(o,t,e),(!h||Ba(u))&&l&16)for(let f=0;f<c.length;f++)r(c[f],t,e,2);h&&n(a,t,e)}function _w(i,t,e,n,r,s,{o:{nextSibling:o,parentNode:a,querySelector:l}},c){const u=t.target=ld(t.props,l);if(u){const h=u._lpa||u.firstChild;if(t.shapeFlag&16)if(Ba(t.props))t.anchor=c(o(i),t,a(i),e,n,r,s),t.targetAnchor=h;else{t.anchor=o(i);let f=h;for(;f;)if(f=o(f),f&&f.nodeType===8&&f.data==="teleport anchor"){t.targetAnchor=f,u._lpa=t.targetAnchor&&o(t.targetAnchor);break}c(h,t,u,e,n,r,s)}}return t.anchor&&o(t.anchor)}const Dw=kw,nn=Symbol(void 0),_l=Symbol(void 0),fi=Symbol(void 0),Sh=Symbol(void 0),Ra=[];let Li=null;function Et(i=!1){Ra.push(Li=i?null:[])}function Nw(){Ra.pop(),Li=Ra[Ra.length-1]||null}let sl=1;function Ng(i){sl+=i}function qm(i){return i.dynamicChildren=sl>0?Li||Oo:null,Nw(),sl>0&&Li&&Li.push(i),i}function Zt(i,t,e,n,r,s){return qm(Yt(i,t,e,n,r,s,!0))}function Me(i,t,e,n,r){return qm(Jt(i,t,e,n,r,!0))}function jc(i){return i?i.__v_isVNode===!0:!1}function Ms(i,t){return i.type===t.type&&i.key===t.key}const Su="__vInternal",Um=({key:i})=>i!=null?i:null,Sc=({ref:i,ref_key:t,ref_for:e})=>i!=null?Oe(i)||gn(i)||Vt(i)?{i:$n,r:i,k:t,f:!!e}:i:null;function Yt(i,t=null,e=null,n=0,r=null,s=i===nn?0:1,o=!1,a=!1){const l={__v_isVNode:!0,__v_skip:!0,type:i,props:t,key:t&&Um(t),ref:t&&Sc(t),scopeId:xu,slotScopeIds:null,children:e,component:null,suspense:null,ssContent:null,ssFallback:null,dirs:null,transition:null,el:null,anchor:null,target:null,targetAnchor:null,staticCount:0,shapeFlag:s,patchFlag:n,dynamicProps:r,dynamicChildren:null,appContext:null};return a?(xf(l,e),s&128&&i.normalize(l)):e&&(l.shapeFlag|=Oe(e)?8:16),sl>0&&!o&&Li&&(l.patchFlag>0||s&6)&&l.patchFlag!==32&&Li.push(l),l}const Jt=$w;function $w(i,t=null,e=null,n=0,r=null,s=!1){if((!i||i===$m)&&(i=fi),jc(i)){const a=xr(i,t,!0);return e&&xf(a,e),sl>0&&!s&&Li&&(a.shapeFlag&6?Li[Li.indexOf(i)]=a:Li.push(a)),a.patchFlag|=-2,a}if(Gw(i)&&(i=i.__vccOpts),t){t=Fw(t);let{class:a,style:l}=t;a&&!Oe(a)&&(t.class=qt(a)),He(l)&&(pm(l)&&!Ht(l)&&(l=On({},l)),t.style=Mn(l))}const o=Oe(i)?1:JC(i)?128:Pw(i)?64:He(i)?4:Vt(i)?2:0;return Yt(i,t,e,n,r,o,s,!0)}function Fw(i){return i?pm(i)||Su in i?On({},i):i:null}function xr(i,t,e=!1){const{props:n,ref:r,patchFlag:s,children:o}=i,a=t?Is(n||{},t):n;return{__v_isVNode:!0,__v_skip:!0,type:i.type,props:a,key:a&&Um(a),ref:t&&t.ref?e&&r?Ht(r)?r.concat(Sc(t)):[r,Sc(t)]:Sc(t):r,scopeId:i.scopeId,slotScopeIds:i.slotScopeIds,children:o,target:i.target,targetAnchor:i.targetAnchor,staticCount:i.staticCount,shapeFlag:i.shapeFlag,patchFlag:t&&i.type!==nn?s===-1?16:s|16:s,dynamicProps:i.dynamicProps,dynamicChildren:i.dynamicChildren,appContext:i.appContext,dirs:i.dirs,transition:i.transition,component:i.component,suspense:i.suspense,ssContent:i.ssContent&&xr(i.ssContent),ssFallback:i.ssFallback&&xr(i.ssFallback),el:i.el,anchor:i.anchor}}function tr(i=" ",t=0){return Jt(_l,null,i,t)}function ye(i="",t=!1){return t?(Et(),Me(fi,null,i)):Jt(fi,null,i)}function Yi(i){return i==null||typeof i=="boolean"?Jt(fi):Ht(i)?Jt(nn,null,i.slice()):typeof i=="object"?Rr(i):Jt(_l,null,String(i))}function Rr(i){return i.el===null||i.memo?i:xr(i)}function xf(i,t){let e=0;const{shapeFlag:n}=i;if(t==null)t=null;else if(Ht(t))e=16;else if(typeof t=="object")if(n&65){const r=t.default;r&&(r._c&&(r._d=!1),xf(i,r()),r._c&&(r._d=!0));return}else{e=32;const r=t._;!r&&!(Su in t)?t._ctx=$n:r===3&&$n&&($n.slots._===1?t._=1:(t._=2,i.patchFlag|=1024))}else Vt(t)?(t={default:t,_ctx:$n},e=32):(t=String(t),n&64?(e=16,t=[tr(t)]):e=8);i.children=t,i.shapeFlag|=e}function Is(...i){const t={};for(let e=0;e<i.length;e++){const n=i[e];for(const r in n)if(r==="class")t.class!==n.class&&(t.class=qt([t.class,n.class]));else if(r==="style")t.style=Mn([t.style,n.style]);else if(du(r)){const s=t[r],o=n[r];o&&s!==o&&!(Ht(s)&&s.includes(o))&&(t[r]=s?[].concat(s,o):o)}else r!==""&&(t[r]=n[r])}return t}function Wi(i,t,e,n=null){wi(i,t,7,[e,n])}const Lw=Gm();let Iw=0;function zw(i,t,e){const n=i.type,r=(t?t.appContext:i.appContext)||Lw,s={uid:Iw++,vnode:i,type:n,parent:t,appContext:r,root:null,next:null,subTree:null,effect:null,update:null,scope:new Qx(!0),render:null,proxy:null,exposed:null,exposeProxy:null,withProxy:null,provides:t?t.provides:Object.create(r.provides),accessCache:null,renderCache:[],components:null,directives:null,propsOptions:Bm(n,r),emitsOptions:Om(n,r),emit:null,emitted:null,propsDefaults:De,inheritAttrs:n.inheritAttrs,ctx:De,data:De,props:De,attrs:De,slots:De,refs:De,setupState:De,setupContext:null,suspense:e,suspenseId:e?e.pendingId:0,asyncDep:null,asyncResolved:!1,isMounted:!1,isUnmounted:!1,isDeactivated:!1,bc:null,c:null,bm:null,m:null,bu:null,u:null,um:null,bum:null,da:null,a:null,rtg:null,rtc:null,ec:null,sp:null};return s.ctx={_:s},s.root=t?t.root:s,s.emit=GC.bind(null,s),i.ce&&i.ce(s),s}let vn=null;const lr=()=>vn||$n,Lo=i=>{vn=i,i.scope.on()},zs=()=>{vn&&vn.scope.off(),vn=null};function Wm(i){return i.vnode.shapeFlag&4}let ol=!1;function jw(i,t=!1){ol=t;const{props:e,children:n}=i.vnode,r=Wm(i);yw(i,e,r,t),ww(i,n);const s=r?Bw(i,t):void 0;return ol=!1,s}function Bw(i,t){const e=i.type;i.accessCache=Object.create(null),i.proxy=gm(new Proxy(i.ctx,fw));const{setup:n}=e;if(n){const r=i.setupContext=n.length>1?Ym(i):null;Lo(i),Qs();const s=br(n,i,0,[i.props,r]);if(to(),zs(),tm(s)){if(s.then(zs,zs),t)return s.then(o=>{$g(i,o,t)}).catch(o=>{bu(o,i,0)});i.asyncDep=s}else $g(i,s,t)}else Xm(i,t)}function $g(i,t,e){Vt(t)?i.type.__ssrInlineRender?i.ssrRender=t:i.render=t:He(t)&&(i.setupState=ym(t)),Xm(i,e)}let Fg;function Xm(i,t,e){const n=i.type;if(!i.render){if(!t&&Fg&&!n.render){const r=n.template;if(r){const{isCustomElement:s,compilerOptions:o}=i.appContext.config,{delimiters:a,compilerOptions:l}=n,c=On(On({isCustomElement:s,delimiters:a},o),l);n.render=Fg(r,c)}}i.render=n.render||jn}Lo(i),Qs(),pw(i),to(),zs()}function Rw(i){return new Proxy(i.attrs,{get(t,e){return pi(i,"get","$attrs"),t[e]}})}function Ym(i){const t=n=>{i.exposed=n||{}};let e;return{get attrs(){return e||(e=Rw(i))},slots:i.slots,emit:i.emit,expose:t}}function Eu(i){if(i.exposed)return i.exposeProxy||(i.exposeProxy=new Proxy(ym(gm(i.exposed)),{get(t,e){if(e in t)return t[e];if(e in Ic)return Ic[e](i)}}))}const Vw=/(?:^|[-_])(\w)/g,Hw=i=>i.replace(Vw,t=>t.toUpperCase()).replace(/[-_]/g,"");function Km(i,t=!0){return Vt(i)?i.displayName||i.name:i.name||t&&i.__name}function Jm(i,t,e=!1){let n=Km(t);if(!n&&t.__file){const r=t.__file.match(/([^/\\]+)\.\w+$/);r&&(n=r[1])}if(!n&&i&&i.parent){const r=s=>{for(const o in s)if(s[o]===t)return o};n=r(i.components||i.parent.type.components)||r(i.appContext.components)}return n?Hw(n):e?"App":"Anonymous"}function Gw(i){return Vt(i)&&"__vccOpts"in i}const vt=(i,t)=>NC(i,t,ol);function Cf(){return Zm().slots}function qw(){return Zm().attrs}function Zm(){const i=lr();return i.setupContext||(i.setupContext=Ym(i))}function Uw(i,t,e){const n=arguments.length;return n===2?He(t)&&!Ht(t)?jc(t)?Jt(i,null,[t]):Jt(i,t):Jt(i,null,t):(n>3?e=Array.prototype.slice.call(arguments,2):n===3&&jc(e)&&(e=[e]),Jt(i,t,e))}const Ww="3.2.37",Xw="http://www.w3.org/2000/svg",Os=typeof document!="undefined"?document:null,Lg=Os&&Os.createElement("template"),Yw={insert:(i,t,e)=>{t.insertBefore(i,e||null)},remove:i=>{const t=i.parentNode;t&&t.removeChild(i)},createElement:(i,t,e,n)=>{const r=t?Os.createElementNS(Xw,i):Os.createElement(i,e?{is:e}:void 0);return i==="select"&&n&&n.multiple!=null&&r.setAttribute("multiple",n.multiple),r},createText:i=>Os.createTextNode(i),createComment:i=>Os.createComment(i),setText:(i,t)=>{i.nodeValue=t},setElementText:(i,t)=>{i.textContent=t},parentNode:i=>i.parentNode,nextSibling:i=>i.nextSibling,querySelector:i=>Os.querySelector(i),setScopeId(i,t){i.setAttribute(t,"")},cloneNode(i){const t=i.cloneNode(!0);return"_value"in i&&(t._value=i._value),t},insertStaticContent(i,t,e,n,r,s){const o=e?e.previousSibling:t.lastChild;if(r&&(r===s||r.nextSibling))for(;t.insertBefore(r.cloneNode(!0),e),!(r===s||!(r=r.nextSibling)););else{Lg.innerHTML=n?`<svg>${i}</svg>`:i;const a=Lg.content;if(n){const l=a.firstChild;for(;l.firstChild;)a.appendChild(l.firstChild);a.removeChild(l)}t.insertBefore(a,e)}return[o?o.nextSibling:t.firstChild,e?e.previousSibling:t.lastChild]}};function Kw(i,t,e){const n=i._vtc;n&&(t=(t?[t,...n]:[...n]).join(" ")),t==null?i.removeAttribute("class"):e?i.setAttribute("class",t):i.className=t}function Jw(i,t,e){const n=i.style,r=Oe(e);if(e&&!r){for(const s in e)cd(n,s,e[s]);if(t&&!Oe(t))for(const s in t)e[s]==null&&cd(n,s,"")}else{const s=n.display;r?t!==e&&(n.cssText=e):t&&i.removeAttribute("style"),"_vod"in i&&(n.display=s)}}const Ig=/\s*!important$/;function cd(i,t,e){if(Ht(e))e.forEach(n=>cd(i,t,n));else if(e==null&&(e=""),t.startsWith("--"))i.setProperty(t,e);else{const n=Zw(i,t);Ig.test(e)?i.setProperty(Zs(n),e.replace(Ig,""),"important"):i[n]=e}}const zg=["Webkit","Moz","ms"],Eh={};function Zw(i,t){const e=Eh[t];if(e)return e;let n=Qi(t);if(n!=="filter"&&n in i)return Eh[t]=n;n=gu(n);for(let r=0;r<zg.length;r++){const s=zg[r]+n;if(s in i)return Eh[t]=s}return t}const jg="http://www.w3.org/1999/xlink";function Qw(i,t,e,n,r){if(n&&t.startsWith("xlink:"))e==null?i.removeAttributeNS(jg,t.slice(6,t.length)):i.setAttributeNS(jg,t,e);else{const s=Vx(t);e==null||s&&!J2(e)?i.removeAttribute(t):i.setAttribute(t,s?"":e)}}function t3(i,t,e,n,r,s,o){if(t==="innerHTML"||t==="textContent"){n&&o(n,r,s),i[t]=e==null?"":e;return}if(t==="value"&&i.tagName!=="PROGRESS"&&!i.tagName.includes("-")){i._value=e;const l=e==null?"":e;(i.value!==l||i.tagName==="OPTION")&&(i.value=l),e==null&&i.removeAttribute(t);return}let a=!1;if(e===""||e==null){const l=typeof i[t];l==="boolean"?e=J2(e):e==null&&l==="string"?(e="",a=!0):l==="number"&&(e=0,a=!0)}try{i[t]=e}catch{}a&&i.removeAttribute(t)}const[Qm,e3]=(()=>{let i=Date.now,t=!1;if(typeof window!="undefined"){Date.now()>document.createEvent("Event").timeStamp&&(i=performance.now.bind(performance));const e=navigator.userAgent.match(/firefox\/(\d+)/i);t=!!(e&&Number(e[1])<=53)}return[i,t]})();let ud=0;const n3=Promise.resolve(),i3=()=>{ud=0},r3=()=>ud||(n3.then(i3),ud=Qm());function s3(i,t,e,n){i.addEventListener(t,e,n)}function o3(i,t,e,n){i.removeEventListener(t,e,n)}function a3(i,t,e,n,r=null){const s=i._vei||(i._vei={}),o=s[t];if(n&&o)o.value=n;else{const[a,l]=l3(t);if(n){const c=s[t]=c3(n,r);s3(i,a,c,l)}else o&&(o3(i,a,o,l),s[t]=void 0)}}const Bg=/(?:Once|Passive|Capture)$/;function l3(i){let t;if(Bg.test(i)){t={};let e;for(;e=i.match(Bg);)i=i.slice(0,i.length-e[0].length),t[e[0].toLowerCase()]=!0}return[Zs(i.slice(2)),t]}function c3(i,t){const e=n=>{const r=n.timeStamp||Qm();(e3||r>=e.attached-1)&&wi(u3(n,e.value),t,5,[n])};return e.value=i,e.attached=r3(),e}function u3(i,t){if(Ht(t)){const e=i.stopImmediatePropagation;return i.stopImmediatePropagation=()=>{e.call(i),i._stopped=!0},t.map(n=>r=>!r._stopped&&n&&n(r))}else return t}const Rg=/^on[a-z]/,h3=(i,t,e,n,r=!1,s,o,a,l)=>{t==="class"?Kw(i,n,r):t==="style"?Jw(i,e,n):du(t)?Zd(t)||a3(i,t,e,n,o):(t[0]==="."?(t=t.slice(1),!0):t[0]==="^"?(t=t.slice(1),!1):d3(i,t,n,r))?t3(i,t,n,s,o,a,l):(t==="true-value"?i._trueValue=n:t==="false-value"&&(i._falseValue=n),Qw(i,t,n,r))};function d3(i,t,e,n){return n?!!(t==="innerHTML"||t==="textContent"||t in i&&Rg.test(t)&&Vt(e)):t==="spellcheck"||t==="draggable"||t==="translate"||t==="form"||t==="list"&&i.tagName==="INPUT"||t==="type"&&i.tagName==="TEXTAREA"||Rg.test(t)&&Oe(e)?!1:t in i}const Fr="transition",Aa="animation",Au=(i,{slots:t})=>Uw(Pm,f3(i),t);Au.displayName="Transition";const tb={name:String,type:String,css:{type:Boolean,default:!0},duration:[String,Number,Object],enterFromClass:String,enterActiveClass:String,enterToClass:String,appearFromClass:String,appearActiveClass:String,appearToClass:String,leaveFromClass:String,leaveActiveClass:String,leaveToClass:String};Au.props=On({},Pm.props,tb);const xs=(i,t=[])=>{Ht(i)?i.forEach(e=>e(...t)):i&&i(...t)},Vg=i=>i?Ht(i)?i.some(t=>t.length>1):i.length>1:!1;function f3(i){const t={};for(const R in i)R in tb||(t[R]=i[R]);if(i.css===!1)return t;const{name:e="v",type:n,duration:r,enterFromClass:s=`${e}-enter-from`,enterActiveClass:o=`${e}-enter-active`,enterToClass:a=`${e}-enter-to`,appearFromClass:l=s,appearActiveClass:c=o,appearToClass:u=a,leaveFromClass:h=`${e}-leave-from`,leaveActiveClass:f=`${e}-leave-active`,leaveToClass:p=`${e}-leave-to`}=i,b=p3(r),v=b&&b[0],C=b&&b[1],{onBeforeEnter:x,onEnter:S,onEnterCancelled:E,onLeave:O,onLeaveCancelled:k,onBeforeAppear:m=x,onAppear:T=S,onAppearCancelled:D=E}=t,z=(R,rt,st)=>{Cs(R,rt?u:a),Cs(R,rt?c:o),st&&st()},H=(R,rt)=>{R._isLeaving=!1,Cs(R,h),Cs(R,p),Cs(R,f),rt&&rt()},q=R=>(rt,st)=>{const j=R?T:S,B=()=>z(rt,R,st);xs(j,[rt,B]),Hg(()=>{Cs(rt,R?l:s),Lr(rt,R?u:a),Vg(j)||Gg(rt,n,v,B)})};return On(t,{onBeforeEnter(R){xs(x,[R]),Lr(R,s),Lr(R,o)},onBeforeAppear(R){xs(m,[R]),Lr(R,l),Lr(R,c)},onEnter:q(!1),onAppear:q(!0),onLeave(R,rt){R._isLeaving=!0;const st=()=>H(R,rt);Lr(R,h),b3(),Lr(R,f),Hg(()=>{!R._isLeaving||(Cs(R,h),Lr(R,p),Vg(O)||Gg(R,n,C,st))}),xs(O,[R,st])},onEnterCancelled(R){z(R,!1),xs(E,[R])},onAppearCancelled(R){z(R,!0),xs(D,[R])},onLeaveCancelled(R){H(R),xs(k,[R])}})}function p3(i){if(i==null)return null;if(He(i))return[Ah(i.enter),Ah(i.leave)];{const t=Ah(i);return[t,t]}}function Ah(i){return im(i)}function Lr(i,t){t.split(/\s+/).forEach(e=>e&&i.classList.add(e)),(i._vtc||(i._vtc=new Set)).add(t)}function Cs(i,t){t.split(/\s+/).forEach(n=>n&&i.classList.remove(n));const{_vtc:e}=i;e&&(e.delete(t),e.size||(i._vtc=void 0))}function Hg(i){requestAnimationFrame(()=>{requestAnimationFrame(i)})}let g3=0;function Gg(i,t,e,n){const r=i._endId=++g3,s=()=>{r===i._endId&&n()};if(e)return setTimeout(s,e);const{type:o,timeout:a,propCount:l}=m3(i,t);if(!o)return n();const c=o+"end";let u=0;const h=()=>{i.removeEventListener(c,f),s()},f=p=>{p.target===i&&++u>=l&&h()};setTimeout(()=>{u<l&&h()},a+1),i.addEventListener(c,f)}function m3(i,t){const e=window.getComputedStyle(i),n=b=>(e[b]||"").split(", "),r=n(Fr+"Delay"),s=n(Fr+"Duration"),o=qg(r,s),a=n(Aa+"Delay"),l=n(Aa+"Duration"),c=qg(a,l);let u=null,h=0,f=0;t===Fr?o>0&&(u=Fr,h=o,f=s.length):t===Aa?c>0&&(u=Aa,h=c,f=l.length):(h=Math.max(o,c),u=h>0?o>c?Fr:Aa:null,f=u?u===Fr?s.length:l.length:0);const p=u===Fr&&/\b(transform|all)(,|$)/.test(e[Fr+"Property"]);return{type:u,timeout:h,propCount:f,hasTransform:p}}function qg(i,t){for(;i.length<t.length;)i=i.concat(i);return Math.max(...t.map((e,n)=>Ug(e)+Ug(i[n])))}function Ug(i){return Number(i.slice(0,-1).replace(",","."))*1e3}function b3(){return document.body.offsetHeight}const v3=["ctrl","shift","alt","meta"],y3={stop:i=>i.stopPropagation(),prevent:i=>i.preventDefault(),self:i=>i.target!==i.currentTarget,ctrl:i=>!i.ctrlKey,shift:i=>!i.shiftKey,alt:i=>!i.altKey,meta:i=>!i.metaKey,left:i=>"button"in i&&i.button!==0,middle:i=>"button"in i&&i.button!==1,right:i=>"button"in i&&i.button!==2,exact:(i,t)=>v3.some(e=>i[`${e}Key`]&&!t.includes(e))},x3=(i,t)=>(e,...n)=>{for(let r=0;r<t.length;r++){const s=y3[t[r]];if(s&&s(e,t))return}return i(e,...n)},C3={esc:"escape",space:" ",up:"arrow-up",left:"arrow-left",right:"arrow-right",down:"arrow-down",delete:"backspace"},Wg=(i,t)=>e=>{if(!("key"in e))return;const n=Zs(e.key);if(t.some(r=>r===n||C3[r]===n))return i(e)},wf={beforeMount(i,{value:t},{transition:e}){i._vod=i.style.display==="none"?"":i.style.display,e&&t?e.beforeEnter(i):Ma(i,t)},mounted(i,{value:t},{transition:e}){e&&t&&e.enter(i)},updated(i,{value:t,oldValue:e},{transition:n}){!t!=!e&&(n?t?(n.beforeEnter(i),Ma(i,!0),n.enter(i)):n.leave(i,()=>{Ma(i,!1)}):Ma(i,t))},beforeUnmount(i,{value:t}){Ma(i,t)}};function Ma(i,t){i.style.display=t?i._vod:"none"}const w3=On({patchProp:h3},Yw);let Xg;function S3(){return Xg||(Xg=Mw(w3))}const E3=(...i)=>{const t=S3().createApp(...i),{mount:e}=t;return t.mount=n=>{const r=A3(n);if(!r)return;const s=t._component;!Vt(s)&&!s.render&&!s.template&&(s.template=r.innerHTML),r.innerHTML="";const o=e(r,!1,r instanceof SVGElement);return r instanceof Element&&(r.removeAttribute("v-cloak"),r.setAttribute("data-v-app","")),o},t};function A3(i){return Oe(i)?document.querySelector(i):i}function Sf(i){return eC()?(nC(i),!0):!1}var Yg;const Bn=typeof window!="undefined",al=i=>typeof i=="boolean",hd=i=>typeof i=="number",M3=i=>typeof i=="string",Mh=()=>{};Bn&&((Yg=window==null?void 0:window.navigator)==null?void 0:Yg.userAgent)&&/iP(ad|hone|od)/.test(window.navigator.userAgent);function eb(i,t){function e(...n){i(()=>t.apply(this,n),{fn:t,thisArg:this,args:n})}return e}const nb=i=>i();function O3(i,t={}){let e,n;return s=>{const o=U(i),a=U(t.maxWait);if(e&&clearTimeout(e),o<=0||a!==void 0&&a<=0)return n&&(clearTimeout(n),n=null),s();a&&!n&&(n=setTimeout(()=>{e&&clearTimeout(e),n=null,s()},a)),e=setTimeout(()=>{n&&clearTimeout(n),n=null,s()},o)}}function T3(i=nb){const t=Mt(!0);function e(){t.value=!1}function n(){t.value=!0}return{isActive:t,pause:e,resume:n,eventFilter:(...s)=>{t.value&&i(...s)}}}function P3(i,t=200,e={}){return eb(O3(t,e),i)}function k3(i,t=200,e={}){if(t<=0)return i;const n=Mt(i.value),r=P3(()=>{n.value=i.value},t,e);return Qt(i,()=>r()),n}var Kg=Object.getOwnPropertySymbols,_3=Object.prototype.hasOwnProperty,D3=Object.prototype.propertyIsEnumerable,N3=(i,t)=>{var e={};for(var n in i)_3.call(i,n)&&t.indexOf(n)<0&&(e[n]=i[n]);if(i!=null&&Kg)for(var n of Kg(i))t.indexOf(n)<0&&D3.call(i,n)&&(e[n]=i[n]);return e};function $3(i,t,e={}){const n=e,{eventFilter:r=nb}=n,s=N3(n,["eventFilter"]);return Qt(i,eb(r,t),s)}var F3=Object.defineProperty,L3=Object.defineProperties,I3=Object.getOwnPropertyDescriptors,Bc=Object.getOwnPropertySymbols,ib=Object.prototype.hasOwnProperty,rb=Object.prototype.propertyIsEnumerable,Jg=(i,t,e)=>t in i?F3(i,t,{enumerable:!0,configurable:!0,writable:!0,value:e}):i[t]=e,z3=(i,t)=>{for(var e in t||(t={}))ib.call(t,e)&&Jg(i,e,t[e]);if(Bc)for(var e of Bc(t))rb.call(t,e)&&Jg(i,e,t[e]);return i},j3=(i,t)=>L3(i,I3(t)),B3=(i,t)=>{var e={};for(var n in i)ib.call(i,n)&&t.indexOf(n)<0&&(e[n]=i[n]);if(i!=null&&Bc)for(var n of Bc(i))t.indexOf(n)<0&&rb.call(i,n)&&(e[n]=i[n]);return e};function R3(i,t,e={}){const n=e,{eventFilter:r}=n,s=B3(n,["eventFilter"]),{eventFilter:o,pause:a,resume:l,isActive:c}=T3(r);return{stop:$3(i,t,j3(z3({},s),{eventFilter:o})),pause:a,resume:l,isActive:c}}function js(i){var t;const e=U(i);return(t=e==null?void 0:e.$el)!=null?t:e}const Io=Bn?window:void 0;Bn&&window.document;Bn&&window.navigator;Bn&&window.location;function Ec(...i){let t,e,n,r;if(M3(i[0])?([e,n,r]=i,t=Io):[t,e,n,r]=i,!t)return Mh;let s=Mh;const o=Qt(()=>js(t),l=>{s(),l&&(l.addEventListener(e,n,r),s=()=>{l.removeEventListener(e,n,r),s=Mh})},{immediate:!0,flush:"post"}),a=()=>{o(),s()};return Sf(a),a}function V3(i,t,e={}){const{window:n=Io,ignore:r,capture:s=!0}=e;if(!n)return;const o=Mt(!0);let a;const l=h=>{n.clearTimeout(a);const f=js(i),p=h.composedPath();!f||f===h.target||p.includes(f)||!o.value||r&&r.length>0&&r.some(b=>{const v=js(b);return v&&(h.target===v||p.includes(v))})||t(h)},c=[Ec(n,"click",l,{passive:!0,capture:s}),Ec(n,"pointerdown",h=>{const f=js(i);o.value=!!f&&!h.composedPath().includes(f)},{passive:!0}),Ec(n,"pointerup",h=>{a=n.setTimeout(()=>l(h),50)},{passive:!0})];return()=>c.forEach(h=>h())}const dd=typeof globalThis!="undefined"?globalThis:typeof window!="undefined"?window:typeof global!="undefined"?global:typeof self!="undefined"?self:{},fd="__vueuse_ssr_handlers__";dd[fd]=dd[fd]||{};const H3=dd[fd];function G3(i,t){return H3[i]||t}function q3(i){return i==null?"any":i instanceof Set?"set":i instanceof Map?"map":i instanceof Date?"date":typeof i=="boolean"?"boolean":typeof i=="string"?"string":typeof i=="object"||Array.isArray(i)?"object":Number.isNaN(i)?"any":"number"}const U3={boolean:{read:i=>i==="true",write:i=>String(i)},object:{read:i=>JSON.parse(i),write:i=>JSON.stringify(i)},number:{read:i=>Number.parseFloat(i),write:i=>String(i)},any:{read:i=>i,write:i=>String(i)},string:{read:i=>i,write:i=>String(i)},map:{read:i=>new Map(JSON.parse(i)),write:i=>JSON.stringify(Array.from(i.entries()))},set:{read:i=>new Set(JSON.parse(i)),write:i=>JSON.stringify(Array.from(i))},date:{read:i=>new Date(i),write:i=>i.toISOString()}};function W3(i,t,e,n={}){var r;const{flush:s="pre",deep:o=!0,listenToStorageChanges:a=!0,writeDefaults:l=!0,shallow:c,window:u=Io,eventFilter:h,onError:f=m=>{console.error(m)}}=n,p=(c?ko:Mt)(t);if(!e)try{e=G3("getDefaultStorage",()=>{var m;return(m=Io)==null?void 0:m.localStorage})()}catch(m){f(m)}if(!e)return p;const b=U(t),v=q3(b),C=(r=n.serializer)!=null?r:U3[v],{pause:x,resume:S}=R3(p,()=>E(p.value),{flush:s,deep:o,eventFilter:h});return u&&a&&Ec(u,"storage",k),k(),p;function E(m){try{m==null?e.removeItem(i):e.setItem(i,C.write(m))}catch(T){f(T)}}function O(m){if(!(m&&m.key!==i)){x();try{const T=m?m.newValue:e.getItem(i);return T==null?(l&&b!==null&&e.setItem(i,C.write(b)),b):typeof T!="string"?T:C.read(T)}catch(T){f(T)}finally{S()}}}function k(m){m&&m.key!==i||(p.value=O(m))}}var Zg=Object.getOwnPropertySymbols,X3=Object.prototype.hasOwnProperty,Y3=Object.prototype.propertyIsEnumerable,K3=(i,t)=>{var e={};for(var n in i)X3.call(i,n)&&t.indexOf(n)<0&&(e[n]=i[n]);if(i!=null&&Zg)for(var n of Zg(i))t.indexOf(n)<0&&Y3.call(i,n)&&(e[n]=i[n]);return e};function sb(i,t,e={}){const n=e,{window:r=Io}=n,s=K3(n,["window"]);let o;const a=r&&"ResizeObserver"in r,l=()=>{o&&(o.disconnect(),o=void 0)},c=Qt(()=>js(i),h=>{l(),a&&r&&h&&(o=new ResizeObserver(t),o.observe(h,s))},{immediate:!0,flush:"post"}),u=()=>{l(),c()};return Sf(u),{isSupported:a,stop:u}}function J3(i,t,e={}){const{window:n=Io}=e;return W3(i,t,n==null?void 0:n.localStorage,e)}var Qg;(function(i){i.UP="UP",i.RIGHT="RIGHT",i.DOWN="DOWN",i.LEFT="LEFT",i.NONE="NONE"})(Qg||(Qg={}));var Z3=typeof global=="object"&&global&&global.Object===Object&&global,ob=Z3,Q3=typeof self=="object"&&self&&self.Object===Object&&self,tS=ob||Q3||Function("return this")(),Gi=tS,eS=Gi.Symbol,Ai=eS,ab=Object.prototype,nS=ab.hasOwnProperty,iS=ab.toString,Oa=Ai?Ai.toStringTag:void 0;function rS(i){var t=nS.call(i,Oa),e=i[Oa];try{i[Oa]=void 0;var n=!0}catch{}var r=iS.call(i);return n&&(t?i[Oa]=e:delete i[Oa]),r}var sS=Object.prototype,oS=sS.toString;function aS(i){return oS.call(i)}var lS="[object Null]",cS="[object Undefined]",t0=Ai?Ai.toStringTag:void 0;function Ar(i){return i==null?i===void 0?cS:lS:t0&&t0 in Object(i)?rS(i):aS(i)}function Mi(i){return i!=null&&typeof i=="object"}var uS="[object Symbol]";function Cr(i){return typeof i=="symbol"||Mi(i)&&Ar(i)==uS}function _o(i,t){for(var e=-1,n=i==null?0:i.length,r=Array(n);++e<n;)r[e]=t(i[e],e,i);return r}var hS=Array.isArray,Tn=hS,dS=1/0,e0=Ai?Ai.prototype:void 0,n0=e0?e0.toString:void 0;function lb(i){if(typeof i=="string")return i;if(Tn(i))return _o(i,lb)+"";if(Cr(i))return n0?n0.call(i):"";var t=i+"";return t=="0"&&1/i==-dS?"-0":t}var fS=/\s/;function pS(i){for(var t=i.length;t--&&fS.test(i.charAt(t)););return t}var gS=/^\s+/;function mS(i){return i&&i.slice(0,pS(i)+1).replace(gS,"")}function rn(i){var t=typeof i;return i!=null&&(t=="object"||t=="function")}var i0=0/0,bS=/^[-+]0x[0-9a-f]+$/i,vS=/^0b[01]+$/i,yS=/^0o[0-7]+$/i,xS=parseInt;function Va(i){if(typeof i=="number")return i;if(Cr(i))return i0;if(rn(i)){var t=typeof i.valueOf=="function"?i.valueOf():i;i=rn(t)?t+"":t}if(typeof i!="string")return i===0?i:+i;i=mS(i);var e=vS.test(i);return e||yS.test(i)?xS(i.slice(2),e?2:8):bS.test(i)?i0:+i}function Dl(i){return i}var CS="[object AsyncFunction]",wS="[object Function]",SS="[object GeneratorFunction]",ES="[object Proxy]";function Ef(i){if(!rn(i))return!1;var t=Ar(i);return t==wS||t==SS||t==CS||t==ES}var AS=Gi["__core-js_shared__"],Oh=AS,r0=function(){var i=/[^.]+$/.exec(Oh&&Oh.keys&&Oh.keys.IE_PROTO||"");return i?"Symbol(src)_1."+i:""}();function MS(i){return!!r0&&r0 in i}var OS=Function.prototype,TS=OS.toString;function no(i){if(i!=null){try{return TS.call(i)}catch{}try{return i+""}catch{}}return""}var PS=/[\\^$.*+?()[\]{}|]/g,kS=/^\[object .+?Constructor\]$/,_S=Function.prototype,DS=Object.prototype,NS=_S.toString,$S=DS.hasOwnProperty,FS=RegExp("^"+NS.call($S).replace(PS,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");function LS(i){if(!rn(i)||MS(i))return!1;var t=Ef(i)?FS:kS;return t.test(no(i))}function IS(i,t){return i==null?void 0:i[t]}function io(i,t){var e=IS(i,t);return LS(e)?e:void 0}var zS=io(Gi,"WeakMap"),pd=zS,s0=Object.create,jS=function(){function i(){}return function(t){if(!rn(t))return{};if(s0)return s0(t);i.prototype=t;var e=new i;return i.prototype=void 0,e}}(),BS=jS;function Af(i,t,e){switch(e.length){case 0:return i.call(t);case 1:return i.call(t,e[0]);case 2:return i.call(t,e[0],e[1]);case 3:return i.call(t,e[0],e[1],e[2])}return i.apply(t,e)}function RS(){}function cb(i,t){var e=-1,n=i.length;for(t||(t=Array(n));++e<n;)t[e]=i[e];return t}var VS=800,HS=16,GS=Date.now;function qS(i){var t=0,e=0;return function(){var n=GS(),r=HS-(n-e);if(e=n,r>0){if(++t>=VS)return arguments[0]}else t=0;return i.apply(void 0,arguments)}}function US(i){return function(){return i}}var WS=function(){try{var i=io(Object,"defineProperty");return i({},"",{}),i}catch{}}(),Rc=WS,XS=Rc?function(i,t){return Rc(i,"toString",{configurable:!0,enumerable:!1,value:US(t),writable:!0})}:Dl,YS=XS,KS=qS(YS),ub=KS;function JS(i,t){for(var e=-1,n=i==null?0:i.length;++e<n&&t(i[e],e,i)!==!1;);return i}function ZS(i,t,e,n){for(var r=i.length,s=e+(n?1:-1);n?s--:++s<r;)if(t(i[s],s,i))return s;return-1}function QS(i){return i!==i}function tE(i,t,e){for(var n=e-1,r=i.length;++n<r;)if(i[n]===t)return n;return-1}function eE(i,t,e){return t===t?tE(i,t,e):ZS(i,QS,e)}function hb(i,t){var e=i==null?0:i.length;return!!e&&eE(i,t,0)>-1}var nE=9007199254740991,iE=/^(?:0|[1-9]\d*)$/;function Mu(i,t){var e=typeof i;return t=t==null?nE:t,!!t&&(e=="number"||e!="symbol"&&iE.test(i))&&i>-1&&i%1==0&&i<t}function Ou(i,t,e){t=="__proto__"&&Rc?Rc(i,t,{configurable:!0,enumerable:!0,value:e,writable:!0}):i[t]=e}function ro(i,t){return i===t||i!==i&&t!==t}var rE=Object.prototype,sE=rE.hasOwnProperty;function Mf(i,t,e){var n=i[t];(!(sE.call(i,t)&&ro(n,e))||e===void 0&&!(t in i))&&Ou(i,t,e)}function ha(i,t,e,n){var r=!e;e||(e={});for(var s=-1,o=t.length;++s<o;){var a=t[s],l=n?n(e[a],i[a],a,e,i):void 0;l===void 0&&(l=i[a]),r?Ou(e,a,l):Mf(e,a,l)}return e}var o0=Math.max;function db(i,t,e){return t=o0(t===void 0?i.length-1:t,0),function(){for(var n=arguments,r=-1,s=o0(n.length-t,0),o=Array(s);++r<s;)o[r]=n[t+r];r=-1;for(var a=Array(t+1);++r<t;)a[r]=n[r];return a[t]=e(o),Af(i,this,a)}}function rs(i,t){return ub(db(i,t,Dl),i+"")}var oE=9007199254740991;function Of(i){return typeof i=="number"&&i>-1&&i%1==0&&i<=oE}function so(i){return i!=null&&Of(i.length)&&!Ef(i)}function ll(i,t,e){if(!rn(e))return!1;var n=typeof t;return(n=="number"?so(e)&&Mu(t,e.length):n=="string"&&t in e)?ro(e[t],i):!1}function Tf(i){return rs(function(t,e){var n=-1,r=e.length,s=r>1?e[r-1]:void 0,o=r>2?e[2]:void 0;for(s=i.length>3&&typeof s=="function"?(r--,s):void 0,o&&ll(e[0],e[1],o)&&(s=r<3?void 0:s,r=1),t=Object(t);++n<r;){var a=e[n];a&&i(t,a,n,s)}return t})}var aE=Object.prototype;function Tu(i){var t=i&&i.constructor,e=typeof t=="function"&&t.prototype||aE;return i===e}function lE(i,t){for(var e=-1,n=Array(i);++e<i;)n[e]=t(e);return n}var cE="[object Arguments]";function a0(i){return Mi(i)&&Ar(i)==cE}var fb=Object.prototype,uE=fb.hasOwnProperty,hE=fb.propertyIsEnumerable,dE=a0(function(){return arguments}())?a0:function(i){return Mi(i)&&uE.call(i,"callee")&&!hE.call(i,"callee")},zo=dE;function fE(){return!1}var pb=typeof hi=="object"&&hi&&!hi.nodeType&&hi,l0=pb&&typeof di=="object"&&di&&!di.nodeType&&di,pE=l0&&l0.exports===pb,c0=pE?Gi.Buffer:void 0,gE=c0?c0.isBuffer:void 0,mE=gE||fE,jo=mE,bE="[object Arguments]",vE="[object Array]",yE="[object Boolean]",xE="[object Date]",CE="[object Error]",wE="[object Function]",SE="[object Map]",EE="[object Number]",AE="[object Object]",ME="[object RegExp]",OE="[object Set]",TE="[object String]",PE="[object WeakMap]",kE="[object ArrayBuffer]",_E="[object DataView]",DE="[object Float32Array]",NE="[object Float64Array]",$E="[object Int8Array]",FE="[object Int16Array]",LE="[object Int32Array]",IE="[object Uint8Array]",zE="[object Uint8ClampedArray]",jE="[object Uint16Array]",BE="[object Uint32Array]",Be={};Be[DE]=Be[NE]=Be[$E]=Be[FE]=Be[LE]=Be[IE]=Be[zE]=Be[jE]=Be[BE]=!0;Be[bE]=Be[vE]=Be[kE]=Be[yE]=Be[_E]=Be[xE]=Be[CE]=Be[wE]=Be[SE]=Be[EE]=Be[AE]=Be[ME]=Be[OE]=Be[TE]=Be[PE]=!1;function RE(i){return Mi(i)&&Of(i.length)&&!!Be[Ar(i)]}function Nl(i){return function(t){return i(t)}}var gb=typeof hi=="object"&&hi&&!hi.nodeType&&hi,Ha=gb&&typeof di=="object"&&di&&!di.nodeType&&di,VE=Ha&&Ha.exports===gb,Th=VE&&ob.process,HE=function(){try{var i=Ha&&Ha.require&&Ha.require("util").types;return i||Th&&Th.binding&&Th.binding("util")}catch{}}(),Bo=HE,u0=Bo&&Bo.isTypedArray,GE=u0?Nl(u0):RE,Pu=GE,qE=Object.prototype,UE=qE.hasOwnProperty;function mb(i,t){var e=Tn(i),n=!e&&zo(i),r=!e&&!n&&jo(i),s=!e&&!n&&!r&&Pu(i),o=e||n||r||s,a=o?lE(i.length,String):[],l=a.length;for(var c in i)(t||UE.call(i,c))&&!(o&&(c=="length"||r&&(c=="offset"||c=="parent")||s&&(c=="buffer"||c=="byteLength"||c=="byteOffset")||Mu(c,l)))&&a.push(c);return a}function bb(i,t){return function(e){return i(t(e))}}var WE=bb(Object.keys,Object),XE=WE,YE=Object.prototype,KE=YE.hasOwnProperty;function vb(i){if(!Tu(i))return XE(i);var t=[];for(var e in Object(i))KE.call(i,e)&&e!="constructor"&&t.push(e);return t}function da(i){return so(i)?mb(i):vb(i)}function JE(i){var t=[];if(i!=null)for(var e in Object(i))t.push(e);return t}var ZE=Object.prototype,QE=ZE.hasOwnProperty;function tA(i){if(!rn(i))return JE(i);var t=Tu(i),e=[];for(var n in i)n=="constructor"&&(t||!QE.call(i,n))||e.push(n);return e}function oo(i){return so(i)?mb(i,!0):tA(i)}var eA=Tf(function(i,t,e,n){ha(t,oo(t),i,n)}),h0=eA,nA=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,iA=/^\w*$/;function Pf(i,t){if(Tn(i))return!1;var e=typeof i;return e=="number"||e=="symbol"||e=="boolean"||i==null||Cr(i)?!0:iA.test(i)||!nA.test(i)||t!=null&&i in Object(t)}var rA=io(Object,"create"),cl=rA;function sA(){this.__data__=cl?cl(null):{},this.size=0}function oA(i){var t=this.has(i)&&delete this.__data__[i];return this.size-=t?1:0,t}var aA="__lodash_hash_undefined__",lA=Object.prototype,cA=lA.hasOwnProperty;function uA(i){var t=this.__data__;if(cl){var e=t[i];return e===aA?void 0:e}return cA.call(t,i)?t[i]:void 0}var hA=Object.prototype,dA=hA.hasOwnProperty;function fA(i){var t=this.__data__;return cl?t[i]!==void 0:dA.call(t,i)}var pA="__lodash_hash_undefined__";function gA(i,t){var e=this.__data__;return this.size+=this.has(i)?0:1,e[i]=cl&&t===void 0?pA:t,this}function Hs(i){var t=-1,e=i==null?0:i.length;for(this.clear();++t<e;){var n=i[t];this.set(n[0],n[1])}}Hs.prototype.clear=sA;Hs.prototype.delete=oA;Hs.prototype.get=uA;Hs.prototype.has=fA;Hs.prototype.set=gA;function mA(){this.__data__=[],this.size=0}function ku(i,t){for(var e=i.length;e--;)if(ro(i[e][0],t))return e;return-1}var bA=Array.prototype,vA=bA.splice;function yA(i){var t=this.__data__,e=ku(t,i);if(e<0)return!1;var n=t.length-1;return e==n?t.pop():vA.call(t,e,1),--this.size,!0}function xA(i){var t=this.__data__,e=ku(t,i);return e<0?void 0:t[e][1]}function CA(i){return ku(this.__data__,i)>-1}function wA(i,t){var e=this.__data__,n=ku(e,i);return n<0?(++this.size,e.push([i,t])):e[n][1]=t,this}function Mr(i){var t=-1,e=i==null?0:i.length;for(this.clear();++t<e;){var n=i[t];this.set(n[0],n[1])}}Mr.prototype.clear=mA;Mr.prototype.delete=yA;Mr.prototype.get=xA;Mr.prototype.has=CA;Mr.prototype.set=wA;var SA=io(Gi,"Map"),ul=SA;function EA(){this.size=0,this.__data__={hash:new Hs,map:new(ul||Mr),string:new Hs}}function AA(i){var t=typeof i;return t=="string"||t=="number"||t=="symbol"||t=="boolean"?i!=="__proto__":i===null}function _u(i,t){var e=i.__data__;return AA(t)?e[typeof t=="string"?"string":"hash"]:e.map}function MA(i){var t=_u(this,i).delete(i);return this.size-=t?1:0,t}function OA(i){return _u(this,i).get(i)}function TA(i){return _u(this,i).has(i)}function PA(i,t){var e=_u(this,i),n=e.size;return e.set(i,t),this.size+=e.size==n?0:1,this}function Or(i){var t=-1,e=i==null?0:i.length;for(this.clear();++t<e;){var n=i[t];this.set(n[0],n[1])}}Or.prototype.clear=EA;Or.prototype.delete=MA;Or.prototype.get=OA;Or.prototype.has=TA;Or.prototype.set=PA;var kA="Expected a function";function kf(i,t){if(typeof i!="function"||t!=null&&typeof t!="function")throw new TypeError(kA);var e=function(){var n=arguments,r=t?t.apply(this,n):n[0],s=e.cache;if(s.has(r))return s.get(r);var o=i.apply(this,n);return e.cache=s.set(r,o)||s,o};return e.cache=new(kf.Cache||Or),e}kf.Cache=Or;var _A=500;function DA(i){var t=kf(i,function(n){return e.size===_A&&e.clear(),n}),e=t.cache;return t}var NA=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,$A=/\\(\\)?/g,FA=DA(function(i){var t=[];return i.charCodeAt(0)===46&&t.push(""),i.replace(NA,function(e,n,r,s){t.push(r?s.replace($A,"$1"):n||e)}),t}),LA=FA;function ss(i){return i==null?"":lb(i)}function Du(i,t){return Tn(i)?i:Pf(i,t)?[i]:LA(ss(i))}var IA=1/0;function $l(i){if(typeof i=="string"||Cr(i))return i;var t=i+"";return t=="0"&&1/i==-IA?"-0":t}function Nu(i,t){t=Du(t,i);for(var e=0,n=t.length;i!=null&&e<n;)i=i[$l(t[e++])];return e&&e==n?i:void 0}function _f(i,t,e){var n=i==null?void 0:Nu(i,t);return n===void 0?e:n}function Df(i,t){for(var e=-1,n=t.length,r=i.length;++e<n;)i[r+e]=t[e];return i}var d0=Ai?Ai.isConcatSpreadable:void 0;function zA(i){return Tn(i)||zo(i)||!!(d0&&i&&i[d0])}function Fl(i,t,e,n,r){var s=-1,o=i.length;for(e||(e=zA),r||(r=[]);++s<o;){var a=i[s];t>0&&e(a)?t>1?Fl(a,t-1,e,n,r):Df(r,a):n||(r[r.length]=a)}return r}function jA(i){var t=i==null?0:i.length;return t?Fl(i,1):[]}function BA(i){return ub(db(i,void 0,jA),i+"")}var RA=bb(Object.getPrototypeOf,Object),Nf=RA,VA="[object Object]",HA=Function.prototype,GA=Object.prototype,yb=HA.toString,qA=GA.hasOwnProperty,UA=yb.call(Object);function gi(i){if(!Mi(i)||Ar(i)!=VA)return!1;var t=Nf(i);if(t===null)return!0;var e=qA.call(t,"constructor")&&t.constructor;return typeof e=="function"&&e instanceof e&&yb.call(e)==UA}var WA="[object DOMException]",XA="[object Error]";function xb(i){if(!Mi(i))return!1;var t=Ar(i);return t==XA||t==WA||typeof i.message=="string"&&typeof i.name=="string"&&!gi(i)}var YA=rs(function(i,t){try{return Af(i,void 0,t)}catch(e){return xb(e)?e:new Error(e)}}),KA=YA;function JA(i,t,e){var n=-1,r=i.length;t<0&&(t=-t>r?0:r+t),e=e>r?r:e,e<0&&(e+=r),r=t>e?0:e-t>>>0,t>>>=0;for(var s=Array(r);++n<r;)s[n]=i[n+t];return s}function ZA(i,t,e){var n=i.length;return e=e===void 0?n:e,!t&&e>=n?i:JA(i,t,e)}var QA="\\ud800-\\udfff",tM="\\u0300-\\u036f",eM="\\ufe20-\\ufe2f",nM="\\u20d0-\\u20ff",iM=tM+eM+nM,rM="\\ufe0e\\ufe0f",sM="\\u200d",oM=RegExp("["+sM+QA+iM+rM+"]");function Cb(i){return oM.test(i)}function aM(i){return i.split("")}var wb="\\ud800-\\udfff",lM="\\u0300-\\u036f",cM="\\ufe20-\\ufe2f",uM="\\u20d0-\\u20ff",hM=lM+cM+uM,dM="\\ufe0e\\ufe0f",fM="["+wb+"]",gd="["+hM+"]",md="\\ud83c[\\udffb-\\udfff]",pM="(?:"+gd+"|"+md+")",Sb="[^"+wb+"]",Eb="(?:\\ud83c[\\udde6-\\uddff]){2}",Ab="[\\ud800-\\udbff][\\udc00-\\udfff]",gM="\\u200d",Mb=pM+"?",Ob="["+dM+"]?",mM="(?:"+gM+"(?:"+[Sb,Eb,Ab].join("|")+")"+Ob+Mb+")*",bM=Ob+Mb+mM,vM="(?:"+[Sb+gd+"?",gd,Eb,Ab,fM].join("|")+")",yM=RegExp(md+"(?="+md+")|"+vM+bM,"g");function xM(i){return i.match(yM)||[]}function CM(i){return Cb(i)?xM(i):aM(i)}function Tb(i){return function(t){t=ss(t);var e=Cb(t)?CM(t):void 0,n=e?e[0]:t.charAt(0),r=e?ZA(e,1).join(""):t.slice(1);return n[i]()+r}}var wM=Tb("toUpperCase"),Vc=wM;function SM(i){return Vc(ss(i).toLowerCase())}function EM(i,t,e,n){var r=-1,s=i==null?0:i.length;for(n&&s&&(e=i[++r]);++r<s;)e=t(e,i[r],r,i);return e}function Pb(i){return function(t){return i==null?void 0:i[t]}}var AM={\u00C0:"A",\u00C1:"A",\u00C2:"A",\u00C3:"A",\u00C4:"A",\u00C5:"A",\u00E0:"a",\u00E1:"a",\u00E2:"a",\u00E3:"a",\u00E4:"a",\u00E5:"a",\u00C7:"C",\u00E7:"c",\u00D0:"D",\u00F0:"d",\u00C8:"E",\u00C9:"E",\u00CA:"E",\u00CB:"E",\u00E8:"e",\u00E9:"e",\u00EA:"e",\u00EB:"e",\u00CC:"I",\u00CD:"I",\u00CE:"I",\u00CF:"I",\u00EC:"i",\u00ED:"i",\u00EE:"i",\u00EF:"i",\u00D1:"N",\u00F1:"n",\u00D2:"O",\u00D3:"O",\u00D4:"O",\u00D5:"O",\u00D6:"O",\u00D8:"O",\u00F2:"o",\u00F3:"o",\u00F4:"o",\u00F5:"o",\u00F6:"o",\u00F8:"o",\u00D9:"U",\u00DA:"U",\u00DB:"U",\u00DC:"U",\u00F9:"u",\u00FA:"u",\u00FB:"u",\u00FC:"u",\u00DD:"Y",\u00FD:"y",\u00FF:"y",\u00C6:"Ae",\u00E6:"ae",\u00DE:"Th",\u00FE:"th",\u00DF:"ss",\u0100:"A",\u0102:"A",\u0104:"A",\u0101:"a",\u0103:"a",\u0105:"a",\u0106:"C",\u0108:"C",\u010A:"C",\u010C:"C",\u0107:"c",\u0109:"c",\u010B:"c",\u010D:"c",\u010E:"D",\u0110:"D",\u010F:"d",\u0111:"d",\u0112:"E",\u0114:"E",\u0116:"E",\u0118:"E",\u011A:"E",\u0113:"e",\u0115:"e",\u0117:"e",\u0119:"e",\u011B:"e",\u011C:"G",\u011E:"G",\u0120:"G",\u0122:"G",\u011D:"g",\u011F:"g",\u0121:"g",\u0123:"g",\u0124:"H",\u0126:"H",\u0125:"h",\u0127:"h",\u0128:"I",\u012A:"I",\u012C:"I",\u012E:"I",\u0130:"I",\u0129:"i",\u012B:"i",\u012D:"i",\u012F:"i",\u0131:"i",\u0134:"J",\u0135:"j",\u0136:"K",\u0137:"k",\u0138:"k",\u0139:"L",\u013B:"L",\u013D:"L",\u013F:"L",\u0141:"L",\u013A:"l",\u013C:"l",\u013E:"l",\u0140:"l",\u0142:"l",\u0143:"N",\u0145:"N",\u0147:"N",\u014A:"N",\u0144:"n",\u0146:"n",\u0148:"n",\u014B:"n",\u014C:"O",\u014E:"O",\u0150:"O",\u014D:"o",\u014F:"o",\u0151:"o",\u0154:"R",\u0156:"R",\u0158:"R",\u0155:"r",\u0157:"r",\u0159:"r",\u015A:"S",\u015C:"S",\u015E:"S",\u0160:"S",\u015B:"s",\u015D:"s",\u015F:"s",\u0161:"s",\u0162:"T",\u0164:"T",\u0166:"T",\u0163:"t",\u0165:"t",\u0167:"t",\u0168:"U",\u016A:"U",\u016C:"U",\u016E:"U",\u0170:"U",\u0172:"U",\u0169:"u",\u016B:"u",\u016D:"u",\u016F:"u",\u0171:"u",\u0173:"u",\u0174:"W",\u0175:"w",\u0176:"Y",\u0177:"y",\u0178:"Y",\u0179:"Z",\u017B:"Z",\u017D:"Z",\u017A:"z",\u017C:"z",\u017E:"z",\u0132:"IJ",\u0133:"ij",\u0152:"Oe",\u0153:"oe",\u0149:"'n",\u017F:"s"},MM=Pb(AM),OM=MM,TM=/[\xc0-\xd6\xd8-\xf6\xf8-\xff\u0100-\u017f]/g,PM="\\u0300-\\u036f",kM="\\ufe20-\\ufe2f",_M="\\u20d0-\\u20ff",DM=PM+kM+_M,NM="["+DM+"]",$M=RegExp(NM,"g");function FM(i){return i=ss(i),i&&i.replace(TM,OM).replace($M,"")}var LM=/[^\x00-\x2f\x3a-\x40\x5b-\x60\x7b-\x7f]+/g;function IM(i){return i.match(LM)||[]}var zM=/[a-z][A-Z]|[A-Z]{2}[a-z]|[0-9][a-zA-Z]|[a-zA-Z][0-9]|[^a-zA-Z0-9 ]/;function jM(i){return zM.test(i)}var kb="\\ud800-\\udfff",BM="\\u0300-\\u036f",RM="\\ufe20-\\ufe2f",VM="\\u20d0-\\u20ff",HM=BM+RM+VM,_b="\\u2700-\\u27bf",Db="a-z\\xdf-\\xf6\\xf8-\\xff",GM="\\xac\\xb1\\xd7\\xf7",qM="\\x00-\\x2f\\x3a-\\x40\\x5b-\\x60\\x7b-\\xbf",UM="\\u2000-\\u206f",WM=" \\t\\x0b\\f\\xa0\\ufeff\\n\\r\\u2028\\u2029\\u1680\\u180e\\u2000\\u2001\\u2002\\u2003\\u2004\\u2005\\u2006\\u2007\\u2008\\u2009\\u200a\\u202f\\u205f\\u3000",Nb="A-Z\\xc0-\\xd6\\xd8-\\xde",XM="\\ufe0e\\ufe0f",$b=GM+qM+UM+WM,Fb="['\u2019]",f0="["+$b+"]",YM="["+HM+"]",Lb="\\d+",KM="["+_b+"]",Ib="["+Db+"]",zb="[^"+kb+$b+Lb+_b+Db+Nb+"]",JM="\\ud83c[\\udffb-\\udfff]",ZM="(?:"+YM+"|"+JM+")",QM="[^"+kb+"]",jb="(?:\\ud83c[\\udde6-\\uddff]){2}",Bb="[\\ud800-\\udbff][\\udc00-\\udfff]",Ao="["+Nb+"]",tO="\\u200d",p0="(?:"+Ib+"|"+zb+")",eO="(?:"+Ao+"|"+zb+")",g0="(?:"+Fb+"(?:d|ll|m|re|s|t|ve))?",m0="(?:"+Fb+"(?:D|LL|M|RE|S|T|VE))?",Rb=ZM+"?",Vb="["+XM+"]?",nO="(?:"+tO+"(?:"+[QM,jb,Bb].join("|")+")"+Vb+Rb+")*",iO="\\d*(?:1st|2nd|3rd|(?![123])\\dth)(?=\\b|[A-Z_])",rO="\\d*(?:1ST|2ND|3RD|(?![123])\\dTH)(?=\\b|[a-z_])",sO=Vb+Rb+nO,oO="(?:"+[KM,jb,Bb].join("|")+")"+sO,aO=RegExp([Ao+"?"+Ib+"+"+g0+"(?="+[f0,Ao,"$"].join("|")+")",eO+"+"+m0+"(?="+[f0,Ao+p0,"$"].join("|")+")",Ao+"?"+p0+"+"+g0,Ao+"+"+m0,rO,iO,Lb,oO].join("|"),"g");function lO(i){return i.match(aO)||[]}function cO(i,t,e){return i=ss(i),t=e?void 0:t,t===void 0?jM(i)?lO(i):IM(i):i.match(t)||[]}var uO="['\u2019]",hO=RegExp(uO,"g");function Hb(i){return function(t){return EM(cO(FM(t).replace(hO,"")),i,"")}}var dO=Hb(function(i,t,e){return t=t.toLowerCase(),i+(e?SM(t):t)}),$f=dO;function bd(){if(!arguments.length)return[];var i=arguments[0];return Tn(i)?i:[i]}function fO(i,t,e){return i===i&&(e!==void 0&&(i=i<=e?i:e),t!==void 0&&(i=i>=t?i:t)),i}function zn(i,t,e){return e===void 0&&(e=t,t=void 0),e!==void 0&&(e=Va(e),e=e===e?e:0),t!==void 0&&(t=Va(t),t=t===t?t:0),fO(Va(i),t,e)}function pO(){this.__data__=new Mr,this.size=0}function gO(i){var t=this.__data__,e=t.delete(i);return this.size=t.size,e}function mO(i){return this.__data__.get(i)}function bO(i){return this.__data__.has(i)}var vO=200;function yO(i,t){var e=this.__data__;if(e instanceof Mr){var n=e.__data__;if(!ul||n.length<vO-1)return n.push([i,t]),this.size=++e.size,this;e=this.__data__=new Or(n)}return e.set(i,t),this.size=e.size,this}function zi(i){var t=this.__data__=new Mr(i);this.size=t.size}zi.prototype.clear=pO;zi.prototype.delete=gO;zi.prototype.get=mO;zi.prototype.has=bO;zi.prototype.set=yO;function xO(i,t){return i&&ha(t,da(t),i)}function CO(i,t){return i&&ha(t,oo(t),i)}var Gb=typeof hi=="object"&&hi&&!hi.nodeType&&hi,b0=Gb&&typeof di=="object"&&di&&!di.nodeType&&di,wO=b0&&b0.exports===Gb,v0=wO?Gi.Buffer:void 0,y0=v0?v0.allocUnsafe:void 0;function qb(i,t){if(t)return i.slice();var e=i.length,n=y0?y0(e):new i.constructor(e);return i.copy(n),n}function SO(i,t){for(var e=-1,n=i==null?0:i.length,r=0,s=[];++e<n;){var o=i[e];t(o,e,i)&&(s[r++]=o)}return s}function Ub(){return[]}var EO=Object.prototype,AO=EO.propertyIsEnumerable,x0=Object.getOwnPropertySymbols,MO=x0?function(i){return i==null?[]:(i=Object(i),SO(x0(i),function(t){return AO.call(i,t)}))}:Ub,Ff=MO;function OO(i,t){return ha(i,Ff(i),t)}var TO=Object.getOwnPropertySymbols,PO=TO?function(i){for(var t=[];i;)Df(t,Ff(i)),i=Nf(i);return t}:Ub,Wb=PO;function kO(i,t){return ha(i,Wb(i),t)}function Xb(i,t,e){var n=t(i);return Tn(i)?n:Df(n,e(i))}function vd(i){return Xb(i,da,Ff)}function _O(i){return Xb(i,oo,Wb)}var DO=io(Gi,"DataView"),yd=DO,NO=io(Gi,"Promise"),xd=NO,$O=io(Gi,"Set"),Do=$O,C0="[object Map]",FO="[object Object]",w0="[object Promise]",S0="[object Set]",E0="[object WeakMap]",A0="[object DataView]",LO=no(yd),IO=no(ul),zO=no(xd),jO=no(Do),BO=no(pd),As=Ar;(yd&&As(new yd(new ArrayBuffer(1)))!=A0||ul&&As(new ul)!=C0||xd&&As(xd.resolve())!=w0||Do&&As(new Do)!=S0||pd&&As(new pd)!=E0)&&(As=function(i){var t=Ar(i),e=t==FO?i.constructor:void 0,n=e?no(e):"";if(n)switch(n){case LO:return A0;case IO:return C0;case zO:return w0;case jO:return S0;case BO:return E0}return t});var Ro=As,RO=Object.prototype,VO=RO.hasOwnProperty;function HO(i){var t=i.length,e=new i.constructor(t);return t&&typeof i[0]=="string"&&VO.call(i,"index")&&(e.index=i.index,e.input=i.input),e}var GO=Gi.Uint8Array,Hc=GO;function Lf(i){var t=new i.constructor(i.byteLength);return new Hc(t).set(new Hc(i)),t}function qO(i,t){var e=t?Lf(i.buffer):i.buffer;return new i.constructor(e,i.byteOffset,i.byteLength)}var UO=/\w*$/;function WO(i){var t=new i.constructor(i.source,UO.exec(i));return t.lastIndex=i.lastIndex,t}var M0=Ai?Ai.prototype:void 0,O0=M0?M0.valueOf:void 0;function XO(i){return O0?Object(O0.call(i)):{}}function Yb(i,t){var e=t?Lf(i.buffer):i.buffer;return new i.constructor(e,i.byteOffset,i.length)}var YO="[object Boolean]",KO="[object Date]",JO="[object Map]",ZO="[object Number]",QO="[object RegExp]",tT="[object Set]",eT="[object String]",nT="[object Symbol]",iT="[object ArrayBuffer]",rT="[object DataView]",sT="[object Float32Array]",oT="[object Float64Array]",aT="[object Int8Array]",lT="[object Int16Array]",cT="[object Int32Array]",uT="[object Uint8Array]",hT="[object Uint8ClampedArray]",dT="[object Uint16Array]",fT="[object Uint32Array]";function pT(i,t,e){var n=i.constructor;switch(t){case iT:return Lf(i);case YO:case KO:return new n(+i);case rT:return qO(i,e);case sT:case oT:case aT:case lT:case cT:case uT:case hT:case dT:case fT:return Yb(i,e);case JO:return new n;case ZO:case eT:return new n(i);case QO:return WO(i);case tT:return new n;case nT:return XO(i)}}function Kb(i){return typeof i.constructor=="function"&&!Tu(i)?BS(Nf(i)):{}}var gT="[object Map]";function mT(i){return Mi(i)&&Ro(i)==gT}var T0=Bo&&Bo.isMap,bT=T0?Nl(T0):mT,vT=bT,yT="[object Set]";function xT(i){return Mi(i)&&Ro(i)==yT}var P0=Bo&&Bo.isSet,CT=P0?Nl(P0):xT,wT=CT,ST=1,ET=2,AT=4,Jb="[object Arguments]",MT="[object Array]",OT="[object Boolean]",TT="[object Date]",PT="[object Error]",Zb="[object Function]",kT="[object GeneratorFunction]",_T="[object Map]",DT="[object Number]",Qb="[object Object]",NT="[object RegExp]",$T="[object Set]",FT="[object String]",LT="[object Symbol]",IT="[object WeakMap]",zT="[object ArrayBuffer]",jT="[object DataView]",BT="[object Float32Array]",RT="[object Float64Array]",VT="[object Int8Array]",HT="[object Int16Array]",GT="[object Int32Array]",qT="[object Uint8Array]",UT="[object Uint8ClampedArray]",WT="[object Uint16Array]",XT="[object Uint32Array]",Le={};Le[Jb]=Le[MT]=Le[zT]=Le[jT]=Le[OT]=Le[TT]=Le[BT]=Le[RT]=Le[VT]=Le[HT]=Le[GT]=Le[_T]=Le[DT]=Le[Qb]=Le[NT]=Le[$T]=Le[FT]=Le[LT]=Le[qT]=Le[UT]=Le[WT]=Le[XT]=!0;Le[PT]=Le[Zb]=Le[IT]=!1;function Ga(i,t,e,n,r,s){var o,a=t&ST,l=t&ET,c=t&AT;if(e&&(o=r?e(i,n,r,s):e(i)),o!==void 0)return o;if(!rn(i))return i;var u=Tn(i);if(u){if(o=HO(i),!a)return cb(i,o)}else{var h=Ro(i),f=h==Zb||h==kT;if(jo(i))return qb(i,a);if(h==Qb||h==Jb||f&&!r){if(o=l||f?{}:Kb(i),!a)return l?kO(i,CO(o,i)):OO(i,xO(o,i))}else{if(!Le[h])return r?i:{};o=pT(i,h,a)}}s||(s=new zi);var p=s.get(i);if(p)return p;s.set(i,o),wT(i)?i.forEach(function(C){o.add(Ga(C,t,e,C,i,s))}):vT(i)&&i.forEach(function(C,x){o.set(x,Ga(C,t,e,x,i,s))});var b=c?l?_O:vd:l?oo:da,v=u?void 0:b(i);return JS(v||i,function(C,x){v&&(x=C,C=i[x]),Mf(o,x,Ga(C,t,e,x,i,s))}),o}var YT=4;function Gs(i){return Ga(i,YT)}var KT=1,JT=4;function Ye(i){return Ga(i,KT|JT)}var ZT="__lodash_hash_undefined__";function QT(i){return this.__data__.set(i,ZT),this}function t6(i){return this.__data__.has(i)}function Vo(i){var t=-1,e=i==null?0:i.length;for(this.__data__=new Or;++t<e;)this.add(i[t])}Vo.prototype.add=Vo.prototype.push=QT;Vo.prototype.has=t6;function e6(i,t){for(var e=-1,n=i==null?0:i.length;++e<n;)if(t(i[e],e,i))return!0;return!1}function If(i,t){return i.has(t)}var n6=1,i6=2;function tv(i,t,e,n,r,s){var o=e&n6,a=i.length,l=t.length;if(a!=l&&!(o&&l>a))return!1;var c=s.get(i),u=s.get(t);if(c&&u)return c==t&&u==i;var h=-1,f=!0,p=e&i6?new Vo:void 0;for(s.set(i,t),s.set(t,i);++h<a;){var b=i[h],v=t[h];if(n)var C=o?n(v,b,h,t,i,s):n(b,v,h,i,t,s);if(C!==void 0){if(C)continue;f=!1;break}if(p){if(!e6(t,function(x,S){if(!If(p,S)&&(b===x||r(b,x,e,n,s)))return p.push(S)})){f=!1;break}}else if(!(b===v||r(b,v,e,n,s))){f=!1;break}}return s.delete(i),s.delete(t),f}function r6(i){var t=-1,e=Array(i.size);return i.forEach(function(n,r){e[++t]=[r,n]}),e}function zf(i){var t=-1,e=Array(i.size);return i.forEach(function(n){e[++t]=n}),e}var s6=1,o6=2,a6="[object Boolean]",l6="[object Date]",c6="[object Error]",u6="[object Map]",h6="[object Number]",d6="[object RegExp]",f6="[object Set]",p6="[object String]",g6="[object Symbol]",m6="[object ArrayBuffer]",b6="[object DataView]",k0=Ai?Ai.prototype:void 0,Ph=k0?k0.valueOf:void 0;function v6(i,t,e,n,r,s,o){switch(e){case b6:if(i.byteLength!=t.byteLength||i.byteOffset!=t.byteOffset)return!1;i=i.buffer,t=t.buffer;case m6:return!(i.byteLength!=t.byteLength||!s(new Hc(i),new Hc(t)));case a6:case l6:case h6:return ro(+i,+t);case c6:return i.name==t.name&&i.message==t.message;case d6:case p6:return i==t+"";case u6:var a=r6;case f6:var l=n&s6;if(a||(a=zf),i.size!=t.size&&!l)return!1;var c=o.get(i);if(c)return c==t;n|=o6,o.set(i,t);var u=tv(a(i),a(t),n,r,s,o);return o.delete(i),u;case g6:if(Ph)return Ph.call(i)==Ph.call(t)}return!1}var y6=1,x6=Object.prototype,C6=x6.hasOwnProperty;function w6(i,t,e,n,r,s){var o=e&y6,a=vd(i),l=a.length,c=vd(t),u=c.length;if(l!=u&&!o)return!1;for(var h=l;h--;){var f=a[h];if(!(o?f in t:C6.call(t,f)))return!1}var p=s.get(i),b=s.get(t);if(p&&b)return p==t&&b==i;var v=!0;s.set(i,t),s.set(t,i);for(var C=o;++h<l;){f=a[h];var x=i[f],S=t[f];if(n)var E=o?n(S,x,f,t,i,s):n(x,S,f,i,t,s);if(!(E===void 0?x===S||r(x,S,e,n,s):E)){v=!1;break}C||(C=f=="constructor")}if(v&&!C){var O=i.constructor,k=t.constructor;O!=k&&"constructor"in i&&"constructor"in t&&!(typeof O=="function"&&O instanceof O&&typeof k=="function"&&k instanceof k)&&(v=!1)}return s.delete(i),s.delete(t),v}var S6=1,_0="[object Arguments]",D0="[object Array]",cc="[object Object]",E6=Object.prototype,N0=E6.hasOwnProperty;function A6(i,t,e,n,r,s){var o=Tn(i),a=Tn(t),l=o?D0:Ro(i),c=a?D0:Ro(t);l=l==_0?cc:l,c=c==_0?cc:c;var u=l==cc,h=c==cc,f=l==c;if(f&&jo(i)){if(!jo(t))return!1;o=!0,u=!1}if(f&&!u)return s||(s=new zi),o||Pu(i)?tv(i,t,e,n,r,s):v6(i,t,l,e,n,r,s);if(!(e&S6)){var p=u&&N0.call(i,"__wrapped__"),b=h&&N0.call(t,"__wrapped__");if(p||b){var v=p?i.value():i,C=b?t.value():t;return s||(s=new zi),r(v,C,e,n,s)}}return f?(s||(s=new zi),w6(i,t,e,n,r,s)):!1}function $u(i,t,e,n,r){return i===t?!0:i==null||t==null||!Mi(i)&&!Mi(t)?i!==i&&t!==t:A6(i,t,e,n,$u,r)}var M6=1,O6=2;function T6(i,t,e,n){var r=e.length,s=r,o=!n;if(i==null)return!s;for(i=Object(i);r--;){var a=e[r];if(o&&a[2]?a[1]!==i[a[0]]:!(a[0]in i))return!1}for(;++r<s;){a=e[r];var l=a[0],c=i[l],u=a[1];if(o&&a[2]){if(c===void 0&&!(l in i))return!1}else{var h=new zi;if(n)var f=n(c,u,l,i,t,h);if(!(f===void 0?$u(u,c,M6|O6,n,h):f))return!1}}return!0}function ev(i){return i===i&&!rn(i)}function P6(i){for(var t=da(i),e=t.length;e--;){var n=t[e],r=i[n];t[e]=[n,r,ev(r)]}return t}function nv(i,t){return function(e){return e==null?!1:e[i]===t&&(t!==void 0||i in Object(e))}}function k6(i){var t=P6(i);return t.length==1&&t[0][2]?nv(t[0][0],t[0][1]):function(e){return e===i||T6(e,i,t)}}function _6(i,t){return i!=null&&t in Object(i)}function iv(i,t,e){t=Du(t,i);for(var n=-1,r=t.length,s=!1;++n<r;){var o=$l(t[n]);if(!(s=i!=null&&e(i,o)))break;i=i[o]}return s||++n!=r?s:(r=i==null?0:i.length,!!r&&Of(r)&&Mu(o,r)&&(Tn(i)||zo(i)))}function rv(i,t){return i!=null&&iv(i,t,_6)}var D6=1,N6=2;function $6(i,t){return Pf(i)&&ev(t)?nv($l(i),t):function(e){var n=_f(e,i);return n===void 0&&n===t?rv(e,i):$u(t,n,D6|N6)}}function F6(i){return function(t){return t==null?void 0:t[i]}}function L6(i){return function(t){return Nu(t,i)}}function I6(i){return Pf(i)?F6($l(i)):L6(i)}function jf(i){return typeof i=="function"?i:i==null?Dl:typeof i=="object"?Tn(i)?$6(i[0],i[1]):k6(i):I6(i)}function z6(i,t,e,n){for(var r=-1,s=i==null?0:i.length;++r<s;){var o=i[r];t(n,o,e(o),i)}return n}function j6(i){return function(t,e,n){for(var r=-1,s=Object(t),o=n(t),a=o.length;a--;){var l=o[i?a:++r];if(e(s[l],l,s)===!1)break}return t}}var B6=j6(),sv=B6;function R6(i,t){return i&&sv(i,t,da)}function V6(i,t){return function(e,n){if(e==null)return e;if(!so(e))return i(e,n);for(var r=e.length,s=t?r:-1,o=Object(e);(t?s--:++s<r)&&n(o[s],s,o)!==!1;);return e}}var H6=V6(R6),ov=H6;function G6(i,t,e,n){return ov(i,function(r,s,o){t(n,r,e(r),o)}),n}function q6(i,t){return function(e,n){var r=Tn(e)?z6:G6,s=t?t():{};return r(e,i,jf(n),s)}}var U6=function(){return Gi.Date.now()},kh=U6,W6="Expected a function",X6=Math.max,Y6=Math.min;function Bf(i,t,e){var n,r,s,o,a,l,c=0,u=!1,h=!1,f=!0;if(typeof i!="function")throw new TypeError(W6);t=Va(t)||0,rn(e)&&(u=!!e.leading,h="maxWait"in e,s=h?X6(Va(e.maxWait)||0,t):s,f="trailing"in e?!!e.trailing:f);function p(m){var T=n,D=r;return n=r=void 0,c=m,o=i.apply(D,T),o}function b(m){return c=m,a=setTimeout(x,t),u?p(m):o}function v(m){var T=m-l,D=m-c,z=t-T;return h?Y6(z,s-D):z}function C(m){var T=m-l,D=m-c;return l===void 0||T>=t||T<0||h&&D>=s}function x(){var m=kh();if(C(m))return S(m);a=setTimeout(x,v(m))}function S(m){return a=void 0,f&&n?p(m):(n=r=void 0,o)}function E(){a!==void 0&&clearTimeout(a),c=0,n=l=r=a=void 0}function O(){return a===void 0?o:S(kh())}function k(){var m=kh(),T=C(m);if(n=arguments,r=this,l=m,T){if(a===void 0)return b(l);if(h)return clearTimeout(a),a=setTimeout(x,t),p(l)}return a===void 0&&(a=setTimeout(x,t)),o}return k.cancel=E,k.flush=O,k}var av=Object.prototype,K6=av.hasOwnProperty,J6=rs(function(i,t){i=Object(i);var e=-1,n=t.length,r=n>2?t[2]:void 0;for(r&&ll(t[0],t[1],r)&&(n=1);++e<n;)for(var s=t[e],o=oo(s),a=-1,l=o.length;++a<l;){var c=o[a],u=i[c];(u===void 0||ro(u,av[c])&&!K6.call(i,c))&&(i[c]=s[c])}return i}),Z6=J6;function Cd(i,t,e){(e!==void 0&&!ro(i[t],e)||e===void 0&&!(t in i))&&Ou(i,t,e)}function Gc(i){return Mi(i)&&so(i)}function wd(i,t){if(!(t==="constructor"&&typeof i[t]=="function")&&t!="__proto__")return i[t]}function Q6(i){return ha(i,oo(i))}function t5(i,t,e,n,r,s,o){var a=wd(i,e),l=wd(t,e),c=o.get(l);if(c){Cd(i,e,c);return}var u=s?s(a,l,e+"",i,t,o):void 0,h=u===void 0;if(h){var f=Tn(l),p=!f&&jo(l),b=!f&&!p&&Pu(l);u=l,f||p||b?Tn(a)?u=a:Gc(a)?u=cb(a):p?(h=!1,u=qb(l,!0)):b?(h=!1,u=Yb(l,!0)):u=[]:gi(l)||zo(l)?(u=a,zo(a)?u=Q6(a):(!rn(a)||Ef(a))&&(u=Kb(l))):h=!1}h&&(o.set(l,u),r(u,l,n,s,o),o.delete(l)),Cd(i,e,u)}function Fu(i,t,e,n,r){i!==t&&sv(t,function(s,o){if(r||(r=new zi),rn(s))t5(i,t,o,e,Fu,n,r);else{var a=n?n(wd(i,o),s,o+"",i,t,r):void 0;a===void 0&&(a=s),Cd(i,o,a)}},oo)}function lv(i,t,e,n,r,s){return rn(i)&&rn(t)&&(s.set(t,i),Fu(i,t,void 0,lv,s),s.delete(t)),i}var e5=Tf(function(i,t,e,n){Fu(i,t,e,n)}),n5=e5,i5=rs(function(i){return i.push(void 0,lv),Af(n5,void 0,i)}),cv=i5,r5="Expected a function";function s5(i,t,e){if(typeof i!="function")throw new TypeError(r5);return setTimeout(function(){i.apply(void 0,e)},t)}var o5=rs(function(i,t){return s5(i,1,t)}),a5=o5;function uv(i,t,e){for(var n=-1,r=i==null?0:i.length;++n<r;)if(e(t,i[n]))return!0;return!1}var l5=200;function c5(i,t,e,n){var r=-1,s=hb,o=!0,a=i.length,l=[],c=t.length;if(!a)return l;e&&(t=_o(t,Nl(e))),n?(s=uv,o=!1):t.length>=l5&&(s=If,o=!1,t=new Vo(t));t:for(;++r<a;){var u=i[r],h=e==null?u:e(u);if(u=n||u!==0?u:0,o&&h===h){for(var f=c;f--;)if(t[f]===h)continue t;l.push(u)}else s(t,h,n)||l.push(u)}return l}var u5=rs(function(i,t){return Gc(i)?c5(i,Fl(t,1,Gc,!0)):[]}),h5=u5,d5={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"},f5=Pb(d5),p5=f5,hv=/[&<>"']/g,g5=RegExp(hv.source);function m5(i){return i=ss(i),i&&g5.test(i)?i.replace(hv,p5):i}function b5(i,t){var e=-1,n=so(i)?Array(i.length):[];return ov(i,function(r,s,o){n[++e]=t(r,s,o)}),n}function dv(i){for(var t=-1,e=i==null?0:i.length,n={};++t<e;){var r=i[t];n[r[0]]=r[1]}return n}var v5=Object.prototype,y5=v5.hasOwnProperty,x5=q6(function(i,t,e){y5.call(i,e)?i[e].push(t):Ou(i,e,[t])}),C5=x5,w5=Object.prototype,S5=w5.hasOwnProperty;function E5(i,t){return i!=null&&S5.call(i,t)}function Da(i,t){return i!=null&&iv(i,t,E5)}function A5(i,t){return _o(t,function(e){return i[e]})}var M5="[object Map]",O5="[object Set]",T5=Object.prototype,P5=T5.hasOwnProperty;function fv(i){if(i==null)return!0;if(so(i)&&(Tn(i)||typeof i=="string"||typeof i.splice=="function"||jo(i)||Pu(i)||zo(i)))return!i.length;var t=Ro(i);if(t==M5||t==O5)return!i.size;if(Tu(i))return!vb(i).length;for(var e in i)if(P5.call(i,e))return!1;return!0}function ji(i,t){return $u(i,t)}var k5="[object Number]";function $0(i){return typeof i=="number"||Mi(i)&&Ar(i)==k5}function Lu(i){return i==null}var _5=Tb("toLowerCase"),D5=_5,N5=Tf(function(i,t,e){Fu(i,t,e)}),Ne=N5;function pv(i,t,e,n){if(!rn(i))return i;t=Du(t,i);for(var r=-1,s=t.length,o=s-1,a=i;a!=null&&++r<s;){var l=$l(t[r]),c=e;if(l==="__proto__"||l==="constructor"||l==="prototype")return i;if(r!=o){var u=a[l];c=n?n(u,l,a):void 0,c===void 0&&(c=rn(u)?u:Mu(t[r+1])?[]:{})}Mf(a,l,c),a=a[l]}return i}function $5(i,t,e){for(var n=-1,r=t.length,s={};++n<r;){var o=t[n],a=Nu(i,o);e(a,o)&&pv(s,Du(o,i),a)}return s}function F5(i,t){var e=i.length;for(i.sort(t);e--;)i[e]=i[e].value;return i}function L5(i,t){if(i!==t){var e=i!==void 0,n=i===null,r=i===i,s=Cr(i),o=t!==void 0,a=t===null,l=t===t,c=Cr(t);if(!a&&!c&&!s&&i>t||s&&o&&l&&!a&&!c||n&&o&&l||!e&&l||!r)return 1;if(!n&&!s&&!c&&i<t||c&&e&&r&&!n&&!s||a&&e&&r||!o&&r||!l)return-1}return 0}function I5(i,t,e){for(var n=-1,r=i.criteria,s=t.criteria,o=r.length,a=e.length;++n<o;){var l=L5(r[n],s[n]);if(l){if(n>=a)return l;var c=e[n];return l*(c=="desc"?-1:1)}}return i.index-t.index}function z5(i,t,e){t.length?t=_o(t,function(s){return Tn(s)?function(o){return Nu(o,s.length===1?s[0]:s)}:s}):t=[Dl];var n=-1;t=_o(t,Nl(jf));var r=b5(i,function(s,o,a){var l=_o(t,function(c){return c(s)});return{criteria:l,index:++n,value:s}});return F5(r,function(s,o){return I5(s,o,e)})}function j5(i,t){return $5(i,t,function(e,n){return rv(i,n)})}var B5=BA(function(i,t){return i==null?{}:j5(i,t)}),F0=B5;function R5(i,t,e){return i==null?i:pv(i,t,e)}var V5=rs(function(i,t){if(i==null)return[];var e=t.length;return e>1&&ll(i,t[0],t[1])?t=[]:e>2&&ll(t[0],t[1],t[2])&&(t=[t[0]]),z5(i,Fl(t,1),[])}),Rf=V5,H5=4294967295,G5=H5-1,q5=Math.floor,U5=Math.min;function gv(i,t,e,n){var r=0,s=i==null?0:i.length;if(s===0)return 0;t=e(t);for(var o=t!==t,a=t===null,l=Cr(t),c=t===void 0;r<s;){var u=q5((r+s)/2),h=e(i[u]),f=h!==void 0,p=h===null,b=h===h,v=Cr(h);if(o)var C=n||b;else c?C=b&&(n||f):a?C=b&&f&&(n||!p):l?C=b&&f&&!p&&(n||!v):p||v?C=!1:C=n?h<=t:h<t;C?r=u+1:s=u}return U5(s,G5)}var W5=4294967295,X5=W5>>>1;function Y5(i,t,e){var n=0,r=i==null?n:i.length;if(typeof t=="number"&&t===t&&r<=X5){for(;n<r;){var s=n+r>>>1,o=i[s];o!==null&&!Cr(o)&&(e?o<=t:o<t)?n=s+1:r=s}return r}return gv(i,t,Dl,e)}function K5(i,t){return Y5(i,t)}function J5(i,t,e){return gv(i,t,jf(e))}var Z5=Hb(function(i,t,e){return i+(e?" ":"")+Vc(t)}),Q5=Z5,mv=Object.prototype,tP=mv.hasOwnProperty;function L0(i,t,e,n){return i===void 0||ro(i,mv[e])&&!tP.call(n,e)?t:i}var eP={"\\":"\\","'":"'","\n":"n","\r":"r","\u2028":"u2028","\u2029":"u2029"};function nP(i){return"\\"+eP[i]}var iP=/<%=([\s\S]+?)%>/g,bv=iP,rP=/<%-([\s\S]+?)%>/g,sP=rP,oP=/<%([\s\S]+?)%>/g,aP=oP,lP={escape:sP,evaluate:aP,interpolate:bv,variable:"",imports:{_:{escape:m5}}},I0=lP,cP="Invalid `variable` option passed into `_.template`",uP=/\b__p \+= '';/g,hP=/\b(__p \+=) '' \+/g,dP=/(__e\(.*?\)|\b__t\)) \+\n'';/g,fP=/[()=,{}\[\]\/\s]/,pP=/\$\{([^\\}]*(?:\\.[^\\}]*)*)\}/g,uc=/($^)/,gP=/['\n\r\u2028\u2029\\]/g,mP=Object.prototype,z0=mP.hasOwnProperty;function Mo(i,t,e){var n=I0.imports._.templateSettings||I0;e&&ll(i,t,e)&&(t=void 0),i=ss(i),t=h0({},t,n,L0);var r=h0({},t.imports,n.imports,L0),s=da(r),o=A5(r,s),a,l,c=0,u=t.interpolate||uc,h="__p += '",f=RegExp((t.escape||uc).source+"|"+u.source+"|"+(u===bv?pP:uc).source+"|"+(t.evaluate||uc).source+"|$","g"),p=z0.call(t,"sourceURL")?"//# sourceURL="+(t.sourceURL+"").replace(/\s/g," ")+`
`:"";i.replace(f,function(C,x,S,E,O,k){return S||(S=E),h+=i.slice(c,k).replace(gP,nP),x&&(a=!0,h+=`' +
__e(`+x+`) +
'`),O&&(l=!0,h+=`';
`+O+`;
__p += '`),S&&(h+=`' +
((__t = (`+S+`)) == null ? '' : __t) +
'`),c=k+C.length,C}),h+=`';
`;var b=z0.call(t,"variable")&&t.variable;if(!b)h=`with (obj) {
`+h+`
}
`;else if(fP.test(b))throw new Error(cP);h=(l?h.replace(uP,""):h).replace(hP,"$1").replace(dP,"$1;"),h="function("+(b||"obj")+`) {
`+(b?"":`obj || (obj = {});
`)+"var __t, __p = ''"+(a?", __e = _.escape":"")+(l?`, __j = Array.prototype.join;
function print() { __p += __j.call(arguments, '') }
`:`;
`)+h+`return __p
}`;var v=KA(function(){return Function(s,p+"return "+h).apply(void 0,o)});if(v.source=h,xb(v))throw v;return v}var bP=1/0,vP=Do&&1/zf(new Do([,-0]))[1]==bP?function(i){return new Do(i)}:RS,yP=vP,xP=200;function vv(i,t,e){var n=-1,r=hb,s=i.length,o=!0,a=[],l=a;if(e)o=!1,r=uv;else if(s>=xP){var c=t?null:yP(i);if(c)return zf(c);o=!1,r=If,l=new Vo}else l=t?[]:a;t:for(;++n<s;){var u=i[n],h=t?t(u):u;if(u=e||u!==0?u:0,o&&h===h){for(var f=l.length;f--;)if(l[f]===h)continue t;t&&l.push(h),a.push(u)}else r(l,h,e)||(l!==a&&l.push(h),a.push(u))}return a}var CP=rs(function(i){return vv(Fl(i,1,Gc,!0))}),j0=CP;function yv(i){return i&&i.length?vv(i):[]}var wP=0;function SP(i){var t=++wP;return ss(i)+t}const bo=(i,t,e,n=!1)=>{i&&t&&e&&(i==null||i.addEventListener(t,e,n))},hc=(i,t,e,n=!1)=>{i&&t&&e&&(i==null||i.removeEventListener(t,e,n))},fr=(i,t,{checkForDefaultPrevented:e=!0}={})=>r=>{const s=i==null?void 0:i(r);if(e===!1||!s)return t==null?void 0:t(r)},Vf=i=>{let t,e;return i.type==="touchend"?(e=i.changedTouches[0].clientY,t=i.changedTouches[0].clientX):i.type.startsWith("touch")?(e=i.touches[0].clientY,t=i.touches[0].clientX):(e=i.clientY,t=i.clientX),{clientX:t,clientY:e}},Sd=i=>i===void 0,hl=i=>typeof Element=="undefined"?!1:i instanceof Element,_h=(i,t,e)=>({get value(){return _f(i,t,e)},set value(n){R5(i,t,n)}});class EP extends Error{constructor(t){super(t),this.name="ElementPlusError"}}function AP(i,t){throw new EP(`[${i}] ${t}`)}function Ed(i,t="px"){if(!i)return"";if(Oe(i))return i;if(hd(i))return`${i}${t}`}/*! Element Plus Icons Vue v2.0.5 */var ao=(i,t)=>{let e=i.__vccOpts||i;for(let[n,r]of t)e[n]=r;return e},MP={name:"ArrowDown"},OP={viewBox:"0 0 1024 1024",xmlns:"http://www.w3.org/2000/svg"},TP=Yt("path",{fill:"currentColor",d:"M831.872 340.864 512 652.672 192.128 340.864a30.592 30.592 0 0 0-42.752 0 29.12 29.12 0 0 0 0 41.6L489.664 714.24a32 32 0 0 0 44.672 0l340.288-331.712a29.12 29.12 0 0 0 0-41.728 30.592 30.592 0 0 0-42.752 0z"},null,-1),PP=[TP];function kP(i,t,e,n,r,s){return Et(),Zt("svg",OP,PP)}var _P=ao(MP,[["render",kP],["__file","arrow-down.vue"]]),DP={name:"CircleCheck"},NP={viewBox:"0 0 1024 1024",xmlns:"http://www.w3.org/2000/svg"},$P=Yt("path",{fill:"currentColor",d:"M512 896a384 384 0 1 0 0-768 384 384 0 0 0 0 768zm0 64a448 448 0 1 1 0-896 448 448 0 0 1 0 896z"},null,-1),FP=Yt("path",{fill:"currentColor",d:"M745.344 361.344a32 32 0 0 1 45.312 45.312l-288 288a32 32 0 0 1-45.312 0l-160-160a32 32 0 1 1 45.312-45.312L480 626.752l265.344-265.408z"},null,-1),LP=[$P,FP];function IP(i,t,e,n,r,s){return Et(),Zt("svg",NP,LP)}var zP=ao(DP,[["render",IP],["__file","circle-check.vue"]]),jP={name:"CircleClose"},BP={viewBox:"0 0 1024 1024",xmlns:"http://www.w3.org/2000/svg"},RP=Yt("path",{fill:"currentColor",d:"m466.752 512-90.496-90.496a32 32 0 0 1 45.248-45.248L512 466.752l90.496-90.496a32 32 0 1 1 45.248 45.248L557.248 512l90.496 90.496a32 32 0 1 1-45.248 45.248L512 557.248l-90.496 90.496a32 32 0 0 1-45.248-45.248L466.752 512z"},null,-1),VP=Yt("path",{fill:"currentColor",d:"M512 896a384 384 0 1 0 0-768 384 384 0 0 0 0 768zm0 64a448 448 0 1 1 0-896 448 448 0 0 1 0 896z"},null,-1),HP=[RP,VP];function GP(i,t,e,n,r,s){return Et(),Zt("svg",BP,HP)}var xv=ao(jP,[["render",GP],["__file","circle-close.vue"]]),qP={name:"Close"},UP={viewBox:"0 0 1024 1024",xmlns:"http://www.w3.org/2000/svg"},WP=Yt("path",{fill:"currentColor",d:"M764.288 214.592 512 466.88 259.712 214.592a31.936 31.936 0 0 0-45.12 45.12L466.752 512 214.528 764.224a31.936 31.936 0 1 0 45.12 45.184L512 557.184l252.288 252.288a31.936 31.936 0 0 0 45.12-45.12L557.12 512.064l252.288-252.352a31.936 31.936 0 1 0-45.12-45.184z"},null,-1),XP=[WP];function YP(i,t,e,n,r,s){return Et(),Zt("svg",UP,XP)}var KP=ao(qP,[["render",YP],["__file","close.vue"]]),JP={name:"Hide"},ZP={viewBox:"0 0 1024 1024",xmlns:"http://www.w3.org/2000/svg"},QP=Yt("path",{d:"M876.8 156.8c0-9.6-3.2-16-9.6-22.4-6.4-6.4-12.8-9.6-22.4-9.6-9.6 0-16 3.2-22.4 9.6L736 220.8c-64-32-137.6-51.2-224-60.8-160 16-288 73.6-377.6 176C44.8 438.4 0 496 0 512s48 73.6 134.4 176c22.4 25.6 44.8 48 73.6 67.2l-86.4 89.6c-6.4 6.4-9.6 12.8-9.6 22.4 0 9.6 3.2 16 9.6 22.4 6.4 6.4 12.8 9.6 22.4 9.6 9.6 0 16-3.2 22.4-9.6l704-710.4c3.2-6.4 6.4-12.8 6.4-22.4Zm-646.4 528c-76.8-70.4-128-128-153.6-172.8 28.8-48 80-105.6 153.6-172.8C304 272 400 230.4 512 224c64 3.2 124.8 19.2 176 44.8l-54.4 54.4C598.4 300.8 560 288 512 288c-64 0-115.2 22.4-160 64s-64 96-64 160c0 48 12.8 89.6 35.2 124.8L256 707.2c-9.6-6.4-19.2-16-25.6-22.4Zm140.8-96c-12.8-22.4-19.2-48-19.2-76.8 0-44.8 16-83.2 48-112 32-28.8 67.2-48 112-48 28.8 0 54.4 6.4 73.6 19.2L371.2 588.8ZM889.599 336c-12.8-16-28.8-28.8-41.6-41.6l-48 48c73.6 67.2 124.8 124.8 150.4 169.6-28.8 48-80 105.6-153.6 172.8-73.6 67.2-172.8 108.8-284.8 115.2-51.2-3.2-99.2-12.8-140.8-28.8l-48 48c57.6 22.4 118.4 38.4 188.8 44.8 160-16 288-73.6 377.6-176C979.199 585.6 1024 528 1024 512s-48.001-73.6-134.401-176Z",fill:"currentColor"},null,-1),tk=Yt("path",{d:"M511.998 672c-12.8 0-25.6-3.2-38.4-6.4l-51.2 51.2c28.8 12.8 57.6 19.2 89.6 19.2 64 0 115.2-22.4 160-64 41.6-41.6 64-96 64-160 0-32-6.4-64-19.2-89.6l-51.2 51.2c3.2 12.8 6.4 25.6 6.4 38.4 0 44.8-16 83.2-48 112-32 28.8-67.2 48-112 48Z",fill:"currentColor"},null,-1),ek=[QP,tk];function nk(i,t,e,n,r,s){return Et(),Zt("svg",ZP,ek)}var ik=ao(JP,[["render",nk],["__file","hide.vue"]]),rk={name:"Loading"},sk={viewBox:"0 0 1024 1024",xmlns:"http://www.w3.org/2000/svg"},ok=Yt("path",{fill:"currentColor",d:"M512 64a32 32 0 0 1 32 32v192a32 32 0 0 1-64 0V96a32 32 0 0 1 32-32zm0 640a32 32 0 0 1 32 32v192a32 32 0 1 1-64 0V736a32 32 0 0 1 32-32zm448-192a32 32 0 0 1-32 32H736a32 32 0 1 1 0-64h192a32 32 0 0 1 32 32zm-640 0a32 32 0 0 1-32 32H96a32 32 0 0 1 0-64h192a32 32 0 0 1 32 32zM195.2 195.2a32 32 0 0 1 45.248 0L376.32 331.008a32 32 0 0 1-45.248 45.248L195.2 240.448a32 32 0 0 1 0-45.248zm452.544 452.544a32 32 0 0 1 45.248 0L828.8 783.552a32 32 0 0 1-45.248 45.248L647.744 692.992a32 32 0 0 1 0-45.248zM828.8 195.264a32 32 0 0 1 0 45.184L692.992 376.32a32 32 0 0 1-45.248-45.248l135.808-135.808a32 32 0 0 1 45.248 0zm-452.544 452.48a32 32 0 0 1 0 45.248L240.448 828.8a32 32 0 0 1-45.248-45.248l135.808-135.808a32 32 0 0 1 45.248 0z"},null,-1),ak=[ok];function lk(i,t,e,n,r,s){return Et(),Zt("svg",sk,ak)}var Cv=ao(rk,[["render",lk],["__file","loading.vue"]]),ck={name:"View"},uk={viewBox:"0 0 1024 1024",xmlns:"http://www.w3.org/2000/svg"},hk=Yt("path",{fill:"currentColor",d:"M512 160c320 0 512 352 512 352S832 864 512 864 0 512 0 512s192-352 512-352zm0 64c-225.28 0-384.128 208.064-436.8 288 52.608 79.872 211.456 288 436.8 288 225.28 0 384.128-208.064 436.8-288-52.608-79.872-211.456-288-436.8-288zm0 64a224 224 0 1 1 0 448 224 224 0 0 1 0-448zm0 64a160.192 160.192 0 0 0-160 160c0 88.192 71.744 160 160 160s160-71.808 160-160-71.744-160-160-160z"},null,-1),dk=[hk];function fk(i,t,e,n,r,s){return Et(),Zt("svg",uk,dk)}var pk=ao(ck,[["render",fk],["__file","view.vue"]]);const wv="__epPropKey",qe=i=>i,gk=i=>He(i)&&!!i[wv],Iu=(i,t)=>{if(!He(i)||gk(i))return i;const{values:e,required:n,default:r,type:s,validator:o}=i,l={type:s,required:!!n,validator:e||o?c=>{let u=!1,h=[];if(e&&(h=Array.from(e),ue(i,"default")&&h.push(r),u||(u=h.includes(c))),o&&(u||(u=o(c))),!u&&h.length>0){const f=[...new Set(h)].map(p=>JSON.stringify(p)).join(", ");$C(`Invalid prop: validation failed${t?` for prop "${t}"`:""}. Expected one of [${f}], got value ${JSON.stringify(c)}.`)}return u}:void 0,[wv]:!0};return ue(i,"default")&&(l.default=r),l},Hn=i=>dv(Object.entries(i).map(([t,e])=>[t,Iu(e,t)])),qc=qe([String,Object,Function]),mk={validating:Cv,success:zP,error:xv},lo=(i,t)=>{if(i.install=e=>{for(const n of[i,...Object.values(t!=null?t:{})])e.component(n.name,n)},t)for(const[e,n]of Object.entries(t))i[e]=n;return i},Sv=i=>(i.install=jn,i),Uc={tab:"Tab",enter:"Enter",space:"Space",left:"ArrowLeft",up:"ArrowUp",right:"ArrowRight",down:"ArrowDown",esc:"Escape",delete:"Delete",backspace:"Backspace",numpadEnter:"NumpadEnter",pageUp:"PageUp",pageDown:"PageDown",home:"Home",end:"End"},No="update:modelValue",zu=["","default","small","large"],bk=i=>["",...zu].includes(i),vk=i=>/([(\uAC00-\uD7AF)|(\u3130-\u318F)])+/gi.test(i),yk=()=>Math.floor(Math.random()*1e4),xk=i=>i,Ck=["class","style"],wk=/^on[A-Z]/,Sk=(i={})=>{const{excludeListeners:t=!1,excludeKeys:e}=i,n=vt(()=>((e==null?void 0:e.value)||[]).concat(Ck)),r=lr();return vt(r?()=>{var s;return dv(Object.entries((s=r.proxy)==null?void 0:s.$attrs).filter(([o])=>!n.value.includes(o)&&!(t&&wk.test(o))))}:()=>({}))},Ev=Symbol("buttonGroupContextKey"),Ek=Symbol(),co=Symbol("formContextKey"),Zr=Symbol("formItemContextKey"),Hf=Symbol("popper"),Av=Symbol("popperContent"),Mv=i=>{const t=lr();return vt(()=>{var e,n;return(n=((e=t.proxy)==null?void 0:e.$props)[i])!=null?n:void 0})},B0=Mt();function Ll(i,t=void 0){const e=lr()?Ve(Ek,B0):B0;return i?vt(()=>{var n,r;return(r=(n=e.value)==null?void 0:n[i])!=null?r:t}):e}const Ov=Iu({type:String,values:zu,required:!1}),Il=(i,t={})=>{const e=Mt(void 0),n=t.prop?e:Mv("size"),r=t.global?e:Ll("size"),s=t.form?{size:void 0}:Ve(co,void 0),o=t.formItem?{size:void 0}:Ve(Zr,void 0);return vt(()=>n.value||U(i)||(o==null?void 0:o.size)||(s==null?void 0:s.size)||r.value||"")},Gf=i=>{const t=Mv("disabled"),e=Ve(co,void 0);return vt(()=>t.value||U(i)||(e==null?void 0:e.disabled)||!1)},Ak=({from:i,replacement:t,scope:e,version:n,ref:r,type:s="API"},o)=>{Qt(()=>U(o),a=>{},{immediate:!0})},Mk={prefix:Math.floor(Math.random()*1e4),current:0},Ok=Symbol("elIdInjection"),qf=i=>{const t=Ve(Ok,Mk);return vt(()=>U(i)||`el-id-${t.prefix}-${t.current++}`)},Tv=()=>{const i=Ve(co,void 0),t=Ve(Zr,void 0);return{form:i,formItem:t}},Pv=(i,{formItemContext:t,disableIdGeneration:e,disableIdManagement:n})=>{e||(e=Mt(!1)),n||(n=Mt(!1));const r=Mt();let s;const o=vt(()=>{var a;return!!(!i.label&&t&&t.inputIds&&((a=t.inputIds)==null?void 0:a.length)<=1)});return Fn(()=>{s=Qt([Jr(i,"id"),e],([a,l])=>{const c=a!=null?a:l?void 0:qf().value;c!==r.value&&(t!=null&&t.removeInputId&&(r.value&&t.removeInputId(r.value),!(n!=null&&n.value)&&!l&&c&&t.addInputId(c)),r.value=c)},{immediate:!0})}),gf(()=>{s&&s(),t!=null&&t.removeInputId&&r.value&&t.removeInputId(r.value)}),{isLabeledByFormItem:o,inputId:r}};var Tk={name:"en",el:{colorpicker:{confirm:"OK",clear:"Clear",defaultLabel:"color picker",description:"current color is {color}. press enter to select a new color."},datepicker:{now:"Now",today:"Today",cancel:"Cancel",clear:"Clear",confirm:"OK",dateTablePrompt:"Use the arrow keys and enter to select the day of the month",monthTablePrompt:"Use the arrow keys and enter to select the month",yearTablePrompt:"Use the arrow keys and enter to select the year",selectedDate:"Selected date",selectDate:"Select date",selectTime:"Select time",startDate:"Start Date",startTime:"Start Time",endDate:"End Date",endTime:"End Time",prevYear:"Previous Year",nextYear:"Next Year",prevMonth:"Previous Month",nextMonth:"Next Month",year:"",month1:"January",month2:"February",month3:"March",month4:"April",month5:"May",month6:"June",month7:"July",month8:"August",month9:"September",month10:"October",month11:"November",month12:"December",week:"week",weeks:{sun:"Sun",mon:"Mon",tue:"Tue",wed:"Wed",thu:"Thu",fri:"Fri",sat:"Sat"},weeksFull:{sun:"Sunday",mon:"Monday",tue:"Tuesday",wed:"Wednesday",thu:"Thursday",fri:"Friday",sat:"Saturday"},months:{jan:"Jan",feb:"Feb",mar:"Mar",apr:"Apr",may:"May",jun:"Jun",jul:"Jul",aug:"Aug",sep:"Sep",oct:"Oct",nov:"Nov",dec:"Dec"}},inputNumber:{decrease:"decrease number",increase:"increase number"},select:{loading:"Loading",noMatch:"No matching data",noData:"No data",placeholder:"Select"},dropdown:{toggleDropdown:"Toggle Dropdown"},cascader:{noMatch:"No matching data",loading:"Loading",placeholder:"Select",noData:"No data"},pagination:{goto:"Go to",pagesize:"/page",total:"Total {total}",pageClassifier:"",deprecationWarning:"Deprecated usages detected, please refer to the el-pagination documentation for more details"},dialog:{close:"Close this dialog"},drawer:{close:"Close this dialog"},messagebox:{title:"Message",confirm:"OK",cancel:"Cancel",error:"Illegal input",close:"Close this dialog"},upload:{deleteTip:"press delete to remove",delete:"Delete",preview:"Preview",continue:"Continue"},slider:{defaultLabel:"slider between {min} and {max}",defaultRangeStartLabel:"pick start value",defaultRangeEndLabel:"pick end value"},table:{emptyText:"No Data",confirmFilter:"Confirm",resetFilter:"Reset",clearFilter:"All",sumText:"Sum"},tree:{emptyText:"No Data"},transfer:{noMatch:"No matching data",noData:"No data",titles:["List 1","List 2"],filterPlaceholder:"Enter keyword",noCheckedFormat:"{total} items",hasCheckedFormat:"{checked}/{total} checked"},image:{error:"FAILED"},pageHeader:{title:"Back"},popconfirm:{confirmButtonText:"Yes",cancelButtonText:"No"}}};const Pk=i=>(t,e)=>kk(t,e,U(i)),kk=(i,t,e)=>_f(e,i,i).replace(/\{(\w+)\}/g,(n,r)=>{var s;return`${(s=t==null?void 0:t[r])!=null?s:`{${r}}`}`}),_k=i=>{const t=vt(()=>U(i).name),e=gn(i)?i:Mt(i);return{lang:t,locale:e,t:Pk(i)}},Dk=()=>{const i=Ll("locale");return _k(vt(()=>i.value||Tk))},Nk=Iu({type:qe(Boolean),default:null}),$k=Iu({type:qe(Function)}),Fk=i=>{const t=`update:${i}`,e=`onUpdate:${i}`,n=[t],r={[i]:Nk,[e]:$k};return{useModelToggle:({indicator:o,toggleReason:a,shouldHideWhenRouteChanges:l,shouldProceed:c,onShow:u,onHide:h})=>{const f=lr(),{emit:p}=f,b=f.props,v=vt(()=>Vt(b[e])),C=vt(()=>b[i]===null),x=T=>{o.value!==!0&&(o.value=!0,a&&(a.value=T),Vt(u)&&u(T))},S=T=>{o.value!==!1&&(o.value=!1,a&&(a.value=T),Vt(h)&&h(T))},E=T=>{if(b.disabled===!0||Vt(c)&&!c())return;const D=v.value&&Bn;D&&p(t,!0),(C.value||!D)&&x(T)},O=T=>{if(b.disabled===!0||!Bn)return;const D=v.value&&Bn;D&&p(t,!1),(C.value||!D)&&S(T)},k=T=>{!al(T)||(b.disabled&&T?v.value&&p(t,!1):o.value!==T&&(T?x():S()))},m=()=>{o.value?O():E()};return Qt(()=>b[i],k),l&&f.appContext.config.globalProperties.$route!==void 0&&Qt(()=>fe({},f.proxy.$route),()=>{l.value&&o.value&&O()}),Fn(()=>{k(b[i])}),{hide:O,show:E,toggle:m}},useModelToggleProps:r,useModelToggleEmits:n}};function Lk(){let i;const t=(n,r)=>{e(),i=window.setTimeout(n,r)},e=()=>window.clearTimeout(i);return Sf(()=>e()),{registerTimeout:t,cancelTimeout:e}}let vo=[];const Ik=i=>{const t=e=>{const n=e;n.key===Uc.esc&&vo.forEach(r=>r(n))};Fn(()=>{vo.length===0&&document.addEventListener("keydown",t),Bn&&vo.push(i)}),ar(()=>{vo=vo.filter(e=>e!==i),vo.length===0&&Bn&&document.removeEventListener("keydown",t)})};let R0;const kv=`el-popper-container-${yk()}`,_v=`#${kv}`,zk=()=>{const i=document.createElement("div");return i.id=kv,document.body.appendChild(i),i},jk=()=>{Nm(()=>{!Bn||(!R0||!document.body.querySelector(_v))&&(R0=zk())})},Bk=Hn({showAfter:{type:Number,default:0},hideAfter:{type:Number,default:200}}),Rk=({showAfter:i,hideAfter:t,open:e,close:n})=>{const{registerTimeout:r}=Lk();return{onOpen:a=>{r(()=>{e(a)},U(i))},onClose:a=>{r(()=>{n(a)},U(t))}}},Dv=Symbol("elForwardRef"),Vk=i=>{Bi(Dv,{setForwardRef:e=>{i.value=e}})},Hk=i=>({mounted(t){i(t)},updated(t){i(t)},unmounted(){i(null)}}),Gk="el",qk="is-",ws=(i,t,e,n,r)=>{let s=`${i}-${t}`;return e&&(s+=`-${e}`),n&&(s+=`__${n}`),r&&(s+=`--${r}`),s},Rn=i=>{const t=Ll("namespace"),e=vt(()=>t.value||Gk);return{namespace:e,b:(v="")=>ws(U(e),i,v,"",""),e:v=>v?ws(U(e),i,"",v,""):"",m:v=>v?ws(U(e),i,"","",v):"",be:(v,C)=>v&&C?ws(U(e),i,v,C,""):"",em:(v,C)=>v&&C?ws(U(e),i,"",v,C):"",bm:(v,C)=>v&&C?ws(U(e),i,v,"",C):"",bem:(v,C,x)=>v&&C&&x?ws(U(e),i,v,C,x):"",is:(v,...C)=>{const x=C.length>=1?C[0]:!0;return v&&x?`${qk}${v}`:""},cssVar:v=>{const C={};for(const x in v)C[`--${e.value}-${x}`]=v[x];return C},cssVarName:v=>`--${e.value}-${v}`,cssVarBlock:v=>{const C={};for(const x in v)C[`--${e.value}-${i}-${x}`]=v[x];return C},cssVarBlockName:v=>`--${e.value}-${i}-${v}`}},V0=Mt(0),Uk=()=>{const i=Ll("zIndex",2e3),t=vt(()=>i.value+V0.value);return{initialZIndex:i,currentZIndex:t,nextZIndex:()=>(V0.value++,t.value)}};function Wk(i){const t=Mt();function e(){if(i.value==null)return;const{selectionStart:r,selectionEnd:s,value:o}=i.value;if(r==null||s==null)return;const a=o.slice(0,Math.max(0,r)),l=o.slice(Math.max(0,s));t.value={selectionStart:r,selectionEnd:s,value:o,beforeTxt:a,afterTxt:l}}function n(){if(i.value==null||t.value==null)return;const{value:r}=i.value,{beforeTxt:s,afterTxt:o,selectionStart:a}=t.value;if(s==null||o==null||a==null)return;let l=r.length;if(r.endsWith(o))l=r.length-o.length;else if(r.startsWith(s))l=s.length;else{const c=s[a-1],u=r.indexOf(c,a-1);u!==-1&&(l=u+1)}i.value.setSelectionRange(l,l)}return[e,n]}var un=(i,t)=>{const e=i.__vccOpts||i;for(const[n,r]of t)e[n]=r;return e};const Xk=Hn({size:{type:qe([Number,String])},color:{type:String}}),Yk={name:"ElIcon",inheritAttrs:!1},Kk=ze(en(fe({},Yk),{props:Xk,setup(i){const t=i,e=Rn("icon"),n=vt(()=>!t.size&&!t.color?{}:{fontSize:Sd(t.size)?void 0:Ed(t.size),"--color":t.color});return(r,s)=>(Et(),Zt("i",Is({class:U(e).b(),style:U(n)},r.$attrs),[Ze(r.$slots,"default")],16))}}));var Jk=un(Kk,[["__file","/home/runner/work/element-plus/element-plus/packages/components/icon/src/icon.vue"]]);const Hr=lo(Jk);let Ni;const Zk=`
  height:0 !important;
  visibility:hidden !important;
  overflow:hidden !important;
  position:absolute !important;
  z-index:-1000 !important;
  top:0 !important;
  right:0 !important;
`,Qk=["letter-spacing","line-height","padding-top","padding-bottom","font-family","font-weight","font-size","text-rendering","text-transform","width","text-indent","padding-left","padding-right","border-width","box-sizing"];function t4(i){const t=window.getComputedStyle(i),e=t.getPropertyValue("box-sizing"),n=Number.parseFloat(t.getPropertyValue("padding-bottom"))+Number.parseFloat(t.getPropertyValue("padding-top")),r=Number.parseFloat(t.getPropertyValue("border-bottom-width"))+Number.parseFloat(t.getPropertyValue("border-top-width"));return{contextStyle:Qk.map(o=>`${o}:${t.getPropertyValue(o)}`).join(";"),paddingSize:n,borderSize:r,boxSizing:e}}function H0(i,t=1,e){var n;Ni||(Ni=document.createElement("textarea"),document.body.appendChild(Ni));const{paddingSize:r,borderSize:s,boxSizing:o,contextStyle:a}=t4(i);Ni.setAttribute("style",`${a};${Zk}`),Ni.value=i.value||i.placeholder||"";let l=Ni.scrollHeight;const c={};o==="border-box"?l=l+s:o==="content-box"&&(l=l-r),Ni.value="";const u=Ni.scrollHeight-r;if(hd(t)){let h=u*t;o==="border-box"&&(h=h+r+s),l=Math.max(h,l),c.minHeight=`${h}px`}if(hd(e)){let h=u*e;o==="border-box"&&(h=h+r+s),l=Math.min(h,l)}return c.height=`${l}px`,(n=Ni.parentNode)==null||n.removeChild(Ni),Ni=void 0,c}const e4=Hn({id:{type:String,default:void 0},size:Ov,disabled:Boolean,modelValue:{type:qe([String,Number,Object]),default:""},type:{type:String,default:"text"},resize:{type:String,values:["none","both","horizontal","vertical"]},autosize:{type:qe([Boolean,Object]),default:!1},autocomplete:{type:String,default:"off"},formatter:{type:Function},parser:{type:Function},placeholder:{type:String},form:{type:String,default:""},readonly:{type:Boolean,default:!1},clearable:{type:Boolean,default:!1},showPassword:{type:Boolean,default:!1},showWordLimit:{type:Boolean,default:!1},suffixIcon:{type:qc,default:""},prefixIcon:{type:qc,default:""},containerRole:{type:String,default:void 0},label:{type:String,default:void 0},tabindex:{type:[String,Number],default:0},validateEvent:{type:Boolean,default:!0},inputStyle:{type:qe([Object,Array,String]),default:()=>xk({})}}),n4={[No]:i=>Oe(i),input:i=>Oe(i),change:i=>Oe(i),focus:i=>i instanceof FocusEvent,blur:i=>i instanceof FocusEvent,clear:()=>!0,mouseleave:i=>i instanceof MouseEvent,mouseenter:i=>i instanceof MouseEvent,keydown:i=>i instanceof Event,compositionstart:i=>i instanceof CompositionEvent,compositionupdate:i=>i instanceof CompositionEvent,compositionend:i=>i instanceof CompositionEvent},i4=["role"],r4=["id","type","disabled","formatter","parser","readonly","autocomplete","tabindex","aria-label","placeholder"],s4=["id","tabindex","disabled","readonly","autocomplete","aria-label","placeholder"],o4={name:"ElInput",inheritAttrs:!1},a4=ze(en(fe({},o4),{props:e4,emits:n4,setup(i,{expose:t,emit:e}){const n=i,r={suffix:"append",prefix:"prepend"},s=lr(),o=qw(),a=Cf(),l=vt(()=>{const Y={};return n.containerRole==="combobox"&&(Y["aria-haspopup"]=o["aria-haspopup"],Y["aria-owns"]=o["aria-owns"],Y["aria-expanded"]=o["aria-expanded"]),Y}),c=Sk({excludeKeys:vt(()=>Object.keys(l.value))}),{form:u,formItem:h}=Tv(),{inputId:f}=Pv(n,{formItemContext:h}),p=Il(),b=Gf(),v=Rn("input"),C=Rn("textarea"),x=ko(),S=ko(),E=Mt(!1),O=Mt(!1),k=Mt(!1),m=Mt(!1),T=Mt(),D=ko(n.inputStyle),z=vt(()=>x.value||S.value),H=vt(()=>{var Y;return(Y=u==null?void 0:u.statusIcon)!=null?Y:!1}),q=vt(()=>(h==null?void 0:h.validateState)||""),R=vt(()=>mk[q.value]),rt=vt(()=>m.value?pk:ik),st=vt(()=>[o.style,n.inputStyle]),j=vt(()=>[n.inputStyle,D.value,{resize:n.resize}]),B=vt(()=>Lu(n.modelValue)?"":String(n.modelValue)),tt=vt(()=>n.clearable&&!b.value&&!n.readonly&&!!B.value&&(E.value||O.value)),bt=vt(()=>n.showPassword&&!b.value&&!n.readonly&&!!B.value&&(!!B.value||E.value)),Ot=vt(()=>n.showWordLimit&&!!c.value.maxlength&&(n.type==="text"||n.type==="textarea")&&!b.value&&!n.readonly&&!n.showPassword),Gt=vt(()=>Array.from(B.value).length),pt=vt(()=>!!Ot.value&&Gt.value>Number(c.value.maxlength)),$t=vt(()=>!!a.suffix||!!n.suffixIcon||tt.value||n.showPassword||Ot.value||!!q.value&&H.value),[Dt,_t]=Wk(x);sb(S,Y=>{if(!Ot.value||n.resize!=="both")return;const ft=Y[0],{width:kt}=ft.contentRect;T.value={right:`calc(100% - ${kt+15+6}px)`}});const zt=()=>{const{type:Y,autosize:ft}=n;if(!(!Bn||Y!=="textarea"))if(ft){const kt=He(ft)?ft.minRows:void 0,Wt=He(ft)?ft.maxRows:void 0;D.value=fe({},H0(S.value,kt,Wt))}else D.value={minHeight:H0(S.value).minHeight}},de=()=>{const Y=z.value;!Y||Y.value===B.value||(Y.value=B.value)},at=Y=>{const{el:ft}=s.vnode;if(!ft)return;const Wt=Array.from(ft.querySelectorAll(`.${v.e(Y)}`)).find(Ce=>Ce.parentNode===ft);if(!Wt)return;const le=r[Y];a[le]?Wt.style.transform=`translateX(${Y==="suffix"?"-":""}${ft.querySelector(`.${v.be("group",le)}`).offsetWidth}px)`:Wt.removeAttribute("style")},Tt=()=>{at("prefix"),at("suffix")},Ut=async Y=>{Dt();let{value:ft}=Y.target;n.formatter&&(ft=n.parser?n.parser(ft):ft,ft=n.formatter(ft)),!k.value&&ft!==B.value&&(e(No,ft),e("input",ft),await Yn(),de(),_t())},te=Y=>{e("change",Y.target.value)},hn=Y=>{e("compositionstart",Y),k.value=!0},bn=Y=>{var ft;e("compositionupdate",Y);const kt=(ft=Y.target)==null?void 0:ft.value,Wt=kt[kt.length-1]||"";k.value=!vk(Wt)},$=Y=>{e("compositionend",Y),k.value&&(k.value=!1,Ut(Y))},G=()=>{m.value=!m.value,Q()},Q=async()=>{var Y;await Yn(),(Y=z.value)==null||Y.focus()},K=()=>{var Y;return(Y=z.value)==null?void 0:Y.blur()},nt=Y=>{E.value=!0,e("focus",Y)},gt=Y=>{var ft;E.value=!1,e("blur",Y),n.validateEvent&&((ft=h==null?void 0:h.validate)==null||ft.call(h,"blur").catch(kt=>void 0))},Ct=Y=>{O.value=!1,e("mouseleave",Y)},dt=Y=>{O.value=!0,e("mouseenter",Y)},mt=Y=>{e("keydown",Y)},ut=()=>{var Y;(Y=z.value)==null||Y.select()},Pt=()=>{e(No,""),e("change",""),e("clear"),e("input","")};return Qt(()=>n.modelValue,()=>{var Y;Yn(()=>zt()),n.validateEvent&&((Y=h==null?void 0:h.validate)==null||Y.call(h,"change").catch(ft=>void 0))}),Qt(B,()=>de()),Qt(()=>n.type,async()=>{await Yn(),de(),zt(),Tt()}),Fn(async()=>{!n.formatter&&n.parser,de(),Tt(),await Yn(),zt()}),pf(async()=>{await Yn(),Tt()}),t({input:x,textarea:S,ref:z,textareaStyle:j,autosize:Jr(n,"autosize"),focus:Q,blur:K,select:ut,clear:Pt,resizeTextarea:zt}),(Y,ft)=>rl((Et(),Zt("div",Is(U(l),{class:[Y.type==="textarea"?U(C).b():U(v).b(),U(v).m(U(p)),U(v).is("disabled",U(b)),U(v).is("exceed",U(pt)),{[U(v).b("group")]:Y.$slots.prepend||Y.$slots.append,[U(v).bm("group","append")]:Y.$slots.append,[U(v).bm("group","prepend")]:Y.$slots.prepend,[U(v).m("prefix")]:Y.$slots.prefix||Y.prefixIcon,[U(v).m("suffix")]:Y.$slots.suffix||Y.suffixIcon||Y.clearable||Y.showPassword,[U(v).bm("suffix","password-clear")]:U(tt)&&U(bt)},Y.$attrs.class],style:U(st),role:Y.containerRole,onMouseenter:dt,onMouseleave:Ct}),[ye(" input "),Y.type!=="textarea"?(Et(),Zt(nn,{key:0},[ye(" prepend slot "),Y.$slots.prepend?(Et(),Zt("div",{key:0,class:qt(U(v).be("group","prepend"))},[Ze(Y.$slots,"prepend")],2)):ye("v-if",!0),Yt("div",{class:qt([U(v).e("wrapper"),U(v).is("focus",E.value)])},[ye(" prefix slot "),Y.$slots.prefix||Y.prefixIcon?(Et(),Zt("span",{key:0,class:qt(U(v).e("prefix"))},[Yt("span",{class:qt(U(v).e("prefix-inner"))},[Ze(Y.$slots,"prefix"),Y.prefixIcon?(Et(),Me(U(Hr),{key:0,class:qt(U(v).e("icon"))},{default:we(()=>[(Et(),Me(_s(Y.prefixIcon)))]),_:1},8,["class"])):ye("v-if",!0)],2)],2)):ye("v-if",!0),Yt("input",Is({id:U(f),ref_key:"input",ref:x,class:U(v).e("inner")},U(c),{type:Y.showPassword?m.value?"text":"password":Y.type,disabled:U(b),formatter:Y.formatter,parser:Y.parser,readonly:Y.readonly,autocomplete:Y.autocomplete,tabindex:Y.tabindex,"aria-label":Y.label,placeholder:Y.placeholder,style:Y.inputStyle,onCompositionstart:hn,onCompositionupdate:bn,onCompositionend:$,onInput:Ut,onFocus:nt,onBlur:gt,onChange:te,onKeydown:mt}),null,16,r4),ye(" suffix slot "),U($t)?(Et(),Zt("span",{key:1,class:qt(U(v).e("suffix"))},[Yt("span",{class:qt(U(v).e("suffix-inner"))},[!U(tt)||!U(bt)||!U(Ot)?(Et(),Zt(nn,{key:0},[Ze(Y.$slots,"suffix"),Y.suffixIcon?(Et(),Me(U(Hr),{key:0,class:qt(U(v).e("icon"))},{default:we(()=>[(Et(),Me(_s(Y.suffixIcon)))]),_:1},8,["class"])):ye("v-if",!0)],64)):ye("v-if",!0),U(tt)?(Et(),Me(U(Hr),{key:1,class:qt([U(v).e("icon"),U(v).e("clear")]),onMousedown:ft[0]||(ft[0]=x3(()=>{},["prevent"])),onClick:Pt},{default:we(()=>[Jt(U(xv))]),_:1},8,["class"])):ye("v-if",!0),U(bt)?(Et(),Me(U(Hr),{key:2,class:qt([U(v).e("icon"),U(v).e("password")]),onClick:G},{default:we(()=>[(Et(),Me(_s(U(rt))))]),_:1},8,["class"])):ye("v-if",!0),U(Ot)?(Et(),Zt("span",{key:3,class:qt(U(v).e("count"))},[Yt("span",{class:qt(U(v).e("count-inner"))},Ki(U(Gt))+" / "+Ki(U(c).maxlength),3)],2)):ye("v-if",!0),U(q)&&U(R)&&U(H)?(Et(),Me(U(Hr),{key:4,class:qt([U(v).e("icon"),U(v).e("validateIcon"),U(v).is("loading",U(q)==="validating")])},{default:we(()=>[(Et(),Me(_s(U(R))))]),_:1},8,["class"])):ye("v-if",!0)],2)],2)):ye("v-if",!0)],2),ye(" append slot "),Y.$slots.append?(Et(),Zt("div",{key:1,class:qt(U(v).be("group","append"))},[Ze(Y.$slots,"append")],2)):ye("v-if",!0)],64)):(Et(),Zt(nn,{key:1},[ye(" textarea "),Yt("textarea",Is({id:U(f),ref_key:"textarea",ref:S,class:U(C).e("inner")},U(c),{tabindex:Y.tabindex,disabled:U(b),readonly:Y.readonly,autocomplete:Y.autocomplete,style:U(j),"aria-label":Y.label,placeholder:Y.placeholder,onCompositionstart:hn,onCompositionupdate:bn,onCompositionend:$,onInput:Ut,onFocus:nt,onBlur:gt,onChange:te,onKeydown:mt}),null,16,s4),U(Ot)?(Et(),Zt("span",{key:0,style:Mn(T.value),class:qt(U(v).e("count"))},Ki(U(Gt))+" / "+Ki(U(c).maxlength),7)):ye("v-if",!0)],64))],16,i4)),[[wf,Y.type!=="hidden"]])}}));var l4=un(a4,[["__file","/home/runner/work/element-plus/element-plus/packages/components/input/src/input.vue"]]);const Nv=lo(l4),$v=Hn({role:{type:String,default:"tooltip"}}),c4={name:"ElPopperRoot",inheritAttrs:!1},u4=ze(en(fe({},c4),{props:$v,setup(i,{expose:t}){const e=i,n=Mt(),r=Mt(),s=Mt(),o=Mt(),a=vt(()=>e.role),l={triggerRef:n,popperInstanceRef:r,contentRef:s,referenceRef:o,role:a};return t(l),Bi(Hf,l),(c,u)=>Ze(c.$slots,"default")}}));var h4=un(u4,[["__file","/home/runner/work/element-plus/element-plus/packages/components/popper/src/popper.vue"]]);const Fv=Hn({arrowOffset:{type:Number,default:5}}),d4={name:"ElPopperArrow",inheritAttrs:!1},f4=ze(en(fe({},d4),{props:Fv,setup(i,{expose:t}){const e=i,n=Rn("popper"),{arrowOffset:r,arrowRef:s}=Ve(Av,void 0);return Qt(()=>e.arrowOffset,o=>{r.value=o}),ar(()=>{s.value=void 0}),t({arrowRef:s}),(o,a)=>(Et(),Zt("span",{ref_key:"arrowRef",ref:s,class:qt(U(n).e("arrow")),"data-popper-arrow":""},null,2))}}));var p4=un(f4,[["__file","/home/runner/work/element-plus/element-plus/packages/components/popper/src/arrow.vue"]]);const g4="ElOnlyChild",m4=ze({name:g4,setup(i,{slots:t,attrs:e}){var n;const r=Ve(Dv),s=Hk((n=r==null?void 0:r.setForwardRef)!=null?n:jn);return()=>{var o;const a=(o=t.default)==null?void 0:o.call(t,e);if(!a||a.length>1)return null;const l=Lv(a);return l?rl(xr(l,e),[[s]]):null}}});function Lv(i){if(!i)return null;const t=i;for(const e of t){if(He(e))switch(e.type){case fi:continue;case _l:return Dh(e);case"svg":return Dh(e);case nn:return Lv(e.children);default:return e}return Dh(e)}return null}function Dh(i){return Jt("span",{class:"el-only-child__content"},[i])}const Iv=Hn({virtualRef:{type:qe(Object)},virtualTriggering:Boolean,onMouseenter:Function,onMouseleave:Function,onClick:Function,onKeydown:Function,onFocus:Function,onBlur:Function,onContextmenu:Function,id:String,open:Boolean}),b4={name:"ElPopperTrigger",inheritAttrs:!1},v4=ze(en(fe({},b4),{props:Iv,setup(i,{expose:t}){const e=i,{role:n,triggerRef:r}=Ve(Hf,void 0);Vk(r);const s=vt(()=>a.value?e.id:void 0),o=vt(()=>{if(n&&n.value==="tooltip")return e.open&&e.id?e.id:void 0}),a=vt(()=>{if(n&&n.value!=="tooltip")return n.value}),l=vt(()=>a.value?`${e.open}`:void 0);let c;return Fn(()=>{Qt(()=>e.virtualRef,u=>{u&&(r.value=js(u))},{immediate:!0}),Qt(()=>r.value,(u,h)=>{c==null||c(),c=void 0,hl(u)&&(["onMouseenter","onMouseleave","onClick","onKeydown","onFocus","onBlur","onContextmenu"].forEach(f=>{var p;const b=e[f];b&&(u.addEventListener(f.slice(2).toLowerCase(),b),(p=h==null?void 0:h.removeEventListener)==null||p.call(h,f.slice(2).toLowerCase(),b))}),c=Qt([s,o,a,l],f=>{["aria-controls","aria-describedby","aria-haspopup","aria-expanded"].forEach((p,b)=>{Lu(f[b])?u.removeAttribute(p):u.setAttribute(p,f[b])})},{immediate:!0})),hl(h)&&["aria-controls","aria-describedby","aria-haspopup","aria-expanded"].forEach(f=>h.removeAttribute(f))},{immediate:!0})}),ar(()=>{c==null||c(),c=void 0}),t({triggerRef:r}),(u,h)=>u.virtualTriggering?ye("v-if",!0):(Et(),Me(U(m4),Is({key:0},u.$attrs,{"aria-controls":U(s),"aria-describedby":U(o),"aria-expanded":U(l),"aria-haspopup":U(a)}),{default:we(()=>[Ze(u.$slots,"default")]),_:3},16,["aria-controls","aria-describedby","aria-expanded","aria-haspopup"]))}}));var y4=un(v4,[["__file","/home/runner/work/element-plus/element-plus/packages/components/popper/src/trigger.vue"]]),Kn="top",Oi="bottom",Ti="right",Jn="left",Uf="auto",zl=[Kn,Oi,Ti,Jn],Ho="start",dl="end",x4="clippingParents",zv="viewport",Ta="popper",C4="reference",G0=zl.reduce(function(i,t){return i.concat([t+"-"+Ho,t+"-"+dl])},[]),Wf=[].concat(zl,[Uf]).reduce(function(i,t){return i.concat([t,t+"-"+Ho,t+"-"+dl])},[]),w4="beforeRead",S4="read",E4="afterRead",A4="beforeMain",M4="main",O4="afterMain",T4="beforeWrite",P4="write",k4="afterWrite",_4=[w4,S4,E4,A4,M4,O4,T4,P4,k4];function er(i){return i?(i.nodeName||"").toLowerCase():null}function qi(i){if(i==null)return window;if(i.toString()!=="[object Window]"){var t=i.ownerDocument;return t&&t.defaultView||window}return i}function Go(i){var t=qi(i).Element;return i instanceof t||i instanceof Element}function Si(i){var t=qi(i).HTMLElement;return i instanceof t||i instanceof HTMLElement}function Xf(i){if(typeof ShadowRoot=="undefined")return!1;var t=qi(i).ShadowRoot;return i instanceof t||i instanceof ShadowRoot}function D4(i){var t=i.state;Object.keys(t.elements).forEach(function(e){var n=t.styles[e]||{},r=t.attributes[e]||{},s=t.elements[e];!Si(s)||!er(s)||(Object.assign(s.style,n),Object.keys(r).forEach(function(o){var a=r[o];a===!1?s.removeAttribute(o):s.setAttribute(o,a===!0?"":a)}))})}function N4(i){var t=i.state,e={popper:{position:t.options.strategy,left:"0",top:"0",margin:"0"},arrow:{position:"absolute"},reference:{}};return Object.assign(t.elements.popper.style,e.popper),t.styles=e,t.elements.arrow&&Object.assign(t.elements.arrow.style,e.arrow),function(){Object.keys(t.elements).forEach(function(n){var r=t.elements[n],s=t.attributes[n]||{},o=Object.keys(t.styles.hasOwnProperty(n)?t.styles[n]:e[n]),a=o.reduce(function(l,c){return l[c]="",l},{});!Si(r)||!er(r)||(Object.assign(r.style,a),Object.keys(s).forEach(function(l){r.removeAttribute(l)}))})}}var jv={name:"applyStyles",enabled:!0,phase:"write",fn:D4,effect:N4,requires:["computeStyles"]};function Zi(i){return i.split("-")[0]}var Bs=Math.max,Wc=Math.min,qo=Math.round;function Uo(i,t){t===void 0&&(t=!1);var e=i.getBoundingClientRect(),n=1,r=1;if(Si(i)&&t){var s=i.offsetHeight,o=i.offsetWidth;o>0&&(n=qo(e.width)/o||1),s>0&&(r=qo(e.height)/s||1)}return{width:e.width/n,height:e.height/r,top:e.top/r,right:e.right/n,bottom:e.bottom/r,left:e.left/n,x:e.left/n,y:e.top/r}}function Yf(i){var t=Uo(i),e=i.offsetWidth,n=i.offsetHeight;return Math.abs(t.width-e)<=1&&(e=t.width),Math.abs(t.height-n)<=1&&(n=t.height),{x:i.offsetLeft,y:i.offsetTop,width:e,height:n}}function Bv(i,t){var e=t.getRootNode&&t.getRootNode();if(i.contains(t))return!0;if(e&&Xf(e)){var n=t;do{if(n&&i.isSameNode(n))return!0;n=n.parentNode||n.host}while(n)}return!1}function wr(i){return qi(i).getComputedStyle(i)}function $4(i){return["table","td","th"].indexOf(er(i))>=0}function os(i){return((Go(i)?i.ownerDocument:i.document)||window.document).documentElement}function ju(i){return er(i)==="html"?i:i.assignedSlot||i.parentNode||(Xf(i)?i.host:null)||os(i)}function q0(i){return!Si(i)||wr(i).position==="fixed"?null:i.offsetParent}function F4(i){var t=navigator.userAgent.toLowerCase().indexOf("firefox")!==-1,e=navigator.userAgent.indexOf("Trident")!==-1;if(e&&Si(i)){var n=wr(i);if(n.position==="fixed")return null}var r=ju(i);for(Xf(r)&&(r=r.host);Si(r)&&["html","body"].indexOf(er(r))<0;){var s=wr(r);if(s.transform!=="none"||s.perspective!=="none"||s.contain==="paint"||["transform","perspective"].indexOf(s.willChange)!==-1||t&&s.willChange==="filter"||t&&s.filter&&s.filter!=="none")return r;r=r.parentNode}return null}function jl(i){for(var t=qi(i),e=q0(i);e&&$4(e)&&wr(e).position==="static";)e=q0(e);return e&&(er(e)==="html"||er(e)==="body"&&wr(e).position==="static")?t:e||F4(i)||t}function Kf(i){return["top","bottom"].indexOf(i)>=0?"x":"y"}function qa(i,t,e){return Bs(i,Wc(t,e))}function L4(i,t,e){var n=qa(i,t,e);return n>e?e:n}function Rv(){return{top:0,right:0,bottom:0,left:0}}function Vv(i){return Object.assign({},Rv(),i)}function Hv(i,t){return t.reduce(function(e,n){return e[n]=i,e},{})}var I4=function(i,t){return i=typeof i=="function"?i(Object.assign({},t.rects,{placement:t.placement})):i,Vv(typeof i!="number"?i:Hv(i,zl))};function z4(i){var t,e=i.state,n=i.name,r=i.options,s=e.elements.arrow,o=e.modifiersData.popperOffsets,a=Zi(e.placement),l=Kf(a),c=[Jn,Ti].indexOf(a)>=0,u=c?"height":"width";if(!(!s||!o)){var h=I4(r.padding,e),f=Yf(s),p=l==="y"?Kn:Jn,b=l==="y"?Oi:Ti,v=e.rects.reference[u]+e.rects.reference[l]-o[l]-e.rects.popper[u],C=o[l]-e.rects.reference[l],x=jl(s),S=x?l==="y"?x.clientHeight||0:x.clientWidth||0:0,E=v/2-C/2,O=h[p],k=S-f[u]-h[b],m=S/2-f[u]/2+E,T=qa(O,m,k),D=l;e.modifiersData[n]=(t={},t[D]=T,t.centerOffset=T-m,t)}}function j4(i){var t=i.state,e=i.options,n=e.element,r=n===void 0?"[data-popper-arrow]":n;r!=null&&(typeof r=="string"&&(r=t.elements.popper.querySelector(r),!r)||!Bv(t.elements.popper,r)||(t.elements.arrow=r))}var B4={name:"arrow",enabled:!0,phase:"main",fn:z4,effect:j4,requires:["popperOffsets"],requiresIfExists:["preventOverflow"]};function Wo(i){return i.split("-")[1]}var R4={top:"auto",right:"auto",bottom:"auto",left:"auto"};function V4(i){var t=i.x,e=i.y,n=window,r=n.devicePixelRatio||1;return{x:qo(t*r)/r||0,y:qo(e*r)/r||0}}function U0(i){var t,e=i.popper,n=i.popperRect,r=i.placement,s=i.variation,o=i.offsets,a=i.position,l=i.gpuAcceleration,c=i.adaptive,u=i.roundOffsets,h=i.isFixed,f=o.x,p=f===void 0?0:f,b=o.y,v=b===void 0?0:b,C=typeof u=="function"?u({x:p,y:v}):{x:p,y:v};p=C.x,v=C.y;var x=o.hasOwnProperty("x"),S=o.hasOwnProperty("y"),E=Jn,O=Kn,k=window;if(c){var m=jl(e),T="clientHeight",D="clientWidth";if(m===qi(e)&&(m=os(e),wr(m).position!=="static"&&a==="absolute"&&(T="scrollHeight",D="scrollWidth")),m=m,r===Kn||(r===Jn||r===Ti)&&s===dl){O=Oi;var z=h&&m===k&&k.visualViewport?k.visualViewport.height:m[T];v-=z-n.height,v*=l?1:-1}if(r===Jn||(r===Kn||r===Oi)&&s===dl){E=Ti;var H=h&&m===k&&k.visualViewport?k.visualViewport.width:m[D];p-=H-n.width,p*=l?1:-1}}var q=Object.assign({position:a},c&&R4),R=u===!0?V4({x:p,y:v}):{x:p,y:v};if(p=R.x,v=R.y,l){var rt;return Object.assign({},q,(rt={},rt[O]=S?"0":"",rt[E]=x?"0":"",rt.transform=(k.devicePixelRatio||1)<=1?"translate("+p+"px, "+v+"px)":"translate3d("+p+"px, "+v+"px, 0)",rt))}return Object.assign({},q,(t={},t[O]=S?v+"px":"",t[E]=x?p+"px":"",t.transform="",t))}function H4(i){var t=i.state,e=i.options,n=e.gpuAcceleration,r=n===void 0?!0:n,s=e.adaptive,o=s===void 0?!0:s,a=e.roundOffsets,l=a===void 0?!0:a,c={placement:Zi(t.placement),variation:Wo(t.placement),popper:t.elements.popper,popperRect:t.rects.popper,gpuAcceleration:r,isFixed:t.options.strategy==="fixed"};t.modifiersData.popperOffsets!=null&&(t.styles.popper=Object.assign({},t.styles.popper,U0(Object.assign({},c,{offsets:t.modifiersData.popperOffsets,position:t.options.strategy,adaptive:o,roundOffsets:l})))),t.modifiersData.arrow!=null&&(t.styles.arrow=Object.assign({},t.styles.arrow,U0(Object.assign({},c,{offsets:t.modifiersData.arrow,position:"absolute",adaptive:!1,roundOffsets:l})))),t.attributes.popper=Object.assign({},t.attributes.popper,{"data-popper-placement":t.placement})}var Gv={name:"computeStyles",enabled:!0,phase:"beforeWrite",fn:H4,data:{}},dc={passive:!0};function G4(i){var t=i.state,e=i.instance,n=i.options,r=n.scroll,s=r===void 0?!0:r,o=n.resize,a=o===void 0?!0:o,l=qi(t.elements.popper),c=[].concat(t.scrollParents.reference,t.scrollParents.popper);return s&&c.forEach(function(u){u.addEventListener("scroll",e.update,dc)}),a&&l.addEventListener("resize",e.update,dc),function(){s&&c.forEach(function(u){u.removeEventListener("scroll",e.update,dc)}),a&&l.removeEventListener("resize",e.update,dc)}}var qv={name:"eventListeners",enabled:!0,phase:"write",fn:function(){},effect:G4,data:{}},q4={left:"right",right:"left",bottom:"top",top:"bottom"};function Ac(i){return i.replace(/left|right|bottom|top/g,function(t){return q4[t]})}var U4={start:"end",end:"start"};function W0(i){return i.replace(/start|end/g,function(t){return U4[t]})}function Jf(i){var t=qi(i),e=t.pageXOffset,n=t.pageYOffset;return{scrollLeft:e,scrollTop:n}}function Zf(i){return Uo(os(i)).left+Jf(i).scrollLeft}function W4(i){var t=qi(i),e=os(i),n=t.visualViewport,r=e.clientWidth,s=e.clientHeight,o=0,a=0;return n&&(r=n.width,s=n.height,/^((?!chrome|android).)*safari/i.test(navigator.userAgent)||(o=n.offsetLeft,a=n.offsetTop)),{width:r,height:s,x:o+Zf(i),y:a}}function X4(i){var t,e=os(i),n=Jf(i),r=(t=i.ownerDocument)==null?void 0:t.body,s=Bs(e.scrollWidth,e.clientWidth,r?r.scrollWidth:0,r?r.clientWidth:0),o=Bs(e.scrollHeight,e.clientHeight,r?r.scrollHeight:0,r?r.clientHeight:0),a=-n.scrollLeft+Zf(i),l=-n.scrollTop;return wr(r||e).direction==="rtl"&&(a+=Bs(e.clientWidth,r?r.clientWidth:0)-s),{width:s,height:o,x:a,y:l}}function Qf(i){var t=wr(i),e=t.overflow,n=t.overflowX,r=t.overflowY;return/auto|scroll|overlay|hidden/.test(e+r+n)}function Uv(i){return["html","body","#document"].indexOf(er(i))>=0?i.ownerDocument.body:Si(i)&&Qf(i)?i:Uv(ju(i))}function Ua(i,t){var e;t===void 0&&(t=[]);var n=Uv(i),r=n===((e=i.ownerDocument)==null?void 0:e.body),s=qi(n),o=r?[s].concat(s.visualViewport||[],Qf(n)?n:[]):n,a=t.concat(o);return r?a:a.concat(Ua(ju(o)))}function Ad(i){return Object.assign({},i,{left:i.x,top:i.y,right:i.x+i.width,bottom:i.y+i.height})}function Y4(i){var t=Uo(i);return t.top=t.top+i.clientTop,t.left=t.left+i.clientLeft,t.bottom=t.top+i.clientHeight,t.right=t.left+i.clientWidth,t.width=i.clientWidth,t.height=i.clientHeight,t.x=t.left,t.y=t.top,t}function X0(i,t){return t===zv?Ad(W4(i)):Go(t)?Y4(t):Ad(X4(os(i)))}function K4(i){var t=Ua(ju(i)),e=["absolute","fixed"].indexOf(wr(i).position)>=0,n=e&&Si(i)?jl(i):i;return Go(n)?t.filter(function(r){return Go(r)&&Bv(r,n)&&er(r)!=="body"}):[]}function J4(i,t,e){var n=t==="clippingParents"?K4(i):[].concat(t),r=[].concat(n,[e]),s=r[0],o=r.reduce(function(a,l){var c=X0(i,l);return a.top=Bs(c.top,a.top),a.right=Wc(c.right,a.right),a.bottom=Wc(c.bottom,a.bottom),a.left=Bs(c.left,a.left),a},X0(i,s));return o.width=o.right-o.left,o.height=o.bottom-o.top,o.x=o.left,o.y=o.top,o}function Wv(i){var t=i.reference,e=i.element,n=i.placement,r=n?Zi(n):null,s=n?Wo(n):null,o=t.x+t.width/2-e.width/2,a=t.y+t.height/2-e.height/2,l;switch(r){case Kn:l={x:o,y:t.y-e.height};break;case Oi:l={x:o,y:t.y+t.height};break;case Ti:l={x:t.x+t.width,y:a};break;case Jn:l={x:t.x-e.width,y:a};break;default:l={x:t.x,y:t.y}}var c=r?Kf(r):null;if(c!=null){var u=c==="y"?"height":"width";switch(s){case Ho:l[c]=l[c]-(t[u]/2-e[u]/2);break;case dl:l[c]=l[c]+(t[u]/2-e[u]/2);break}}return l}function fl(i,t){t===void 0&&(t={});var e=t,n=e.placement,r=n===void 0?i.placement:n,s=e.boundary,o=s===void 0?x4:s,a=e.rootBoundary,l=a===void 0?zv:a,c=e.elementContext,u=c===void 0?Ta:c,h=e.altBoundary,f=h===void 0?!1:h,p=e.padding,b=p===void 0?0:p,v=Vv(typeof b!="number"?b:Hv(b,zl)),C=u===Ta?C4:Ta,x=i.rects.popper,S=i.elements[f?C:u],E=J4(Go(S)?S:S.contextElement||os(i.elements.popper),o,l),O=Uo(i.elements.reference),k=Wv({reference:O,element:x,strategy:"absolute",placement:r}),m=Ad(Object.assign({},x,k)),T=u===Ta?m:O,D={top:E.top-T.top+v.top,bottom:T.bottom-E.bottom+v.bottom,left:E.left-T.left+v.left,right:T.right-E.right+v.right},z=i.modifiersData.offset;if(u===Ta&&z){var H=z[r];Object.keys(D).forEach(function(q){var R=[Ti,Oi].indexOf(q)>=0?1:-1,rt=[Kn,Oi].indexOf(q)>=0?"y":"x";D[q]+=H[rt]*R})}return D}function Z4(i,t){t===void 0&&(t={});var e=t,n=e.placement,r=e.boundary,s=e.rootBoundary,o=e.padding,a=e.flipVariations,l=e.allowedAutoPlacements,c=l===void 0?Wf:l,u=Wo(n),h=u?a?G0:G0.filter(function(b){return Wo(b)===u}):zl,f=h.filter(function(b){return c.indexOf(b)>=0});f.length===0&&(f=h);var p=f.reduce(function(b,v){return b[v]=fl(i,{placement:v,boundary:r,rootBoundary:s,padding:o})[Zi(v)],b},{});return Object.keys(p).sort(function(b,v){return p[b]-p[v]})}function Q4(i){if(Zi(i)===Uf)return[];var t=Ac(i);return[W0(i),t,W0(t)]}function t_(i){var t=i.state,e=i.options,n=i.name;if(!t.modifiersData[n]._skip){for(var r=e.mainAxis,s=r===void 0?!0:r,o=e.altAxis,a=o===void 0?!0:o,l=e.fallbackPlacements,c=e.padding,u=e.boundary,h=e.rootBoundary,f=e.altBoundary,p=e.flipVariations,b=p===void 0?!0:p,v=e.allowedAutoPlacements,C=t.options.placement,x=Zi(C),S=x===C,E=l||(S||!b?[Ac(C)]:Q4(C)),O=[C].concat(E).reduce(function(_t,zt){return _t.concat(Zi(zt)===Uf?Z4(t,{placement:zt,boundary:u,rootBoundary:h,padding:c,flipVariations:b,allowedAutoPlacements:v}):zt)},[]),k=t.rects.reference,m=t.rects.popper,T=new Map,D=!0,z=O[0],H=0;H<O.length;H++){var q=O[H],R=Zi(q),rt=Wo(q)===Ho,st=[Kn,Oi].indexOf(R)>=0,j=st?"width":"height",B=fl(t,{placement:q,boundary:u,rootBoundary:h,altBoundary:f,padding:c}),tt=st?rt?Ti:Jn:rt?Oi:Kn;k[j]>m[j]&&(tt=Ac(tt));var bt=Ac(tt),Ot=[];if(s&&Ot.push(B[R]<=0),a&&Ot.push(B[tt]<=0,B[bt]<=0),Ot.every(function(_t){return _t})){z=q,D=!1;break}T.set(q,Ot)}if(D)for(var Gt=b?3:1,pt=function(_t){var zt=O.find(function(de){var at=T.get(de);if(at)return at.slice(0,_t).every(function(Tt){return Tt})});if(zt)return z=zt,"break"},$t=Gt;$t>0;$t--){var Dt=pt($t);if(Dt==="break")break}t.placement!==z&&(t.modifiersData[n]._skip=!0,t.placement=z,t.reset=!0)}}var e_={name:"flip",enabled:!0,phase:"main",fn:t_,requiresIfExists:["offset"],data:{_skip:!1}};function Y0(i,t,e){return e===void 0&&(e={x:0,y:0}),{top:i.top-t.height-e.y,right:i.right-t.width+e.x,bottom:i.bottom-t.height+e.y,left:i.left-t.width-e.x}}function K0(i){return[Kn,Ti,Oi,Jn].some(function(t){return i[t]>=0})}function n_(i){var t=i.state,e=i.name,n=t.rects.reference,r=t.rects.popper,s=t.modifiersData.preventOverflow,o=fl(t,{elementContext:"reference"}),a=fl(t,{altBoundary:!0}),l=Y0(o,n),c=Y0(a,r,s),u=K0(l),h=K0(c);t.modifiersData[e]={referenceClippingOffsets:l,popperEscapeOffsets:c,isReferenceHidden:u,hasPopperEscaped:h},t.attributes.popper=Object.assign({},t.attributes.popper,{"data-popper-reference-hidden":u,"data-popper-escaped":h})}var i_={name:"hide",enabled:!0,phase:"main",requiresIfExists:["preventOverflow"],fn:n_};function r_(i,t,e){var n=Zi(i),r=[Jn,Kn].indexOf(n)>=0?-1:1,s=typeof e=="function"?e(Object.assign({},t,{placement:i})):e,o=s[0],a=s[1];return o=o||0,a=(a||0)*r,[Jn,Ti].indexOf(n)>=0?{x:a,y:o}:{x:o,y:a}}function s_(i){var t=i.state,e=i.options,n=i.name,r=e.offset,s=r===void 0?[0,0]:r,o=Wf.reduce(function(u,h){return u[h]=r_(h,t.rects,s),u},{}),a=o[t.placement],l=a.x,c=a.y;t.modifiersData.popperOffsets!=null&&(t.modifiersData.popperOffsets.x+=l,t.modifiersData.popperOffsets.y+=c),t.modifiersData[n]=o}var o_={name:"offset",enabled:!0,phase:"main",requires:["popperOffsets"],fn:s_};function a_(i){var t=i.state,e=i.name;t.modifiersData[e]=Wv({reference:t.rects.reference,element:t.rects.popper,strategy:"absolute",placement:t.placement})}var Xv={name:"popperOffsets",enabled:!0,phase:"read",fn:a_,data:{}};function l_(i){return i==="x"?"y":"x"}function c_(i){var t=i.state,e=i.options,n=i.name,r=e.mainAxis,s=r===void 0?!0:r,o=e.altAxis,a=o===void 0?!1:o,l=e.boundary,c=e.rootBoundary,u=e.altBoundary,h=e.padding,f=e.tether,p=f===void 0?!0:f,b=e.tetherOffset,v=b===void 0?0:b,C=fl(t,{boundary:l,rootBoundary:c,padding:h,altBoundary:u}),x=Zi(t.placement),S=Wo(t.placement),E=!S,O=Kf(x),k=l_(O),m=t.modifiersData.popperOffsets,T=t.rects.reference,D=t.rects.popper,z=typeof v=="function"?v(Object.assign({},t.rects,{placement:t.placement})):v,H=typeof z=="number"?{mainAxis:z,altAxis:z}:Object.assign({mainAxis:0,altAxis:0},z),q=t.modifiersData.offset?t.modifiersData.offset[t.placement]:null,R={x:0,y:0};if(m){if(s){var rt,st=O==="y"?Kn:Jn,j=O==="y"?Oi:Ti,B=O==="y"?"height":"width",tt=m[O],bt=tt+C[st],Ot=tt-C[j],Gt=p?-D[B]/2:0,pt=S===Ho?T[B]:D[B],$t=S===Ho?-D[B]:-T[B],Dt=t.elements.arrow,_t=p&&Dt?Yf(Dt):{width:0,height:0},zt=t.modifiersData["arrow#persistent"]?t.modifiersData["arrow#persistent"].padding:Rv(),de=zt[st],at=zt[j],Tt=qa(0,T[B],_t[B]),Ut=E?T[B]/2-Gt-Tt-de-H.mainAxis:pt-Tt-de-H.mainAxis,te=E?-T[B]/2+Gt+Tt+at+H.mainAxis:$t+Tt+at+H.mainAxis,hn=t.elements.arrow&&jl(t.elements.arrow),bn=hn?O==="y"?hn.clientTop||0:hn.clientLeft||0:0,$=(rt=q==null?void 0:q[O])!=null?rt:0,G=tt+Ut-$-bn,Q=tt+te-$,K=qa(p?Wc(bt,G):bt,tt,p?Bs(Ot,Q):Ot);m[O]=K,R[O]=K-tt}if(a){var nt,gt=O==="x"?Kn:Jn,Ct=O==="x"?Oi:Ti,dt=m[k],mt=k==="y"?"height":"width",ut=dt+C[gt],Pt=dt-C[Ct],Y=[Kn,Jn].indexOf(x)!==-1,ft=(nt=q==null?void 0:q[k])!=null?nt:0,kt=Y?ut:dt-T[mt]-D[mt]-ft+H.altAxis,Wt=Y?dt+T[mt]+D[mt]-ft-H.altAxis:Pt,le=p&&Y?L4(kt,dt,Wt):qa(p?kt:ut,dt,p?Wt:Pt);m[k]=le,R[k]=le-dt}t.modifiersData[n]=R}}var u_={name:"preventOverflow",enabled:!0,phase:"main",fn:c_,requiresIfExists:["offset"]};function h_(i){return{scrollLeft:i.scrollLeft,scrollTop:i.scrollTop}}function d_(i){return i===qi(i)||!Si(i)?Jf(i):h_(i)}function f_(i){var t=i.getBoundingClientRect(),e=qo(t.width)/i.offsetWidth||1,n=qo(t.height)/i.offsetHeight||1;return e!==1||n!==1}function p_(i,t,e){e===void 0&&(e=!1);var n=Si(t),r=Si(t)&&f_(t),s=os(t),o=Uo(i,r),a={scrollLeft:0,scrollTop:0},l={x:0,y:0};return(n||!n&&!e)&&((er(t)!=="body"||Qf(s))&&(a=d_(t)),Si(t)?(l=Uo(t,!0),l.x+=t.clientLeft,l.y+=t.clientTop):s&&(l.x=Zf(s))),{x:o.left+a.scrollLeft-l.x,y:o.top+a.scrollTop-l.y,width:o.width,height:o.height}}function g_(i){var t=new Map,e=new Set,n=[];i.forEach(function(s){t.set(s.name,s)});function r(s){e.add(s.name);var o=[].concat(s.requires||[],s.requiresIfExists||[]);o.forEach(function(a){if(!e.has(a)){var l=t.get(a);l&&r(l)}}),n.push(s)}return i.forEach(function(s){e.has(s.name)||r(s)}),n}function m_(i){var t=g_(i);return _4.reduce(function(e,n){return e.concat(t.filter(function(r){return r.phase===n}))},[])}function b_(i){var t;return function(){return t||(t=new Promise(function(e){Promise.resolve().then(function(){t=void 0,e(i())})})),t}}function v_(i){var t=i.reduce(function(e,n){var r=e[n.name];return e[n.name]=r?Object.assign({},r,n,{options:Object.assign({},r.options,n.options),data:Object.assign({},r.data,n.data)}):n,e},{});return Object.keys(t).map(function(e){return t[e]})}var J0={placement:"bottom",modifiers:[],strategy:"absolute"};function Z0(){for(var i=arguments.length,t=new Array(i),e=0;e<i;e++)t[e]=arguments[e];return!t.some(function(n){return!(n&&typeof n.getBoundingClientRect=="function")})}function tp(i){i===void 0&&(i={});var t=i,e=t.defaultModifiers,n=e===void 0?[]:e,r=t.defaultOptions,s=r===void 0?J0:r;return function(o,a,l){l===void 0&&(l=s);var c={placement:"bottom",orderedModifiers:[],options:Object.assign({},J0,s),modifiersData:{},elements:{reference:o,popper:a},attributes:{},styles:{}},u=[],h=!1,f={state:c,setOptions:function(v){var C=typeof v=="function"?v(c.options):v;b(),c.options=Object.assign({},s,c.options,C),c.scrollParents={reference:Go(o)?Ua(o):o.contextElement?Ua(o.contextElement):[],popper:Ua(a)};var x=m_(v_([].concat(n,c.options.modifiers)));return c.orderedModifiers=x.filter(function(S){return S.enabled}),p(),f.update()},forceUpdate:function(){if(!h){var v=c.elements,C=v.reference,x=v.popper;if(Z0(C,x)){c.rects={reference:p_(C,jl(x),c.options.strategy==="fixed"),popper:Yf(x)},c.reset=!1,c.placement=c.options.placement,c.orderedModifiers.forEach(function(D){return c.modifiersData[D.name]=Object.assign({},D.data)});for(var S=0;S<c.orderedModifiers.length;S++){if(c.reset===!0){c.reset=!1,S=-1;continue}var E=c.orderedModifiers[S],O=E.fn,k=E.options,m=k===void 0?{}:k,T=E.name;typeof O=="function"&&(c=O({state:c,options:m,name:T,instance:f})||c)}}}},update:b_(function(){return new Promise(function(v){f.forceUpdate(),v(c)})}),destroy:function(){b(),h=!0}};if(!Z0(o,a))return f;f.setOptions(l).then(function(v){!h&&l.onFirstUpdate&&l.onFirstUpdate(v)});function p(){c.orderedModifiers.forEach(function(v){var C=v.name,x=v.options,S=x===void 0?{}:x,E=v.effect;if(typeof E=="function"){var O=E({state:c,name:C,instance:f,options:S}),k=function(){};u.push(O||k)}})}function b(){u.forEach(function(v){return v()}),u=[]}return f}}tp();var y_=[qv,Xv,Gv,jv];tp({defaultModifiers:y_});var x_=[qv,Xv,Gv,jv,o_,e_,u_,B4,i_],C_=tp({defaultModifiers:x_});const Yv=i=>{const t=[],e=document.createTreeWalker(i,NodeFilter.SHOW_ELEMENT,{acceptNode:n=>{const r=n.tagName==="INPUT"&&n.type==="hidden";return n.disabled||n.hidden||r?NodeFilter.FILTER_SKIP:n.tabIndex>=0||n===document.activeElement?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;e.nextNode();)t.push(e.currentNode);return t},Q0=(i,t)=>{for(const e of i)if(!w_(e,t))return e},w_=(i,t)=>{if(getComputedStyle(i).visibility==="hidden")return!0;for(;i;){if(t&&i===t)return!1;if(getComputedStyle(i).display==="none")return!0;i=i.parentElement}return!1},S_=i=>{const t=Yv(i),e=Q0(t,i),n=Q0(t.reverse(),i);return[e,n]},E_=i=>i instanceof HTMLInputElement&&"select"in i,jr=(i,t)=>{if(i&&i.focus){const e=document.activeElement;i.focus({preventScroll:!0}),i!==e&&E_(i)&&t&&i.select()}};function t2(i,t){const e=[...i],n=i.indexOf(t);return n!==-1&&e.splice(n,1),e}const A_=()=>{let i=[];return{push:n=>{const r=i[0];r&&n!==r&&r.pause(),i=t2(i,n),i.unshift(n)},remove:n=>{var r,s;i=t2(i,n),(s=(r=i[0])==null?void 0:r.resume)==null||s.call(r)}}},M_=(i,t=!1)=>{const e=document.activeElement;for(const n of i)if(jr(n,t),document.activeElement!==e)return},e2=A_(),Nh="focus-trap.focus-after-trapped",$h="focus-trap.focus-after-released",n2={cancelable:!0,bubbles:!1},i2="focusAfterTrapped",r2="focusAfterReleased",O_=Symbol("elFocusTrap"),T_=ze({name:"ElFocusTrap",inheritAttrs:!1,props:{loop:Boolean,trapped:Boolean,focusTrapEl:Object,focusStartEl:{type:[Object,String],default:"first"}},emits:[i2,r2,"focusin","focusout","focusout-prevented","release-requested"],setup(i,{emit:t}){const e=Mt();let n,r;Ik(p=>{i.trapped&&!s.paused&&t("release-requested",p)});const s={paused:!1,pause(){this.paused=!0},resume(){this.paused=!1}},o=p=>{if(!i.loop&&!i.trapped||s.paused)return;const{key:b,altKey:v,ctrlKey:C,metaKey:x,currentTarget:S,shiftKey:E}=p,{loop:O}=i,k=b===Uc.tab&&!v&&!C&&!x,m=document.activeElement;if(k&&m){const T=S,[D,z]=S_(T);D&&z?!E&&m===z?(p.preventDefault(),O&&jr(D,!0),t("focusout-prevented")):E&&[D,T].includes(m)&&(p.preventDefault(),O&&jr(z,!0),t("focusout-prevented")):m===T&&(p.preventDefault(),t("focusout-prevented"))}};Bi(O_,{focusTrapRef:e,onKeydown:o}),Qt(()=>i.focusTrapEl,p=>{p&&(e.value=p)},{immediate:!0}),Qt([e],([p],[b])=>{p&&(p.addEventListener("keydown",o),p.addEventListener("focusin",c),p.addEventListener("focusout",u)),b&&(b.removeEventListener("keydown",o),b.removeEventListener("focusin",c),b.removeEventListener("focusout",u))});const a=p=>{t(i2,p)},l=p=>t(r2,p),c=p=>{const b=U(e);if(!b)return;const v=p.target,C=v&&b.contains(v);C&&t("focusin",p),!s.paused&&i.trapped&&(C?r=v:jr(r,!0))},u=p=>{const b=U(e);if(!(s.paused||!b))if(i.trapped){const v=p.relatedTarget;!Lu(v)&&!b.contains(v)&&setTimeout(()=>{!s.paused&&i.trapped&&jr(r,!0)},0)}else{const v=p.target;v&&b.contains(v)||t("focusout",p)}};async function h(){await Yn();const p=U(e);if(p){e2.push(s);const b=document.activeElement;if(n=b,!p.contains(b)){const C=new Event(Nh,n2);p.addEventListener(Nh,a),p.dispatchEvent(C),C.defaultPrevented||Yn(()=>{let x=i.focusStartEl;Oe(x)||(jr(x),document.activeElement!==x&&(x="first")),x==="first"&&M_(Yv(p),!0),(document.activeElement===b||x==="container")&&jr(p)})}}}function f(){const p=U(e);if(p){p.removeEventListener(Nh,a);const b=new Event($h,n2);p.addEventListener($h,l),p.dispatchEvent(b),b.defaultPrevented||jr(n!=null?n:document.body,!0),p.removeEventListener($h,a),e2.remove(s)}}return Fn(()=>{i.trapped&&h(),Qt(()=>i.trapped,p=>{p?h():f()})}),ar(()=>{i.trapped&&f()}),{onKeydown:o}}});function P_(i,t,e,n,r,s){return Ze(i.$slots,"default",{handleKeydown:i.onKeydown})}var k_=un(T_,[["render",P_],["__file","/home/runner/work/element-plus/element-plus/packages/components/focus-trap/src/focus-trap.vue"]]);const __=["fixed","absolute"],D_=Hn({boundariesPadding:{type:Number,default:0},fallbackPlacements:{type:qe(Array),default:()=>[]},gpuAcceleration:{type:Boolean,default:!0},offset:{type:Number,default:12},placement:{type:String,values:Wf,default:"bottom"},popperOptions:{type:qe(Object),default:()=>({})},strategy:{type:String,values:__,default:"absolute"}}),Kv=Hn(en(fe({},D_),{id:String,style:{type:qe([String,Array,Object])},className:{type:qe([String,Array,Object])},effect:{type:String,default:"dark"},visible:Boolean,enterable:{type:Boolean,default:!0},pure:Boolean,focusOnShow:{type:Boolean,default:!1},trapping:{type:Boolean,default:!1},popperClass:{type:qe([String,Array,Object])},popperStyle:{type:qe([String,Array,Object])},referenceEl:{type:qe(Object)},triggerTargetEl:{type:qe(Object)},stopPopperMouseEvent:{type:Boolean,default:!0},ariaLabel:{type:String,default:void 0},virtualTriggering:Boolean,zIndex:Number})),N_=["mouseenter","mouseleave","focus","blur","close"],s2=(i,t)=>{const{placement:e,strategy:n,popperOptions:r}=i,s=en(fe({placement:e,strategy:n},r),{modifiers:F_(i)});return L_(s,t),I_(s,r==null?void 0:r.modifiers),s},$_=i=>{if(!!Bn)return js(i)};function F_(i){const{offset:t,gpuAcceleration:e,fallbackPlacements:n}=i;return[{name:"offset",options:{offset:[0,t!=null?t:12]}},{name:"preventOverflow",options:{padding:{top:2,bottom:2,left:5,right:5}}},{name:"flip",options:{padding:5,fallbackPlacements:n!=null?n:[]}},{name:"computeStyles",options:{gpuAcceleration:e,adaptive:e}}]}function L_(i,{arrowEl:t,arrowOffset:e}){i.modifiers.push({name:"arrow",options:{element:t,padding:e!=null?e:5}})}function I_(i,t){t&&(i.modifiers=[...i.modifiers,...t!=null?t:[]])}const z_={name:"ElPopperContent"},j_=ze(en(fe({},z_),{props:Kv,emits:N_,setup(i,{expose:t,emit:e}){const n=i,{popperInstanceRef:r,contentRef:s,triggerRef:o,role:a}=Ve(Hf,void 0),l=Ve(Zr,void 0),{nextZIndex:c}=Uk(),u=Rn("popper"),h=Mt(),f=Mt("first"),p=Mt(),b=Mt();Bi(Av,{arrowRef:p,arrowOffset:b}),l&&(l.addInputId||l.removeInputId)&&Bi(Zr,en(fe({},l),{addInputId:jn,removeInputId:jn}));const v=Mt(n.zIndex||c()),C=Mt(!1);let x;const S=vt(()=>$_(n.referenceEl)||U(o)),E=vt(()=>[{zIndex:U(v)},n.popperStyle]),O=vt(()=>[u.b(),u.is("pure",n.pure),u.is(n.effect),n.popperClass]),k=vt(()=>a&&a.value==="dialog"?"false":void 0),m=({referenceEl:st,popperContentEl:j,arrowEl:B})=>{const tt=s2(n,{arrowEl:B,arrowOffset:U(b)});return C_(st,j,tt)},T=(st=!0)=>{var j;(j=U(r))==null||j.update(),st&&(v.value=n.zIndex||c())},D=()=>{var st,j;const B={name:"eventListeners",enabled:n.visible};(j=(st=U(r))==null?void 0:st.setOptions)==null||j.call(st,tt=>en(fe({},tt),{modifiers:[...tt.modifiers||[],B]})),T(!1),n.visible&&n.focusOnShow?C.value=!0:n.visible===!1&&(C.value=!1)},z=()=>{e("focus")},H=()=>{f.value="first",e("blur")},q=st=>{var j;n.visible&&!C.value&&(st.relatedTarget&&((j=st.relatedTarget)==null||j.focus()),st.target&&(f.value=st.target),C.value=!0)},R=()=>{n.trapping||(C.value=!1)},rt=()=>{C.value=!1,e("close")};return Fn(()=>{let st;Qt(S,j=>{var B;st==null||st();const tt=U(r);if((B=tt==null?void 0:tt.destroy)==null||B.call(tt),j){const bt=U(h);s.value=bt,r.value=m({referenceEl:j,popperContentEl:bt,arrowEl:U(p)}),st=Qt(()=>j.getBoundingClientRect(),()=>T(),{immediate:!0})}else r.value=void 0},{immediate:!0}),Qt(()=>n.triggerTargetEl,(j,B)=>{x==null||x(),x=void 0;const tt=U(j||h.value),bt=U(B||h.value);if(hl(tt)){const{ariaLabel:Ot,id:Gt}=hf(n);x=Qt([a,Ot,k,Gt],pt=>{["role","aria-label","aria-modal","id"].forEach(($t,Dt)=>{Lu(pt[Dt])?tt.removeAttribute($t):tt.setAttribute($t,pt[Dt])})},{immediate:!0})}hl(bt)&&["role","aria-label","aria-modal","id"].forEach(Ot=>{bt.removeAttribute(Ot)})},{immediate:!0}),Qt(()=>n.visible,D,{immediate:!0}),Qt(()=>s2(n,{arrowEl:U(p),arrowOffset:U(b)}),j=>{var B;return(B=r.value)==null?void 0:B.setOptions(j)})}),ar(()=>{x==null||x(),x=void 0}),t({popperContentRef:h,popperInstanceRef:r,updatePopper:T,contentStyle:E}),(st,j)=>(Et(),Zt("div",{ref_key:"popperContentRef",ref:h,style:Mn(U(E)),class:qt(U(O)),tabindex:"-1",onMouseenter:j[0]||(j[0]=B=>st.$emit("mouseenter",B)),onMouseleave:j[1]||(j[1]=B=>st.$emit("mouseleave",B))},[Jt(U(k_),{trapped:C.value,"trap-on-focus-in":!0,"focus-trap-el":h.value,"focus-start-el":f.value,onFocusAfterTrapped:z,onFocusAfterReleased:H,onFocusin:q,onFocusoutPrevented:R,onReleaseRequested:rt},{default:we(()=>[Ze(st.$slots,"default")]),_:3},8,["trapped","focus-trap-el","focus-start-el"])],38))}}));var B_=un(j_,[["__file","/home/runner/work/element-plus/element-plus/packages/components/popper/src/content.vue"]]);const R_=lo(h4),V_=Rn("tooltip"),Jv=Hn(en(fe(fe({},Bk),Kv),{appendTo:{type:qe([String,Object]),default:_v},content:{type:String,default:""},rawContent:{type:Boolean,default:!1},persistent:Boolean,ariaLabel:String,visible:{type:qe(Boolean),default:null},transition:{type:String,default:`${V_.namespace.value}-fade-in-linear`},teleported:{type:Boolean,default:!0},disabled:{type:Boolean}})),Zv=Hn(en(fe({},Iv),{disabled:Boolean,trigger:{type:qe([String,Array]),default:"hover"},triggerKeys:{type:qe(Array),default:()=>[Uc.enter,Uc.space]}})),H_=Hn({openDelay:{type:Number},visibleArrow:{type:Boolean,default:void 0},hideAfter:{type:Number,default:200},showArrow:{type:Boolean,default:!0}}),ep=Symbol("elTooltip"),G_=ze({name:"ElTooltipContent",components:{ElPopperContent:B_},inheritAttrs:!1,props:Jv,setup(i){const t=Mt(null),e=Mt(!1),n=Mt(!1),r=Mt(!1),s=Mt(!1),{controlled:o,id:a,open:l,trigger:c,onClose:u,onOpen:h,onShow:f,onHide:p,onBeforeShow:b,onBeforeHide:v}=Ve(ep,void 0),C=vt(()=>i.persistent);ar(()=>{s.value=!0});const x=vt(()=>U(C)?!0:U(l)),S=vt(()=>i.disabled?!1:U(l)),E=vt(()=>{var st;return(st=i.style)!=null?st:{}}),O=vt(()=>!U(l)),k=()=>{p()},m=()=>{if(U(o))return!0},T=fr(m,()=>{i.enterable&&U(c)==="hover"&&h()}),D=fr(m,()=>{U(c)==="hover"&&u()}),z=()=>{var st,j;(j=(st=t.value)==null?void 0:st.updatePopper)==null||j.call(st),b==null||b()},H=()=>{v==null||v()},q=()=>{f(),rt=V3(vt(()=>{var st;return(st=t.value)==null?void 0:st.popperContentRef}),()=>{if(U(o))return;U(c)!=="hover"&&u()})},R=()=>{i.virtualTriggering||u()};let rt;return Qt(()=>U(l),st=>{st||rt==null||rt()},{flush:"post"}),{ariaHidden:O,entering:n,leaving:r,id:a,intermediateOpen:e,contentStyle:E,contentRef:t,destroyed:s,shouldRender:x,shouldShow:S,onClose:u,open:l,onAfterShow:q,onBeforeEnter:z,onBeforeLeave:H,onContentEnter:T,onContentLeave:D,onTransitionLeave:k,onBlur:R}}});function q_(i,t,e,n,r,s){const o=Dn("el-popper-content");return Et(),Me(Dw,{disabled:!i.teleported,to:i.appendTo},[Jt(Au,{name:i.transition,onAfterLeave:i.onTransitionLeave,onBeforeEnter:i.onBeforeEnter,onAfterEnter:i.onAfterShow,onBeforeLeave:i.onBeforeLeave},{default:we(()=>[i.shouldRender?rl((Et(),Me(o,Is({key:0,id:i.id,ref:"contentRef"},i.$attrs,{"aria-label":i.ariaLabel,"aria-hidden":i.ariaHidden,"boundaries-padding":i.boundariesPadding,"fallback-placements":i.fallbackPlacements,"gpu-acceleration":i.gpuAcceleration,offset:i.offset,placement:i.placement,"popper-options":i.popperOptions,strategy:i.strategy,effect:i.effect,enterable:i.enterable,pure:i.pure,"popper-class":i.popperClass,"popper-style":[i.popperStyle,i.contentStyle],"reference-el":i.referenceEl,"trigger-target-el":i.triggerTargetEl,visible:i.shouldShow,"z-index":i.zIndex,onMouseenter:i.onContentEnter,onMouseleave:i.onContentLeave,onBlur:i.onBlur,onClose:i.onClose}),{default:we(()=>[ye(" Workaround bug #6378 "),i.destroyed?ye("v-if",!0):Ze(i.$slots,"default",{key:0})]),_:3},16,["id","aria-label","aria-hidden","boundaries-padding","fallback-placements","gpu-acceleration","offset","placement","popper-options","strategy","effect","enterable","pure","popper-class","popper-style","reference-el","trigger-target-el","visible","z-index","onMouseenter","onMouseleave","onBlur","onClose"])),[[wf,i.shouldShow]]):ye("v-if",!0)]),_:3},8,["name","onAfterLeave","onBeforeEnter","onAfterEnter","onBeforeLeave"])],8,["disabled","to"])}var U_=un(G_,[["render",q_],["__file","/home/runner/work/element-plus/element-plus/packages/components/tooltip/src/content.vue"]]);const W_=(i,t)=>Ht(i)?i.includes(t):i===t,yo=(i,t,e)=>n=>{W_(U(i),t)&&e(n)},X_=ze({name:"ElTooltipTrigger",components:{ElPopperTrigger:y4},props:Zv,setup(i){const t=Rn("tooltip"),{controlled:e,id:n,open:r,onOpen:s,onClose:o,onToggle:a}=Ve(ep,void 0),l=Mt(null),c=()=>{if(U(e)||i.disabled)return!0},u=Jr(i,"trigger"),h=fr(c,yo(u,"hover",s)),f=fr(c,yo(u,"hover",o)),p=fr(c,yo(u,"click",S=>{S.button===0&&a(S)})),b=fr(c,yo(u,"focus",s)),v=fr(c,yo(u,"focus",o)),C=fr(c,yo(u,"contextmenu",S=>{S.preventDefault(),a(S)})),x=fr(c,S=>{const{code:E}=S;i.triggerKeys.includes(E)&&(S.preventDefault(),a(S))});return{onBlur:v,onContextMenu:C,onFocus:b,onMouseenter:h,onMouseleave:f,onClick:p,onKeydown:x,open:r,id:n,triggerRef:l,ns:t}}});function Y_(i,t,e,n,r,s){const o=Dn("el-popper-trigger");return Et(),Me(o,{id:i.id,"virtual-ref":i.virtualRef,open:i.open,"virtual-triggering":i.virtualTriggering,class:qt(i.ns.e("trigger")),onBlur:i.onBlur,onClick:i.onClick,onContextmenu:i.onContextMenu,onFocus:i.onFocus,onMouseenter:i.onMouseenter,onMouseleave:i.onMouseleave,onKeydown:i.onKeydown},{default:we(()=>[Ze(i.$slots,"default")]),_:3},8,["id","virtual-ref","open","virtual-triggering","class","onBlur","onClick","onContextmenu","onFocus","onMouseenter","onMouseleave","onKeydown"])}var K_=un(X_,[["render",Y_],["__file","/home/runner/work/element-plus/element-plus/packages/components/tooltip/src/trigger.vue"]]);const{useModelToggleProps:J_,useModelToggle:Z_,useModelToggleEmits:Q_}=Fk("visible"),tD=ze({name:"ElTooltip",components:{ElPopper:R_,ElPopperArrow:p4,ElTooltipContent:U_,ElTooltipTrigger:K_},props:fe(fe(fe(fe(fe(fe({},$v),J_),Jv),Zv),Fv),H_),emits:[...Q_,"before-show","before-hide","show","hide","open","close"],setup(i,{emit:t}){jk();const e=vt(()=>(Sd(i.openDelay),i.openDelay||i.showAfter)),n=vt(()=>(Sd(i.visibleArrow),al(i.visibleArrow)?i.visibleArrow:i.showArrow)),r=qf(),s=Mt(null),o=Mt(null),a=()=>{var C;const x=U(s);x&&((C=x.popperInstanceRef)==null||C.update())},l=Mt(!1),c=Mt(void 0),{show:u,hide:h}=Z_({indicator:l,toggleReason:c}),{onOpen:f,onClose:p}=Rk({showAfter:e,hideAfter:Jr(i,"hideAfter"),open:u,close:h}),b=vt(()=>al(i.visible));return Bi(ep,{controlled:b,id:r,open:lf(l),trigger:Jr(i,"trigger"),onOpen:C=>{f(C)},onClose:C=>{p(C)},onToggle:C=>{U(l)?p(C):f(C)},onShow:()=>{t("show",c.value)},onHide:()=>{t("hide",c.value)},onBeforeShow:()=>{t("before-show",c.value)},onBeforeHide:()=>{t("before-hide",c.value)},updatePopper:a}),Qt(()=>i.disabled,C=>{C&&l.value&&(l.value=!1)}),{compatShowAfter:e,compatShowArrow:n,popperRef:s,contentRef:o,open:l,hide:h,isFocusInsideContent:()=>{var C,x;const S=(x=(C=o.value)==null?void 0:C.contentRef)==null?void 0:x.popperContentRef;return S&&S.contains(document.activeElement)},updatePopper:a,onOpen:f,onClose:p}}}),eD=["innerHTML"],nD={key:1};function iD(i,t,e,n,r,s){const o=Dn("el-tooltip-trigger"),a=Dn("el-popper-arrow"),l=Dn("el-tooltip-content"),c=Dn("el-popper");return Et(),Me(c,{ref:"popperRef",role:i.role},{default:we(()=>[Jt(o,{disabled:i.disabled,trigger:i.trigger,"trigger-keys":i.triggerKeys,"virtual-ref":i.virtualRef,"virtual-triggering":i.virtualTriggering},{default:we(()=>[i.$slots.default?Ze(i.$slots,"default",{key:0}):ye("v-if",!0)]),_:3},8,["disabled","trigger","trigger-keys","virtual-ref","virtual-triggering"]),Jt(l,{ref:"contentRef","aria-label":i.ariaLabel,"boundaries-padding":i.boundariesPadding,content:i.content,disabled:i.disabled,effect:i.effect,enterable:i.enterable,"fallback-placements":i.fallbackPlacements,"hide-after":i.hideAfter,"gpu-acceleration":i.gpuAcceleration,offset:i.offset,persistent:i.persistent,"popper-class":i.popperClass,"popper-style":i.popperStyle,placement:i.placement,"popper-options":i.popperOptions,pure:i.pure,"raw-content":i.rawContent,"reference-el":i.referenceEl,"trigger-target-el":i.triggerTargetEl,"show-after":i.compatShowAfter,strategy:i.strategy,teleported:i.teleported,transition:i.transition,"virtual-triggering":i.virtualTriggering,"z-index":i.zIndex,"append-to":i.appendTo},{default:we(()=>[Ze(i.$slots,"content",{},()=>[i.rawContent?(Et(),Zt("span",{key:0,innerHTML:i.content},null,8,eD)):(Et(),Zt("span",nD,Ki(i.content),1))]),i.compatShowArrow?(Et(),Me(a,{key:0,"arrow-offset":i.arrowOffset},null,8,["arrow-offset"])):ye("v-if",!0)]),_:3},8,["aria-label","boundaries-padding","content","disabled","effect","enterable","fallback-placements","hide-after","gpu-acceleration","offset","persistent","popper-class","popper-style","placement","popper-options","pure","raw-content","reference-el","trigger-target-el","show-after","strategy","teleported","transition","virtual-triggering","z-index","append-to"])]),_:3},8,["role"])}var rD=un(tD,[["render",iD],["__file","/home/runner/work/element-plus/element-plus/packages/components/tooltip/src/tooltip.vue"]]);const sD=lo(rD),oD=["default","primary","success","warning","info","danger","text",""],aD=["button","submit","reset"],Md=Hn({size:Ov,disabled:Boolean,type:{type:String,values:oD,default:""},icon:{type:qc,default:""},nativeType:{type:String,values:aD,default:"button"},loading:Boolean,loadingIcon:{type:qc,default:()=>Cv},plain:Boolean,text:Boolean,link:Boolean,bg:Boolean,autofocus:Boolean,round:Boolean,circle:Boolean,color:String,dark:Boolean,autoInsertSpace:{type:Boolean,default:void 0}}),lD={click:i=>i instanceof MouseEvent};function En(i,t){cD(i)&&(i="100%");var e=uD(i);return i=t===360?i:Math.min(t,Math.max(0,parseFloat(i))),e&&(i=parseInt(String(i*t),10)/100),Math.abs(i-t)<1e-6?1:(t===360?i=(i<0?i%t+t:i%t)/parseFloat(String(t)):i=i%t/parseFloat(String(t)),i)}function fc(i){return Math.min(1,Math.max(0,i))}function cD(i){return typeof i=="string"&&i.indexOf(".")!==-1&&parseFloat(i)===1}function uD(i){return typeof i=="string"&&i.indexOf("%")!==-1}function Qv(i){return i=parseFloat(i),(isNaN(i)||i<0||i>1)&&(i=1),i}function pc(i){return i<=1?"".concat(Number(i)*100,"%"):i}function Ds(i){return i.length===1?"0"+i:String(i)}function hD(i,t,e){return{r:En(i,255)*255,g:En(t,255)*255,b:En(e,255)*255}}function o2(i,t,e){i=En(i,255),t=En(t,255),e=En(e,255);var n=Math.max(i,t,e),r=Math.min(i,t,e),s=0,o=0,a=(n+r)/2;if(n===r)o=0,s=0;else{var l=n-r;switch(o=a>.5?l/(2-n-r):l/(n+r),n){case i:s=(t-e)/l+(t<e?6:0);break;case t:s=(e-i)/l+2;break;case e:s=(i-t)/l+4;break}s/=6}return{h:s,s:o,l:a}}function Fh(i,t,e){return e<0&&(e+=1),e>1&&(e-=1),e<1/6?i+(t-i)*(6*e):e<1/2?t:e<2/3?i+(t-i)*(2/3-e)*6:i}function dD(i,t,e){var n,r,s;if(i=En(i,360),t=En(t,100),e=En(e,100),t===0)r=e,s=e,n=e;else{var o=e<.5?e*(1+t):e+t-e*t,a=2*e-o;n=Fh(a,o,i+1/3),r=Fh(a,o,i),s=Fh(a,o,i-1/3)}return{r:n*255,g:r*255,b:s*255}}function a2(i,t,e){i=En(i,255),t=En(t,255),e=En(e,255);var n=Math.max(i,t,e),r=Math.min(i,t,e),s=0,o=n,a=n-r,l=n===0?0:a/n;if(n===r)s=0;else{switch(n){case i:s=(t-e)/a+(t<e?6:0);break;case t:s=(e-i)/a+2;break;case e:s=(i-t)/a+4;break}s/=6}return{h:s,s:l,v:o}}function fD(i,t,e){i=En(i,360)*6,t=En(t,100),e=En(e,100);var n=Math.floor(i),r=i-n,s=e*(1-t),o=e*(1-r*t),a=e*(1-(1-r)*t),l=n%6,c=[e,o,s,s,a,e][l],u=[a,e,e,o,s,s][l],h=[s,s,a,e,e,o][l];return{r:c*255,g:u*255,b:h*255}}function l2(i,t,e,n){var r=[Ds(Math.round(i).toString(16)),Ds(Math.round(t).toString(16)),Ds(Math.round(e).toString(16))];return n&&r[0].startsWith(r[0].charAt(1))&&r[1].startsWith(r[1].charAt(1))&&r[2].startsWith(r[2].charAt(1))?r[0].charAt(0)+r[1].charAt(0)+r[2].charAt(0):r.join("")}function pD(i,t,e,n,r){var s=[Ds(Math.round(i).toString(16)),Ds(Math.round(t).toString(16)),Ds(Math.round(e).toString(16)),Ds(gD(n))];return r&&s[0].startsWith(s[0].charAt(1))&&s[1].startsWith(s[1].charAt(1))&&s[2].startsWith(s[2].charAt(1))&&s[3].startsWith(s[3].charAt(1))?s[0].charAt(0)+s[1].charAt(0)+s[2].charAt(0)+s[3].charAt(0):s.join("")}function gD(i){return Math.round(parseFloat(i)*255).toString(16)}function c2(i){return oi(i)/255}function oi(i){return parseInt(i,16)}function mD(i){return{r:i>>16,g:(i&65280)>>8,b:i&255}}var Od={aliceblue:"#f0f8ff",antiquewhite:"#faebd7",aqua:"#00ffff",aquamarine:"#7fffd4",azure:"#f0ffff",beige:"#f5f5dc",bisque:"#ffe4c4",black:"#000000",blanchedalmond:"#ffebcd",blue:"#0000ff",blueviolet:"#8a2be2",brown:"#a52a2a",burlywood:"#deb887",cadetblue:"#5f9ea0",chartreuse:"#7fff00",chocolate:"#d2691e",coral:"#ff7f50",cornflowerblue:"#6495ed",cornsilk:"#fff8dc",crimson:"#dc143c",cyan:"#00ffff",darkblue:"#00008b",darkcyan:"#008b8b",darkgoldenrod:"#b8860b",darkgray:"#a9a9a9",darkgreen:"#006400",darkgrey:"#a9a9a9",darkkhaki:"#bdb76b",darkmagenta:"#8b008b",darkolivegreen:"#556b2f",darkorange:"#ff8c00",darkorchid:"#9932cc",darkred:"#8b0000",darksalmon:"#e9967a",darkseagreen:"#8fbc8f",darkslateblue:"#483d8b",darkslategray:"#2f4f4f",darkslategrey:"#2f4f4f",darkturquoise:"#00ced1",darkviolet:"#9400d3",deeppink:"#ff1493",deepskyblue:"#00bfff",dimgray:"#696969",dimgrey:"#696969",dodgerblue:"#1e90ff",firebrick:"#b22222",floralwhite:"#fffaf0",forestgreen:"#228b22",fuchsia:"#ff00ff",gainsboro:"#dcdcdc",ghostwhite:"#f8f8ff",goldenrod:"#daa520",gold:"#ffd700",gray:"#808080",green:"#008000",greenyellow:"#adff2f",grey:"#808080",honeydew:"#f0fff0",hotpink:"#ff69b4",indianred:"#cd5c5c",indigo:"#4b0082",ivory:"#fffff0",khaki:"#f0e68c",lavenderblush:"#fff0f5",lavender:"#e6e6fa",lawngreen:"#7cfc00",lemonchiffon:"#fffacd",lightblue:"#add8e6",lightcoral:"#f08080",lightcyan:"#e0ffff",lightgoldenrodyellow:"#fafad2",lightgray:"#d3d3d3",lightgreen:"#90ee90",lightgrey:"#d3d3d3",lightpink:"#ffb6c1",lightsalmon:"#ffa07a",lightseagreen:"#20b2aa",lightskyblue:"#87cefa",lightslategray:"#778899",lightslategrey:"#778899",lightsteelblue:"#b0c4de",lightyellow:"#ffffe0",lime:"#00ff00",limegreen:"#32cd32",linen:"#faf0e6",magenta:"#ff00ff",maroon:"#800000",mediumaquamarine:"#66cdaa",mediumblue:"#0000cd",mediumorchid:"#ba55d3",mediumpurple:"#9370db",mediumseagreen:"#3cb371",mediumslateblue:"#7b68ee",mediumspringgreen:"#00fa9a",mediumturquoise:"#48d1cc",mediumvioletred:"#c71585",midnightblue:"#191970",mintcream:"#f5fffa",mistyrose:"#ffe4e1",moccasin:"#ffe4b5",navajowhite:"#ffdead",navy:"#000080",oldlace:"#fdf5e6",olive:"#808000",olivedrab:"#6b8e23",orange:"#ffa500",orangered:"#ff4500",orchid:"#da70d6",palegoldenrod:"#eee8aa",palegreen:"#98fb98",paleturquoise:"#afeeee",palevioletred:"#db7093",papayawhip:"#ffefd5",peachpuff:"#ffdab9",peru:"#cd853f",pink:"#ffc0cb",plum:"#dda0dd",powderblue:"#b0e0e6",purple:"#800080",rebeccapurple:"#663399",red:"#ff0000",rosybrown:"#bc8f8f",royalblue:"#4169e1",saddlebrown:"#8b4513",salmon:"#fa8072",sandybrown:"#f4a460",seagreen:"#2e8b57",seashell:"#fff5ee",sienna:"#a0522d",silver:"#c0c0c0",skyblue:"#87ceeb",slateblue:"#6a5acd",slategray:"#708090",slategrey:"#708090",snow:"#fffafa",springgreen:"#00ff7f",steelblue:"#4682b4",tan:"#d2b48c",teal:"#008080",thistle:"#d8bfd8",tomato:"#ff6347",turquoise:"#40e0d0",violet:"#ee82ee",wheat:"#f5deb3",white:"#ffffff",whitesmoke:"#f5f5f5",yellow:"#ffff00",yellowgreen:"#9acd32"};function bD(i){var t={r:0,g:0,b:0},e=1,n=null,r=null,s=null,o=!1,a=!1;return typeof i=="string"&&(i=xD(i)),typeof i=="object"&&(dr(i.r)&&dr(i.g)&&dr(i.b)?(t=hD(i.r,i.g,i.b),o=!0,a=String(i.r).substr(-1)==="%"?"prgb":"rgb"):dr(i.h)&&dr(i.s)&&dr(i.v)?(n=pc(i.s),r=pc(i.v),t=fD(i.h,n,r),o=!0,a="hsv"):dr(i.h)&&dr(i.s)&&dr(i.l)&&(n=pc(i.s),s=pc(i.l),t=dD(i.h,n,s),o=!0,a="hsl"),Object.prototype.hasOwnProperty.call(i,"a")&&(e=i.a)),e=Qv(e),{ok:o,format:i.format||a,r:Math.min(255,Math.max(t.r,0)),g:Math.min(255,Math.max(t.g,0)),b:Math.min(255,Math.max(t.b,0)),a:e}}var vD="[-\\+]?\\d+%?",yD="[-\\+]?\\d*\\.\\d+%?",qr="(?:".concat(yD,")|(?:").concat(vD,")"),Lh="[\\s|\\(]+(".concat(qr,")[,|\\s]+(").concat(qr,")[,|\\s]+(").concat(qr,")\\s*\\)?"),Ih="[\\s|\\(]+(".concat(qr,")[,|\\s]+(").concat(qr,")[,|\\s]+(").concat(qr,")[,|\\s]+(").concat(qr,")\\s*\\)?"),$i={CSS_UNIT:new RegExp(qr),rgb:new RegExp("rgb"+Lh),rgba:new RegExp("rgba"+Ih),hsl:new RegExp("hsl"+Lh),hsla:new RegExp("hsla"+Ih),hsv:new RegExp("hsv"+Lh),hsva:new RegExp("hsva"+Ih),hex3:/^#?([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})$/,hex6:/^#?([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})$/,hex4:/^#?([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})$/,hex8:/^#?([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})$/};function xD(i){if(i=i.trim().toLowerCase(),i.length===0)return!1;var t=!1;if(Od[i])i=Od[i],t=!0;else if(i==="transparent")return{r:0,g:0,b:0,a:0,format:"name"};var e=$i.rgb.exec(i);return e?{r:e[1],g:e[2],b:e[3]}:(e=$i.rgba.exec(i),e?{r:e[1],g:e[2],b:e[3],a:e[4]}:(e=$i.hsl.exec(i),e?{h:e[1],s:e[2],l:e[3]}:(e=$i.hsla.exec(i),e?{h:e[1],s:e[2],l:e[3],a:e[4]}:(e=$i.hsv.exec(i),e?{h:e[1],s:e[2],v:e[3]}:(e=$i.hsva.exec(i),e?{h:e[1],s:e[2],v:e[3],a:e[4]}:(e=$i.hex8.exec(i),e?{r:oi(e[1]),g:oi(e[2]),b:oi(e[3]),a:c2(e[4]),format:t?"name":"hex8"}:(e=$i.hex6.exec(i),e?{r:oi(e[1]),g:oi(e[2]),b:oi(e[3]),format:t?"name":"hex"}:(e=$i.hex4.exec(i),e?{r:oi(e[1]+e[1]),g:oi(e[2]+e[2]),b:oi(e[3]+e[3]),a:c2(e[4]+e[4]),format:t?"name":"hex8"}:(e=$i.hex3.exec(i),e?{r:oi(e[1]+e[1]),g:oi(e[2]+e[2]),b:oi(e[3]+e[3]),format:t?"name":"hex"}:!1)))))))))}function dr(i){return Boolean($i.CSS_UNIT.exec(String(i)))}var CD=function(){function i(t,e){t===void 0&&(t=""),e===void 0&&(e={});var n;if(t instanceof i)return t;typeof t=="number"&&(t=mD(t)),this.originalInput=t;var r=bD(t);this.originalInput=t,this.r=r.r,this.g=r.g,this.b=r.b,this.a=r.a,this.roundA=Math.round(100*this.a)/100,this.format=(n=e.format)!==null&&n!==void 0?n:r.format,this.gradientType=e.gradientType,this.r<1&&(this.r=Math.round(this.r)),this.g<1&&(this.g=Math.round(this.g)),this.b<1&&(this.b=Math.round(this.b)),this.isValid=r.ok}return i.prototype.isDark=function(){return this.getBrightness()<128},i.prototype.isLight=function(){return!this.isDark()},i.prototype.getBrightness=function(){var t=this.toRgb();return(t.r*299+t.g*587+t.b*114)/1e3},i.prototype.getLuminance=function(){var t=this.toRgb(),e,n,r,s=t.r/255,o=t.g/255,a=t.b/255;return s<=.03928?e=s/12.92:e=Math.pow((s+.055)/1.055,2.4),o<=.03928?n=o/12.92:n=Math.pow((o+.055)/1.055,2.4),a<=.03928?r=a/12.92:r=Math.pow((a+.055)/1.055,2.4),.2126*e+.7152*n+.0722*r},i.prototype.getAlpha=function(){return this.a},i.prototype.setAlpha=function(t){return this.a=Qv(t),this.roundA=Math.round(100*this.a)/100,this},i.prototype.toHsv=function(){var t=a2(this.r,this.g,this.b);return{h:t.h*360,s:t.s,v:t.v,a:this.a}},i.prototype.toHsvString=function(){var t=a2(this.r,this.g,this.b),e=Math.round(t.h*360),n=Math.round(t.s*100),r=Math.round(t.v*100);return this.a===1?"hsv(".concat(e,", ").concat(n,"%, ").concat(r,"%)"):"hsva(".concat(e,", ").concat(n,"%, ").concat(r,"%, ").concat(this.roundA,")")},i.prototype.toHsl=function(){var t=o2(this.r,this.g,this.b);return{h:t.h*360,s:t.s,l:t.l,a:this.a}},i.prototype.toHslString=function(){var t=o2(this.r,this.g,this.b),e=Math.round(t.h*360),n=Math.round(t.s*100),r=Math.round(t.l*100);return this.a===1?"hsl(".concat(e,", ").concat(n,"%, ").concat(r,"%)"):"hsla(".concat(e,", ").concat(n,"%, ").concat(r,"%, ").concat(this.roundA,")")},i.prototype.toHex=function(t){return t===void 0&&(t=!1),l2(this.r,this.g,this.b,t)},i.prototype.toHexString=function(t){return t===void 0&&(t=!1),"#"+this.toHex(t)},i.prototype.toHex8=function(t){return t===void 0&&(t=!1),pD(this.r,this.g,this.b,this.a,t)},i.prototype.toHex8String=function(t){return t===void 0&&(t=!1),"#"+this.toHex8(t)},i.prototype.toRgb=function(){return{r:Math.round(this.r),g:Math.round(this.g),b:Math.round(this.b),a:this.a}},i.prototype.toRgbString=function(){var t=Math.round(this.r),e=Math.round(this.g),n=Math.round(this.b);return this.a===1?"rgb(".concat(t,", ").concat(e,", ").concat(n,")"):"rgba(".concat(t,", ").concat(e,", ").concat(n,", ").concat(this.roundA,")")},i.prototype.toPercentageRgb=function(){var t=function(e){return"".concat(Math.round(En(e,255)*100),"%")};return{r:t(this.r),g:t(this.g),b:t(this.b),a:this.a}},i.prototype.toPercentageRgbString=function(){var t=function(e){return Math.round(En(e,255)*100)};return this.a===1?"rgb(".concat(t(this.r),"%, ").concat(t(this.g),"%, ").concat(t(this.b),"%)"):"rgba(".concat(t(this.r),"%, ").concat(t(this.g),"%, ").concat(t(this.b),"%, ").concat(this.roundA,")")},i.prototype.toName=function(){if(this.a===0)return"transparent";if(this.a<1)return!1;for(var t="#"+l2(this.r,this.g,this.b,!1),e=0,n=Object.entries(Od);e<n.length;e++){var r=n[e],s=r[0],o=r[1];if(t===o)return s}return!1},i.prototype.toString=function(t){var e=Boolean(t);t=t!=null?t:this.format;var n=!1,r=this.a<1&&this.a>=0,s=!e&&r&&(t.startsWith("hex")||t==="name");return s?t==="name"&&this.a===0?this.toName():this.toRgbString():(t==="rgb"&&(n=this.toRgbString()),t==="prgb"&&(n=this.toPercentageRgbString()),(t==="hex"||t==="hex6")&&(n=this.toHexString()),t==="hex3"&&(n=this.toHexString(!0)),t==="hex4"&&(n=this.toHex8String(!0)),t==="hex8"&&(n=this.toHex8String()),t==="name"&&(n=this.toName()),t==="hsl"&&(n=this.toHslString()),t==="hsv"&&(n=this.toHsvString()),n||this.toHexString())},i.prototype.toNumber=function(){return(Math.round(this.r)<<16)+(Math.round(this.g)<<8)+Math.round(this.b)},i.prototype.clone=function(){return new i(this.toString())},i.prototype.lighten=function(t){t===void 0&&(t=10);var e=this.toHsl();return e.l+=t/100,e.l=fc(e.l),new i(e)},i.prototype.brighten=function(t){t===void 0&&(t=10);var e=this.toRgb();return e.r=Math.max(0,Math.min(255,e.r-Math.round(255*-(t/100)))),e.g=Math.max(0,Math.min(255,e.g-Math.round(255*-(t/100)))),e.b=Math.max(0,Math.min(255,e.b-Math.round(255*-(t/100)))),new i(e)},i.prototype.darken=function(t){t===void 0&&(t=10);var e=this.toHsl();return e.l-=t/100,e.l=fc(e.l),new i(e)},i.prototype.tint=function(t){return t===void 0&&(t=10),this.mix("white",t)},i.prototype.shade=function(t){return t===void 0&&(t=10),this.mix("black",t)},i.prototype.desaturate=function(t){t===void 0&&(t=10);var e=this.toHsl();return e.s-=t/100,e.s=fc(e.s),new i(e)},i.prototype.saturate=function(t){t===void 0&&(t=10);var e=this.toHsl();return e.s+=t/100,e.s=fc(e.s),new i(e)},i.prototype.greyscale=function(){return this.desaturate(100)},i.prototype.spin=function(t){var e=this.toHsl(),n=(e.h+t)%360;return e.h=n<0?360+n:n,new i(e)},i.prototype.mix=function(t,e){e===void 0&&(e=50);var n=this.toRgb(),r=new i(t).toRgb(),s=e/100,o={r:(r.r-n.r)*s+n.r,g:(r.g-n.g)*s+n.g,b:(r.b-n.b)*s+n.b,a:(r.a-n.a)*s+n.a};return new i(o)},i.prototype.analogous=function(t,e){t===void 0&&(t=6),e===void 0&&(e=30);var n=this.toHsl(),r=360/e,s=[this];for(n.h=(n.h-(r*t>>1)+720)%360;--t;)n.h=(n.h+r)%360,s.push(new i(n));return s},i.prototype.complement=function(){var t=this.toHsl();return t.h=(t.h+180)%360,new i(t)},i.prototype.monochromatic=function(t){t===void 0&&(t=6);for(var e=this.toHsv(),n=e.h,r=e.s,s=e.v,o=[],a=1/t;t--;)o.push(new i({h:n,s:r,v:s})),s=(s+a)%1;return o},i.prototype.splitcomplement=function(){var t=this.toHsl(),e=t.h;return[this,new i({h:(e+72)%360,s:t.s,l:t.l}),new i({h:(e+216)%360,s:t.s,l:t.l})]},i.prototype.onBackground=function(t){var e=this.toRgb(),n=new i(t).toRgb();return new i({r:n.r+(e.r-n.r)*e.a,g:n.g+(e.g-n.g)*e.a,b:n.b+(e.b-n.b)*e.a})},i.prototype.triad=function(){return this.polyad(3)},i.prototype.tetrad=function(){return this.polyad(4)},i.prototype.polyad=function(t){for(var e=this.toHsl(),n=e.h,r=[this],s=360/t,o=1;o<t;o++)r.push(new i({h:(n+o*s)%360,s:e.s,l:e.l}));return r},i.prototype.equals=function(t){return this.toRgbString()===new i(t).toRgbString()},i}();function Ir(i,t=20){return i.mix("#141414",t).toString()}function wD(i){const t=Gf(),e=Rn("button");return vt(()=>{let n={};const r=i.color;if(r){const s=new CD(r),o=i.dark?s.tint(20).toString():Ir(s,20);if(i.plain)n=e.cssVarBlock({"bg-color":i.dark?Ir(s,90):s.tint(90).toString(),"text-color":r,"border-color":i.dark?Ir(s,50):s.tint(50).toString(),"hover-text-color":`var(${e.cssVarName("color-white")})`,"hover-bg-color":r,"hover-border-color":r,"active-bg-color":o,"active-text-color":`var(${e.cssVarName("color-white")})`,"active-border-color":o}),t.value&&(n[e.cssVarBlockName("disabled-bg-color")]=i.dark?Ir(s,90):s.tint(90).toString(),n[e.cssVarBlockName("disabled-text-color")]=i.dark?Ir(s,50):s.tint(50).toString(),n[e.cssVarBlockName("disabled-border-color")]=i.dark?Ir(s,80):s.tint(80).toString());else{const a=i.dark?Ir(s,30):s.tint(30).toString(),l=s.isDark()?`var(${e.cssVarName("color-white")})`:`var(${e.cssVarName("color-black")})`;if(n=e.cssVarBlock({"bg-color":r,"text-color":l,"border-color":r,"hover-bg-color":a,"hover-text-color":l,"hover-border-color":a,"active-bg-color":o,"active-border-color":o}),t.value){const c=i.dark?Ir(s,50):s.tint(50).toString();n[e.cssVarBlockName("disabled-bg-color")]=c,n[e.cssVarBlockName("disabled-text-color")]=i.dark?"rgba(255, 255, 255, 0.5)":`var(${e.cssVarName("color-white")})`,n[e.cssVarBlockName("disabled-border-color")]=c}}}return n})}const SD=["aria-disabled","disabled","autofocus","type"],ED={name:"ElButton"},AD=ze(en(fe({},ED),{props:Md,emits:lD,setup(i,{expose:t,emit:e}){const n=i,r=Cf();Ak({from:"type.text",replacement:"type.link",version:"3.0.0",scope:"props",ref:"https://element-plus.org/en-US/component/button.html#button-attributes"},vt(()=>n.type==="text"));const s=Ve(Ev,void 0),o=Ll("button"),a=Rn("button"),{form:l}=Tv(),c=Il(vt(()=>s==null?void 0:s.size)),u=Gf(),h=Mt(),f=vt(()=>n.type||(s==null?void 0:s.type)||""),p=vt(()=>{var x,S,E;return(E=(S=n.autoInsertSpace)!=null?S:(x=o.value)==null?void 0:x.autoInsertSpace)!=null?E:!1}),b=vt(()=>{var x;const S=(x=r.default)==null?void 0:x.call(r);if(p.value&&(S==null?void 0:S.length)===1){const E=S[0];if((E==null?void 0:E.type)===_l){const O=E.children;return/^\p{Unified_Ideograph}{2}$/u.test(O.trim())}}return!1}),v=wD(n),C=x=>{n.nativeType==="reset"&&(l==null||l.resetFields()),e("click",x)};return t({ref:h,size:c,type:f,disabled:u,shouldAddSpace:b}),(x,S)=>(Et(),Zt("button",{ref_key:"_ref",ref:h,class:qt([U(a).b(),U(a).m(U(f)),U(a).m(U(c)),U(a).is("disabled",U(u)),U(a).is("loading",x.loading),U(a).is("plain",x.plain),U(a).is("round",x.round),U(a).is("circle",x.circle),U(a).is("text",x.text),U(a).is("link",x.link),U(a).is("has-bg",x.bg)]),"aria-disabled":U(u)||x.loading,disabled:U(u)||x.loading,autofocus:x.autofocus,type:x.nativeType,style:Mn(U(v)),onClick:C},[x.loading?(Et(),Zt(nn,{key:0},[x.$slots.loading?Ze(x.$slots,"loading",{key:0}):(Et(),Me(U(Hr),{key:1,class:qt(U(a).is("loading"))},{default:we(()=>[(Et(),Me(_s(x.loadingIcon)))]),_:1},8,["class"]))],64)):x.icon||x.$slots.icon?(Et(),Me(U(Hr),{key:1},{default:we(()=>[x.icon?(Et(),Me(_s(x.icon),{key:0})):Ze(x.$slots,"icon",{key:1})]),_:3})):ye("v-if",!0),x.$slots.default?(Et(),Zt("span",{key:2,class:qt({[U(a).em("text","expand")]:U(b)})},[Ze(x.$slots,"default")],2)):ye("v-if",!0)],14,SD))}}));var MD=un(AD,[["__file","/home/runner/work/element-plus/element-plus/packages/components/button/src/button.vue"]]);const OD={size:Md.size,type:Md.type},TD={name:"ElButtonGroup"},PD=ze(en(fe({},TD),{props:OD,setup(i){const t=i;Bi(Ev,eo({size:Jr(t,"size"),type:Jr(t,"type")}));const e=Rn("button");return(n,r)=>(Et(),Zt("div",{class:qt(`${U(e).b("group")}`)},[Ze(n.$slots,"default")],2))}}));var ty=un(PD,[["__file","/home/runner/work/element-plus/element-plus/packages/components/button/src/button-group.vue"]]);const ey=lo(MD,{ButtonGroup:ty});Sv(ty);var kD=typeof globalThis!="undefined"?globalThis:typeof window!="undefined"?window:typeof global!="undefined"?global:typeof self!="undefined"?self:{};const Br=new Map;let u2;Bn&&(document.addEventListener("mousedown",i=>u2=i),document.addEventListener("mouseup",i=>{for(const t of Br.values())for(const{documentHandler:e}of t)e(i,u2)}));function h2(i,t){let e=[];return Array.isArray(t.arg)?e=t.arg:hl(t.arg)&&e.push(t.arg),function(n,r){const s=t.instance.popperRef,o=n.target,a=r==null?void 0:r.target,l=!t||!t.instance,c=!o||!a,u=i.contains(o)||i.contains(a),h=i===o,f=e.length&&e.some(b=>b==null?void 0:b.contains(o))||e.length&&e.includes(a),p=s&&(s.contains(o)||s.contains(a));l||c||u||h||f||p||t.value(n,r)}}const _D={beforeMount(i,t){Br.has(i)||Br.set(i,[]),Br.get(i).push({documentHandler:h2(i,t),bindingFn:t.value})},updated(i,t){Br.has(i)||Br.set(i,[]);const e=Br.get(i),n=e.findIndex(s=>s.bindingFn===t.oldValue),r={documentHandler:h2(i,t),bindingFn:t.value};n>=0?e.splice(n,1,r):e.push(r)},unmounted(i){Br.delete(i)}};let zh=!1;function pl(i,t){if(!Bn)return;const e=function(s){var o;(o=t.drag)==null||o.call(t,s)},n=function(s){var o;hc(document,"mousemove",e),hc(document,"mouseup",n),hc(document,"touchmove",e),hc(document,"touchend",n),document.onselectstart=null,document.ondragstart=null,zh=!1,(o=t.end)==null||o.call(t,s)},r=function(s){var o;zh||(s.preventDefault(),document.onselectstart=()=>!1,document.ondragstart=()=>!1,bo(document,"mousemove",e),bo(document,"mouseup",n),bo(document,"touchmove",e),bo(document,"touchend",n),zh=!0,(o=t.start)==null||o.call(t,s))};bo(i,"mousedown",r),bo(i,"touchstart",r)}const DD=ze({name:"ElColorAlphaSlider",props:{color:{type:Object,required:!0},vertical:{type:Boolean,default:!1}},setup(i){const t=lr(),e=ko(null),n=ko(null),r=Mt(0),s=Mt(0),o=Mt(null);Qt(()=>i.color.get("alpha"),()=>{f()}),Qt(()=>i.color.value,()=>{f()});function a(){if(i.vertical)return 0;const p=t.vnode.el,b=i.color.get("alpha");return p?Math.round(b*(p.offsetWidth-e.value.offsetWidth/2)/100):0}function l(){const p=t.vnode.el;if(!i.vertical)return 0;const b=i.color.get("alpha");return p?Math.round(b*(p.offsetHeight-e.value.offsetHeight/2)/100):0}function c(){if(i.color&&i.color.value){const{r:p,g:b,b:v}=i.color.toRgb();return`linear-gradient(to right, rgba(${p}, ${b}, ${v}, 0) 0%, rgba(${p}, ${b}, ${v}, 1) 100%)`}return null}function u(p){p.target!==e.value&&h(p)}function h(p){const v=t.vnode.el.getBoundingClientRect(),{clientX:C,clientY:x}=Vf(p);if(i.vertical){let S=x-v.top;S=Math.max(e.value.offsetHeight/2,S),S=Math.min(S,v.height-e.value.offsetHeight/2),i.color.set("alpha",Math.round((S-e.value.offsetHeight/2)/(v.height-e.value.offsetHeight)*100))}else{let S=C-v.left;S=Math.max(e.value.offsetWidth/2,S),S=Math.min(S,v.width-e.value.offsetWidth/2),i.color.set("alpha",Math.round((S-e.value.offsetWidth/2)/(v.width-e.value.offsetWidth)*100))}}function f(){r.value=a(),s.value=l(),o.value=c()}return Fn(()=>{const p={drag:b=>{h(b)},end:b=>{h(b)}};pl(n.value,p),pl(e.value,p),f()}),{thumb:e,bar:n,thumbLeft:r,thumbTop:s,background:o,handleClick:u,update:f}}});function ND(i,t,e,n,r,s){return Et(),Zt("div",{class:qt(["el-color-alpha-slider",{"is-vertical":i.vertical}])},[Yt("div",{ref:"bar",class:"el-color-alpha-slider__bar",style:Mn({background:i.background}),onClick:t[0]||(t[0]=(...o)=>i.handleClick&&i.handleClick(...o))},null,4),Yt("div",{ref:"thumb",class:"el-color-alpha-slider__thumb",style:Mn({left:i.thumbLeft+"px",top:i.thumbTop+"px"})},null,4)],2)}var $D=un(DD,[["render",ND],["__file","/home/runner/work/element-plus/element-plus/packages/components/color-picker/src/components/alpha-slider.vue"]]);const FD=ze({name:"ElColorHueSlider",props:{color:{type:Object,required:!0},vertical:Boolean},setup(i){const t=lr(),e=Mt(null),n=Mt(null),r=Mt(0),s=Mt(0),o=vt(()=>i.color.get("hue"));Qt(()=>o.value,()=>{h()});function a(f){f.target!==e.value&&l(f)}function l(f){const b=t.vnode.el.getBoundingClientRect(),{clientX:v,clientY:C}=Vf(f);let x;if(i.vertical){let S=C-b.top;S=Math.min(S,b.height-e.value.offsetHeight/2),S=Math.max(e.value.offsetHeight/2,S),x=Math.round((S-e.value.offsetHeight/2)/(b.height-e.value.offsetHeight)*360)}else{let S=v-b.left;S=Math.min(S,b.width-e.value.offsetWidth/2),S=Math.max(e.value.offsetWidth/2,S),x=Math.round((S-e.value.offsetWidth/2)/(b.width-e.value.offsetWidth)*360)}i.color.set("hue",x)}function c(){const f=t.vnode.el;if(i.vertical)return 0;const p=i.color.get("hue");return f?Math.round(p*(f.offsetWidth-e.value.offsetWidth/2)/360):0}function u(){const f=t.vnode.el;if(!i.vertical)return 0;const p=i.color.get("hue");return f?Math.round(p*(f.offsetHeight-e.value.offsetHeight/2)/360):0}function h(){r.value=c(),s.value=u()}return Fn(()=>{const f={drag:p=>{l(p)},end:p=>{l(p)}};pl(n.value,f),pl(e.value,f),h()}),{bar:n,thumb:e,thumbLeft:r,thumbTop:s,hueValue:o,handleClick:a,update:h}}});function LD(i,t,e,n,r,s){return Et(),Zt("div",{class:qt(["el-color-hue-slider",{"is-vertical":i.vertical}])},[Yt("div",{ref:"bar",class:"el-color-hue-slider__bar",onClick:t[0]||(t[0]=(...o)=>i.handleClick&&i.handleClick(...o))},null,512),Yt("div",{ref:"thumb",class:"el-color-hue-slider__thumb",style:Mn({left:i.thumbLeft+"px",top:i.thumbTop+"px"})},null,4)],2)}var ID=un(FD,[["render",LD],["__file","/home/runner/work/element-plus/element-plus/packages/components/color-picker/src/components/hue-slider.vue"]]);const ny=Symbol(),zD=()=>Ve(ny),d2=function(i,t,e){return[i,t*e/((i=(2-t)*e)<1?i:2-i)||0,i/2]},jD=function(i){return typeof i=="string"&&i.includes(".")&&Number.parseFloat(i)===1},BD=function(i){return typeof i=="string"&&i.includes("%")},$o=function(i,t){jD(i)&&(i="100%");const e=BD(i);return i=Math.min(t,Math.max(0,Number.parseFloat(`${i}`))),e&&(i=Number.parseInt(`${i*t}`,10)/100),Math.abs(i-t)<1e-6?1:i%t/Number.parseFloat(t)},f2={10:"A",11:"B",12:"C",13:"D",14:"E",15:"F"},Mc=function(i){i=Math.min(Math.round(i),255);const t=Math.floor(i/16),e=i%16;return`${f2[t]||t}${f2[e]||e}`},p2=function({r:i,g:t,b:e}){return Number.isNaN(+i)||Number.isNaN(+t)||Number.isNaN(+e)?"":`#${Mc(i)}${Mc(t)}${Mc(e)}`},jh={A:10,B:11,C:12,D:13,E:14,F:15},Ss=function(i){return i.length===2?(jh[i[0].toUpperCase()]||+i[0])*16+(jh[i[1].toUpperCase()]||+i[1]):jh[i[1].toUpperCase()]||+i[1]},RD=function(i,t,e){t=t/100,e=e/100;let n=t;const r=Math.max(e,.01);e*=2,t*=e<=1?e:2-e,n*=r<=1?r:2-r;const s=(e+t)/2,o=e===0?2*n/(r+n):2*t/(e+t);return{h:i,s:o*100,v:s*100}},g2=function(i,t,e){i=$o(i,255),t=$o(t,255),e=$o(e,255);const n=Math.max(i,t,e),r=Math.min(i,t,e);let s;const o=n,a=n-r,l=n===0?0:a/n;if(n===r)s=0;else{switch(n){case i:{s=(t-e)/a+(t<e?6:0);break}case t:{s=(e-i)/a+2;break}case e:{s=(i-t)/a+4;break}}s/=6}return{h:s*360,s:l*100,v:o*100}},Pa=function(i,t,e){i=$o(i,360)*6,t=$o(t,100),e=$o(e,100);const n=Math.floor(i),r=i-n,s=e*(1-t),o=e*(1-r*t),a=e*(1-(1-r)*t),l=n%6,c=[e,o,s,s,a,e][l],u=[a,e,e,o,s,s][l],h=[s,s,a,e,e,o][l];return{r:Math.round(c*255),g:Math.round(u*255),b:Math.round(h*255)}};class Wa{constructor(t){this._hue=0,this._saturation=100,this._value=100,this._alpha=100,this.enableAlpha=!1,this.format="hex",this.value="",t=t||{};for(const e in t)ue(t,e)&&(this[e]=t[e]);t.value?this.fromString(t.value):this.doOnChange()}set(t,e){if(arguments.length===1&&typeof t=="object"){for(const n in t)ue(t,n)&&this.set(n,t[n]);return}this[`_${t}`]=e,this.doOnChange()}get(t){return t==="alpha"?Math.floor(this[`_${t}`]):this[`_${t}`]}toRgb(){return Pa(this._hue,this._saturation,this._value)}fromString(t){if(!t){this._hue=0,this._saturation=100,this._value=100,this.doOnChange();return}const e=(n,r,s)=>{this._hue=Math.max(0,Math.min(360,n)),this._saturation=Math.max(0,Math.min(100,r)),this._value=Math.max(0,Math.min(100,s)),this.doOnChange()};if(t.includes("hsl")){const n=t.replace(/hsla|hsl|\(|\)/gm,"").split(/\s|,/g).filter(r=>r!=="").map((r,s)=>s>2?Number.parseFloat(r):Number.parseInt(r,10));if(n.length===4?this._alpha=Number.parseFloat(n[3])*100:n.length===3&&(this._alpha=100),n.length>=3){const{h:r,s,v:o}=RD(n[0],n[1],n[2]);e(r,s,o)}}else if(t.includes("hsv")){const n=t.replace(/hsva|hsv|\(|\)/gm,"").split(/\s|,/g).filter(r=>r!=="").map((r,s)=>s>2?Number.parseFloat(r):Number.parseInt(r,10));n.length===4?this._alpha=Number.parseFloat(n[3])*100:n.length===3&&(this._alpha=100),n.length>=3&&e(n[0],n[1],n[2])}else if(t.includes("rgb")){const n=t.replace(/rgba|rgb|\(|\)/gm,"").split(/\s|,/g).filter(r=>r!=="").map((r,s)=>s>2?Number.parseFloat(r):Number.parseInt(r,10));if(n.length===4?this._alpha=Number.parseFloat(n[3])*100:n.length===3&&(this._alpha=100),n.length>=3){const{h:r,s,v:o}=g2(n[0],n[1],n[2]);e(r,s,o)}}else if(t.includes("#")){const n=t.replace("#","").trim();if(!/^[0-9a-fA-F]{3}$|^[0-9a-fA-F]{6}$|^[0-9a-fA-F]{8}$/.test(n))return;let r,s,o;n.length===3?(r=Ss(n[0]+n[0]),s=Ss(n[1]+n[1]),o=Ss(n[2]+n[2])):(n.length===6||n.length===8)&&(r=Ss(n.slice(0,2)),s=Ss(n.slice(2,4)),o=Ss(n.slice(4,6))),n.length===8?this._alpha=Ss(n.slice(6))/255*100:(n.length===3||n.length===6)&&(this._alpha=100);const{h:a,s:l,v:c}=g2(r,s,o);e(a,l,c)}}compare(t){return Math.abs(t._hue-this._hue)<2&&Math.abs(t._saturation-this._saturation)<1&&Math.abs(t._value-this._value)<1&&Math.abs(t._alpha-this._alpha)<1}doOnChange(){const{_hue:t,_saturation:e,_value:n,_alpha:r,format:s}=this;if(this.enableAlpha)switch(s){case"hsl":{const o=d2(t,e/100,n/100);this.value=`hsla(${t}, ${Math.round(o[1]*100)}%, ${Math.round(o[2]*100)}%, ${this.get("alpha")/100})`;break}case"hsv":{this.value=`hsva(${t}, ${Math.round(e)}%, ${Math.round(n)}%, ${this.get("alpha")/100})`;break}case"hex":{this.value=`${p2(Pa(t,e,n))}${Mc(r*255/100)}`;break}default:{const{r:o,g:a,b:l}=Pa(t,e,n);this.value=`rgba(${o}, ${a}, ${l}, ${this.get("alpha")/100})`}}else switch(s){case"hsl":{const o=d2(t,e/100,n/100);this.value=`hsl(${t}, ${Math.round(o[1]*100)}%, ${Math.round(o[2]*100)}%)`;break}case"hsv":{this.value=`hsv(${t}, ${Math.round(e)}%, ${Math.round(n)}%)`;break}case"rgb":{const{r:o,g:a,b:l}=Pa(t,e,n);this.value=`rgb(${o}, ${a}, ${l})`;break}default:this.value=p2(Pa(t,e,n))}}}const VD=ze({props:{colors:{type:Array,required:!0},color:{type:Object,required:!0}},setup(i){const{currentColor:t}=zD(),e=Mt(r(i.colors,i.color));Qt(()=>t.value,s=>{const o=new Wa;o.fromString(s),e.value.forEach(a=>{a.selected=o.compare(a)})}),QC(()=>{e.value=r(i.colors,i.color)});function n(s){i.color.fromString(i.colors[s])}function r(s,o){return s.map(a=>{const l=new Wa;return l.enableAlpha=!0,l.format="rgba",l.fromString(a),l.selected=l.value===o.value,l})}return{rgbaColors:e,handleSelect:n}}}),HD={class:"el-color-predefine"},GD={class:"el-color-predefine__colors"},qD=["onClick"];function UD(i,t,e,n,r,s){return Et(),Zt("div",HD,[Yt("div",GD,[(Et(!0),Zt(nn,null,Fm(i.rgbaColors,(o,a)=>(Et(),Zt("div",{key:i.colors[a],class:qt(["el-color-predefine__color-selector",{selected:o.selected,"is-alpha":o._alpha<100}]),onClick:l=>i.handleSelect(a)},[Yt("div",{style:Mn({backgroundColor:o.value})},null,4)],10,qD))),128))])])}var WD=un(VD,[["render",UD],["__file","/home/runner/work/element-plus/element-plus/packages/components/color-picker/src/components/predefine.vue"]]);const XD=ze({name:"ElSlPanel",props:{color:{type:Object,required:!0}},setup(i){const t=lr(),e=Mt(0),n=Mt(0),r=Mt("hsl(0, 100%, 50%)"),s=vt(()=>{const l=i.color.get("hue"),c=i.color.get("value");return{hue:l,value:c}});function o(){const l=i.color.get("saturation"),c=i.color.get("value"),u=t.vnode.el,{clientWidth:h,clientHeight:f}=u;n.value=l*h/100,e.value=(100-c)*f/100,r.value=`hsl(${i.color.get("hue")}, 100%, 50%)`}function a(l){const u=t.vnode.el.getBoundingClientRect(),{clientX:h,clientY:f}=Vf(l);let p=h-u.left,b=f-u.top;p=Math.max(0,p),p=Math.min(p,u.width),b=Math.max(0,b),b=Math.min(b,u.height),n.value=p,e.value=b,i.color.set({saturation:p/u.width*100,value:100-b/u.height*100})}return Qt(()=>s.value,()=>{o()}),Fn(()=>{pl(t.vnode.el,{drag:l=>{a(l)},end:l=>{a(l)}}),o()}),{cursorTop:e,cursorLeft:n,background:r,colorValue:s,handleDrag:a,update:o}}}),YD=Yt("div",{class:"el-color-svpanel__white"},null,-1),KD=Yt("div",{class:"el-color-svpanel__black"},null,-1),JD=Yt("div",null,null,-1),ZD=[JD];function QD(i,t,e,n,r,s){return Et(),Zt("div",{class:"el-color-svpanel",style:Mn({backgroundColor:i.background})},[YD,KD,Yt("div",{class:"el-color-svpanel__cursor",style:Mn({top:i.cursorTop+"px",left:i.cursorLeft+"px"})},ZD,4)],4)}var t8=un(XD,[["render",QD],["__file","/home/runner/work/element-plus/element-plus/packages/components/color-picker/src/components/sv-panel.vue"]]);const e8=ze({name:"ElColorPicker",components:{ElButton:ey,ElTooltip:sD,ElInput:Nv,ElIcon:Hr,Close:KP,ArrowDown:_P,SvPanel:t8,HueSlider:ID,AlphaSlider:$D,Predefine:WD},directives:{ClickOutside:_D},props:{modelValue:String,id:String,showAlpha:Boolean,colorFormat:String,disabled:Boolean,size:{type:String,validator:bk},popperClass:String,label:{type:String,default:void 0},tabindex:{type:[String,Number],default:0},predefine:Array},emits:["change","active-change",No],setup(i,{emit:t}){const{t:e}=Dk(),n=Rn("color"),r=Ve(co,{}),s=Ve(Zr,{}),{inputId:o,isLabeledByFormItem:a}=Pv(i,{formItemContext:s}),l=Mt(null),c=Mt(null),u=Mt(null),h=Mt(null);let f=!0;const p=eo(new Wa({enableAlpha:i.showAlpha,format:i.colorFormat,value:i.modelValue})),b=Mt(!1),v=Mt(!1),C=Mt(""),x=vt(()=>!i.modelValue&&!v.value?"transparent":T(p,i.showAlpha)),S=Il(),E=vt(()=>!!(i.disabled||r.disabled)),O=vt(()=>!i.modelValue&&!v.value?"":p.value),k=vt(()=>a.value?void 0:i.label||e("el.colorpicker.defaultLabel")),m=vt(()=>a.value?s.labelId:void 0);Qt(()=>i.modelValue,B=>{B?B&&B!==p.value&&(f=!1,p.fromString(B)):v.value=!1}),Qt(()=>O.value,B=>{C.value=B,f&&t("active-change",B),f=!0}),Qt(()=>p.value,()=>{!i.modelValue&&!v.value&&(v.value=!0)});function T(B,tt){if(!(B instanceof Wa))throw new TypeError("color should be instance of _color Class");const{r:bt,g:Ot,b:Gt}=B.toRgb();return tt?`rgba(${bt}, ${Ot}, ${Gt}, ${B.get("alpha")/100})`:`rgb(${bt}, ${Ot}, ${Gt})`}function D(B){b.value=B}const z=Bf(D,100);function H(){z(!1),q()}function q(){Yn(()=>{i.modelValue?p.fromString(i.modelValue):v.value=!1})}function R(){E.value||z(!b.value)}function rt(){p.fromString(C.value)}function st(){var B;const tt=p.value;t(No,tt),t("change",tt),(B=s.validate)==null||B.call(s,"change").catch(bt=>void 0),z(!1),Yn(()=>{const bt=new Wa({enableAlpha:i.showAlpha,format:i.colorFormat,value:i.modelValue});p.compare(bt)||q()})}function j(){var B;z(!1),t(No,null),t("change",null),i.modelValue!==null&&((B=s.validate)==null||B.call(s,"change").catch(tt=>void 0)),q()}return Fn(()=>{i.modelValue&&(C.value=O.value)}),Qt(()=>b.value,()=>{Yn(()=>{var B,tt,bt;(B=l.value)==null||B.update(),(tt=c.value)==null||tt.update(),(bt=u.value)==null||bt.update()})}),Bi(ny,{currentColor:O}),{color:p,colorDisabled:E,colorSize:S,displayedColor:x,showPanelColor:v,showPicker:b,customInput:C,buttonId:o,buttonAriaLabel:k,buttonAriaLabelledby:m,handleConfirm:rt,hide:H,handleTrigger:R,clear:j,confirmValue:st,t:e,ns:n,hue:l,svPanel:c,alpha:u,popper:h}}}),n8=["id","aria-label","aria-labelledby","aria-description","tabindex"];function i8(i,t,e,n,r,s){const o=Dn("hue-slider"),a=Dn("sv-panel"),l=Dn("alpha-slider"),c=Dn("predefine"),u=Dn("el-input"),h=Dn("el-button"),f=Dn("arrow-down"),p=Dn("el-icon"),b=Dn("close"),v=Dn("el-tooltip"),C=dw("click-outside");return Et(),Me(v,{ref:"popper",visible:i.showPicker,"onUpdate:visible":t[3]||(t[3]=x=>i.showPicker=x),"show-arrow":!1,"fallback-placements":["bottom","top","right","left"],offset:0,"gpu-acceleration":!1,"popper-class":[i.ns.be("picker","panel"),i.ns.b("dropdown"),i.popperClass],"stop-popper-mouse-event":!1,effect:"light",trigger:"click",transition:"el-zoom-in-top",persistent:""},{content:we(()=>[rl((Et(),Zt("div",null,[Yt("div",{class:qt(i.ns.be("dropdown","main-wrapper"))},[Jt(o,{ref:"hue",class:"hue-slider",color:i.color,vertical:""},null,8,["color"]),Jt(a,{ref:"svPanel",color:i.color},null,8,["color"])],2),i.showAlpha?(Et(),Me(l,{key:0,ref:"alpha",color:i.color},null,8,["color"])):ye("v-if",!0),i.predefine?(Et(),Me(c,{key:1,ref:"predefine",color:i.color,colors:i.predefine},null,8,["color","colors"])):ye("v-if",!0),Yt("div",{class:qt(i.ns.be("dropdown","btns"))},[Yt("span",{class:qt(i.ns.be("dropdown","value"))},[Jt(u,{modelValue:i.customInput,"onUpdate:modelValue":t[0]||(t[0]=x=>i.customInput=x),"validate-event":!1,size:"small",onKeyup:Wg(i.handleConfirm,["enter"]),onBlur:i.handleConfirm},null,8,["modelValue","onKeyup","onBlur"])],2),Jt(h,{class:qt(i.ns.be("dropdown","link-btn")),text:"",size:"small",onClick:i.clear},{default:we(()=>[tr(Ki(i.t("el.colorpicker.clear")),1)]),_:1},8,["class","onClick"]),Jt(h,{plain:"",size:"small",class:qt(i.ns.be("dropdown","btn")),onClick:i.confirmValue},{default:we(()=>[tr(Ki(i.t("el.colorpicker.confirm")),1)]),_:1},8,["class","onClick"])],2)])),[[C,i.hide]])]),default:we(()=>[Yt("div",{id:i.buttonId,class:qt([i.ns.b("picker"),i.ns.is("disabled",i.colorDisabled),i.ns.bm("picker",i.colorSize)]),role:"button","aria-label":i.buttonAriaLabel,"aria-labelledby":i.buttonAriaLabelledby,"aria-description":i.t("el.colorpicker.description",{color:i.modelValue}),tabindex:i.tabindex,onKeydown:t[2]||(t[2]=Wg((...x)=>i.handleTrigger&&i.handleTrigger(...x),["enter"]))},[i.colorDisabled?(Et(),Zt("div",{key:0,class:qt(i.ns.be("picker","mask"))},null,2)):ye("v-if",!0),Yt("div",{class:qt(i.ns.be("picker","trigger")),onClick:t[1]||(t[1]=(...x)=>i.handleTrigger&&i.handleTrigger(...x))},[Yt("span",{class:qt([i.ns.be("picker","color"),i.ns.is("alpha",i.showAlpha)])},[Yt("span",{class:qt(i.ns.be("picker","color-inner")),style:Mn({backgroundColor:i.displayedColor})},[rl(Jt(p,{class:qt([i.ns.be("picker","icon"),i.ns.is("icon-arrow-down")])},{default:we(()=>[Jt(f)]),_:1},8,["class"]),[[wf,i.modelValue||i.showPanelColor]]),!i.modelValue&&!i.showPanelColor?(Et(),Me(p,{key:0,class:qt([i.ns.be("picker","empty"),i.ns.is("icon-close")])},{default:we(()=>[Jt(b)]),_:1},8,["class"])):ye("v-if",!0)],6)],2)],2)],42,n8)]),_:1},8,["visible","popper-class"])}var Oc=un(e8,[["render",i8],["__file","/home/runner/work/element-plus/element-plus/packages/components/color-picker/src/index.vue"]]);Oc.install=i=>{i.component(Oc.name,Oc)};const r8=Oc,iy=r8,s8=Hn({direction:{type:String,values:["horizontal","vertical"],default:"horizontal"},contentPosition:{type:String,values:["left","center","right"],default:"center"},borderStyle:{type:qe(String),default:"solid"}}),o8={name:"ElDivider"},a8=ze(en(fe({},o8),{props:s8,setup(i){const t=i,e=Rn("divider"),n=vt(()=>e.cssVar({"border-style":t.borderStyle}));return(r,s)=>(Et(),Zt("div",{class:qt([U(e).b(),U(e).m(r.direction)]),style:Mn(U(n)),role:"separator"},[r.$slots.default&&r.direction!=="vertical"?(Et(),Zt("div",{key:0,class:qt([U(e).e("text"),U(e).is(r.contentPosition)])},[Ze(r.$slots,"default")],2)):ye("v-if",!0)],6))}}));var l8=un(a8,[["__file","/home/runner/work/element-plus/element-plus/packages/components/divider/src/divider.vue"]]);const c8=lo(l8),u8=Hn({model:Object,rules:{type:qe(Object)},labelPosition:{type:String,values:["left","right","top"],default:"right"},labelWidth:{type:[String,Number],default:""},labelSuffix:{type:String,default:""},inline:Boolean,inlineMessage:Boolean,statusIcon:Boolean,showMessage:{type:Boolean,default:!0},size:{type:String,values:zu},disabled:Boolean,validateOnRuleChange:{type:Boolean,default:!0},hideRequiredAsterisk:{type:Boolean,default:!1},scrollToError:Boolean}),h8={validate:(i,t,e)=>(Ht(i)||Oe(i))&&al(t)&&Oe(e)};function d8(){const i=Mt([]),t=vt(()=>{if(!i.value.length)return"0";const s=Math.max(...i.value);return s?`${s}px`:""});function e(s){return i.value.indexOf(s)}function n(s,o){if(s&&o){const a=e(o);i.value.splice(a,1,s)}else s&&i.value.push(s)}function r(s){const o=e(s);o>-1&&i.value.splice(o,1)}return{autoLabelWidth:t,registerLabelWidth:n,deregisterLabelWidth:r}}const gc=(i,t)=>{const e=bd(t);return e.length>0?i.filter(n=>n.prop&&e.includes(n.prop)):i},f8={name:"ElForm"},p8=ze(en(fe({},f8),{props:u8,emits:h8,setup(i,{expose:t,emit:e}){const n=i,r=[],s=Il(),o=Rn("form"),a=vt(()=>{const{labelPosition:S,inline:E}=n;return[o.b(),o.m(s.value||"default"),{[o.m(`label-${S}`)]:S,[o.m("inline")]:E}]}),l=S=>{r.push(S)},c=S=>{S.prop&&r.splice(r.indexOf(S),1)},u=(S=[])=>{!n.model||gc(r,S).forEach(E=>E.resetField())},h=(S=[])=>{gc(r,S).forEach(E=>E.clearValidate())},f=vt(()=>!!n.model),p=S=>{if(r.length===0)return[];const E=gc(r,S);return E.length?E:[]},b=async S=>C(void 0,S),v=async(S=[])=>{if(!f.value)return!1;const E=p(S);if(E.length===0)return!0;let O={};for(const k of E)try{await k.validate("")}catch(m){O=fe(fe({},O),m)}return Object.keys(O).length===0?!0:Promise.reject(O)},C=async(S=[],E)=>{const O=!Vt(E);try{const k=await v(S);return k===!0&&(E==null||E(k)),k}catch(k){const m=k;return n.scrollToError&&x(Object.keys(m)[0]),E==null||E(!1,m),O&&Promise.reject(m)}},x=S=>{var E;const O=gc(r,S)[0];O&&((E=O.$el)==null||E.scrollIntoView())};return Qt(()=>n.rules,()=>{n.validateOnRuleChange&&b().catch(S=>void 0)},{deep:!0}),Bi(co,eo(fe(en(fe({},hf(n)),{emit:e,resetFields:u,clearValidate:h,validateField:C,addField:l,removeField:c}),d8()))),t({validate:b,validateField:C,resetFields:u,clearValidate:h,scrollToField:x}),(S,E)=>(Et(),Zt("form",{class:qt(U(a))},[Ze(S.$slots,"default")],2))}}));var g8=un(p8,[["__file","/home/runner/work/element-plus/element-plus/packages/components/form/src/form.vue"]]);function Ns(){return Ns=Object.assign||function(i){for(var t=1;t<arguments.length;t++){var e=arguments[t];for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(i[n]=e[n])}return i},Ns.apply(this,arguments)}function m8(i,t){i.prototype=Object.create(t.prototype),i.prototype.constructor=i,gl(i,t)}function Td(i){return Td=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},Td(i)}function gl(i,t){return gl=Object.setPrototypeOf||function(n,r){return n.__proto__=r,n},gl(i,t)}function b8(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function Tc(i,t,e){return b8()?Tc=Reflect.construct:Tc=function(r,s,o){var a=[null];a.push.apply(a,s);var l=Function.bind.apply(r,a),c=new l;return o&&gl(c,o.prototype),c},Tc.apply(null,arguments)}function v8(i){return Function.toString.call(i).indexOf("[native code]")!==-1}function Pd(i){var t=typeof Map=="function"?new Map:void 0;return Pd=function(n){if(n===null||!v8(n))return n;if(typeof n!="function")throw new TypeError("Super expression must either be null or a function");if(typeof t!="undefined"){if(t.has(n))return t.get(n);t.set(n,r)}function r(){return Tc(n,arguments,Td(this).constructor)}return r.prototype=Object.create(n.prototype,{constructor:{value:r,enumerable:!1,writable:!0,configurable:!0}}),gl(r,n)},Pd(i)}var y8=/%[sdj%]/g,x8=function(){};typeof process!="undefined"&&process.env;function kd(i){if(!i||!i.length)return null;var t={};return i.forEach(function(e){var n=e.field;t[n]=t[n]||[],t[n].push(e)}),t}function ui(i){for(var t=arguments.length,e=new Array(t>1?t-1:0),n=1;n<t;n++)e[n-1]=arguments[n];var r=0,s=e.length;if(typeof i=="function")return i.apply(null,e);if(typeof i=="string"){var o=i.replace(y8,function(a){if(a==="%%")return"%";if(r>=s)return a;switch(a){case"%s":return String(e[r++]);case"%d":return Number(e[r++]);case"%j":try{return JSON.stringify(e[r++])}catch{return"[Circular]"}break;default:return a}});return o}return i}function C8(i){return i==="string"||i==="url"||i==="hex"||i==="email"||i==="date"||i==="pattern"}function mn(i,t){return!!(i==null||t==="array"&&Array.isArray(i)&&!i.length||C8(t)&&typeof i=="string"&&!i)}function w8(i,t,e){var n=[],r=0,s=i.length;function o(a){n.push.apply(n,a||[]),r++,r===s&&e(n)}i.forEach(function(a){t(a,o)})}function m2(i,t,e){var n=0,r=i.length;function s(o){if(o&&o.length){e(o);return}var a=n;n=n+1,a<r?t(i[a],s):e([])}s([])}function S8(i){var t=[];return Object.keys(i).forEach(function(e){t.push.apply(t,i[e]||[])}),t}var b2=function(i){m8(t,i);function t(e,n){var r;return r=i.call(this,"Async Validation Error")||this,r.errors=e,r.fields=n,r}return t}(Pd(Error));function E8(i,t,e,n,r){if(t.first){var s=new Promise(function(f,p){var b=function(x){return n(x),x.length?p(new b2(x,kd(x))):f(r)},v=S8(i);m2(v,e,b)});return s.catch(function(f){return f}),s}var o=t.firstFields===!0?Object.keys(i):t.firstFields||[],a=Object.keys(i),l=a.length,c=0,u=[],h=new Promise(function(f,p){var b=function(C){if(u.push.apply(u,C),c++,c===l)return n(u),u.length?p(new b2(u,kd(u))):f(r)};a.length||(n(u),f(r)),a.forEach(function(v){var C=i[v];o.indexOf(v)!==-1?m2(C,e,b):w8(C,e,b)})});return h.catch(function(f){return f}),h}function A8(i){return!!(i&&i.message!==void 0)}function M8(i,t){for(var e=i,n=0;n<t.length;n++){if(e==null)return e;e=e[t[n]]}return e}function v2(i,t){return function(e){var n;return i.fullFields?n=M8(t,i.fullFields):n=t[e.field||i.fullField],A8(e)?(e.field=e.field||i.fullField,e.fieldValue=n,e):{message:typeof e=="function"?e():e,fieldValue:n,field:e.field||i.fullField}}}function y2(i,t){if(t){for(var e in t)if(t.hasOwnProperty(e)){var n=t[e];typeof n=="object"&&typeof i[e]=="object"?i[e]=Ns({},i[e],n):i[e]=n}}return i}var ry=function(t,e,n,r,s,o){t.required&&(!n.hasOwnProperty(t.field)||mn(e,o||t.type))&&r.push(ui(s.messages.required,t.fullField))},O8=function(t,e,n,r,s){(/^\s+$/.test(e)||e==="")&&r.push(ui(s.messages.whitespace,t.fullField))},Bh={email:/^(([^<>()\[\]\\.,;:\s@"]+(\.[^<>()\[\]\\.,;:\s@"]+)*)|(".+"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}])|(([a-zA-Z\-0-9\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF]+\.)+[a-zA-Z\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF]{2,}))$/,url:new RegExp("^(?!mailto:)(?:(?:http|https|ftp)://|//)(?:\\S+(?::\\S*)?@)?(?:(?:(?:[1-9]\\d?|1\\d\\d|2[01]\\d|22[0-3])(?:\\.(?:1?\\d{1,2}|2[0-4]\\d|25[0-5])){2}(?:\\.(?:[0-9]\\d?|1\\d\\d|2[0-4]\\d|25[0-4]))|(?:(?:[a-z\\u00a1-\\uffff0-9]+-*)*[a-z\\u00a1-\\uffff0-9]+)(?:\\.(?:[a-z\\u00a1-\\uffff0-9]+-*)*[a-z\\u00a1-\\uffff0-9]+)*(?:\\.(?:[a-z\\u00a1-\\uffff]{2,})))|localhost)(?::\\d{2,5})?(?:(/|\\?|#)[^\\s]*)?$","i"),hex:/^#?([a-f0-9]{6}|[a-f0-9]{3})$/i},Na={integer:function(t){return Na.number(t)&&parseInt(t,10)===t},float:function(t){return Na.number(t)&&!Na.integer(t)},array:function(t){return Array.isArray(t)},regexp:function(t){if(t instanceof RegExp)return!0;try{return!!new RegExp(t)}catch{return!1}},date:function(t){return typeof t.getTime=="function"&&typeof t.getMonth=="function"&&typeof t.getYear=="function"&&!isNaN(t.getTime())},number:function(t){return isNaN(t)?!1:typeof t=="number"},object:function(t){return typeof t=="object"&&!Na.array(t)},method:function(t){return typeof t=="function"},email:function(t){return typeof t=="string"&&t.length<=320&&!!t.match(Bh.email)},url:function(t){return typeof t=="string"&&t.length<=2048&&!!t.match(Bh.url)},hex:function(t){return typeof t=="string"&&!!t.match(Bh.hex)}},T8=function(t,e,n,r,s){if(t.required&&e===void 0){ry(t,e,n,r,s);return}var o=["integer","float","array","regexp","object","method","email","number","date","url","hex"],a=t.type;o.indexOf(a)>-1?Na[a](e)||r.push(ui(s.messages.types[a],t.fullField,t.type)):a&&typeof e!==t.type&&r.push(ui(s.messages.types[a],t.fullField,t.type))},P8=function(t,e,n,r,s){var o=typeof t.len=="number",a=typeof t.min=="number",l=typeof t.max=="number",c=/[\uD800-\uDBFF][\uDC00-\uDFFF]/g,u=e,h=null,f=typeof e=="number",p=typeof e=="string",b=Array.isArray(e);if(f?h="number":p?h="string":b&&(h="array"),!h)return!1;b&&(u=e.length),p&&(u=e.replace(c,"_").length),o?u!==t.len&&r.push(ui(s.messages[h].len,t.fullField,t.len)):a&&!l&&u<t.min?r.push(ui(s.messages[h].min,t.fullField,t.min)):l&&!a&&u>t.max?r.push(ui(s.messages[h].max,t.fullField,t.max)):a&&l&&(u<t.min||u>t.max)&&r.push(ui(s.messages[h].range,t.fullField,t.min,t.max))},xo="enum",k8=function(t,e,n,r,s){t[xo]=Array.isArray(t[xo])?t[xo]:[],t[xo].indexOf(e)===-1&&r.push(ui(s.messages[xo],t.fullField,t[xo].join(", ")))},_8=function(t,e,n,r,s){if(t.pattern){if(t.pattern instanceof RegExp)t.pattern.lastIndex=0,t.pattern.test(e)||r.push(ui(s.messages.pattern.mismatch,t.fullField,e,t.pattern));else if(typeof t.pattern=="string"){var o=new RegExp(t.pattern);o.test(e)||r.push(ui(s.messages.pattern.mismatch,t.fullField,e,t.pattern))}}},pe={required:ry,whitespace:O8,type:T8,range:P8,enum:k8,pattern:_8},D8=function(t,e,n,r,s){var o=[],a=t.required||!t.required&&r.hasOwnProperty(t.field);if(a){if(mn(e,"string")&&!t.required)return n();pe.required(t,e,r,o,s,"string"),mn(e,"string")||(pe.type(t,e,r,o,s),pe.range(t,e,r,o,s),pe.pattern(t,e,r,o,s),t.whitespace===!0&&pe.whitespace(t,e,r,o,s))}n(o)},N8=function(t,e,n,r,s){var o=[],a=t.required||!t.required&&r.hasOwnProperty(t.field);if(a){if(mn(e)&&!t.required)return n();pe.required(t,e,r,o,s),e!==void 0&&pe.type(t,e,r,o,s)}n(o)},$8=function(t,e,n,r,s){var o=[],a=t.required||!t.required&&r.hasOwnProperty(t.field);if(a){if(e===""&&(e=void 0),mn(e)&&!t.required)return n();pe.required(t,e,r,o,s),e!==void 0&&(pe.type(t,e,r,o,s),pe.range(t,e,r,o,s))}n(o)},F8=function(t,e,n,r,s){var o=[],a=t.required||!t.required&&r.hasOwnProperty(t.field);if(a){if(mn(e)&&!t.required)return n();pe.required(t,e,r,o,s),e!==void 0&&pe.type(t,e,r,o,s)}n(o)},L8=function(t,e,n,r,s){var o=[],a=t.required||!t.required&&r.hasOwnProperty(t.field);if(a){if(mn(e)&&!t.required)return n();pe.required(t,e,r,o,s),mn(e)||pe.type(t,e,r,o,s)}n(o)},I8=function(t,e,n,r,s){var o=[],a=t.required||!t.required&&r.hasOwnProperty(t.field);if(a){if(mn(e)&&!t.required)return n();pe.required(t,e,r,o,s),e!==void 0&&(pe.type(t,e,r,o,s),pe.range(t,e,r,o,s))}n(o)},z8=function(t,e,n,r,s){var o=[],a=t.required||!t.required&&r.hasOwnProperty(t.field);if(a){if(mn(e)&&!t.required)return n();pe.required(t,e,r,o,s),e!==void 0&&(pe.type(t,e,r,o,s),pe.range(t,e,r,o,s))}n(o)},j8=function(t,e,n,r,s){var o=[],a=t.required||!t.required&&r.hasOwnProperty(t.field);if(a){if(e==null&&!t.required)return n();pe.required(t,e,r,o,s,"array"),e!=null&&(pe.type(t,e,r,o,s),pe.range(t,e,r,o,s))}n(o)},B8=function(t,e,n,r,s){var o=[],a=t.required||!t.required&&r.hasOwnProperty(t.field);if(a){if(mn(e)&&!t.required)return n();pe.required(t,e,r,o,s),e!==void 0&&pe.type(t,e,r,o,s)}n(o)},R8="enum",V8=function(t,e,n,r,s){var o=[],a=t.required||!t.required&&r.hasOwnProperty(t.field);if(a){if(mn(e)&&!t.required)return n();pe.required(t,e,r,o,s),e!==void 0&&pe[R8](t,e,r,o,s)}n(o)},H8=function(t,e,n,r,s){var o=[],a=t.required||!t.required&&r.hasOwnProperty(t.field);if(a){if(mn(e,"string")&&!t.required)return n();pe.required(t,e,r,o,s),mn(e,"string")||pe.pattern(t,e,r,o,s)}n(o)},G8=function(t,e,n,r,s){var o=[],a=t.required||!t.required&&r.hasOwnProperty(t.field);if(a){if(mn(e,"date")&&!t.required)return n();if(pe.required(t,e,r,o,s),!mn(e,"date")){var l;e instanceof Date?l=e:l=new Date(e),pe.type(t,l,r,o,s),l&&pe.range(t,l.getTime(),r,o,s)}}n(o)},q8=function(t,e,n,r,s){var o=[],a=Array.isArray(e)?"array":typeof e;pe.required(t,e,r,o,s,a),n(o)},Rh=function(t,e,n,r,s){var o=t.type,a=[],l=t.required||!t.required&&r.hasOwnProperty(t.field);if(l){if(mn(e,o)&&!t.required)return n();pe.required(t,e,r,a,s,o),mn(e,o)||pe.type(t,e,r,a,s)}n(a)},U8=function(t,e,n,r,s){var o=[],a=t.required||!t.required&&r.hasOwnProperty(t.field);if(a){if(mn(e)&&!t.required)return n();pe.required(t,e,r,o,s)}n(o)},Xa={string:D8,method:N8,number:$8,boolean:F8,regexp:L8,integer:I8,float:z8,array:j8,object:B8,enum:V8,pattern:H8,date:G8,url:Rh,hex:Rh,email:Rh,required:q8,any:U8};function _d(){return{default:"Validation error on field %s",required:"%s is required",enum:"%s must be one of %s",whitespace:"%s cannot be empty",date:{format:"%s date %s is invalid for format %s",parse:"%s date could not be parsed, %s is invalid ",invalid:"%s date %s is invalid"},types:{string:"%s is not a %s",method:"%s is not a %s (function)",array:"%s is not an %s",object:"%s is not an %s",number:"%s is not a %s",date:"%s is not a %s",boolean:"%s is not a %s",integer:"%s is not an %s",float:"%s is not a %s",regexp:"%s is not a valid %s",email:"%s is not a valid %s",url:"%s is not a valid %s",hex:"%s is not a valid %s"},string:{len:"%s must be exactly %s characters",min:"%s must be at least %s characters",max:"%s cannot be longer than %s characters",range:"%s must be between %s and %s characters"},number:{len:"%s must equal %s",min:"%s cannot be less than %s",max:"%s cannot be greater than %s",range:"%s must be between %s and %s"},array:{len:"%s must be exactly %s in length",min:"%s cannot be less than %s in length",max:"%s cannot be greater than %s in length",range:"%s must be between %s and %s in length"},pattern:{mismatch:"%s value %s does not match pattern %s"},clone:function(){var t=JSON.parse(JSON.stringify(this));return t.clone=this.clone,t}}}var Dd=_d(),Bl=function(){function i(e){this.rules=null,this._messages=Dd,this.define(e)}var t=i.prototype;return t.define=function(n){var r=this;if(!n)throw new Error("Cannot configure a schema with no rules");if(typeof n!="object"||Array.isArray(n))throw new Error("Rules must be an object");this.rules={},Object.keys(n).forEach(function(s){var o=n[s];r.rules[s]=Array.isArray(o)?o:[o]})},t.messages=function(n){return n&&(this._messages=y2(_d(),n)),this._messages},t.validate=function(n,r,s){var o=this;r===void 0&&(r={}),s===void 0&&(s=function(){});var a=n,l=r,c=s;if(typeof l=="function"&&(c=l,l={}),!this.rules||Object.keys(this.rules).length===0)return c&&c(null,a),Promise.resolve(a);function u(v){var C=[],x={};function S(O){if(Array.isArray(O)){var k;C=(k=C).concat.apply(k,O)}else C.push(O)}for(var E=0;E<v.length;E++)S(v[E]);C.length?(x=kd(C),c(C,x)):c(null,a)}if(l.messages){var h=this.messages();h===Dd&&(h=_d()),y2(h,l.messages),l.messages=h}else l.messages=this.messages();var f={},p=l.keys||Object.keys(this.rules);p.forEach(function(v){var C=o.rules[v],x=a[v];C.forEach(function(S){var E=S;typeof E.transform=="function"&&(a===n&&(a=Ns({},a)),x=a[v]=E.transform(x)),typeof E=="function"?E={validator:E}:E=Ns({},E),E.validator=o.getValidationMethod(E),E.validator&&(E.field=v,E.fullField=E.fullField||v,E.type=o.getType(E),f[v]=f[v]||[],f[v].push({rule:E,value:x,source:a,field:v}))})});var b={};return E8(f,l,function(v,C){var x=v.rule,S=(x.type==="object"||x.type==="array")&&(typeof x.fields=="object"||typeof x.defaultField=="object");S=S&&(x.required||!x.required&&v.value),x.field=v.field;function E(m,T){return Ns({},T,{fullField:x.fullField+"."+m,fullFields:x.fullFields?[].concat(x.fullFields,[m]):[m]})}function O(m){m===void 0&&(m=[]);var T=Array.isArray(m)?m:[m];!l.suppressWarning&&T.length&&i.warning("async-validator:",T),T.length&&x.message!==void 0&&(T=[].concat(x.message));var D=T.map(v2(x,a));if(l.first&&D.length)return b[x.field]=1,C(D);if(!S)C(D);else{if(x.required&&!v.value)return x.message!==void 0?D=[].concat(x.message).map(v2(x,a)):l.error&&(D=[l.error(x,ui(l.messages.required,x.field))]),C(D);var z={};x.defaultField&&Object.keys(v.value).map(function(R){z[R]=x.defaultField}),z=Ns({},z,v.rule.fields);var H={};Object.keys(z).forEach(function(R){var rt=z[R],st=Array.isArray(rt)?rt:[rt];H[R]=st.map(E.bind(null,R))});var q=new i(H);q.messages(l.messages),v.rule.options&&(v.rule.options.messages=l.messages,v.rule.options.error=l.error),q.validate(v.value,v.rule.options||l,function(R){var rt=[];D&&D.length&&rt.push.apply(rt,D),R&&R.length&&rt.push.apply(rt,R),C(rt.length?rt:null)})}}var k;if(x.asyncValidator)k=x.asyncValidator(x,v.value,O,v.source,l);else if(x.validator){try{k=x.validator(x,v.value,O,v.source,l)}catch(m){console.error==null||console.error(m),setTimeout(function(){throw m},0),O(m.message)}k===!0?O():k===!1?O(typeof x.message=="function"?x.message(x.fullField||x.field):x.message||(x.fullField||x.field)+" fails"):k instanceof Array?O(k):k instanceof Error&&O(k.message)}k&&k.then&&k.then(function(){return O()},function(m){return O(m)})},function(v){u(v)},a)},t.getType=function(n){if(n.type===void 0&&n.pattern instanceof RegExp&&(n.type="pattern"),typeof n.validator!="function"&&n.type&&!Xa.hasOwnProperty(n.type))throw new Error(ui("Unknown rule type %s",n.type));return n.type||"string"},t.getValidationMethod=function(n){if(typeof n.validator=="function")return n.validator;var r=Object.keys(n),s=r.indexOf("message");return s!==-1&&r.splice(s,1),r.length===1&&r[0]==="required"?Xa.required:Xa[this.getType(n)]||void 0},i}();Bl.register=function(t,e){if(typeof e!="function")throw new Error("Cannot register a validator by type, validator is not a function");Xa[t]=e};Bl.warning=x8;Bl.messages=Dd;Bl.validators=Xa;const W8=["","error","validating","success"],X8=Hn({label:String,labelWidth:{type:[String,Number],default:""},prop:{type:qe([String,Array])},required:{type:Boolean,default:void 0},rules:{type:qe([Object,Array])},error:String,validateStatus:{type:String,values:W8},for:String,inlineMessage:{type:[String,Boolean],default:""},showMessage:{type:Boolean,default:!0},size:{type:String,values:zu}}),x2="ElLabelWrap";var Y8=ze({name:x2,props:{isAutoWidth:Boolean,updateAll:Boolean},setup(i,{slots:t}){const e=Ve(co,void 0);Ve(Zr)||AP(x2,"usage: <el-form-item><label-wrap /></el-form-item>");const r=Rn("form"),s=Mt(),o=Mt(0),a=()=>{var u;if((u=s.value)!=null&&u.firstElementChild){const h=window.getComputedStyle(s.value.firstElementChild).width;return Math.ceil(Number.parseFloat(h))}else return 0},l=(u="update")=>{Yn(()=>{t.default&&i.isAutoWidth&&(u==="update"?o.value=a():u==="remove"&&(e==null||e.deregisterLabelWidth(o.value)))})},c=()=>l("update");return Fn(()=>{c()}),ar(()=>{l("remove")}),pf(()=>c()),Qt(o,(u,h)=>{i.updateAll&&(e==null||e.registerLabelWidth(u,h))}),sb(vt(()=>{var u,h;return(h=(u=s.value)==null?void 0:u.firstElementChild)!=null?h:null}),c),()=>{var u,h;if(!t)return null;const{isAutoWidth:f}=i;if(f){const p=e==null?void 0:e.autoLabelWidth,b={};if(p&&p!=="auto"){const v=Math.max(0,Number.parseInt(p,10)-o.value),C=e.labelPosition==="left"?"marginRight":"marginLeft";v&&(b[C]=`${v}px`)}return Jt("div",{ref:s,class:[r.be("item","label-wrap")],style:b},[(u=t.default)==null?void 0:u.call(t)])}else return Jt(nn,{ref:s},[(h=t.default)==null?void 0:h.call(t)])}}});const K8=["role","aria-labelledby"],J8={name:"ElFormItem"},Z8=ze(en(fe({},J8),{props:X8,setup(i,{expose:t}){const e=i,n=Cf(),r=Ve(co,void 0),s=Ve(Zr,void 0),o=Il(void 0,{formItem:!1}),a=Rn("form-item"),l=qf().value,c=Mt([]),u=Mt(""),h=k3(u,100),f=Mt(""),p=Mt();let b,v=!1;const C=vt(()=>{if((r==null?void 0:r.labelPosition)==="top")return{};const at=Ed(e.labelWidth||(r==null?void 0:r.labelWidth)||"");return at?{width:at}:{}}),x=vt(()=>{if((r==null?void 0:r.labelPosition)==="top"||(r==null?void 0:r.inline))return{};if(!e.label&&!e.labelWidth&&z)return{};const at=Ed(e.labelWidth||(r==null?void 0:r.labelWidth)||"");return!e.label&&!n.label?{marginLeft:at}:{}}),S=vt(()=>[a.b(),a.m(o.value),a.is("error",u.value==="error"),a.is("validating",u.value==="validating"),a.is("success",u.value==="success"),a.is("required",st.value||e.required),a.is("no-asterisk",r==null?void 0:r.hideRequiredAsterisk),{[a.m("feedback")]:r==null?void 0:r.statusIcon}]),E=vt(()=>al(e.inlineMessage)?e.inlineMessage:(r==null?void 0:r.inlineMessage)||!1),O=vt(()=>[a.e("error"),{[a.em("error","inline")]:E.value}]),k=vt(()=>e.prop?Oe(e.prop)?e.prop:e.prop.join("."):""),m=vt(()=>!!(e.label||n.label)),T=vt(()=>e.for||c.value.length===1?c.value[0]:void 0),D=vt(()=>!T.value&&m.value),z=!!s,H=vt(()=>{const at=r==null?void 0:r.model;if(!(!at||!e.prop))return _h(at,e.prop).value}),q=vt(()=>{const at=e.rules?bd(e.rules):[],Tt=r==null?void 0:r.rules;if(Tt&&e.prop){const Ut=_h(Tt,e.prop).value;Ut&&at.push(...bd(Ut))}return e.required!==void 0&&at.push({required:!!e.required}),at}),R=vt(()=>q.value.length>0),rt=at=>q.value.filter(Ut=>!Ut.trigger||!at?!0:Array.isArray(Ut.trigger)?Ut.trigger.includes(at):Ut.trigger===at).map(hn=>{var bn=hn,{trigger:Ut}=bn,te=fg(bn,["trigger"]);return te}),st=vt(()=>q.value.some(at=>at.required===!0)),j=vt(()=>{var at;return h.value==="error"&&e.showMessage&&((at=r==null?void 0:r.showMessage)!=null?at:!0)}),B=vt(()=>`${e.label||""}${(r==null?void 0:r.labelSuffix)||""}`),tt=at=>{u.value=at},bt=at=>{var Tt,Ut;const{errors:te,fields:hn}=at;(!te||!hn)&&console.error(at),tt("error"),f.value=te?(Ut=(Tt=te==null?void 0:te[0])==null?void 0:Tt.message)!=null?Ut:`${e.prop} is required`:"",r==null||r.emit("validate",e.prop,!1,f.value)},Ot=()=>{tt("success"),r==null||r.emit("validate",e.prop,!0,"")},Gt=async at=>{const Tt=k.value;return new Bl({[Tt]:at}).validate({[Tt]:H.value},{firstFields:!0}).then(()=>(Ot(),!0)).catch(te=>(bt(te),Promise.reject(te)))},pt=async(at,Tt)=>{if(v)return v=!1,!1;const Ut=Vt(Tt);if(!R.value)return Tt==null||Tt(!1),!1;const te=rt(at);return te.length===0?(Tt==null||Tt(!0),!0):(tt("validating"),Gt(te).then(()=>(Tt==null||Tt(!0),!0)).catch(hn=>{const{fields:bn}=hn;return Tt==null||Tt(!1,bn),Ut?!1:Promise.reject(bn)}))},$t=()=>{tt(""),f.value=""},Dt=async()=>{const at=r==null?void 0:r.model;if(!at||!e.prop)return;const Tt=_h(at,e.prop);ji(Tt.value,b)||(v=!0),Tt.value=Gs(b),await Yn(),$t()},_t=at=>{c.value.includes(at)||c.value.push(at)},zt=at=>{c.value=c.value.filter(Tt=>Tt!==at)};Qt(()=>e.error,at=>{f.value=at||"",tt(at?"error":"")},{immediate:!0}),Qt(()=>e.validateStatus,at=>tt(at||""));const de=eo(en(fe({},hf(e)),{$el:p,size:o,validateState:u,labelId:l,inputIds:c,isGroup:D,addInputId:_t,removeInputId:zt,resetField:Dt,clearValidate:$t,validate:pt}));return Bi(Zr,de),Fn(()=>{e.prop&&(r==null||r.addField(de),b=Gs(H.value))}),ar(()=>{r==null||r.removeField(de)}),t({size:o,validateMessage:f,validateState:u,validate:pt,clearValidate:$t,resetField:Dt}),(at,Tt)=>{var Ut;return Et(),Zt("div",{ref_key:"formItemRef",ref:p,class:qt(U(S)),role:U(D)?"group":void 0,"aria-labelledby":U(D)?U(l):void 0},[Jt(U(Y8),{"is-auto-width":U(C).width==="auto","update-all":((Ut=U(r))==null?void 0:Ut.labelWidth)==="auto"},{default:we(()=>[U(m)?(Et(),Me(_s(U(T)?"label":"div"),{key:0,id:U(l),for:U(T),class:qt(U(a).e("label")),style:Mn(U(C))},{default:we(()=>[Ze(at.$slots,"label",{label:U(B)},()=>[tr(Ki(U(B)),1)])]),_:3},8,["id","for","class","style"])):ye("v-if",!0)]),_:3},8,["is-auto-width","update-all"]),Yt("div",{class:qt(U(a).e("content")),style:Mn(U(x))},[Ze(at.$slots,"default"),Jt(Au,{name:`${U(a).namespace.value}-zoom-in-top`},{default:we(()=>[U(j)?Ze(at.$slots,"error",{key:0,error:f.value},()=>[Yt("div",{class:qt(U(O))},Ki(f.value),3)]):ye("v-if",!0)]),_:3},8,["name"])],6)],10,K8)}}}));var sy=un(Z8,[["__file","/home/runner/work/element-plus/element-plus/packages/components/form/src/form-item.vue"]]);const Q8=lo(g8,{FormItem:sy}),tN=Sv(sy),eN={class:"form-detail"},nN=Yt("div",{class:"title"},"\u4FEE\u6539\u5C5E\u6027",-1),iN={class:"content"},rN={key:1,class:"demo-color-block"},sN={class:"demonstration"},oN=ze({__name:"FromDettail",props:["detailData"],setup(i){return(t,e)=>{const n=Nv,r=iy,s=tN,o=Q8;return Et(),Zt("div",eN,[nN,Yt("div",iN,[Jt(o,{"label-width":"auto"},{default:we(()=>[(Et(!0),Zt(nn,null,Fm(i.detailData,a=>(Et(),Me(s,{label:a.title,prop:a.key},{default:we(()=>[a.key!=="color"?(Et(),Me(n,{key:0,modelValue:a.value,"onUpdate:modelValue":l=>a.value=l},null,8,["modelValue","onUpdate:modelValue"])):(Et(),Zt("div",rN,[Yt("span",sN,Ki(a.title),1),Jt(r,{modelValue:a.value,"onUpdate:modelValue":l=>a.value=l},null,8,["modelValue","onUpdate:modelValue"])]))]),_:2},1032,["label","prop"]))),256))]),_:1})])])}}});var oy={exports:{}};/*!
 * jQuery JavaScript Library v3.6.0
 * https://jquery.com/
 *
 * Includes Sizzle.js
 * https://sizzlejs.com/
 *
 * Copyright OpenJS Foundation and other contributors
 * Released under the MIT license
 * https://jquery.org/license
 *
 * Date: 2021-03-02T17:08Z
 */(function(i){(function(t,e){i.exports=t.document?e(t,!0):function(n){if(!n.document)throw new Error("jQuery requires a window with a document");return e(n)}})(typeof window!="undefined"?window:kD,function(t,e){var n=[],r=Object.getPrototypeOf,s=n.slice,o=n.flat?function(d){return n.flat.call(d)}:function(d){return n.concat.apply([],d)},a=n.push,l=n.indexOf,c={},u=c.toString,h=c.hasOwnProperty,f=h.toString,p=f.call(Object),b={},v=function(g){return typeof g=="function"&&typeof g.nodeType!="number"&&typeof g.item!="function"},C=function(g){return g!=null&&g===g.window},x=t.document,S={type:!0,src:!0,nonce:!0,noModule:!0};function E(d,g,y){y=y||x;var w,A,M=y.createElement("script");if(M.text=d,g)for(w in S)A=g[w]||g.getAttribute&&g.getAttribute(w),A&&M.setAttribute(w,A);y.head.appendChild(M).parentNode.removeChild(M)}function O(d){return d==null?d+"":typeof d=="object"||typeof d=="function"?c[u.call(d)]||"object":typeof d}var k="3.6.0",m=function(d,g){return new m.fn.init(d,g)};m.fn=m.prototype={jquery:k,constructor:m,length:0,toArray:function(){return s.call(this)},get:function(d){return d==null?s.call(this):d<0?this[d+this.length]:this[d]},pushStack:function(d){var g=m.merge(this.constructor(),d);return g.prevObject=this,g},each:function(d){return m.each(this,d)},map:function(d){return this.pushStack(m.map(this,function(g,y){return d.call(g,y,g)}))},slice:function(){return this.pushStack(s.apply(this,arguments))},first:function(){return this.eq(0)},last:function(){return this.eq(-1)},even:function(){return this.pushStack(m.grep(this,function(d,g){return(g+1)%2}))},odd:function(){return this.pushStack(m.grep(this,function(d,g){return g%2}))},eq:function(d){var g=this.length,y=+d+(d<0?g:0);return this.pushStack(y>=0&&y<g?[this[y]]:[])},end:function(){return this.prevObject||this.constructor()},push:a,sort:n.sort,splice:n.splice},m.extend=m.fn.extend=function(){var d,g,y,w,A,M,P=arguments[0]||{},L=1,I=arguments.length,W=!1;for(typeof P=="boolean"&&(W=P,P=arguments[L]||{},L++),typeof P!="object"&&!v(P)&&(P={}),L===I&&(P=this,L--);L<I;L++)if((d=arguments[L])!=null)for(g in d)w=d[g],!(g==="__proto__"||P===w)&&(W&&w&&(m.isPlainObject(w)||(A=Array.isArray(w)))?(y=P[g],A&&!Array.isArray(y)?M=[]:!A&&!m.isPlainObject(y)?M={}:M=y,A=!1,P[g]=m.extend(W,M,w)):w!==void 0&&(P[g]=w));return P},m.extend({expando:"jQuery"+(k+Math.random()).replace(/\D/g,""),isReady:!0,error:function(d){throw new Error(d)},noop:function(){},isPlainObject:function(d){var g,y;return!d||u.call(d)!=="[object Object]"?!1:(g=r(d),g?(y=h.call(g,"constructor")&&g.constructor,typeof y=="function"&&f.call(y)===p):!0)},isEmptyObject:function(d){var g;for(g in d)return!1;return!0},globalEval:function(d,g,y){E(d,{nonce:g&&g.nonce},y)},each:function(d,g){var y,w=0;if(T(d))for(y=d.length;w<y&&g.call(d[w],w,d[w])!==!1;w++);else for(w in d)if(g.call(d[w],w,d[w])===!1)break;return d},makeArray:function(d,g){var y=g||[];return d!=null&&(T(Object(d))?m.merge(y,typeof d=="string"?[d]:d):a.call(y,d)),y},inArray:function(d,g,y){return g==null?-1:l.call(g,d,y)},merge:function(d,g){for(var y=+g.length,w=0,A=d.length;w<y;w++)d[A++]=g[w];return d.length=A,d},grep:function(d,g,y){for(var w,A=[],M=0,P=d.length,L=!y;M<P;M++)w=!g(d[M],M),w!==L&&A.push(d[M]);return A},map:function(d,g,y){var w,A,M=0,P=[];if(T(d))for(w=d.length;M<w;M++)A=g(d[M],M,y),A!=null&&P.push(A);else for(M in d)A=g(d[M],M,y),A!=null&&P.push(A);return o(P)},guid:1,support:b}),typeof Symbol=="function"&&(m.fn[Symbol.iterator]=n[Symbol.iterator]),m.each("Boolean Number String Function Array Date RegExp Object Error Symbol".split(" "),function(d,g){c["[object "+g+"]"]=g.toLowerCase()});function T(d){var g=!!d&&"length"in d&&d.length,y=O(d);return v(d)||C(d)?!1:y==="array"||g===0||typeof g=="number"&&g>0&&g-1 in d}var D=function(d){var g,y,w,A,M,P,L,I,W,Z,lt,J,et,Ft,Kt,Lt,dn,sn,ni,Pe="sizzle"+1*new Date,Xt=d.document,qn=0,ve=0,Ue=Zl(),Ca=Zl(),Yl=Zl(),ii=Zl(),fs=function(_,F){return _===F&&(lt=!0),0},ps={}.hasOwnProperty,Un=[],Dr=Un.pop,mi=Un.push,Nr=Un.push,eg=Un.slice,gs=function(_,F){for(var V=0,it=_.length;V<it;V++)if(_[V]===F)return V;return-1},hh="checked|selected|async|autofocus|autoplay|controls|defer|disabled|hidden|ismap|loop|multiple|open|readonly|required|scoped",Ae="[\\x20\\t\\r\\n\\f]",ms="(?:\\\\[\\da-fA-F]{1,6}"+Ae+"?|\\\\[^\\r\\n\\f]|[\\w-]|[^\0-\\x7f])+",ng="\\["+Ae+"*("+ms+")(?:"+Ae+"*([*^$|!~]?=)"+Ae+`*(?:'((?:\\\\.|[^\\\\'])*)'|"((?:\\\\.|[^\\\\"])*)"|(`+ms+"))|)"+Ae+"*\\]",dh=":("+ms+`)(?:\\((('((?:\\\\.|[^\\\\'])*)'|"((?:\\\\.|[^\\\\"])*)")|((?:\\\\.|[^\\\\()[\\]]|`+ng+")*)|.*)\\)|)",wx=new RegExp(Ae+"+","g"),Kl=new RegExp("^"+Ae+"+|((?:^|[^\\\\])(?:\\\\.)*)"+Ae+"+$","g"),Sx=new RegExp("^"+Ae+"*,"+Ae+"*"),ig=new RegExp("^"+Ae+"*([>+~]|"+Ae+")"+Ae+"*"),Ex=new RegExp(Ae+"|>"),Ax=new RegExp(dh),Mx=new RegExp("^"+ms+"$"),Jl={ID:new RegExp("^#("+ms+")"),CLASS:new RegExp("^\\.("+ms+")"),TAG:new RegExp("^("+ms+"|[*])"),ATTR:new RegExp("^"+ng),PSEUDO:new RegExp("^"+dh),CHILD:new RegExp("^:(only|first|last|nth|nth-last)-(child|of-type)(?:\\("+Ae+"*(even|odd|(([+-]|)(\\d*)n|)"+Ae+"*(?:([+-]|)"+Ae+"*(\\d+)|))"+Ae+"*\\)|)","i"),bool:new RegExp("^(?:"+hh+")$","i"),needsContext:new RegExp("^"+Ae+"*[>+~]|:(even|odd|eq|gt|lt|nth|first|last)(?:\\("+Ae+"*((?:-\\d)?\\d*)"+Ae+"*\\)|)(?=[^-]|$)","i")},Ox=/HTML$/i,Tx=/^(?:input|select|textarea|button)$/i,Px=/^h\d$/i,wa=/^[^{]+\{\s*\[native \w/,kx=/^(?:#([\w-]+)|(\w+)|\.([\w-]+))$/,fh=/[+~]/,ur=new RegExp("\\\\[\\da-fA-F]{1,6}"+Ae+"?|\\\\([^\\r\\n\\f])","g"),hr=function(_,F){var V="0x"+_.slice(1)-65536;return F||(V<0?String.fromCharCode(V+65536):String.fromCharCode(V>>10|55296,V&1023|56320))},rg=/([\0-\x1f\x7f]|^-?\d)|^-$|[^\0-\x1f\x7f-\uFFFF\w-]/g,sg=function(_,F){return F?_==="\0"?"\uFFFD":_.slice(0,-1)+"\\"+_.charCodeAt(_.length-1).toString(16)+" ":"\\"+_},og=function(){J()},_x=tc(function(_){return _.disabled===!0&&_.nodeName.toLowerCase()==="fieldset"},{dir:"parentNode",next:"legend"});try{Nr.apply(Un=eg.call(Xt.childNodes),Xt.childNodes),Un[Xt.childNodes.length].nodeType}catch{Nr={apply:Un.length?function(F,V){mi.apply(F,eg.call(V))}:function(F,V){for(var it=F.length,X=0;F[it++]=V[X++];);F.length=it-1}}}function ke(_,F,V,it){var X,ot,ct,yt,wt,jt,It,Rt=F&&F.ownerDocument,ce=F?F.nodeType:9;if(V=V||[],typeof _!="string"||!_||ce!==1&&ce!==9&&ce!==11)return V;if(!it&&(J(F),F=F||et,Kt)){if(ce!==11&&(wt=kx.exec(_)))if(X=wt[1]){if(ce===9)if(ct=F.getElementById(X)){if(ct.id===X)return V.push(ct),V}else return V;else if(Rt&&(ct=Rt.getElementById(X))&&ni(F,ct)&&ct.id===X)return V.push(ct),V}else{if(wt[2])return Nr.apply(V,F.getElementsByTagName(_)),V;if((X=wt[3])&&y.getElementsByClassName&&F.getElementsByClassName)return Nr.apply(V,F.getElementsByClassName(X)),V}if(y.qsa&&!ii[_+" "]&&(!Lt||!Lt.test(_))&&(ce!==1||F.nodeName.toLowerCase()!=="object")){if(It=_,Rt=F,ce===1&&(Ex.test(_)||ig.test(_))){for(Rt=fh.test(_)&&gh(F.parentNode)||F,(Rt!==F||!y.scope)&&((yt=F.getAttribute("id"))?yt=yt.replace(rg,sg):F.setAttribute("id",yt=Pe)),jt=P(_),ot=jt.length;ot--;)jt[ot]=(yt?"#"+yt:":scope")+" "+Ql(jt[ot]);It=jt.join(",")}try{return Nr.apply(V,Rt.querySelectorAll(It)),V}catch{ii(_,!0)}finally{yt===Pe&&F.removeAttribute("id")}}}return I(_.replace(Kl,"$1"),F,V,it)}function Zl(){var _=[];function F(V,it){return _.push(V+" ")>w.cacheLength&&delete F[_.shift()],F[V+" "]=it}return F}function _i(_){return _[Pe]=!0,_}function Di(_){var F=et.createElement("fieldset");try{return!!_(F)}catch{return!1}finally{F.parentNode&&F.parentNode.removeChild(F),F=null}}function ph(_,F){for(var V=_.split("|"),it=V.length;it--;)w.attrHandle[V[it]]=F}function ag(_,F){var V=F&&_,it=V&&_.nodeType===1&&F.nodeType===1&&_.sourceIndex-F.sourceIndex;if(it)return it;if(V){for(;V=V.nextSibling;)if(V===F)return-1}return _?1:-1}function Dx(_){return function(F){var V=F.nodeName.toLowerCase();return V==="input"&&F.type===_}}function Nx(_){return function(F){var V=F.nodeName.toLowerCase();return(V==="input"||V==="button")&&F.type===_}}function lg(_){return function(F){return"form"in F?F.parentNode&&F.disabled===!1?"label"in F?"label"in F.parentNode?F.parentNode.disabled===_:F.disabled===_:F.isDisabled===_||F.isDisabled!==!_&&_x(F)===_:F.disabled===_:"label"in F?F.disabled===_:!1}}function bs(_){return _i(function(F){return F=+F,_i(function(V,it){for(var X,ot=_([],V.length,F),ct=ot.length;ct--;)V[X=ot[ct]]&&(V[X]=!(it[X]=V[X]))})})}function gh(_){return _&&typeof _.getElementsByTagName!="undefined"&&_}y=ke.support={},M=ke.isXML=function(_){var F=_&&_.namespaceURI,V=_&&(_.ownerDocument||_).documentElement;return!Ox.test(F||V&&V.nodeName||"HTML")},J=ke.setDocument=function(_){var F,V,it=_?_.ownerDocument||_:Xt;return it==et||it.nodeType!==9||!it.documentElement||(et=it,Ft=et.documentElement,Kt=!M(et),Xt!=et&&(V=et.defaultView)&&V.top!==V&&(V.addEventListener?V.addEventListener("unload",og,!1):V.attachEvent&&V.attachEvent("onunload",og)),y.scope=Di(function(X){return Ft.appendChild(X).appendChild(et.createElement("div")),typeof X.querySelectorAll!="undefined"&&!X.querySelectorAll(":scope fieldset div").length}),y.attributes=Di(function(X){return X.className="i",!X.getAttribute("className")}),y.getElementsByTagName=Di(function(X){return X.appendChild(et.createComment("")),!X.getElementsByTagName("*").length}),y.getElementsByClassName=wa.test(et.getElementsByClassName),y.getById=Di(function(X){return Ft.appendChild(X).id=Pe,!et.getElementsByName||!et.getElementsByName(Pe).length}),y.getById?(w.filter.ID=function(X){var ot=X.replace(ur,hr);return function(ct){return ct.getAttribute("id")===ot}},w.find.ID=function(X,ot){if(typeof ot.getElementById!="undefined"&&Kt){var ct=ot.getElementById(X);return ct?[ct]:[]}}):(w.filter.ID=function(X){var ot=X.replace(ur,hr);return function(ct){var yt=typeof ct.getAttributeNode!="undefined"&&ct.getAttributeNode("id");return yt&&yt.value===ot}},w.find.ID=function(X,ot){if(typeof ot.getElementById!="undefined"&&Kt){var ct,yt,wt,jt=ot.getElementById(X);if(jt){if(ct=jt.getAttributeNode("id"),ct&&ct.value===X)return[jt];for(wt=ot.getElementsByName(X),yt=0;jt=wt[yt++];)if(ct=jt.getAttributeNode("id"),ct&&ct.value===X)return[jt]}return[]}}),w.find.TAG=y.getElementsByTagName?function(X,ot){if(typeof ot.getElementsByTagName!="undefined")return ot.getElementsByTagName(X);if(y.qsa)return ot.querySelectorAll(X)}:function(X,ot){var ct,yt=[],wt=0,jt=ot.getElementsByTagName(X);if(X==="*"){for(;ct=jt[wt++];)ct.nodeType===1&&yt.push(ct);return yt}return jt},w.find.CLASS=y.getElementsByClassName&&function(X,ot){if(typeof ot.getElementsByClassName!="undefined"&&Kt)return ot.getElementsByClassName(X)},dn=[],Lt=[],(y.qsa=wa.test(et.querySelectorAll))&&(Di(function(X){var ot;Ft.appendChild(X).innerHTML="<a id='"+Pe+"'></a><select id='"+Pe+"-\r\\' msallowcapture=''><option selected=''></option></select>",X.querySelectorAll("[msallowcapture^='']").length&&Lt.push("[*^$]="+Ae+`*(?:''|"")`),X.querySelectorAll("[selected]").length||Lt.push("\\["+Ae+"*(?:value|"+hh+")"),X.querySelectorAll("[id~="+Pe+"-]").length||Lt.push("~="),ot=et.createElement("input"),ot.setAttribute("name",""),X.appendChild(ot),X.querySelectorAll("[name='']").length||Lt.push("\\["+Ae+"*name"+Ae+"*="+Ae+`*(?:''|"")`),X.querySelectorAll(":checked").length||Lt.push(":checked"),X.querySelectorAll("a#"+Pe+"+*").length||Lt.push(".#.+[+~]"),X.querySelectorAll("\\\f"),Lt.push("[\\r\\n\\f]")}),Di(function(X){X.innerHTML="<a href='' disabled='disabled'></a><select disabled='disabled'><option/></select>";var ot=et.createElement("input");ot.setAttribute("type","hidden"),X.appendChild(ot).setAttribute("name","D"),X.querySelectorAll("[name=d]").length&&Lt.push("name"+Ae+"*[*^$|!~]?="),X.querySelectorAll(":enabled").length!==2&&Lt.push(":enabled",":disabled"),Ft.appendChild(X).disabled=!0,X.querySelectorAll(":disabled").length!==2&&Lt.push(":enabled",":disabled"),X.querySelectorAll("*,:x"),Lt.push(",.*:")})),(y.matchesSelector=wa.test(sn=Ft.matches||Ft.webkitMatchesSelector||Ft.mozMatchesSelector||Ft.oMatchesSelector||Ft.msMatchesSelector))&&Di(function(X){y.disconnectedMatch=sn.call(X,"*"),sn.call(X,"[s!='']:x"),dn.push("!=",dh)}),Lt=Lt.length&&new RegExp(Lt.join("|")),dn=dn.length&&new RegExp(dn.join("|")),F=wa.test(Ft.compareDocumentPosition),ni=F||wa.test(Ft.contains)?function(X,ot){var ct=X.nodeType===9?X.documentElement:X,yt=ot&&ot.parentNode;return X===yt||!!(yt&&yt.nodeType===1&&(ct.contains?ct.contains(yt):X.compareDocumentPosition&&X.compareDocumentPosition(yt)&16))}:function(X,ot){if(ot){for(;ot=ot.parentNode;)if(ot===X)return!0}return!1},fs=F?function(X,ot){if(X===ot)return lt=!0,0;var ct=!X.compareDocumentPosition-!ot.compareDocumentPosition;return ct||(ct=(X.ownerDocument||X)==(ot.ownerDocument||ot)?X.compareDocumentPosition(ot):1,ct&1||!y.sortDetached&&ot.compareDocumentPosition(X)===ct?X==et||X.ownerDocument==Xt&&ni(Xt,X)?-1:ot==et||ot.ownerDocument==Xt&&ni(Xt,ot)?1:Z?gs(Z,X)-gs(Z,ot):0:ct&4?-1:1)}:function(X,ot){if(X===ot)return lt=!0,0;var ct,yt=0,wt=X.parentNode,jt=ot.parentNode,It=[X],Rt=[ot];if(!wt||!jt)return X==et?-1:ot==et?1:wt?-1:jt?1:Z?gs(Z,X)-gs(Z,ot):0;if(wt===jt)return ag(X,ot);for(ct=X;ct=ct.parentNode;)It.unshift(ct);for(ct=ot;ct=ct.parentNode;)Rt.unshift(ct);for(;It[yt]===Rt[yt];)yt++;return yt?ag(It[yt],Rt[yt]):It[yt]==Xt?-1:Rt[yt]==Xt?1:0}),et},ke.matches=function(_,F){return ke(_,null,null,F)},ke.matchesSelector=function(_,F){if(J(_),y.matchesSelector&&Kt&&!ii[F+" "]&&(!dn||!dn.test(F))&&(!Lt||!Lt.test(F)))try{var V=sn.call(_,F);if(V||y.disconnectedMatch||_.document&&_.document.nodeType!==11)return V}catch{ii(F,!0)}return ke(F,et,null,[_]).length>0},ke.contains=function(_,F){return(_.ownerDocument||_)!=et&&J(_),ni(_,F)},ke.attr=function(_,F){(_.ownerDocument||_)!=et&&J(_);var V=w.attrHandle[F.toLowerCase()],it=V&&ps.call(w.attrHandle,F.toLowerCase())?V(_,F,!Kt):void 0;return it!==void 0?it:y.attributes||!Kt?_.getAttribute(F):(it=_.getAttributeNode(F))&&it.specified?it.value:null},ke.escape=function(_){return(_+"").replace(rg,sg)},ke.error=function(_){throw new Error("Syntax error, unrecognized expression: "+_)},ke.uniqueSort=function(_){var F,V=[],it=0,X=0;if(lt=!y.detectDuplicates,Z=!y.sortStable&&_.slice(0),_.sort(fs),lt){for(;F=_[X++];)F===_[X]&&(it=V.push(X));for(;it--;)_.splice(V[it],1)}return Z=null,_},A=ke.getText=function(_){var F,V="",it=0,X=_.nodeType;if(X){if(X===1||X===9||X===11){if(typeof _.textContent=="string")return _.textContent;for(_=_.firstChild;_;_=_.nextSibling)V+=A(_)}else if(X===3||X===4)return _.nodeValue}else for(;F=_[it++];)V+=A(F);return V},w=ke.selectors={cacheLength:50,createPseudo:_i,match:Jl,attrHandle:{},find:{},relative:{">":{dir:"parentNode",first:!0}," ":{dir:"parentNode"},"+":{dir:"previousSibling",first:!0},"~":{dir:"previousSibling"}},preFilter:{ATTR:function(_){return _[1]=_[1].replace(ur,hr),_[3]=(_[3]||_[4]||_[5]||"").replace(ur,hr),_[2]==="~="&&(_[3]=" "+_[3]+" "),_.slice(0,4)},CHILD:function(_){return _[1]=_[1].toLowerCase(),_[1].slice(0,3)==="nth"?(_[3]||ke.error(_[0]),_[4]=+(_[4]?_[5]+(_[6]||1):2*(_[3]==="even"||_[3]==="odd")),_[5]=+(_[7]+_[8]||_[3]==="odd")):_[3]&&ke.error(_[0]),_},PSEUDO:function(_){var F,V=!_[6]&&_[2];return Jl.CHILD.test(_[0])?null:(_[3]?_[2]=_[4]||_[5]||"":V&&Ax.test(V)&&(F=P(V,!0))&&(F=V.indexOf(")",V.length-F)-V.length)&&(_[0]=_[0].slice(0,F),_[2]=V.slice(0,F)),_.slice(0,3))}},filter:{TAG:function(_){var F=_.replace(ur,hr).toLowerCase();return _==="*"?function(){return!0}:function(V){return V.nodeName&&V.nodeName.toLowerCase()===F}},CLASS:function(_){var F=Ue[_+" "];return F||(F=new RegExp("(^|"+Ae+")"+_+"("+Ae+"|$)"))&&Ue(_,function(V){return F.test(typeof V.className=="string"&&V.className||typeof V.getAttribute!="undefined"&&V.getAttribute("class")||"")})},ATTR:function(_,F,V){return function(it){var X=ke.attr(it,_);return X==null?F==="!=":F?(X+="",F==="="?X===V:F==="!="?X!==V:F==="^="?V&&X.indexOf(V)===0:F==="*="?V&&X.indexOf(V)>-1:F==="$="?V&&X.slice(-V.length)===V:F==="~="?(" "+X.replace(wx," ")+" ").indexOf(V)>-1:F==="|="?X===V||X.slice(0,V.length+1)===V+"-":!1):!0}},CHILD:function(_,F,V,it,X){var ot=_.slice(0,3)!=="nth",ct=_.slice(-4)!=="last",yt=F==="of-type";return it===1&&X===0?function(wt){return!!wt.parentNode}:function(wt,jt,It){var Rt,ce,_e,Bt,fn,kn,ri=ot!==ct?"nextSibling":"previousSibling",Ge=wt.parentNode,Sa=yt&&wt.nodeName.toLowerCase(),Ea=!It&&!yt,si=!1;if(Ge){if(ot){for(;ri;){for(Bt=wt;Bt=Bt[ri];)if(yt?Bt.nodeName.toLowerCase()===Sa:Bt.nodeType===1)return!1;kn=ri=_==="only"&&!kn&&"nextSibling"}return!0}if(kn=[ct?Ge.firstChild:Ge.lastChild],ct&&Ea){for(Bt=Ge,_e=Bt[Pe]||(Bt[Pe]={}),ce=_e[Bt.uniqueID]||(_e[Bt.uniqueID]={}),Rt=ce[_]||[],fn=Rt[0]===qn&&Rt[1],si=fn&&Rt[2],Bt=fn&&Ge.childNodes[fn];Bt=++fn&&Bt&&Bt[ri]||(si=fn=0)||kn.pop();)if(Bt.nodeType===1&&++si&&Bt===wt){ce[_]=[qn,fn,si];break}}else if(Ea&&(Bt=wt,_e=Bt[Pe]||(Bt[Pe]={}),ce=_e[Bt.uniqueID]||(_e[Bt.uniqueID]={}),Rt=ce[_]||[],fn=Rt[0]===qn&&Rt[1],si=fn),si===!1)for(;(Bt=++fn&&Bt&&Bt[ri]||(si=fn=0)||kn.pop())&&!((yt?Bt.nodeName.toLowerCase()===Sa:Bt.nodeType===1)&&++si&&(Ea&&(_e=Bt[Pe]||(Bt[Pe]={}),ce=_e[Bt.uniqueID]||(_e[Bt.uniqueID]={}),ce[_]=[qn,si]),Bt===wt)););return si-=X,si===it||si%it===0&&si/it>=0}}},PSEUDO:function(_,F){var V,it=w.pseudos[_]||w.setFilters[_.toLowerCase()]||ke.error("unsupported pseudo: "+_);return it[Pe]?it(F):it.length>1?(V=[_,_,"",F],w.setFilters.hasOwnProperty(_.toLowerCase())?_i(function(X,ot){for(var ct,yt=it(X,F),wt=yt.length;wt--;)ct=gs(X,yt[wt]),X[ct]=!(ot[ct]=yt[wt])}):function(X){return it(X,0,V)}):it}},pseudos:{not:_i(function(_){var F=[],V=[],it=L(_.replace(Kl,"$1"));return it[Pe]?_i(function(X,ot,ct,yt){for(var wt,jt=it(X,null,yt,[]),It=X.length;It--;)(wt=jt[It])&&(X[It]=!(ot[It]=wt))}):function(X,ot,ct){return F[0]=X,it(F,null,ct,V),F[0]=null,!V.pop()}}),has:_i(function(_){return function(F){return ke(_,F).length>0}}),contains:_i(function(_){return _=_.replace(ur,hr),function(F){return(F.textContent||A(F)).indexOf(_)>-1}}),lang:_i(function(_){return Mx.test(_||"")||ke.error("unsupported lang: "+_),_=_.replace(ur,hr).toLowerCase(),function(F){var V;do if(V=Kt?F.lang:F.getAttribute("xml:lang")||F.getAttribute("lang"))return V=V.toLowerCase(),V===_||V.indexOf(_+"-")===0;while((F=F.parentNode)&&F.nodeType===1);return!1}}),target:function(_){var F=d.location&&d.location.hash;return F&&F.slice(1)===_.id},root:function(_){return _===Ft},focus:function(_){return _===et.activeElement&&(!et.hasFocus||et.hasFocus())&&!!(_.type||_.href||~_.tabIndex)},enabled:lg(!1),disabled:lg(!0),checked:function(_){var F=_.nodeName.toLowerCase();return F==="input"&&!!_.checked||F==="option"&&!!_.selected},selected:function(_){return _.parentNode&&_.parentNode.selectedIndex,_.selected===!0},empty:function(_){for(_=_.firstChild;_;_=_.nextSibling)if(_.nodeType<6)return!1;return!0},parent:function(_){return!w.pseudos.empty(_)},header:function(_){return Px.test(_.nodeName)},input:function(_){return Tx.test(_.nodeName)},button:function(_){var F=_.nodeName.toLowerCase();return F==="input"&&_.type==="button"||F==="button"},text:function(_){var F;return _.nodeName.toLowerCase()==="input"&&_.type==="text"&&((F=_.getAttribute("type"))==null||F.toLowerCase()==="text")},first:bs(function(){return[0]}),last:bs(function(_,F){return[F-1]}),eq:bs(function(_,F,V){return[V<0?V+F:V]}),even:bs(function(_,F){for(var V=0;V<F;V+=2)_.push(V);return _}),odd:bs(function(_,F){for(var V=1;V<F;V+=2)_.push(V);return _}),lt:bs(function(_,F,V){for(var it=V<0?V+F:V>F?F:V;--it>=0;)_.push(it);return _}),gt:bs(function(_,F,V){for(var it=V<0?V+F:V;++it<F;)_.push(it);return _})}},w.pseudos.nth=w.pseudos.eq;for(g in{radio:!0,checkbox:!0,file:!0,password:!0,image:!0})w.pseudos[g]=Dx(g);for(g in{submit:!0,reset:!0})w.pseudos[g]=Nx(g);function cg(){}cg.prototype=w.filters=w.pseudos,w.setFilters=new cg,P=ke.tokenize=function(_,F){var V,it,X,ot,ct,yt,wt,jt=Ca[_+" "];if(jt)return F?0:jt.slice(0);for(ct=_,yt=[],wt=w.preFilter;ct;){(!V||(it=Sx.exec(ct)))&&(it&&(ct=ct.slice(it[0].length)||ct),yt.push(X=[])),V=!1,(it=ig.exec(ct))&&(V=it.shift(),X.push({value:V,type:it[0].replace(Kl," ")}),ct=ct.slice(V.length));for(ot in w.filter)(it=Jl[ot].exec(ct))&&(!wt[ot]||(it=wt[ot](it)))&&(V=it.shift(),X.push({value:V,type:ot,matches:it}),ct=ct.slice(V.length));if(!V)break}return F?ct.length:ct?ke.error(_):Ca(_,yt).slice(0)};function Ql(_){for(var F=0,V=_.length,it="";F<V;F++)it+=_[F].value;return it}function tc(_,F,V){var it=F.dir,X=F.next,ot=X||it,ct=V&&ot==="parentNode",yt=ve++;return F.first?function(wt,jt,It){for(;wt=wt[it];)if(wt.nodeType===1||ct)return _(wt,jt,It);return!1}:function(wt,jt,It){var Rt,ce,_e,Bt=[qn,yt];if(It){for(;wt=wt[it];)if((wt.nodeType===1||ct)&&_(wt,jt,It))return!0}else for(;wt=wt[it];)if(wt.nodeType===1||ct)if(_e=wt[Pe]||(wt[Pe]={}),ce=_e[wt.uniqueID]||(_e[wt.uniqueID]={}),X&&X===wt.nodeName.toLowerCase())wt=wt[it]||wt;else{if((Rt=ce[ot])&&Rt[0]===qn&&Rt[1]===yt)return Bt[2]=Rt[2];if(ce[ot]=Bt,Bt[2]=_(wt,jt,It))return!0}return!1}}function mh(_){return _.length>1?function(F,V,it){for(var X=_.length;X--;)if(!_[X](F,V,it))return!1;return!0}:_[0]}function $x(_,F,V){for(var it=0,X=F.length;it<X;it++)ke(_,F[it],V);return V}function ec(_,F,V,it,X){for(var ot,ct=[],yt=0,wt=_.length,jt=F!=null;yt<wt;yt++)(ot=_[yt])&&(!V||V(ot,it,X))&&(ct.push(ot),jt&&F.push(yt));return ct}function bh(_,F,V,it,X,ot){return it&&!it[Pe]&&(it=bh(it)),X&&!X[Pe]&&(X=bh(X,ot)),_i(function(ct,yt,wt,jt){var It,Rt,ce,_e=[],Bt=[],fn=yt.length,kn=ct||$x(F||"*",wt.nodeType?[wt]:wt,[]),ri=_&&(ct||!F)?ec(kn,_e,_,wt,jt):kn,Ge=V?X||(ct?_:fn||it)?[]:yt:ri;if(V&&V(ri,Ge,wt,jt),it)for(It=ec(Ge,Bt),it(It,[],wt,jt),Rt=It.length;Rt--;)(ce=It[Rt])&&(Ge[Bt[Rt]]=!(ri[Bt[Rt]]=ce));if(ct){if(X||_){if(X){for(It=[],Rt=Ge.length;Rt--;)(ce=Ge[Rt])&&It.push(ri[Rt]=ce);X(null,Ge=[],It,jt)}for(Rt=Ge.length;Rt--;)(ce=Ge[Rt])&&(It=X?gs(ct,ce):_e[Rt])>-1&&(ct[It]=!(yt[It]=ce))}}else Ge=ec(Ge===yt?Ge.splice(fn,Ge.length):Ge),X?X(null,yt,Ge,jt):Nr.apply(yt,Ge)})}function vh(_){for(var F,V,it,X=_.length,ot=w.relative[_[0].type],ct=ot||w.relative[" "],yt=ot?1:0,wt=tc(function(Rt){return Rt===F},ct,!0),jt=tc(function(Rt){return gs(F,Rt)>-1},ct,!0),It=[function(Rt,ce,_e){var Bt=!ot&&(_e||ce!==W)||((F=ce).nodeType?wt(Rt,ce,_e):jt(Rt,ce,_e));return F=null,Bt}];yt<X;yt++)if(V=w.relative[_[yt].type])It=[tc(mh(It),V)];else{if(V=w.filter[_[yt].type].apply(null,_[yt].matches),V[Pe]){for(it=++yt;it<X&&!w.relative[_[it].type];it++);return bh(yt>1&&mh(It),yt>1&&Ql(_.slice(0,yt-1).concat({value:_[yt-2].type===" "?"*":""})).replace(Kl,"$1"),V,yt<it&&vh(_.slice(yt,it)),it<X&&vh(_=_.slice(it)),it<X&&Ql(_))}It.push(V)}return mh(It)}function Fx(_,F){var V=F.length>0,it=_.length>0,X=function(ot,ct,yt,wt,jt){var It,Rt,ce,_e=0,Bt="0",fn=ot&&[],kn=[],ri=W,Ge=ot||it&&w.find.TAG("*",jt),Sa=qn+=ri==null?1:Math.random()||.1,Ea=Ge.length;for(jt&&(W=ct==et||ct||jt);Bt!==Ea&&(It=Ge[Bt])!=null;Bt++){if(it&&It){for(Rt=0,!ct&&It.ownerDocument!=et&&(J(It),yt=!Kt);ce=_[Rt++];)if(ce(It,ct||et,yt)){wt.push(It);break}jt&&(qn=Sa)}V&&((It=!ce&&It)&&_e--,ot&&fn.push(It))}if(_e+=Bt,V&&Bt!==_e){for(Rt=0;ce=F[Rt++];)ce(fn,kn,ct,yt);if(ot){if(_e>0)for(;Bt--;)fn[Bt]||kn[Bt]||(kn[Bt]=Dr.call(wt));kn=ec(kn)}Nr.apply(wt,kn),jt&&!ot&&kn.length>0&&_e+F.length>1&&ke.uniqueSort(wt)}return jt&&(qn=Sa,W=ri),fn};return V?_i(X):X}return L=ke.compile=function(_,F){var V,it=[],X=[],ot=Yl[_+" "];if(!ot){for(F||(F=P(_)),V=F.length;V--;)ot=vh(F[V]),ot[Pe]?it.push(ot):X.push(ot);ot=Yl(_,Fx(X,it)),ot.selector=_}return ot},I=ke.select=function(_,F,V,it){var X,ot,ct,yt,wt,jt=typeof _=="function"&&_,It=!it&&P(_=jt.selector||_);if(V=V||[],It.length===1){if(ot=It[0]=It[0].slice(0),ot.length>2&&(ct=ot[0]).type==="ID"&&F.nodeType===9&&Kt&&w.relative[ot[1].type]){if(F=(w.find.ID(ct.matches[0].replace(ur,hr),F)||[])[0],F)jt&&(F=F.parentNode);else return V;_=_.slice(ot.shift().value.length)}for(X=Jl.needsContext.test(_)?0:ot.length;X--&&(ct=ot[X],!w.relative[yt=ct.type]);)if((wt=w.find[yt])&&(it=wt(ct.matches[0].replace(ur,hr),fh.test(ot[0].type)&&gh(F.parentNode)||F))){if(ot.splice(X,1),_=it.length&&Ql(ot),!_)return Nr.apply(V,it),V;break}}return(jt||L(_,It))(it,F,!Kt,V,!F||fh.test(_)&&gh(F.parentNode)||F),V},y.sortStable=Pe.split("").sort(fs).join("")===Pe,y.detectDuplicates=!!lt,J(),y.sortDetached=Di(function(_){return _.compareDocumentPosition(et.createElement("fieldset"))&1}),Di(function(_){return _.innerHTML="<a href='#'></a>",_.firstChild.getAttribute("href")==="#"})||ph("type|href|height|width",function(_,F,V){if(!V)return _.getAttribute(F,F.toLowerCase()==="type"?1:2)}),(!y.attributes||!Di(function(_){return _.innerHTML="<input/>",_.firstChild.setAttribute("value",""),_.firstChild.getAttribute("value")===""}))&&ph("value",function(_,F,V){if(!V&&_.nodeName.toLowerCase()==="input")return _.defaultValue}),Di(function(_){return _.getAttribute("disabled")==null})||ph(hh,function(_,F,V){var it;if(!V)return _[F]===!0?F.toLowerCase():(it=_.getAttributeNode(F))&&it.specified?it.value:null}),ke}(t);m.find=D,m.expr=D.selectors,m.expr[":"]=m.expr.pseudos,m.uniqueSort=m.unique=D.uniqueSort,m.text=D.getText,m.isXMLDoc=D.isXML,m.contains=D.contains,m.escapeSelector=D.escape;var z=function(d,g,y){for(var w=[],A=y!==void 0;(d=d[g])&&d.nodeType!==9;)if(d.nodeType===1){if(A&&m(d).is(y))break;w.push(d)}return w},H=function(d,g){for(var y=[];d;d=d.nextSibling)d.nodeType===1&&d!==g&&y.push(d);return y},q=m.expr.match.needsContext;function R(d,g){return d.nodeName&&d.nodeName.toLowerCase()===g.toLowerCase()}var rt=/^<([a-z][^\/\0>:\x20\t\r\n\f]*)[\x20\t\r\n\f]*\/?>(?:<\/\1>|)$/i;function st(d,g,y){return v(g)?m.grep(d,function(w,A){return!!g.call(w,A,w)!==y}):g.nodeType?m.grep(d,function(w){return w===g!==y}):typeof g!="string"?m.grep(d,function(w){return l.call(g,w)>-1!==y}):m.filter(g,d,y)}m.filter=function(d,g,y){var w=g[0];return y&&(d=":not("+d+")"),g.length===1&&w.nodeType===1?m.find.matchesSelector(w,d)?[w]:[]:m.find.matches(d,m.grep(g,function(A){return A.nodeType===1}))},m.fn.extend({find:function(d){var g,y,w=this.length,A=this;if(typeof d!="string")return this.pushStack(m(d).filter(function(){for(g=0;g<w;g++)if(m.contains(A[g],this))return!0}));for(y=this.pushStack([]),g=0;g<w;g++)m.find(d,A[g],y);return w>1?m.uniqueSort(y):y},filter:function(d){return this.pushStack(st(this,d||[],!1))},not:function(d){return this.pushStack(st(this,d||[],!0))},is:function(d){return!!st(this,typeof d=="string"&&q.test(d)?m(d):d||[],!1).length}});var j,B=/^(?:\s*(<[\w\W]+>)[^>]*|#([\w-]+))$/,tt=m.fn.init=function(d,g,y){var w,A;if(!d)return this;if(y=y||j,typeof d=="string")if(d[0]==="<"&&d[d.length-1]===">"&&d.length>=3?w=[null,d,null]:w=B.exec(d),w&&(w[1]||!g))if(w[1]){if(g=g instanceof m?g[0]:g,m.merge(this,m.parseHTML(w[1],g&&g.nodeType?g.ownerDocument||g:x,!0)),rt.test(w[1])&&m.isPlainObject(g))for(w in g)v(this[w])?this[w](g[w]):this.attr(w,g[w]);return this}else return A=x.getElementById(w[2]),A&&(this[0]=A,this.length=1),this;else return!g||g.jquery?(g||y).find(d):this.constructor(g).find(d);else{if(d.nodeType)return this[0]=d,this.length=1,this;if(v(d))return y.ready!==void 0?y.ready(d):d(m)}return m.makeArray(d,this)};tt.prototype=m.fn,j=m(x);var bt=/^(?:parents|prev(?:Until|All))/,Ot={children:!0,contents:!0,next:!0,prev:!0};m.fn.extend({has:function(d){var g=m(d,this),y=g.length;return this.filter(function(){for(var w=0;w<y;w++)if(m.contains(this,g[w]))return!0})},closest:function(d,g){var y,w=0,A=this.length,M=[],P=typeof d!="string"&&m(d);if(!q.test(d)){for(;w<A;w++)for(y=this[w];y&&y!==g;y=y.parentNode)if(y.nodeType<11&&(P?P.index(y)>-1:y.nodeType===1&&m.find.matchesSelector(y,d))){M.push(y);break}}return this.pushStack(M.length>1?m.uniqueSort(M):M)},index:function(d){return d?typeof d=="string"?l.call(m(d),this[0]):l.call(this,d.jquery?d[0]:d):this[0]&&this[0].parentNode?this.first().prevAll().length:-1},add:function(d,g){return this.pushStack(m.uniqueSort(m.merge(this.get(),m(d,g))))},addBack:function(d){return this.add(d==null?this.prevObject:this.prevObject.filter(d))}});function Gt(d,g){for(;(d=d[g])&&d.nodeType!==1;);return d}m.each({parent:function(d){var g=d.parentNode;return g&&g.nodeType!==11?g:null},parents:function(d){return z(d,"parentNode")},parentsUntil:function(d,g,y){return z(d,"parentNode",y)},next:function(d){return Gt(d,"nextSibling")},prev:function(d){return Gt(d,"previousSibling")},nextAll:function(d){return z(d,"nextSibling")},prevAll:function(d){return z(d,"previousSibling")},nextUntil:function(d,g,y){return z(d,"nextSibling",y)},prevUntil:function(d,g,y){return z(d,"previousSibling",y)},siblings:function(d){return H((d.parentNode||{}).firstChild,d)},children:function(d){return H(d.firstChild)},contents:function(d){return d.contentDocument!=null&&r(d.contentDocument)?d.contentDocument:(R(d,"template")&&(d=d.content||d),m.merge([],d.childNodes))}},function(d,g){m.fn[d]=function(y,w){var A=m.map(this,g,y);return d.slice(-5)!=="Until"&&(w=y),w&&typeof w=="string"&&(A=m.filter(w,A)),this.length>1&&(Ot[d]||m.uniqueSort(A),bt.test(d)&&A.reverse()),this.pushStack(A)}});var pt=/[^\x20\t\r\n\f]+/g;function $t(d){var g={};return m.each(d.match(pt)||[],function(y,w){g[w]=!0}),g}m.Callbacks=function(d){d=typeof d=="string"?$t(d):m.extend({},d);var g,y,w,A,M=[],P=[],L=-1,I=function(){for(A=A||d.once,w=g=!0;P.length;L=-1)for(y=P.shift();++L<M.length;)M[L].apply(y[0],y[1])===!1&&d.stopOnFalse&&(L=M.length,y=!1);d.memory||(y=!1),g=!1,A&&(y?M=[]:M="")},W={add:function(){return M&&(y&&!g&&(L=M.length-1,P.push(y)),function Z(lt){m.each(lt,function(J,et){v(et)?(!d.unique||!W.has(et))&&M.push(et):et&&et.length&&O(et)!=="string"&&Z(et)})}(arguments),y&&!g&&I()),this},remove:function(){return m.each(arguments,function(Z,lt){for(var J;(J=m.inArray(lt,M,J))>-1;)M.splice(J,1),J<=L&&L--}),this},has:function(Z){return Z?m.inArray(Z,M)>-1:M.length>0},empty:function(){return M&&(M=[]),this},disable:function(){return A=P=[],M=y="",this},disabled:function(){return!M},lock:function(){return A=P=[],!y&&!g&&(M=y=""),this},locked:function(){return!!A},fireWith:function(Z,lt){return A||(lt=lt||[],lt=[Z,lt.slice?lt.slice():lt],P.push(lt),g||I()),this},fire:function(){return W.fireWith(this,arguments),this},fired:function(){return!!w}};return W};function Dt(d){return d}function _t(d){throw d}function zt(d,g,y,w){var A;try{d&&v(A=d.promise)?A.call(d).done(g).fail(y):d&&v(A=d.then)?A.call(d,g,y):g.apply(void 0,[d].slice(w))}catch(M){y.apply(void 0,[M])}}m.extend({Deferred:function(d){var g=[["notify","progress",m.Callbacks("memory"),m.Callbacks("memory"),2],["resolve","done",m.Callbacks("once memory"),m.Callbacks("once memory"),0,"resolved"],["reject","fail",m.Callbacks("once memory"),m.Callbacks("once memory"),1,"rejected"]],y="pending",w={state:function(){return y},always:function(){return A.done(arguments).fail(arguments),this},catch:function(M){return w.then(null,M)},pipe:function(){var M=arguments;return m.Deferred(function(P){m.each(g,function(L,I){var W=v(M[I[4]])&&M[I[4]];A[I[1]](function(){var Z=W&&W.apply(this,arguments);Z&&v(Z.promise)?Z.promise().progress(P.notify).done(P.resolve).fail(P.reject):P[I[0]+"With"](this,W?[Z]:arguments)})}),M=null}).promise()},then:function(M,P,L){var I=0;function W(Z,lt,J,et){return function(){var Ft=this,Kt=arguments,Lt=function(){var sn,ni;if(!(Z<I)){if(sn=J.apply(Ft,Kt),sn===lt.promise())throw new TypeError("Thenable self-resolution");ni=sn&&(typeof sn=="object"||typeof sn=="function")&&sn.then,v(ni)?et?ni.call(sn,W(I,lt,Dt,et),W(I,lt,_t,et)):(I++,ni.call(sn,W(I,lt,Dt,et),W(I,lt,_t,et),W(I,lt,Dt,lt.notifyWith))):(J!==Dt&&(Ft=void 0,Kt=[sn]),(et||lt.resolveWith)(Ft,Kt))}},dn=et?Lt:function(){try{Lt()}catch(sn){m.Deferred.exceptionHook&&m.Deferred.exceptionHook(sn,dn.stackTrace),Z+1>=I&&(J!==_t&&(Ft=void 0,Kt=[sn]),lt.rejectWith(Ft,Kt))}};Z?dn():(m.Deferred.getStackHook&&(dn.stackTrace=m.Deferred.getStackHook()),t.setTimeout(dn))}}return m.Deferred(function(Z){g[0][3].add(W(0,Z,v(L)?L:Dt,Z.notifyWith)),g[1][3].add(W(0,Z,v(M)?M:Dt)),g[2][3].add(W(0,Z,v(P)?P:_t))}).promise()},promise:function(M){return M!=null?m.extend(M,w):w}},A={};return m.each(g,function(M,P){var L=P[2],I=P[5];w[P[1]]=L.add,I&&L.add(function(){y=I},g[3-M][2].disable,g[3-M][3].disable,g[0][2].lock,g[0][3].lock),L.add(P[3].fire),A[P[0]]=function(){return A[P[0]+"With"](this===A?void 0:this,arguments),this},A[P[0]+"With"]=L.fireWith}),w.promise(A),d&&d.call(A,A),A},when:function(d){var g=arguments.length,y=g,w=Array(y),A=s.call(arguments),M=m.Deferred(),P=function(L){return function(I){w[L]=this,A[L]=arguments.length>1?s.call(arguments):I,--g||M.resolveWith(w,A)}};if(g<=1&&(zt(d,M.done(P(y)).resolve,M.reject,!g),M.state()==="pending"||v(A[y]&&A[y].then)))return M.then();for(;y--;)zt(A[y],P(y),M.reject);return M.promise()}});var de=/^(Eval|Internal|Range|Reference|Syntax|Type|URI)Error$/;m.Deferred.exceptionHook=function(d,g){t.console&&t.console.warn&&d&&de.test(d.name)&&t.console.warn("jQuery.Deferred exception: "+d.message,d.stack,g)},m.readyException=function(d){t.setTimeout(function(){throw d})};var at=m.Deferred();m.fn.ready=function(d){return at.then(d).catch(function(g){m.readyException(g)}),this},m.extend({isReady:!1,readyWait:1,ready:function(d){(d===!0?--m.readyWait:m.isReady)||(m.isReady=!0,!(d!==!0&&--m.readyWait>0)&&at.resolveWith(x,[m]))}}),m.ready.then=at.then;function Tt(){x.removeEventListener("DOMContentLoaded",Tt),t.removeEventListener("load",Tt),m.ready()}x.readyState==="complete"||x.readyState!=="loading"&&!x.documentElement.doScroll?t.setTimeout(m.ready):(x.addEventListener("DOMContentLoaded",Tt),t.addEventListener("load",Tt));var Ut=function(d,g,y,w,A,M,P){var L=0,I=d.length,W=y==null;if(O(y)==="object"){A=!0;for(L in y)Ut(d,g,L,y[L],!0,M,P)}else if(w!==void 0&&(A=!0,v(w)||(P=!0),W&&(P?(g.call(d,w),g=null):(W=g,g=function(Z,lt,J){return W.call(m(Z),J)})),g))for(;L<I;L++)g(d[L],y,P?w:w.call(d[L],L,g(d[L],y)));return A?d:W?g.call(d):I?g(d[0],y):M},te=/^-ms-/,hn=/-([a-z])/g;function bn(d,g){return g.toUpperCase()}function $(d){return d.replace(te,"ms-").replace(hn,bn)}var G=function(d){return d.nodeType===1||d.nodeType===9||!+d.nodeType};function Q(){this.expando=m.expando+Q.uid++}Q.uid=1,Q.prototype={cache:function(d){var g=d[this.expando];return g||(g={},G(d)&&(d.nodeType?d[this.expando]=g:Object.defineProperty(d,this.expando,{value:g,configurable:!0}))),g},set:function(d,g,y){var w,A=this.cache(d);if(typeof g=="string")A[$(g)]=y;else for(w in g)A[$(w)]=g[w];return A},get:function(d,g){return g===void 0?this.cache(d):d[this.expando]&&d[this.expando][$(g)]},access:function(d,g,y){return g===void 0||g&&typeof g=="string"&&y===void 0?this.get(d,g):(this.set(d,g,y),y!==void 0?y:g)},remove:function(d,g){var y,w=d[this.expando];if(w!==void 0){if(g!==void 0)for(Array.isArray(g)?g=g.map($):(g=$(g),g=g in w?[g]:g.match(pt)||[]),y=g.length;y--;)delete w[g[y]];(g===void 0||m.isEmptyObject(w))&&(d.nodeType?d[this.expando]=void 0:delete d[this.expando])}},hasData:function(d){var g=d[this.expando];return g!==void 0&&!m.isEmptyObject(g)}};var K=new Q,nt=new Q,gt=/^(?:\{[\w\W]*\}|\[[\w\W]*\])$/,Ct=/[A-Z]/g;function dt(d){return d==="true"?!0:d==="false"?!1:d==="null"?null:d===+d+""?+d:gt.test(d)?JSON.parse(d):d}function mt(d,g,y){var w;if(y===void 0&&d.nodeType===1)if(w="data-"+g.replace(Ct,"-$&").toLowerCase(),y=d.getAttribute(w),typeof y=="string"){try{y=dt(y)}catch{}nt.set(d,g,y)}else y=void 0;return y}m.extend({hasData:function(d){return nt.hasData(d)||K.hasData(d)},data:function(d,g,y){return nt.access(d,g,y)},removeData:function(d,g){nt.remove(d,g)},_data:function(d,g,y){return K.access(d,g,y)},_removeData:function(d,g){K.remove(d,g)}}),m.fn.extend({data:function(d,g){var y,w,A,M=this[0],P=M&&M.attributes;if(d===void 0){if(this.length&&(A=nt.get(M),M.nodeType===1&&!K.get(M,"hasDataAttrs"))){for(y=P.length;y--;)P[y]&&(w=P[y].name,w.indexOf("data-")===0&&(w=$(w.slice(5)),mt(M,w,A[w])));K.set(M,"hasDataAttrs",!0)}return A}return typeof d=="object"?this.each(function(){nt.set(this,d)}):Ut(this,function(L){var I;if(M&&L===void 0)return I=nt.get(M,d),I!==void 0||(I=mt(M,d),I!==void 0)?I:void 0;this.each(function(){nt.set(this,d,L)})},null,g,arguments.length>1,null,!0)},removeData:function(d){return this.each(function(){nt.remove(this,d)})}}),m.extend({queue:function(d,g,y){var w;if(d)return g=(g||"fx")+"queue",w=K.get(d,g),y&&(!w||Array.isArray(y)?w=K.access(d,g,m.makeArray(y)):w.push(y)),w||[]},dequeue:function(d,g){g=g||"fx";var y=m.queue(d,g),w=y.length,A=y.shift(),M=m._queueHooks(d,g),P=function(){m.dequeue(d,g)};A==="inprogress"&&(A=y.shift(),w--),A&&(g==="fx"&&y.unshift("inprogress"),delete M.stop,A.call(d,P,M)),!w&&M&&M.empty.fire()},_queueHooks:function(d,g){var y=g+"queueHooks";return K.get(d,y)||K.access(d,y,{empty:m.Callbacks("once memory").add(function(){K.remove(d,[g+"queue",y])})})}}),m.fn.extend({queue:function(d,g){var y=2;return typeof d!="string"&&(g=d,d="fx",y--),arguments.length<y?m.queue(this[0],d):g===void 0?this:this.each(function(){var w=m.queue(this,d,g);m._queueHooks(this,d),d==="fx"&&w[0]!=="inprogress"&&m.dequeue(this,d)})},dequeue:function(d){return this.each(function(){m.dequeue(this,d)})},clearQueue:function(d){return this.queue(d||"fx",[])},promise:function(d,g){var y,w=1,A=m.Deferred(),M=this,P=this.length,L=function(){--w||A.resolveWith(M,[M])};for(typeof d!="string"&&(g=d,d=void 0),d=d||"fx";P--;)y=K.get(M[P],d+"queueHooks"),y&&y.empty&&(w++,y.empty.add(L));return L(),A.promise(g)}});var ut=/[+-]?(?:\d*\.|)\d+(?:[eE][+-]?\d+|)/.source,Pt=new RegExp("^(?:([+-])=|)("+ut+")([a-z%]*)$","i"),Y=["Top","Right","Bottom","Left"],ft=x.documentElement,kt=function(d){return m.contains(d.ownerDocument,d)},Wt={composed:!0};ft.getRootNode&&(kt=function(d){return m.contains(d.ownerDocument,d)||d.getRootNode(Wt)===d.ownerDocument});var le=function(d,g){return d=g||d,d.style.display==="none"||d.style.display===""&&kt(d)&&m.css(d,"display")==="none"};function Ce(d,g,y,w){var A,M,P=20,L=w?function(){return w.cur()}:function(){return m.css(d,g,"")},I=L(),W=y&&y[3]||(m.cssNumber[g]?"":"px"),Z=d.nodeType&&(m.cssNumber[g]||W!=="px"&&+I)&&Pt.exec(m.css(d,g));if(Z&&Z[3]!==W){for(I=I/2,W=W||Z[3],Z=+I||1;P--;)m.style(d,g,Z+W),(1-M)*(1-(M=L()/I||.5))<=0&&(P=0),Z=Z/M;Z=Z*2,m.style(d,g,Z+W),y=y||[]}return y&&(Z=+Z||+I||0,A=y[1]?Z+(y[1]+1)*y[2]:+y[2],w&&(w.unit=W,w.start=Z,w.end=A)),A}var Te={};function ti(d){var g,y=d.ownerDocument,w=d.nodeName,A=Te[w];return A||(g=y.body.appendChild(y.createElement(w)),A=m.css(g,"display"),g.parentNode.removeChild(g),A==="none"&&(A="block"),Te[w]=A,A)}function ei(d,g){for(var y,w,A=[],M=0,P=d.length;M<P;M++)w=d[M],w.style&&(y=w.style.display,g?(y==="none"&&(A[M]=K.get(w,"display")||null,A[M]||(w.style.display="")),w.style.display===""&&le(w)&&(A[M]=ti(w))):y!=="none"&&(A[M]="none",K.set(w,"display",y)));for(M=0;M<P;M++)A[M]!=null&&(d[M].style.display=A[M]);return d}m.fn.extend({show:function(){return ei(this,!0)},hide:function(){return ei(this)},toggle:function(d){return typeof d=="boolean"?d?this.show():this.hide():this.each(function(){le(this)?m(this).show():m(this).hide()})}});var kr=/^(?:checkbox|radio)$/i,_r=/<([a-z][^\/\0>\x20\t\r\n\f]*)/i,ma=/^$|^module$|\/(?:java|ecma)script/i;(function(){var d=x.createDocumentFragment(),g=d.appendChild(x.createElement("div")),y=x.createElement("input");y.setAttribute("type","radio"),y.setAttribute("checked","checked"),y.setAttribute("name","t"),g.appendChild(y),b.checkClone=g.cloneNode(!0).cloneNode(!0).lastChild.checked,g.innerHTML="<textarea>x</textarea>",b.noCloneChecked=!!g.cloneNode(!0).lastChild.defaultValue,g.innerHTML="<option></option>",b.option=!!g.lastChild})();var Fe={thead:[1,"<table>","</table>"],col:[2,"<table><colgroup>","</colgroup></table>"],tr:[2,"<table><tbody>","</tbody></table>"],td:[3,"<table><tbody><tr>","</tr></tbody></table>"],_default:[0,"",""]};Fe.tbody=Fe.tfoot=Fe.colgroup=Fe.caption=Fe.thead,Fe.th=Fe.td,b.option||(Fe.optgroup=Fe.option=[1,"<select multiple='multiple'>","</select>"]);function je(d,g){var y;return typeof d.getElementsByTagName!="undefined"?y=d.getElementsByTagName(g||"*"):typeof d.querySelectorAll!="undefined"?y=d.querySelectorAll(g||"*"):y=[],g===void 0||g&&R(d,g)?m.merge([d],y):y}function ho(d,g){for(var y=0,w=d.length;y<w;y++)K.set(d[y],"globalEval",!g||K.get(g[y],"globalEval"))}var B1=/<|&#?\w+;/;function Pp(d,g,y,w,A){for(var M,P,L,I,W,Z,lt=g.createDocumentFragment(),J=[],et=0,Ft=d.length;et<Ft;et++)if(M=d[et],M||M===0)if(O(M)==="object")m.merge(J,M.nodeType?[M]:M);else if(!B1.test(M))J.push(g.createTextNode(M));else{for(P=P||lt.appendChild(g.createElement("div")),L=(_r.exec(M)||["",""])[1].toLowerCase(),I=Fe[L]||Fe._default,P.innerHTML=I[1]+m.htmlPrefilter(M)+I[2],Z=I[0];Z--;)P=P.lastChild;m.merge(J,P.childNodes),P=lt.firstChild,P.textContent=""}for(lt.textContent="",et=0;M=J[et++];){if(w&&m.inArray(M,w)>-1){A&&A.push(M);continue}if(W=kt(M),P=je(lt.appendChild(M),"script"),W&&ho(P),y)for(Z=0;M=P[Z++];)ma.test(M.type||"")&&y.push(M)}return lt}var kp=/^([^.]*)(?:\.(.+)|)/;function fo(){return!0}function po(){return!1}function R1(d,g){return d===V1()==(g==="focus")}function V1(){try{return x.activeElement}catch{}}function Qu(d,g,y,w,A,M){var P,L;if(typeof g=="object"){typeof y!="string"&&(w=w||y,y=void 0);for(L in g)Qu(d,L,y,w,g[L],M);return d}if(w==null&&A==null?(A=y,w=y=void 0):A==null&&(typeof y=="string"?(A=w,w=void 0):(A=w,w=y,y=void 0)),A===!1)A=po;else if(!A)return d;return M===1&&(P=A,A=function(I){return m().off(I),P.apply(this,arguments)},A.guid=P.guid||(P.guid=m.guid++)),d.each(function(){m.event.add(this,g,A,w,y)})}m.event={global:{},add:function(d,g,y,w,A){var M,P,L,I,W,Z,lt,J,et,Ft,Kt,Lt=K.get(d);if(!!G(d))for(y.handler&&(M=y,y=M.handler,A=M.selector),A&&m.find.matchesSelector(ft,A),y.guid||(y.guid=m.guid++),(I=Lt.events)||(I=Lt.events=Object.create(null)),(P=Lt.handle)||(P=Lt.handle=function(dn){return typeof m!="undefined"&&m.event.triggered!==dn.type?m.event.dispatch.apply(d,arguments):void 0}),g=(g||"").match(pt)||[""],W=g.length;W--;)L=kp.exec(g[W])||[],et=Kt=L[1],Ft=(L[2]||"").split(".").sort(),et&&(lt=m.event.special[et]||{},et=(A?lt.delegateType:lt.bindType)||et,lt=m.event.special[et]||{},Z=m.extend({type:et,origType:Kt,data:w,handler:y,guid:y.guid,selector:A,needsContext:A&&m.expr.match.needsContext.test(A),namespace:Ft.join(".")},M),(J=I[et])||(J=I[et]=[],J.delegateCount=0,(!lt.setup||lt.setup.call(d,w,Ft,P)===!1)&&d.addEventListener&&d.addEventListener(et,P)),lt.add&&(lt.add.call(d,Z),Z.handler.guid||(Z.handler.guid=y.guid)),A?J.splice(J.delegateCount++,0,Z):J.push(Z),m.event.global[et]=!0)},remove:function(d,g,y,w,A){var M,P,L,I,W,Z,lt,J,et,Ft,Kt,Lt=K.hasData(d)&&K.get(d);if(!(!Lt||!(I=Lt.events))){for(g=(g||"").match(pt)||[""],W=g.length;W--;){if(L=kp.exec(g[W])||[],et=Kt=L[1],Ft=(L[2]||"").split(".").sort(),!et){for(et in I)m.event.remove(d,et+g[W],y,w,!0);continue}for(lt=m.event.special[et]||{},et=(w?lt.delegateType:lt.bindType)||et,J=I[et]||[],L=L[2]&&new RegExp("(^|\\.)"+Ft.join("\\.(?:.*\\.|)")+"(\\.|$)"),P=M=J.length;M--;)Z=J[M],(A||Kt===Z.origType)&&(!y||y.guid===Z.guid)&&(!L||L.test(Z.namespace))&&(!w||w===Z.selector||w==="**"&&Z.selector)&&(J.splice(M,1),Z.selector&&J.delegateCount--,lt.remove&&lt.remove.call(d,Z));P&&!J.length&&((!lt.teardown||lt.teardown.call(d,Ft,Lt.handle)===!1)&&m.removeEvent(d,et,Lt.handle),delete I[et])}m.isEmptyObject(I)&&K.remove(d,"handle events")}},dispatch:function(d){var g,y,w,A,M,P,L=new Array(arguments.length),I=m.event.fix(d),W=(K.get(this,"events")||Object.create(null))[I.type]||[],Z=m.event.special[I.type]||{};for(L[0]=I,g=1;g<arguments.length;g++)L[g]=arguments[g];if(I.delegateTarget=this,!(Z.preDispatch&&Z.preDispatch.call(this,I)===!1)){for(P=m.event.handlers.call(this,I,W),g=0;(A=P[g++])&&!I.isPropagationStopped();)for(I.currentTarget=A.elem,y=0;(M=A.handlers[y++])&&!I.isImmediatePropagationStopped();)(!I.rnamespace||M.namespace===!1||I.rnamespace.test(M.namespace))&&(I.handleObj=M,I.data=M.data,w=((m.event.special[M.origType]||{}).handle||M.handler).apply(A.elem,L),w!==void 0&&(I.result=w)===!1&&(I.preventDefault(),I.stopPropagation()));return Z.postDispatch&&Z.postDispatch.call(this,I),I.result}},handlers:function(d,g){var y,w,A,M,P,L=[],I=g.delegateCount,W=d.target;if(I&&W.nodeType&&!(d.type==="click"&&d.button>=1)){for(;W!==this;W=W.parentNode||this)if(W.nodeType===1&&!(d.type==="click"&&W.disabled===!0)){for(M=[],P={},y=0;y<I;y++)w=g[y],A=w.selector+" ",P[A]===void 0&&(P[A]=w.needsContext?m(A,this).index(W)>-1:m.find(A,this,null,[W]).length),P[A]&&M.push(w);M.length&&L.push({elem:W,handlers:M})}}return W=this,I<g.length&&L.push({elem:W,handlers:g.slice(I)}),L},addProp:function(d,g){Object.defineProperty(m.Event.prototype,d,{enumerable:!0,configurable:!0,get:v(g)?function(){if(this.originalEvent)return g(this.originalEvent)}:function(){if(this.originalEvent)return this.originalEvent[d]},set:function(y){Object.defineProperty(this,d,{enumerable:!0,configurable:!0,writable:!0,value:y})}})},fix:function(d){return d[m.expando]?d:new m.Event(d)},special:{load:{noBubble:!0},click:{setup:function(d){var g=this||d;return kr.test(g.type)&&g.click&&R(g,"input")&&ql(g,"click",fo),!1},trigger:function(d){var g=this||d;return kr.test(g.type)&&g.click&&R(g,"input")&&ql(g,"click"),!0},_default:function(d){var g=d.target;return kr.test(g.type)&&g.click&&R(g,"input")&&K.get(g,"click")||R(g,"a")}},beforeunload:{postDispatch:function(d){d.result!==void 0&&d.originalEvent&&(d.originalEvent.returnValue=d.result)}}}};function ql(d,g,y){if(!y){K.get(d,g)===void 0&&m.event.add(d,g,fo);return}K.set(d,g,!1),m.event.add(d,g,{namespace:!1,handler:function(w){var A,M,P=K.get(this,g);if(w.isTrigger&1&&this[g]){if(P.length)(m.event.special[g]||{}).delegateType&&w.stopPropagation();else if(P=s.call(arguments),K.set(this,g,P),A=y(this,g),this[g](),M=K.get(this,g),P!==M||A?K.set(this,g,!1):M={},P!==M)return w.stopImmediatePropagation(),w.preventDefault(),M&&M.value}else P.length&&(K.set(this,g,{value:m.event.trigger(m.extend(P[0],m.Event.prototype),P.slice(1),this)}),w.stopImmediatePropagation())}})}m.removeEvent=function(d,g,y){d.removeEventListener&&d.removeEventListener(g,y)},m.Event=function(d,g){if(!(this instanceof m.Event))return new m.Event(d,g);d&&d.type?(this.originalEvent=d,this.type=d.type,this.isDefaultPrevented=d.defaultPrevented||d.defaultPrevented===void 0&&d.returnValue===!1?fo:po,this.target=d.target&&d.target.nodeType===3?d.target.parentNode:d.target,this.currentTarget=d.currentTarget,this.relatedTarget=d.relatedTarget):this.type=d,g&&m.extend(this,g),this.timeStamp=d&&d.timeStamp||Date.now(),this[m.expando]=!0},m.Event.prototype={constructor:m.Event,isDefaultPrevented:po,isPropagationStopped:po,isImmediatePropagationStopped:po,isSimulated:!1,preventDefault:function(){var d=this.originalEvent;this.isDefaultPrevented=fo,d&&!this.isSimulated&&d.preventDefault()},stopPropagation:function(){var d=this.originalEvent;this.isPropagationStopped=fo,d&&!this.isSimulated&&d.stopPropagation()},stopImmediatePropagation:function(){var d=this.originalEvent;this.isImmediatePropagationStopped=fo,d&&!this.isSimulated&&d.stopImmediatePropagation(),this.stopPropagation()}},m.each({altKey:!0,bubbles:!0,cancelable:!0,changedTouches:!0,ctrlKey:!0,detail:!0,eventPhase:!0,metaKey:!0,pageX:!0,pageY:!0,shiftKey:!0,view:!0,char:!0,code:!0,charCode:!0,key:!0,keyCode:!0,button:!0,buttons:!0,clientX:!0,clientY:!0,offsetX:!0,offsetY:!0,pointerId:!0,pointerType:!0,screenX:!0,screenY:!0,targetTouches:!0,toElement:!0,touches:!0,which:!0},m.event.addProp),m.each({focus:"focusin",blur:"focusout"},function(d,g){m.event.special[d]={setup:function(){return ql(this,d,R1),!1},trigger:function(){return ql(this,d),!0},_default:function(){return!0},delegateType:g}}),m.each({mouseenter:"mouseover",mouseleave:"mouseout",pointerenter:"pointerover",pointerleave:"pointerout"},function(d,g){m.event.special[d]={delegateType:g,bindType:g,handle:function(y){var w,A=this,M=y.relatedTarget,P=y.handleObj;return(!M||M!==A&&!m.contains(A,M))&&(y.type=P.origType,w=P.handler.apply(this,arguments),y.type=g),w}}}),m.fn.extend({on:function(d,g,y,w){return Qu(this,d,g,y,w)},one:function(d,g,y,w){return Qu(this,d,g,y,w,1)},off:function(d,g,y){var w,A;if(d&&d.preventDefault&&d.handleObj)return w=d.handleObj,m(d.delegateTarget).off(w.namespace?w.origType+"."+w.namespace:w.origType,w.selector,w.handler),this;if(typeof d=="object"){for(A in d)this.off(A,g,d[A]);return this}return(g===!1||typeof g=="function")&&(y=g,g=void 0),y===!1&&(y=po),this.each(function(){m.event.remove(this,d,y,g)})}});var H1=/<script|<style|<link/i,G1=/checked\s*(?:[^=]|=\s*.checked.)/i,q1=/^\s*<!(?:\[CDATA\[|--)|(?:\]\]|--)>\s*$/g;function _p(d,g){return R(d,"table")&&R(g.nodeType!==11?g:g.firstChild,"tr")&&m(d).children("tbody")[0]||d}function U1(d){return d.type=(d.getAttribute("type")!==null)+"/"+d.type,d}function W1(d){return(d.type||"").slice(0,5)==="true/"?d.type=d.type.slice(5):d.removeAttribute("type"),d}function Dp(d,g){var y,w,A,M,P,L,I;if(g.nodeType===1){if(K.hasData(d)&&(M=K.get(d),I=M.events,I)){K.remove(g,"handle events");for(A in I)for(y=0,w=I[A].length;y<w;y++)m.event.add(g,A,I[A][y])}nt.hasData(d)&&(P=nt.access(d),L=m.extend({},P),nt.set(g,L))}}function X1(d,g){var y=g.nodeName.toLowerCase();y==="input"&&kr.test(d.type)?g.checked=d.checked:(y==="input"||y==="textarea")&&(g.defaultValue=d.defaultValue)}function go(d,g,y,w){g=o(g);var A,M,P,L,I,W,Z=0,lt=d.length,J=lt-1,et=g[0],Ft=v(et);if(Ft||lt>1&&typeof et=="string"&&!b.checkClone&&G1.test(et))return d.each(function(Kt){var Lt=d.eq(Kt);Ft&&(g[0]=et.call(this,Kt,Lt.html())),go(Lt,g,y,w)});if(lt&&(A=Pp(g,d[0].ownerDocument,!1,d,w),M=A.firstChild,A.childNodes.length===1&&(A=M),M||w)){for(P=m.map(je(A,"script"),U1),L=P.length;Z<lt;Z++)I=A,Z!==J&&(I=m.clone(I,!0,!0),L&&m.merge(P,je(I,"script"))),y.call(d[Z],I,Z);if(L)for(W=P[P.length-1].ownerDocument,m.map(P,W1),Z=0;Z<L;Z++)I=P[Z],ma.test(I.type||"")&&!K.access(I,"globalEval")&&m.contains(W,I)&&(I.src&&(I.type||"").toLowerCase()!=="module"?m._evalUrl&&!I.noModule&&m._evalUrl(I.src,{nonce:I.nonce||I.getAttribute("nonce")},W):E(I.textContent.replace(q1,""),I,W))}return d}function Np(d,g,y){for(var w,A=g?m.filter(g,d):d,M=0;(w=A[M])!=null;M++)!y&&w.nodeType===1&&m.cleanData(je(w)),w.parentNode&&(y&&kt(w)&&ho(je(w,"script")),w.parentNode.removeChild(w));return d}m.extend({htmlPrefilter:function(d){return d},clone:function(d,g,y){var w,A,M,P,L=d.cloneNode(!0),I=kt(d);if(!b.noCloneChecked&&(d.nodeType===1||d.nodeType===11)&&!m.isXMLDoc(d))for(P=je(L),M=je(d),w=0,A=M.length;w<A;w++)X1(M[w],P[w]);if(g)if(y)for(M=M||je(d),P=P||je(L),w=0,A=M.length;w<A;w++)Dp(M[w],P[w]);else Dp(d,L);return P=je(L,"script"),P.length>0&&ho(P,!I&&je(d,"script")),L},cleanData:function(d){for(var g,y,w,A=m.event.special,M=0;(y=d[M])!==void 0;M++)if(G(y)){if(g=y[K.expando]){if(g.events)for(w in g.events)A[w]?m.event.remove(y,w):m.removeEvent(y,w,g.handle);y[K.expando]=void 0}y[nt.expando]&&(y[nt.expando]=void 0)}}}),m.fn.extend({detach:function(d){return Np(this,d,!0)},remove:function(d){return Np(this,d)},text:function(d){return Ut(this,function(g){return g===void 0?m.text(this):this.empty().each(function(){(this.nodeType===1||this.nodeType===11||this.nodeType===9)&&(this.textContent=g)})},null,d,arguments.length)},append:function(){return go(this,arguments,function(d){if(this.nodeType===1||this.nodeType===11||this.nodeType===9){var g=_p(this,d);g.appendChild(d)}})},prepend:function(){return go(this,arguments,function(d){if(this.nodeType===1||this.nodeType===11||this.nodeType===9){var g=_p(this,d);g.insertBefore(d,g.firstChild)}})},before:function(){return go(this,arguments,function(d){this.parentNode&&this.parentNode.insertBefore(d,this)})},after:function(){return go(this,arguments,function(d){this.parentNode&&this.parentNode.insertBefore(d,this.nextSibling)})},empty:function(){for(var d,g=0;(d=this[g])!=null;g++)d.nodeType===1&&(m.cleanData(je(d,!1)),d.textContent="");return this},clone:function(d,g){return d=d==null?!1:d,g=g==null?d:g,this.map(function(){return m.clone(this,d,g)})},html:function(d){return Ut(this,function(g){var y=this[0]||{},w=0,A=this.length;if(g===void 0&&y.nodeType===1)return y.innerHTML;if(typeof g=="string"&&!H1.test(g)&&!Fe[(_r.exec(g)||["",""])[1].toLowerCase()]){g=m.htmlPrefilter(g);try{for(;w<A;w++)y=this[w]||{},y.nodeType===1&&(m.cleanData(je(y,!1)),y.innerHTML=g);y=0}catch{}}y&&this.empty().append(g)},null,d,arguments.length)},replaceWith:function(){var d=[];return go(this,arguments,function(g){var y=this.parentNode;m.inArray(this,d)<0&&(m.cleanData(je(this)),y&&y.replaceChild(g,this))},d)}}),m.each({appendTo:"append",prependTo:"prepend",insertBefore:"before",insertAfter:"after",replaceAll:"replaceWith"},function(d,g){m.fn[d]=function(y){for(var w,A=[],M=m(y),P=M.length-1,L=0;L<=P;L++)w=L===P?this:this.clone(!0),m(M[L])[g](w),a.apply(A,w.get());return this.pushStack(A)}});var th=new RegExp("^("+ut+")(?!px)[a-z%]+$","i"),Ul=function(d){var g=d.ownerDocument.defaultView;return(!g||!g.opener)&&(g=t),g.getComputedStyle(d)},$p=function(d,g,y){var w,A,M={};for(A in g)M[A]=d.style[A],d.style[A]=g[A];w=y.call(d);for(A in g)d.style[A]=M[A];return w},Y1=new RegExp(Y.join("|"),"i");(function(){function d(){if(!!W){I.style.cssText="position:absolute;left:-11111px;width:60px;margin-top:1px;padding:0;border:0",W.style.cssText="position:relative;display:block;box-sizing:border-box;overflow:scroll;margin:auto;border:1px;padding:1px;width:60%;top:1%",ft.appendChild(I).appendChild(W);var Z=t.getComputedStyle(W);y=Z.top!=="1%",L=g(Z.marginLeft)===12,W.style.right="60%",M=g(Z.right)===36,w=g(Z.width)===36,W.style.position="absolute",A=g(W.offsetWidth/3)===12,ft.removeChild(I),W=null}}function g(Z){return Math.round(parseFloat(Z))}var y,w,A,M,P,L,I=x.createElement("div"),W=x.createElement("div");!W.style||(W.style.backgroundClip="content-box",W.cloneNode(!0).style.backgroundClip="",b.clearCloneStyle=W.style.backgroundClip==="content-box",m.extend(b,{boxSizingReliable:function(){return d(),w},pixelBoxStyles:function(){return d(),M},pixelPosition:function(){return d(),y},reliableMarginLeft:function(){return d(),L},scrollboxSize:function(){return d(),A},reliableTrDimensions:function(){var Z,lt,J,et;return P==null&&(Z=x.createElement("table"),lt=x.createElement("tr"),J=x.createElement("div"),Z.style.cssText="position:absolute;left:-11111px;border-collapse:separate",lt.style.cssText="border:1px solid",lt.style.height="1px",J.style.height="9px",J.style.display="block",ft.appendChild(Z).appendChild(lt).appendChild(J),et=t.getComputedStyle(lt),P=parseInt(et.height,10)+parseInt(et.borderTopWidth,10)+parseInt(et.borderBottomWidth,10)===lt.offsetHeight,ft.removeChild(Z)),P}}))})();function ba(d,g,y){var w,A,M,P,L=d.style;return y=y||Ul(d),y&&(P=y.getPropertyValue(g)||y[g],P===""&&!kt(d)&&(P=m.style(d,g)),!b.pixelBoxStyles()&&th.test(P)&&Y1.test(g)&&(w=L.width,A=L.minWidth,M=L.maxWidth,L.minWidth=L.maxWidth=L.width=P,P=y.width,L.width=w,L.minWidth=A,L.maxWidth=M)),P!==void 0?P+"":P}function Fp(d,g){return{get:function(){if(d()){delete this.get;return}return(this.get=g).apply(this,arguments)}}}var Lp=["Webkit","Moz","ms"],Ip=x.createElement("div").style,zp={};function K1(d){for(var g=d[0].toUpperCase()+d.slice(1),y=Lp.length;y--;)if(d=Lp[y]+g,d in Ip)return d}function eh(d){var g=m.cssProps[d]||zp[d];return g||(d in Ip?d:zp[d]=K1(d)||d)}var J1=/^(none|table(?!-c[ea]).+)/,jp=/^--/,Z1={position:"absolute",visibility:"hidden",display:"block"},Bp={letterSpacing:"0",fontWeight:"400"};function Rp(d,g,y){var w=Pt.exec(g);return w?Math.max(0,w[2]-(y||0))+(w[3]||"px"):g}function nh(d,g,y,w,A,M){var P=g==="width"?1:0,L=0,I=0;if(y===(w?"border":"content"))return 0;for(;P<4;P+=2)y==="margin"&&(I+=m.css(d,y+Y[P],!0,A)),w?(y==="content"&&(I-=m.css(d,"padding"+Y[P],!0,A)),y!=="margin"&&(I-=m.css(d,"border"+Y[P]+"Width",!0,A))):(I+=m.css(d,"padding"+Y[P],!0,A),y!=="padding"?I+=m.css(d,"border"+Y[P]+"Width",!0,A):L+=m.css(d,"border"+Y[P]+"Width",!0,A));return!w&&M>=0&&(I+=Math.max(0,Math.ceil(d["offset"+g[0].toUpperCase()+g.slice(1)]-M-I-L-.5))||0),I}function Vp(d,g,y){var w=Ul(d),A=!b.boxSizingReliable()||y,M=A&&m.css(d,"boxSizing",!1,w)==="border-box",P=M,L=ba(d,g,w),I="offset"+g[0].toUpperCase()+g.slice(1);if(th.test(L)){if(!y)return L;L="auto"}return(!b.boxSizingReliable()&&M||!b.reliableTrDimensions()&&R(d,"tr")||L==="auto"||!parseFloat(L)&&m.css(d,"display",!1,w)==="inline")&&d.getClientRects().length&&(M=m.css(d,"boxSizing",!1,w)==="border-box",P=I in d,P&&(L=d[I])),L=parseFloat(L)||0,L+nh(d,g,y||(M?"border":"content"),P,w,L)+"px"}m.extend({cssHooks:{opacity:{get:function(d,g){if(g){var y=ba(d,"opacity");return y===""?"1":y}}}},cssNumber:{animationIterationCount:!0,columnCount:!0,fillOpacity:!0,flexGrow:!0,flexShrink:!0,fontWeight:!0,gridArea:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnStart:!0,gridRow:!0,gridRowEnd:!0,gridRowStart:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,widows:!0,zIndex:!0,zoom:!0},cssProps:{},style:function(d,g,y,w){if(!(!d||d.nodeType===3||d.nodeType===8||!d.style)){var A,M,P,L=$(g),I=jp.test(g),W=d.style;if(I||(g=eh(L)),P=m.cssHooks[g]||m.cssHooks[L],y!==void 0){if(M=typeof y,M==="string"&&(A=Pt.exec(y))&&A[1]&&(y=Ce(d,g,A),M="number"),y==null||y!==y)return;M==="number"&&!I&&(y+=A&&A[3]||(m.cssNumber[L]?"":"px")),!b.clearCloneStyle&&y===""&&g.indexOf("background")===0&&(W[g]="inherit"),(!P||!("set"in P)||(y=P.set(d,y,w))!==void 0)&&(I?W.setProperty(g,y):W[g]=y)}else return P&&"get"in P&&(A=P.get(d,!1,w))!==void 0?A:W[g]}},css:function(d,g,y,w){var A,M,P,L=$(g),I=jp.test(g);return I||(g=eh(L)),P=m.cssHooks[g]||m.cssHooks[L],P&&"get"in P&&(A=P.get(d,!0,y)),A===void 0&&(A=ba(d,g,w)),A==="normal"&&g in Bp&&(A=Bp[g]),y===""||y?(M=parseFloat(A),y===!0||isFinite(M)?M||0:A):A}}),m.each(["height","width"],function(d,g){m.cssHooks[g]={get:function(y,w,A){if(w)return J1.test(m.css(y,"display"))&&(!y.getClientRects().length||!y.getBoundingClientRect().width)?$p(y,Z1,function(){return Vp(y,g,A)}):Vp(y,g,A)},set:function(y,w,A){var M,P=Ul(y),L=!b.scrollboxSize()&&P.position==="absolute",I=L||A,W=I&&m.css(y,"boxSizing",!1,P)==="border-box",Z=A?nh(y,g,A,W,P):0;return W&&L&&(Z-=Math.ceil(y["offset"+g[0].toUpperCase()+g.slice(1)]-parseFloat(P[g])-nh(y,g,"border",!1,P)-.5)),Z&&(M=Pt.exec(w))&&(M[3]||"px")!=="px"&&(y.style[g]=w,w=m.css(y,g)),Rp(y,w,Z)}}}),m.cssHooks.marginLeft=Fp(b.reliableMarginLeft,function(d,g){if(g)return(parseFloat(ba(d,"marginLeft"))||d.getBoundingClientRect().left-$p(d,{marginLeft:0},function(){return d.getBoundingClientRect().left}))+"px"}),m.each({margin:"",padding:"",border:"Width"},function(d,g){m.cssHooks[d+g]={expand:function(y){for(var w=0,A={},M=typeof y=="string"?y.split(" "):[y];w<4;w++)A[d+Y[w]+g]=M[w]||M[w-2]||M[0];return A}},d!=="margin"&&(m.cssHooks[d+g].set=Rp)}),m.fn.extend({css:function(d,g){return Ut(this,function(y,w,A){var M,P,L={},I=0;if(Array.isArray(w)){for(M=Ul(y),P=w.length;I<P;I++)L[w[I]]=m.css(y,w[I],!1,M);return L}return A!==void 0?m.style(y,w,A):m.css(y,w)},d,g,arguments.length>1)}});function Gn(d,g,y,w,A){return new Gn.prototype.init(d,g,y,w,A)}m.Tween=Gn,Gn.prototype={constructor:Gn,init:function(d,g,y,w,A,M){this.elem=d,this.prop=y,this.easing=A||m.easing._default,this.options=g,this.start=this.now=this.cur(),this.end=w,this.unit=M||(m.cssNumber[y]?"":"px")},cur:function(){var d=Gn.propHooks[this.prop];return d&&d.get?d.get(this):Gn.propHooks._default.get(this)},run:function(d){var g,y=Gn.propHooks[this.prop];return this.options.duration?this.pos=g=m.easing[this.easing](d,this.options.duration*d,0,1,this.options.duration):this.pos=g=d,this.now=(this.end-this.start)*g+this.start,this.options.step&&this.options.step.call(this.elem,this.now,this),y&&y.set?y.set(this):Gn.propHooks._default.set(this),this}},Gn.prototype.init.prototype=Gn.prototype,Gn.propHooks={_default:{get:function(d){var g;return d.elem.nodeType!==1||d.elem[d.prop]!=null&&d.elem.style[d.prop]==null?d.elem[d.prop]:(g=m.css(d.elem,d.prop,""),!g||g==="auto"?0:g)},set:function(d){m.fx.step[d.prop]?m.fx.step[d.prop](d):d.elem.nodeType===1&&(m.cssHooks[d.prop]||d.elem.style[eh(d.prop)]!=null)?m.style(d.elem,d.prop,d.now+d.unit):d.elem[d.prop]=d.now}}},Gn.propHooks.scrollTop=Gn.propHooks.scrollLeft={set:function(d){d.elem.nodeType&&d.elem.parentNode&&(d.elem[d.prop]=d.now)}},m.easing={linear:function(d){return d},swing:function(d){return .5-Math.cos(d*Math.PI)/2},_default:"swing"},m.fx=Gn.prototype.init,m.fx.step={};var mo,Wl,Q1=/^(?:toggle|show|hide)$/,tx=/queueHooks$/;function ih(){Wl&&(x.hidden===!1&&t.requestAnimationFrame?t.requestAnimationFrame(ih):t.setTimeout(ih,m.fx.interval),m.fx.tick())}function Hp(){return t.setTimeout(function(){mo=void 0}),mo=Date.now()}function Xl(d,g){var y,w=0,A={height:d};for(g=g?1:0;w<4;w+=2-g)y=Y[w],A["margin"+y]=A["padding"+y]=d;return g&&(A.opacity=A.width=d),A}function Gp(d,g,y){for(var w,A=(ki.tweeners[g]||[]).concat(ki.tweeners["*"]),M=0,P=A.length;M<P;M++)if(w=A[M].call(y,g,d))return w}function ex(d,g,y){var w,A,M,P,L,I,W,Z,lt="width"in g||"height"in g,J=this,et={},Ft=d.style,Kt=d.nodeType&&le(d),Lt=K.get(d,"fxshow");y.queue||(P=m._queueHooks(d,"fx"),P.unqueued==null&&(P.unqueued=0,L=P.empty.fire,P.empty.fire=function(){P.unqueued||L()}),P.unqueued++,J.always(function(){J.always(function(){P.unqueued--,m.queue(d,"fx").length||P.empty.fire()})}));for(w in g)if(A=g[w],Q1.test(A)){if(delete g[w],M=M||A==="toggle",A===(Kt?"hide":"show"))if(A==="show"&&Lt&&Lt[w]!==void 0)Kt=!0;else continue;et[w]=Lt&&Lt[w]||m.style(d,w)}if(I=!m.isEmptyObject(g),!(!I&&m.isEmptyObject(et))){lt&&d.nodeType===1&&(y.overflow=[Ft.overflow,Ft.overflowX,Ft.overflowY],W=Lt&&Lt.display,W==null&&(W=K.get(d,"display")),Z=m.css(d,"display"),Z==="none"&&(W?Z=W:(ei([d],!0),W=d.style.display||W,Z=m.css(d,"display"),ei([d]))),(Z==="inline"||Z==="inline-block"&&W!=null)&&m.css(d,"float")==="none"&&(I||(J.done(function(){Ft.display=W}),W==null&&(Z=Ft.display,W=Z==="none"?"":Z)),Ft.display="inline-block")),y.overflow&&(Ft.overflow="hidden",J.always(function(){Ft.overflow=y.overflow[0],Ft.overflowX=y.overflow[1],Ft.overflowY=y.overflow[2]})),I=!1;for(w in et)I||(Lt?"hidden"in Lt&&(Kt=Lt.hidden):Lt=K.access(d,"fxshow",{display:W}),M&&(Lt.hidden=!Kt),Kt&&ei([d],!0),J.done(function(){Kt||ei([d]),K.remove(d,"fxshow");for(w in et)m.style(d,w,et[w])})),I=Gp(Kt?Lt[w]:0,w,J),w in Lt||(Lt[w]=I.start,Kt&&(I.end=I.start,I.start=0))}}function nx(d,g){var y,w,A,M,P;for(y in d)if(w=$(y),A=g[w],M=d[y],Array.isArray(M)&&(A=M[1],M=d[y]=M[0]),y!==w&&(d[w]=M,delete d[y]),P=m.cssHooks[w],P&&"expand"in P){M=P.expand(M),delete d[w];for(y in M)y in d||(d[y]=M[y],g[y]=A)}else g[w]=A}function ki(d,g,y){var w,A,M=0,P=ki.prefilters.length,L=m.Deferred().always(function(){delete I.elem}),I=function(){if(A)return!1;for(var lt=mo||Hp(),J=Math.max(0,W.startTime+W.duration-lt),et=J/W.duration||0,Ft=1-et,Kt=0,Lt=W.tweens.length;Kt<Lt;Kt++)W.tweens[Kt].run(Ft);return L.notifyWith(d,[W,Ft,J]),Ft<1&&Lt?J:(Lt||L.notifyWith(d,[W,1,0]),L.resolveWith(d,[W]),!1)},W=L.promise({elem:d,props:m.extend({},g),opts:m.extend(!0,{specialEasing:{},easing:m.easing._default},y),originalProperties:g,originalOptions:y,startTime:mo||Hp(),duration:y.duration,tweens:[],createTween:function(lt,J){var et=m.Tween(d,W.opts,lt,J,W.opts.specialEasing[lt]||W.opts.easing);return W.tweens.push(et),et},stop:function(lt){var J=0,et=lt?W.tweens.length:0;if(A)return this;for(A=!0;J<et;J++)W.tweens[J].run(1);return lt?(L.notifyWith(d,[W,1,0]),L.resolveWith(d,[W,lt])):L.rejectWith(d,[W,lt]),this}}),Z=W.props;for(nx(Z,W.opts.specialEasing);M<P;M++)if(w=ki.prefilters[M].call(W,d,Z,W.opts),w)return v(w.stop)&&(m._queueHooks(W.elem,W.opts.queue).stop=w.stop.bind(w)),w;return m.map(Z,Gp,W),v(W.opts.start)&&W.opts.start.call(d,W),W.progress(W.opts.progress).done(W.opts.done,W.opts.complete).fail(W.opts.fail).always(W.opts.always),m.fx.timer(m.extend(I,{elem:d,anim:W,queue:W.opts.queue})),W}m.Animation=m.extend(ki,{tweeners:{"*":[function(d,g){var y=this.createTween(d,g);return Ce(y.elem,d,Pt.exec(g),y),y}]},tweener:function(d,g){v(d)?(g=d,d=["*"]):d=d.match(pt);for(var y,w=0,A=d.length;w<A;w++)y=d[w],ki.tweeners[y]=ki.tweeners[y]||[],ki.tweeners[y].unshift(g)},prefilters:[ex],prefilter:function(d,g){g?ki.prefilters.unshift(d):ki.prefilters.push(d)}}),m.speed=function(d,g,y){var w=d&&typeof d=="object"?m.extend({},d):{complete:y||!y&&g||v(d)&&d,duration:d,easing:y&&g||g&&!v(g)&&g};return m.fx.off?w.duration=0:typeof w.duration!="number"&&(w.duration in m.fx.speeds?w.duration=m.fx.speeds[w.duration]:w.duration=m.fx.speeds._default),(w.queue==null||w.queue===!0)&&(w.queue="fx"),w.old=w.complete,w.complete=function(){v(w.old)&&w.old.call(this),w.queue&&m.dequeue(this,w.queue)},w},m.fn.extend({fadeTo:function(d,g,y,w){return this.filter(le).css("opacity",0).show().end().animate({opacity:g},d,y,w)},animate:function(d,g,y,w){var A=m.isEmptyObject(d),M=m.speed(g,y,w),P=function(){var L=ki(this,m.extend({},d),M);(A||K.get(this,"finish"))&&L.stop(!0)};return P.finish=P,A||M.queue===!1?this.each(P):this.queue(M.queue,P)},stop:function(d,g,y){var w=function(A){var M=A.stop;delete A.stop,M(y)};return typeof d!="string"&&(y=g,g=d,d=void 0),g&&this.queue(d||"fx",[]),this.each(function(){var A=!0,M=d!=null&&d+"queueHooks",P=m.timers,L=K.get(this);if(M)L[M]&&L[M].stop&&w(L[M]);else for(M in L)L[M]&&L[M].stop&&tx.test(M)&&w(L[M]);for(M=P.length;M--;)P[M].elem===this&&(d==null||P[M].queue===d)&&(P[M].anim.stop(y),A=!1,P.splice(M,1));(A||!y)&&m.dequeue(this,d)})},finish:function(d){return d!==!1&&(d=d||"fx"),this.each(function(){var g,y=K.get(this),w=y[d+"queue"],A=y[d+"queueHooks"],M=m.timers,P=w?w.length:0;for(y.finish=!0,m.queue(this,d,[]),A&&A.stop&&A.stop.call(this,!0),g=M.length;g--;)M[g].elem===this&&M[g].queue===d&&(M[g].anim.stop(!0),M.splice(g,1));for(g=0;g<P;g++)w[g]&&w[g].finish&&w[g].finish.call(this);delete y.finish})}}),m.each(["toggle","show","hide"],function(d,g){var y=m.fn[g];m.fn[g]=function(w,A,M){return w==null||typeof w=="boolean"?y.apply(this,arguments):this.animate(Xl(g,!0),w,A,M)}}),m.each({slideDown:Xl("show"),slideUp:Xl("hide"),slideToggle:Xl("toggle"),fadeIn:{opacity:"show"},fadeOut:{opacity:"hide"},fadeToggle:{opacity:"toggle"}},function(d,g){m.fn[d]=function(y,w,A){return this.animate(g,y,w,A)}}),m.timers=[],m.fx.tick=function(){var d,g=0,y=m.timers;for(mo=Date.now();g<y.length;g++)d=y[g],!d()&&y[g]===d&&y.splice(g--,1);y.length||m.fx.stop(),mo=void 0},m.fx.timer=function(d){m.timers.push(d),m.fx.start()},m.fx.interval=13,m.fx.start=function(){Wl||(Wl=!0,ih())},m.fx.stop=function(){Wl=null},m.fx.speeds={slow:600,fast:200,_default:400},m.fn.delay=function(d,g){return d=m.fx&&m.fx.speeds[d]||d,g=g||"fx",this.queue(g,function(y,w){var A=t.setTimeout(y,d);w.stop=function(){t.clearTimeout(A)}})},function(){var d=x.createElement("input"),g=x.createElement("select"),y=g.appendChild(x.createElement("option"));d.type="checkbox",b.checkOn=d.value!=="",b.optSelected=y.selected,d=x.createElement("input"),d.value="t",d.type="radio",b.radioValue=d.value==="t"}();var qp,va=m.expr.attrHandle;m.fn.extend({attr:function(d,g){return Ut(this,m.attr,d,g,arguments.length>1)},removeAttr:function(d){return this.each(function(){m.removeAttr(this,d)})}}),m.extend({attr:function(d,g,y){var w,A,M=d.nodeType;if(!(M===3||M===8||M===2)){if(typeof d.getAttribute=="undefined")return m.prop(d,g,y);if((M!==1||!m.isXMLDoc(d))&&(A=m.attrHooks[g.toLowerCase()]||(m.expr.match.bool.test(g)?qp:void 0)),y!==void 0){if(y===null){m.removeAttr(d,g);return}return A&&"set"in A&&(w=A.set(d,y,g))!==void 0?w:(d.setAttribute(g,y+""),y)}return A&&"get"in A&&(w=A.get(d,g))!==null?w:(w=m.find.attr(d,g),w==null?void 0:w)}},attrHooks:{type:{set:function(d,g){if(!b.radioValue&&g==="radio"&&R(d,"input")){var y=d.value;return d.setAttribute("type",g),y&&(d.value=y),g}}}},removeAttr:function(d,g){var y,w=0,A=g&&g.match(pt);if(A&&d.nodeType===1)for(;y=A[w++];)d.removeAttribute(y)}}),qp={set:function(d,g,y){return g===!1?m.removeAttr(d,y):d.setAttribute(y,y),y}},m.each(m.expr.match.bool.source.match(/\w+/g),function(d,g){var y=va[g]||m.find.attr;va[g]=function(w,A,M){var P,L,I=A.toLowerCase();return M||(L=va[I],va[I]=P,P=y(w,A,M)!=null?I:null,va[I]=L),P}});var ix=/^(?:input|select|textarea|button)$/i,rx=/^(?:a|area)$/i;m.fn.extend({prop:function(d,g){return Ut(this,m.prop,d,g,arguments.length>1)},removeProp:function(d){return this.each(function(){delete this[m.propFix[d]||d]})}}),m.extend({prop:function(d,g,y){var w,A,M=d.nodeType;if(!(M===3||M===8||M===2))return(M!==1||!m.isXMLDoc(d))&&(g=m.propFix[g]||g,A=m.propHooks[g]),y!==void 0?A&&"set"in A&&(w=A.set(d,y,g))!==void 0?w:d[g]=y:A&&"get"in A&&(w=A.get(d,g))!==null?w:d[g]},propHooks:{tabIndex:{get:function(d){var g=m.find.attr(d,"tabindex");return g?parseInt(g,10):ix.test(d.nodeName)||rx.test(d.nodeName)&&d.href?0:-1}}},propFix:{for:"htmlFor",class:"className"}}),b.optSelected||(m.propHooks.selected={get:function(d){var g=d.parentNode;return g&&g.parentNode&&g.parentNode.selectedIndex,null},set:function(d){var g=d.parentNode;g&&(g.selectedIndex,g.parentNode&&g.parentNode.selectedIndex)}}),m.each(["tabIndex","readOnly","maxLength","cellSpacing","cellPadding","rowSpan","colSpan","useMap","frameBorder","contentEditable"],function(){m.propFix[this.toLowerCase()]=this});function hs(d){var g=d.match(pt)||[];return g.join(" ")}function ds(d){return d.getAttribute&&d.getAttribute("class")||""}function rh(d){return Array.isArray(d)?d:typeof d=="string"?d.match(pt)||[]:[]}m.fn.extend({addClass:function(d){var g,y,w,A,M,P,L,I=0;if(v(d))return this.each(function(W){m(this).addClass(d.call(this,W,ds(this)))});if(g=rh(d),g.length){for(;y=this[I++];)if(A=ds(y),w=y.nodeType===1&&" "+hs(A)+" ",w){for(P=0;M=g[P++];)w.indexOf(" "+M+" ")<0&&(w+=M+" ");L=hs(w),A!==L&&y.setAttribute("class",L)}}return this},removeClass:function(d){var g,y,w,A,M,P,L,I=0;if(v(d))return this.each(function(W){m(this).removeClass(d.call(this,W,ds(this)))});if(!arguments.length)return this.attr("class","");if(g=rh(d),g.length){for(;y=this[I++];)if(A=ds(y),w=y.nodeType===1&&" "+hs(A)+" ",w){for(P=0;M=g[P++];)for(;w.indexOf(" "+M+" ")>-1;)w=w.replace(" "+M+" "," ");L=hs(w),A!==L&&y.setAttribute("class",L)}}return this},toggleClass:function(d,g){var y=typeof d,w=y==="string"||Array.isArray(d);return typeof g=="boolean"&&w?g?this.addClass(d):this.removeClass(d):v(d)?this.each(function(A){m(this).toggleClass(d.call(this,A,ds(this),g),g)}):this.each(function(){var A,M,P,L;if(w)for(M=0,P=m(this),L=rh(d);A=L[M++];)P.hasClass(A)?P.removeClass(A):P.addClass(A);else(d===void 0||y==="boolean")&&(A=ds(this),A&&K.set(this,"__className__",A),this.setAttribute&&this.setAttribute("class",A||d===!1?"":K.get(this,"__className__")||""))})},hasClass:function(d){var g,y,w=0;for(g=" "+d+" ";y=this[w++];)if(y.nodeType===1&&(" "+hs(ds(y))+" ").indexOf(g)>-1)return!0;return!1}});var sx=/\r/g;m.fn.extend({val:function(d){var g,y,w,A=this[0];return arguments.length?(w=v(d),this.each(function(M){var P;this.nodeType===1&&(w?P=d.call(this,M,m(this).val()):P=d,P==null?P="":typeof P=="number"?P+="":Array.isArray(P)&&(P=m.map(P,function(L){return L==null?"":L+""})),g=m.valHooks[this.type]||m.valHooks[this.nodeName.toLowerCase()],(!g||!("set"in g)||g.set(this,P,"value")===void 0)&&(this.value=P))})):A?(g=m.valHooks[A.type]||m.valHooks[A.nodeName.toLowerCase()],g&&"get"in g&&(y=g.get(A,"value"))!==void 0?y:(y=A.value,typeof y=="string"?y.replace(sx,""):y==null?"":y)):void 0}}),m.extend({valHooks:{option:{get:function(d){var g=m.find.attr(d,"value");return g!=null?g:hs(m.text(d))}},select:{get:function(d){var g,y,w,A=d.options,M=d.selectedIndex,P=d.type==="select-one",L=P?null:[],I=P?M+1:A.length;for(M<0?w=I:w=P?M:0;w<I;w++)if(y=A[w],(y.selected||w===M)&&!y.disabled&&(!y.parentNode.disabled||!R(y.parentNode,"optgroup"))){if(g=m(y).val(),P)return g;L.push(g)}return L},set:function(d,g){for(var y,w,A=d.options,M=m.makeArray(g),P=A.length;P--;)w=A[P],(w.selected=m.inArray(m.valHooks.option.get(w),M)>-1)&&(y=!0);return y||(d.selectedIndex=-1),M}}}}),m.each(["radio","checkbox"],function(){m.valHooks[this]={set:function(d,g){if(Array.isArray(g))return d.checked=m.inArray(m(d).val(),g)>-1}},b.checkOn||(m.valHooks[this].get=function(d){return d.getAttribute("value")===null?"on":d.value})}),b.focusin="onfocusin"in t;var Up=/^(?:focusinfocus|focusoutblur)$/,Wp=function(d){d.stopPropagation()};m.extend(m.event,{trigger:function(d,g,y,w){var A,M,P,L,I,W,Z,lt,J=[y||x],et=h.call(d,"type")?d.type:d,Ft=h.call(d,"namespace")?d.namespace.split("."):[];if(M=lt=P=y=y||x,!(y.nodeType===3||y.nodeType===8)&&!Up.test(et+m.event.triggered)&&(et.indexOf(".")>-1&&(Ft=et.split("."),et=Ft.shift(),Ft.sort()),I=et.indexOf(":")<0&&"on"+et,d=d[m.expando]?d:new m.Event(et,typeof d=="object"&&d),d.isTrigger=w?2:3,d.namespace=Ft.join("."),d.rnamespace=d.namespace?new RegExp("(^|\\.)"+Ft.join("\\.(?:.*\\.|)")+"(\\.|$)"):null,d.result=void 0,d.target||(d.target=y),g=g==null?[d]:m.makeArray(g,[d]),Z=m.event.special[et]||{},!(!w&&Z.trigger&&Z.trigger.apply(y,g)===!1))){if(!w&&!Z.noBubble&&!C(y)){for(L=Z.delegateType||et,Up.test(L+et)||(M=M.parentNode);M;M=M.parentNode)J.push(M),P=M;P===(y.ownerDocument||x)&&J.push(P.defaultView||P.parentWindow||t)}for(A=0;(M=J[A++])&&!d.isPropagationStopped();)lt=M,d.type=A>1?L:Z.bindType||et,W=(K.get(M,"events")||Object.create(null))[d.type]&&K.get(M,"handle"),W&&W.apply(M,g),W=I&&M[I],W&&W.apply&&G(M)&&(d.result=W.apply(M,g),d.result===!1&&d.preventDefault());return d.type=et,!w&&!d.isDefaultPrevented()&&(!Z._default||Z._default.apply(J.pop(),g)===!1)&&G(y)&&I&&v(y[et])&&!C(y)&&(P=y[I],P&&(y[I]=null),m.event.triggered=et,d.isPropagationStopped()&&lt.addEventListener(et,Wp),y[et](),d.isPropagationStopped()&&lt.removeEventListener(et,Wp),m.event.triggered=void 0,P&&(y[I]=P)),d.result}},simulate:function(d,g,y){var w=m.extend(new m.Event,y,{type:d,isSimulated:!0});m.event.trigger(w,null,g)}}),m.fn.extend({trigger:function(d,g){return this.each(function(){m.event.trigger(d,g,this)})},triggerHandler:function(d,g){var y=this[0];if(y)return m.event.trigger(d,g,y,!0)}}),b.focusin||m.each({focus:"focusin",blur:"focusout"},function(d,g){var y=function(w){m.event.simulate(g,w.target,m.event.fix(w))};m.event.special[g]={setup:function(){var w=this.ownerDocument||this.document||this,A=K.access(w,g);A||w.addEventListener(d,y,!0),K.access(w,g,(A||0)+1)},teardown:function(){var w=this.ownerDocument||this.document||this,A=K.access(w,g)-1;A?K.access(w,g,A):(w.removeEventListener(d,y,!0),K.remove(w,g))}}});var ya=t.location,Xp={guid:Date.now()},sh=/\?/;m.parseXML=function(d){var g,y;if(!d||typeof d!="string")return null;try{g=new t.DOMParser().parseFromString(d,"text/xml")}catch{}return y=g&&g.getElementsByTagName("parsererror")[0],(!g||y)&&m.error("Invalid XML: "+(y?m.map(y.childNodes,function(w){return w.textContent}).join(`
`):d)),g};var ox=/\[\]$/,Yp=/\r?\n/g,ax=/^(?:submit|button|image|reset|file)$/i,lx=/^(?:input|select|textarea|keygen)/i;function oh(d,g,y,w){var A;if(Array.isArray(g))m.each(g,function(M,P){y||ox.test(d)?w(d,P):oh(d+"["+(typeof P=="object"&&P!=null?M:"")+"]",P,y,w)});else if(!y&&O(g)==="object")for(A in g)oh(d+"["+A+"]",g[A],y,w);else w(d,g)}m.param=function(d,g){var y,w=[],A=function(M,P){var L=v(P)?P():P;w[w.length]=encodeURIComponent(M)+"="+encodeURIComponent(L==null?"":L)};if(d==null)return"";if(Array.isArray(d)||d.jquery&&!m.isPlainObject(d))m.each(d,function(){A(this.name,this.value)});else for(y in d)oh(y,d[y],g,A);return w.join("&")},m.fn.extend({serialize:function(){return m.param(this.serializeArray())},serializeArray:function(){return this.map(function(){var d=m.prop(this,"elements");return d?m.makeArray(d):this}).filter(function(){var d=this.type;return this.name&&!m(this).is(":disabled")&&lx.test(this.nodeName)&&!ax.test(d)&&(this.checked||!kr.test(d))}).map(function(d,g){var y=m(this).val();return y==null?null:Array.isArray(y)?m.map(y,function(w){return{name:g.name,value:w.replace(Yp,`\r
`)}}):{name:g.name,value:y.replace(Yp,`\r
`)}}).get()}});var cx=/%20/g,ux=/#.*$/,hx=/([?&])_=[^&]*/,dx=/^(.*?):[ \t]*([^\r\n]*)$/mg,fx=/^(?:about|app|app-storage|.+-extension|file|res|widget):$/,px=/^(?:GET|HEAD)$/,gx=/^\/\//,Kp={},ah={},Jp="*/".concat("*"),lh=x.createElement("a");lh.href=ya.href;function Zp(d){return function(g,y){typeof g!="string"&&(y=g,g="*");var w,A=0,M=g.toLowerCase().match(pt)||[];if(v(y))for(;w=M[A++];)w[0]==="+"?(w=w.slice(1)||"*",(d[w]=d[w]||[]).unshift(y)):(d[w]=d[w]||[]).push(y)}}function Qp(d,g,y,w){var A={},M=d===ah;function P(L){var I;return A[L]=!0,m.each(d[L]||[],function(W,Z){var lt=Z(g,y,w);if(typeof lt=="string"&&!M&&!A[lt])return g.dataTypes.unshift(lt),P(lt),!1;if(M)return!(I=lt)}),I}return P(g.dataTypes[0])||!A["*"]&&P("*")}function ch(d,g){var y,w,A=m.ajaxSettings.flatOptions||{};for(y in g)g[y]!==void 0&&((A[y]?d:w||(w={}))[y]=g[y]);return w&&m.extend(!0,d,w),d}function mx(d,g,y){for(var w,A,M,P,L=d.contents,I=d.dataTypes;I[0]==="*";)I.shift(),w===void 0&&(w=d.mimeType||g.getResponseHeader("Content-Type"));if(w){for(A in L)if(L[A]&&L[A].test(w)){I.unshift(A);break}}if(I[0]in y)M=I[0];else{for(A in y){if(!I[0]||d.converters[A+" "+I[0]]){M=A;break}P||(P=A)}M=M||P}if(M)return M!==I[0]&&I.unshift(M),y[M]}function bx(d,g,y,w){var A,M,P,L,I,W={},Z=d.dataTypes.slice();if(Z[1])for(P in d.converters)W[P.toLowerCase()]=d.converters[P];for(M=Z.shift();M;)if(d.responseFields[M]&&(y[d.responseFields[M]]=g),!I&&w&&d.dataFilter&&(g=d.dataFilter(g,d.dataType)),I=M,M=Z.shift(),M){if(M==="*")M=I;else if(I!=="*"&&I!==M){if(P=W[I+" "+M]||W["* "+M],!P){for(A in W)if(L=A.split(" "),L[1]===M&&(P=W[I+" "+L[0]]||W["* "+L[0]],P)){P===!0?P=W[A]:W[A]!==!0&&(M=L[0],Z.unshift(L[1]));break}}if(P!==!0)if(P&&d.throws)g=P(g);else try{g=P(g)}catch(lt){return{state:"parsererror",error:P?lt:"No conversion from "+I+" to "+M}}}}return{state:"success",data:g}}m.extend({active:0,lastModified:{},etag:{},ajaxSettings:{url:ya.href,type:"GET",isLocal:fx.test(ya.protocol),global:!0,processData:!0,async:!0,contentType:"application/x-www-form-urlencoded; charset=UTF-8",accepts:{"*":Jp,text:"text/plain",html:"text/html",xml:"application/xml, text/xml",json:"application/json, text/javascript"},contents:{xml:/\bxml\b/,html:/\bhtml/,json:/\bjson\b/},responseFields:{xml:"responseXML",text:"responseText",json:"responseJSON"},converters:{"* text":String,"text html":!0,"text json":JSON.parse,"text xml":m.parseXML},flatOptions:{url:!0,context:!0}},ajaxSetup:function(d,g){return g?ch(ch(d,m.ajaxSettings),g):ch(m.ajaxSettings,d)},ajaxPrefilter:Zp(Kp),ajaxTransport:Zp(ah),ajax:function(d,g){typeof d=="object"&&(g=d,d=void 0),g=g||{};var y,w,A,M,P,L,I,W,Z,lt,J=m.ajaxSetup({},g),et=J.context||J,Ft=J.context&&(et.nodeType||et.jquery)?m(et):m.event,Kt=m.Deferred(),Lt=m.Callbacks("once memory"),dn=J.statusCode||{},sn={},ni={},Pe="canceled",Xt={readyState:0,getResponseHeader:function(ve){var Ue;if(I){if(!M)for(M={};Ue=dx.exec(A);)M[Ue[1].toLowerCase()+" "]=(M[Ue[1].toLowerCase()+" "]||[]).concat(Ue[2]);Ue=M[ve.toLowerCase()+" "]}return Ue==null?null:Ue.join(", ")},getAllResponseHeaders:function(){return I?A:null},setRequestHeader:function(ve,Ue){return I==null&&(ve=ni[ve.toLowerCase()]=ni[ve.toLowerCase()]||ve,sn[ve]=Ue),this},overrideMimeType:function(ve){return I==null&&(J.mimeType=ve),this},statusCode:function(ve){var Ue;if(ve)if(I)Xt.always(ve[Xt.status]);else for(Ue in ve)dn[Ue]=[dn[Ue],ve[Ue]];return this},abort:function(ve){var Ue=ve||Pe;return y&&y.abort(Ue),qn(0,Ue),this}};if(Kt.promise(Xt),J.url=((d||J.url||ya.href)+"").replace(gx,ya.protocol+"//"),J.type=g.method||g.type||J.method||J.type,J.dataTypes=(J.dataType||"*").toLowerCase().match(pt)||[""],J.crossDomain==null){L=x.createElement("a");try{L.href=J.url,L.href=L.href,J.crossDomain=lh.protocol+"//"+lh.host!=L.protocol+"//"+L.host}catch{J.crossDomain=!0}}if(J.data&&J.processData&&typeof J.data!="string"&&(J.data=m.param(J.data,J.traditional)),Qp(Kp,J,g,Xt),I)return Xt;W=m.event&&J.global,W&&m.active++===0&&m.event.trigger("ajaxStart"),J.type=J.type.toUpperCase(),J.hasContent=!px.test(J.type),w=J.url.replace(ux,""),J.hasContent?J.data&&J.processData&&(J.contentType||"").indexOf("application/x-www-form-urlencoded")===0&&(J.data=J.data.replace(cx,"+")):(lt=J.url.slice(w.length),J.data&&(J.processData||typeof J.data=="string")&&(w+=(sh.test(w)?"&":"?")+J.data,delete J.data),J.cache===!1&&(w=w.replace(hx,"$1"),lt=(sh.test(w)?"&":"?")+"_="+Xp.guid+++lt),J.url=w+lt),J.ifModified&&(m.lastModified[w]&&Xt.setRequestHeader("If-Modified-Since",m.lastModified[w]),m.etag[w]&&Xt.setRequestHeader("If-None-Match",m.etag[w])),(J.data&&J.hasContent&&J.contentType!==!1||g.contentType)&&Xt.setRequestHeader("Content-Type",J.contentType),Xt.setRequestHeader("Accept",J.dataTypes[0]&&J.accepts[J.dataTypes[0]]?J.accepts[J.dataTypes[0]]+(J.dataTypes[0]!=="*"?", "+Jp+"; q=0.01":""):J.accepts["*"]);for(Z in J.headers)Xt.setRequestHeader(Z,J.headers[Z]);if(J.beforeSend&&(J.beforeSend.call(et,Xt,J)===!1||I))return Xt.abort();if(Pe="abort",Lt.add(J.complete),Xt.done(J.success),Xt.fail(J.error),y=Qp(ah,J,g,Xt),!y)qn(-1,"No Transport");else{if(Xt.readyState=1,W&&Ft.trigger("ajaxSend",[Xt,J]),I)return Xt;J.async&&J.timeout>0&&(P=t.setTimeout(function(){Xt.abort("timeout")},J.timeout));try{I=!1,y.send(sn,qn)}catch(ve){if(I)throw ve;qn(-1,ve)}}function qn(ve,Ue,Ca,Yl){var ii,fs,ps,Un,Dr,mi=Ue;I||(I=!0,P&&t.clearTimeout(P),y=void 0,A=Yl||"",Xt.readyState=ve>0?4:0,ii=ve>=200&&ve<300||ve===304,Ca&&(Un=mx(J,Xt,Ca)),!ii&&m.inArray("script",J.dataTypes)>-1&&m.inArray("json",J.dataTypes)<0&&(J.converters["text script"]=function(){}),Un=bx(J,Un,Xt,ii),ii?(J.ifModified&&(Dr=Xt.getResponseHeader("Last-Modified"),Dr&&(m.lastModified[w]=Dr),Dr=Xt.getResponseHeader("etag"),Dr&&(m.etag[w]=Dr)),ve===204||J.type==="HEAD"?mi="nocontent":ve===304?mi="notmodified":(mi=Un.state,fs=Un.data,ps=Un.error,ii=!ps)):(ps=mi,(ve||!mi)&&(mi="error",ve<0&&(ve=0))),Xt.status=ve,Xt.statusText=(Ue||mi)+"",ii?Kt.resolveWith(et,[fs,mi,Xt]):Kt.rejectWith(et,[Xt,mi,ps]),Xt.statusCode(dn),dn=void 0,W&&Ft.trigger(ii?"ajaxSuccess":"ajaxError",[Xt,J,ii?fs:ps]),Lt.fireWith(et,[Xt,mi]),W&&(Ft.trigger("ajaxComplete",[Xt,J]),--m.active||m.event.trigger("ajaxStop")))}return Xt},getJSON:function(d,g,y){return m.get(d,g,y,"json")},getScript:function(d,g){return m.get(d,void 0,g,"script")}}),m.each(["get","post"],function(d,g){m[g]=function(y,w,A,M){return v(w)&&(M=M||A,A=w,w=void 0),m.ajax(m.extend({url:y,type:g,dataType:M,data:w,success:A},m.isPlainObject(y)&&y))}}),m.ajaxPrefilter(function(d){var g;for(g in d.headers)g.toLowerCase()==="content-type"&&(d.contentType=d.headers[g]||"")}),m._evalUrl=function(d,g,y){return m.ajax({url:d,type:"GET",dataType:"script",cache:!0,async:!1,global:!1,converters:{"text script":function(){}},dataFilter:function(w){m.globalEval(w,g,y)}})},m.fn.extend({wrapAll:function(d){var g;return this[0]&&(v(d)&&(d=d.call(this[0])),g=m(d,this[0].ownerDocument).eq(0).clone(!0),this[0].parentNode&&g.insertBefore(this[0]),g.map(function(){for(var y=this;y.firstElementChild;)y=y.firstElementChild;return y}).append(this)),this},wrapInner:function(d){return v(d)?this.each(function(g){m(this).wrapInner(d.call(this,g))}):this.each(function(){var g=m(this),y=g.contents();y.length?y.wrapAll(d):g.append(d)})},wrap:function(d){var g=v(d);return this.each(function(y){m(this).wrapAll(g?d.call(this,y):d)})},unwrap:function(d){return this.parent(d).not("body").each(function(){m(this).replaceWith(this.childNodes)}),this}}),m.expr.pseudos.hidden=function(d){return!m.expr.pseudos.visible(d)},m.expr.pseudos.visible=function(d){return!!(d.offsetWidth||d.offsetHeight||d.getClientRects().length)},m.ajaxSettings.xhr=function(){try{return new t.XMLHttpRequest}catch{}};var vx={0:200,1223:204},xa=m.ajaxSettings.xhr();b.cors=!!xa&&"withCredentials"in xa,b.ajax=xa=!!xa,m.ajaxTransport(function(d){var g,y;if(b.cors||xa&&!d.crossDomain)return{send:function(w,A){var M,P=d.xhr();if(P.open(d.type,d.url,d.async,d.username,d.password),d.xhrFields)for(M in d.xhrFields)P[M]=d.xhrFields[M];d.mimeType&&P.overrideMimeType&&P.overrideMimeType(d.mimeType),!d.crossDomain&&!w["X-Requested-With"]&&(w["X-Requested-With"]="XMLHttpRequest");for(M in w)P.setRequestHeader(M,w[M]);g=function(L){return function(){g&&(g=y=P.onload=P.onerror=P.onabort=P.ontimeout=P.onreadystatechange=null,L==="abort"?P.abort():L==="error"?typeof P.status!="number"?A(0,"error"):A(P.status,P.statusText):A(vx[P.status]||P.status,P.statusText,(P.responseType||"text")!=="text"||typeof P.responseText!="string"?{binary:P.response}:{text:P.responseText},P.getAllResponseHeaders()))}},P.onload=g(),y=P.onerror=P.ontimeout=g("error"),P.onabort!==void 0?P.onabort=y:P.onreadystatechange=function(){P.readyState===4&&t.setTimeout(function(){g&&y()})},g=g("abort");try{P.send(d.hasContent&&d.data||null)}catch(L){if(g)throw L}},abort:function(){g&&g()}}}),m.ajaxPrefilter(function(d){d.crossDomain&&(d.contents.script=!1)}),m.ajaxSetup({accepts:{script:"text/javascript, application/javascript, application/ecmascript, application/x-ecmascript"},contents:{script:/\b(?:java|ecma)script\b/},converters:{"text script":function(d){return m.globalEval(d),d}}}),m.ajaxPrefilter("script",function(d){d.cache===void 0&&(d.cache=!1),d.crossDomain&&(d.type="GET")}),m.ajaxTransport("script",function(d){if(d.crossDomain||d.scriptAttrs){var g,y;return{send:function(w,A){g=m("<script>").attr(d.scriptAttrs||{}).prop({charset:d.scriptCharset,src:d.url}).on("load error",y=function(M){g.remove(),y=null,M&&A(M.type==="error"?404:200,M.type)}),x.head.appendChild(g[0])},abort:function(){y&&y()}}}});var tg=[],uh=/(=)\?(?=&|$)|\?\?/;m.ajaxSetup({jsonp:"callback",jsonpCallback:function(){var d=tg.pop()||m.expando+"_"+Xp.guid++;return this[d]=!0,d}}),m.ajaxPrefilter("json jsonp",function(d,g,y){var w,A,M,P=d.jsonp!==!1&&(uh.test(d.url)?"url":typeof d.data=="string"&&(d.contentType||"").indexOf("application/x-www-form-urlencoded")===0&&uh.test(d.data)&&"data");if(P||d.dataTypes[0]==="jsonp")return w=d.jsonpCallback=v(d.jsonpCallback)?d.jsonpCallback():d.jsonpCallback,P?d[P]=d[P].replace(uh,"$1"+w):d.jsonp!==!1&&(d.url+=(sh.test(d.url)?"&":"?")+d.jsonp+"="+w),d.converters["script json"]=function(){return M||m.error(w+" was not called"),M[0]},d.dataTypes[0]="json",A=t[w],t[w]=function(){M=arguments},y.always(function(){A===void 0?m(t).removeProp(w):t[w]=A,d[w]&&(d.jsonpCallback=g.jsonpCallback,tg.push(w)),M&&v(A)&&A(M[0]),M=A=void 0}),"script"}),b.createHTMLDocument=function(){var d=x.implementation.createHTMLDocument("").body;return d.innerHTML="<form></form><form></form>",d.childNodes.length===2}(),m.parseHTML=function(d,g,y){if(typeof d!="string")return[];typeof g=="boolean"&&(y=g,g=!1);var w,A,M;return g||(b.createHTMLDocument?(g=x.implementation.createHTMLDocument(""),w=g.createElement("base"),w.href=x.location.href,g.head.appendChild(w)):g=x),A=rt.exec(d),M=!y&&[],A?[g.createElement(A[1])]:(A=Pp([d],g,M),M&&M.length&&m(M).remove(),m.merge([],A.childNodes))},m.fn.load=function(d,g,y){var w,A,M,P=this,L=d.indexOf(" ");return L>-1&&(w=hs(d.slice(L)),d=d.slice(0,L)),v(g)?(y=g,g=void 0):g&&typeof g=="object"&&(A="POST"),P.length>0&&m.ajax({url:d,type:A||"GET",dataType:"html",data:g}).done(function(I){M=arguments,P.html(w?m("<div>").append(m.parseHTML(I)).find(w):I)}).always(y&&function(I,W){P.each(function(){y.apply(this,M||[I.responseText,W,I])})}),this},m.expr.pseudos.animated=function(d){return m.grep(m.timers,function(g){return d===g.elem}).length},m.offset={setOffset:function(d,g,y){var w,A,M,P,L,I,W,Z=m.css(d,"position"),lt=m(d),J={};Z==="static"&&(d.style.position="relative"),L=lt.offset(),M=m.css(d,"top"),I=m.css(d,"left"),W=(Z==="absolute"||Z==="fixed")&&(M+I).indexOf("auto")>-1,W?(w=lt.position(),P=w.top,A=w.left):(P=parseFloat(M)||0,A=parseFloat(I)||0),v(g)&&(g=g.call(d,y,m.extend({},L))),g.top!=null&&(J.top=g.top-L.top+P),g.left!=null&&(J.left=g.left-L.left+A),"using"in g?g.using.call(d,J):lt.css(J)}},m.fn.extend({offset:function(d){if(arguments.length)return d===void 0?this:this.each(function(A){m.offset.setOffset(this,d,A)});var g,y,w=this[0];if(!!w)return w.getClientRects().length?(g=w.getBoundingClientRect(),y=w.ownerDocument.defaultView,{top:g.top+y.pageYOffset,left:g.left+y.pageXOffset}):{top:0,left:0}},position:function(){if(!!this[0]){var d,g,y,w=this[0],A={top:0,left:0};if(m.css(w,"position")==="fixed")g=w.getBoundingClientRect();else{for(g=this.offset(),y=w.ownerDocument,d=w.offsetParent||y.documentElement;d&&(d===y.body||d===y.documentElement)&&m.css(d,"position")==="static";)d=d.parentNode;d&&d!==w&&d.nodeType===1&&(A=m(d).offset(),A.top+=m.css(d,"borderTopWidth",!0),A.left+=m.css(d,"borderLeftWidth",!0))}return{top:g.top-A.top-m.css(w,"marginTop",!0),left:g.left-A.left-m.css(w,"marginLeft",!0)}}},offsetParent:function(){return this.map(function(){for(var d=this.offsetParent;d&&m.css(d,"position")==="static";)d=d.offsetParent;return d||ft})}}),m.each({scrollLeft:"pageXOffset",scrollTop:"pageYOffset"},function(d,g){var y=g==="pageYOffset";m.fn[d]=function(w){return Ut(this,function(A,M,P){var L;if(C(A)?L=A:A.nodeType===9&&(L=A.defaultView),P===void 0)return L?L[g]:A[M];L?L.scrollTo(y?L.pageXOffset:P,y?P:L.pageYOffset):A[M]=P},d,w,arguments.length)}}),m.each(["top","left"],function(d,g){m.cssHooks[g]=Fp(b.pixelPosition,function(y,w){if(w)return w=ba(y,g),th.test(w)?m(y).position()[g]+"px":w})}),m.each({Height:"height",Width:"width"},function(d,g){m.each({padding:"inner"+d,content:g,"":"outer"+d},function(y,w){m.fn[w]=function(A,M){var P=arguments.length&&(y||typeof A!="boolean"),L=y||(A===!0||M===!0?"margin":"border");return Ut(this,function(I,W,Z){var lt;return C(I)?w.indexOf("outer")===0?I["inner"+d]:I.document.documentElement["client"+d]:I.nodeType===9?(lt=I.documentElement,Math.max(I.body["scroll"+d],lt["scroll"+d],I.body["offset"+d],lt["offset"+d],lt["client"+d])):Z===void 0?m.css(I,W,L):m.style(I,W,Z,L)},g,P?A:void 0,P)}})}),m.each(["ajaxStart","ajaxStop","ajaxComplete","ajaxError","ajaxSuccess","ajaxSend"],function(d,g){m.fn[g]=function(y){return this.on(g,y)}}),m.fn.extend({bind:function(d,g,y){return this.on(d,null,g,y)},unbind:function(d,g){return this.off(d,null,g)},delegate:function(d,g,y,w){return this.on(g,d,y,w)},undelegate:function(d,g,y){return arguments.length===1?this.off(d,"**"):this.off(g,d||"**",y)},hover:function(d,g){return this.mouseenter(d).mouseleave(g||d)}}),m.each("blur focus focusin focusout resize scroll click dblclick mousedown mouseup mousemove mouseover mouseout mouseenter mouseleave change select submit keydown keypress keyup contextmenu".split(" "),function(d,g){m.fn[g]=function(y,w){return arguments.length>0?this.on(g,null,y,w):this.trigger(g)}});var yx=/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g;m.proxy=function(d,g){var y,w,A;if(typeof g=="string"&&(y=d[g],g=d,d=y),!!v(d))return w=s.call(arguments,2),A=function(){return d.apply(g||this,w.concat(s.call(arguments)))},A.guid=d.guid=d.guid||m.guid++,A},m.holdReady=function(d){d?m.readyWait++:m.ready(!0)},m.isArray=Array.isArray,m.parseJSON=JSON.parse,m.nodeName=R,m.isFunction=v,m.isWindow=C,m.camelCase=$,m.type=O,m.now=Date.now,m.isNumeric=function(d){var g=m.type(d);return(g==="number"||g==="string")&&!isNaN(d-parseFloat(d))},m.trim=function(d){return d==null?"":(d+"").replace(yx,"")};var xx=t.jQuery,Cx=t.$;return m.noConflict=function(d){return t.$===m&&(t.$=Cx),d&&t.jQuery===m&&(t.jQuery=xx),m},typeof e=="undefined"&&(t.jQuery=t.$=m),m})})(oy);var Je=oy.exports,aN={exports:{}};/*!
 * jQuery Mousewheel 3.1.13
 *
 * Copyright jQuery Foundation and other contributors
 * Released under the MIT license
 * http://jquery.org/license
 */(function(i,t){(function(e){i.exports=e})(function(e){var n=["wheel","mousewheel","DOMMouseScroll","MozMousePixelScroll"],r="onwheel"in document||document.documentMode>=9?["wheel"]:["mousewheel","DomMouseScroll","MozMousePixelScroll"],s=Array.prototype.slice,o,a;if(e.event.fixHooks)for(var l=n.length;l;)e.event.fixHooks[n[--l]]=e.event.mouseHooks;var c=e.event.special.mousewheel={version:"3.1.12",setup:function(){if(this.addEventListener)for(var p=r.length;p;)this.addEventListener(r[--p],u,!1);else this.onmousewheel=u;e.data(this,"mousewheel-line-height",c.getLineHeight(this)),e.data(this,"mousewheel-page-height",c.getPageHeight(this))},teardown:function(){if(this.removeEventListener)for(var p=r.length;p;)this.removeEventListener(r[--p],u,!1);else this.onmousewheel=null;e.removeData(this,"mousewheel-line-height"),e.removeData(this,"mousewheel-page-height")},getLineHeight:function(p){var b=e(p),v=b["offsetParent"in e.fn?"offsetParent":"parent"]();return v.length||(v=e("body")),parseInt(v.css("fontSize"),10)||parseInt(b.css("fontSize"),10)||16},getPageHeight:function(p){return e(p).height()},settings:{adjustOldDeltas:!0,normalizeOffset:!0}};e.fn.extend({mousewheel:function(p){return p?this.bind("mousewheel",p):this.trigger("mousewheel")},unmousewheel:function(p){return this.unbind("mousewheel",p)}});function u(p){var b=p||window.event,v=s.call(arguments,1),C=0,x=0,S=0,E=0,O=0,k=0;if(p=e.event.fix(b),p.type="mousewheel","detail"in b&&(S=b.detail*-1),"wheelDelta"in b&&(S=b.wheelDelta),"wheelDeltaY"in b&&(S=b.wheelDeltaY),"wheelDeltaX"in b&&(x=b.wheelDeltaX*-1),"axis"in b&&b.axis===b.HORIZONTAL_AXIS&&(x=S*-1,S=0),C=S===0?x:S,"deltaY"in b&&(S=b.deltaY*-1,C=S),"deltaX"in b&&(x=b.deltaX,S===0&&(C=x*-1)),!(S===0&&x===0)){if(b.deltaMode===1){var m=e.data(this,"mousewheel-line-height");C*=m,S*=m,x*=m}else if(b.deltaMode===2){var T=e.data(this,"mousewheel-page-height");C*=T,S*=T,x*=T}if(E=Math.max(Math.abs(S),Math.abs(x)),(!a||E<a)&&(a=E,f(b,E)&&(a/=40)),f(b,E)&&(C/=40,x/=40,S/=40),C=Math[C>=1?"floor":"ceil"](C/a),x=Math[x>=1?"floor":"ceil"](x/a),S=Math[S>=1?"floor":"ceil"](S/a),c.settings.normalizeOffset&&this.getBoundingClientRect){var D=this.getBoundingClientRect();O=p.clientX-D.left,k=p.clientY-D.top}return p.deltaX=x,p.deltaY=S,p.deltaFactor=a,p.offsetX=O,p.offsetY=k,p.deltaMode=0,v.unshift(p,C,x,S),o&&clearTimeout(o),o=setTimeout(h,200),(e.event.dispatch||e.event.handle).apply(this,v)}}function h(){a=null}function f(p,b){return c.settings.adjustOldDeltas&&p.type==="mousewheel"&&b%120===0}})})(aN);const _n=navigator.userAgent;var Qe;(function(i){i.IS_MAC=navigator.appVersion.indexOf("Mac")>0,i.IS_IOS=!!_n.match(/(iPad|iPhone|iPod)/g),i.IS_WINDOWS=navigator.appVersion.indexOf("Win")>0,i.IS_IE=_n.indexOf("MSIE")>=0,i.IS_IE11=!!_n.match(/Trident\/7\./),i.IS_EDGE=!!_n.match(/Edge\//),i.IS_NETSCAPE=_n.indexOf("Mozilla/")>=0&&_n.indexOf("MSIE")<0&&_n.indexOf("Edge/")<0,i.IS_CHROME_APP=window.chrome!=null&&window.chrome.app!=null&&window.chrome.app.runtime!=null,i.IS_CHROME=_n.indexOf("Chrome/")>=0&&_n.indexOf("Edge/")<0,i.IS_OPERA=_n.indexOf("Opera/")>=0||_n.indexOf("OPR/")>=0,i.IS_FIREFOX=_n.indexOf("Firefox/")>=0,i.IS_SAFARI=_n.indexOf("AppleWebKit/")>=0&&_n.indexOf("Chrome/")<0&&_n.indexOf("Edge/")<0,i.SUPPORT_TOUCH="ontouchstart"in document.documentElement,i.SUPPORT_POINTER=window.PointerEvent!=null&&!i.IS_MAC,i.SUPPORT_PASSIVE=!1;try{const t=Object.defineProperty({},"passive",{get(){i.SUPPORT_PASSIVE=!0}}),e=document.createElement("div");e.addEventListener&&e.addEventListener("click",()=>{},t)}catch{}i.NO_FOREIGNOBJECT=!document.createElementNS||`${document.createElementNS("http://www.w3.org/2000/svg","foreignObject")}`!="[object SVGForeignObjectElement]"||_n.indexOf("Opera/")>=0,i.SUPPORT_FOREIGNOBJECT=!i.NO_FOREIGNOBJECT})(Qe||(Qe={}));(function(i){function t(){const s=window.module;return s!=null&&s.hot!=null&&s.hot.status!=null?s.hot.status():"unkonwn"}i.getHMRStatus=t;function e(){return t()==="apply"}i.isApplyingHMR=e;const n={select:"input",change:"input",submit:"form",reset:"form",error:"img",load:"img",abort:"img"};function r(s){const o=document.createElement(n[s]||"div"),a=`on${s}`;let l=a in o;return l||(o.setAttribute(a,"return;"),l=typeof o[a]=="function"),l}i.isEventSupported=r})(Qe||(Qe={}));if(Qe.SUPPORT_PASSIVE){Je.event.special.touchstart={setup(t,e,n){if(!this.addEventListener)return!1;this.addEventListener("touchstart",n,{passive:!0})}};const i=Je.event.special.mousewheel;if(i){const t=i.setup;i.setup=function(){const e=this.addEventListener;if(!e)return!1;this.addEventListener=(n,r)=>{e.call(this,n,r,{passive:!0})},t.call(this),this.addEventListener=e}}}window.NodeList&&!NodeList.prototype.forEach&&(NodeList.prototype.forEach=Array.prototype.forEach);(function(i){i.forEach(t=>{Object.prototype.hasOwnProperty.call(t,"append")||Object.defineProperty(t,"append",{configurable:!0,enumerable:!0,writable:!0,value(...e){const n=document.createDocumentFragment();e.forEach(r=>{const s=r instanceof Node;n.appendChild(s?r:document.createTextNode(String(r)))}),this.appendChild(n)}})})})([Element.prototype,Document.prototype,DocumentFragment.prototype]);const lN=i=>!Array.isArray(i)&&i-parseFloat(i)+1>=0;function ay(i,...t){t.forEach(e=>{Object.getOwnPropertyNames(e.prototype).forEach(n=>{n!=="constructor"&&Object.defineProperty(i.prototype,n,Object.getOwnPropertyDescriptor(e.prototype,n))})})}const cN=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,t){i.__proto__=t}||function(i,t){for(const e in t)Object.prototype.hasOwnProperty.call(t,e)&&(i[e]=t[e])};function uN(i,t){cN(i,t);function e(){this.constructor=i}i.prototype=t===null?Object.create(t):(e.prototype=t.prototype,new e)}class hN{}const dN=/^\s*class\s+/.test(`${hN}`)||/^\s*class\s*\{/.test(`${class{}}`);function np(i,t){let e;return dN?e=class extends t{}:(e=function(){return t.apply(this,arguments)},uN(e,t)),Object.defineProperty(e,"name",{value:i}),e}function C2(i){return i==="__proto__"}function ip(i,t,e="/"){let n;const r=Array.isArray(t)?t:t.split(e);if(r.length)for(n=i;r.length;){const s=r.shift();if(Object(n)===n&&s&&s in n)n=n[s];else return}return n}function fa(i,t,e,n="/"){const r=Array.isArray(t)?t:t.split(n),s=r.pop();if(s&&!C2(s)){let o=i;r.forEach(a=>{C2(a)||(o[a]==null&&(o[a]={}),o=o[a])}),o[s]=e}return i}function w2(i,t,e="/"){const n=Array.isArray(t)?t.slice():t.split(e),r=n.pop();if(r)if(n.length>0){const s=ip(i,n);s&&delete s[r]}else delete i[r];return i}const ly=i=>{const t=Object.create(null);return e=>t[e]||(t[e]=i(e))},cy=ly(i=>i.replace(/\B([A-Z])/g,"-$1").toLowerCase()),rp=ly(i=>Q5($f(i)).replace(/ /g,""));function Vh(i){let t=2166136261,e=!1,n=i;for(let r=0,s=n.length;r<s;r+=1){let o=n.charCodeAt(r);o>127&&!e&&(n=unescape(encodeURIComponent(n)),o=n.charCodeAt(r),e=!0),t^=o,t+=(t<<1)+(t<<4)+(t<<7)+(t<<8)+(t<<24)}return t>>>0}function Nd(){let i="";const t="xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx";for(let e=0,n=t.length;e<n;e+=1){const r=t[e],s=Math.random()*16|0;i+=(r==="x"?s:r==="y"?s&3|8:r).toString(16)}return i}function uy(i,t={}){const e=Je.parseHTML(i,null,!1);return e.forEach(n=>{const r=n;if(r){const s=r.attributes;if(s)for(let o=0,a=s.length;o<a;o+=1){const l=s.item(o);if(l){const c=l.value.toLowerCase(),u=l.name.toLowerCase();(u.startsWith("on")||c.startsWith("javascript:")||c.startsWith("data:")||c.startsWith("vbscript:"))&&r.removeAttribute(u)}}}}),t.raw?e:Je("<div/>").append(e).html()}function fN(i,t,e){const n=Math.min(2,Math.floor(i.length*.34));let r=Math.floor(i.length*.4)+1,s,o=!1;const a=i.toLowerCase();for(const l of t){const c=e(l);if(c!==void 0&&Math.abs(c.length-a.length)<=n){const u=c.toLowerCase();if(u===a){if(c===i)continue;return l}if(o||c.length<3)continue;const h=pN(a,u,r-1);if(h===void 0)continue;h<3?(o=!0,s=l):(r=h,s=l)}}return s}function pN(i,t,e){let n=new Array(t.length+1),r=new Array(t.length+1);const s=e+1;for(let a=0;a<=t.length;a+=1)n[a]=a;for(let a=1;a<=i.length;a+=1){const l=i.charCodeAt(a-1),c=a>e?a-e:1,u=t.length>e+a?e+a:t.length;r[0]=a;let h=a;for(let p=1;p<c;p+=1)r[p]=s;for(let p=c;p<=u;p+=1){const b=l===t.charCodeAt(p-1)?n[p-1]:Math.min(n[p]+1,r[p-1]+1,n[p-1]+2);r[p]=b,h=Math.min(h,b)}for(let p=u+1;p<=t.length;p+=1)r[p]=s;if(h>e)return;const f=n;n=r,r=f}const o=n[t.length];return o>e?void 0:o}function Ri(i){return typeof i=="string"&&i.slice(-1)==="%"}function nr(i,t){if(i==null)return 0;let e;if(typeof i=="string"){if(e=parseFloat(i),Ri(i)&&(e/=100,Number.isFinite(e)))return e*t}else e=i;return Number.isFinite(e)?e>0&&e<1?e*t:e:0}function gN(i,t){function e(o){const a=new RegExp(`(?:\\d+(?:\\.\\d+)*)(${o})$`).exec(i);return a?a[1]:null}const n=parseFloat(i);if(Number.isNaN(n))return null;let r;if(t==null)r="[A-Za-z]*";else if(Array.isArray(t)){if(t.length===0)return null;r=t.join("|")}else typeof t=="string"&&(r=t);const s=e(r);return s===null?null:{unit:s,value:n}}function Zn(i){if(typeof i=="object"){let e=0,n=0,r=0,s=0;return i.vertical!=null&&Number.isFinite(i.vertical)&&(n=s=i.vertical),i.horizontal!=null&&Number.isFinite(i.horizontal)&&(r=e=i.horizontal),i.left!=null&&Number.isFinite(i.left)&&(e=i.left),i.top!=null&&Number.isFinite(i.top)&&(n=i.top),i.right!=null&&Number.isFinite(i.right)&&(r=i.right),i.bottom!=null&&Number.isFinite(i.bottom)&&(s=i.bottom),{top:n,right:r,bottom:s,left:e}}let t=0;return i!=null&&Number.isFinite(i)&&(t=i),{top:t,right:t,bottom:t,left:t}}function hy(i,t,e){if(e)switch(e.length){case 0:return i.call(t);case 1:return i.call(t,e[0]);case 2:return i.call(t,e[0],e[1]);case 3:return i.call(t,e[0],e[1],e[2]);case 4:return i.call(t,e[0],e[1],e[2],e[3]);case 5:return i.call(t,e[0],e[1],e[2],e[3],e[4]);case 6:return i.call(t,e[0],e[1],e[2],e[3],e[4],e[5]);default:return i.apply(t,e)}return i.call(t)}function xt(i,t,...e){return hy(i,t,e)}function mN(i){return typeof i=="object"&&i.then&&typeof i.then=="function"}function $d(i){return i!=null&&(i instanceof Promise||mN(i))}function sp(...i){const t=[];if(i.forEach(n=>{Array.isArray(n)?t.push(...n):t.push(n)}),t.some(n=>$d(n))){const n=t.map(r=>$d(r)?r:Promise.resolve(r!==!1));return Promise.all(n).then(r=>r.reduce((s,o)=>o!==!1&&s,!0))}return t.every(n=>n!==!1)}function bN(...i){const t=sp(i);return typeof t=="boolean"?Promise.resolve(t):t}const op=/[\t\r\n\f]/g,ap=/\S+/g,Xo=i=>` ${i} `;function Yo(i){return i&&i.getAttribute&&i.getAttribute("class")||""}function Bu(i,t){if(i==null||t==null)return!1;const e=Xo(Yo(i)),n=Xo(t);return i.nodeType===1?e.replace(op," ").includes(n):!1}function me(i,t){if(!(i==null||t==null)){if(typeof t=="function")return me(i,t(Yo(i)));if(typeof t=="string"&&i.nodeType===1){const e=t.match(ap)||[],n=Xo(Yo(i)).replace(op," ");let r=e.reduce((s,o)=>s.indexOf(Xo(o))<0?`${s}${o} `:s,n);r=r.trim(),n!==r&&i.setAttribute("class",r)}}}function Ci(i,t){if(i!=null){if(typeof t=="function")return Ci(i,t(Yo(i)));if((!t||typeof t=="string")&&i.nodeType===1){const e=(t||"").match(ap)||[],n=Xo(Yo(i)).replace(op," ");let r=e.reduce((s,o)=>{const a=Xo(o);return s.indexOf(a)>-1?s.replace(a," "):s},n);r=t?r.trim():"",n!==r&&i.setAttribute("class",r)}}}function dy(i,t,e){if(!(i==null||t==null)){if(e!=null&&typeof t=="string"){e?me(i,t):Ci(i,t);return}if(typeof t=="function")return dy(i,t(Yo(i),e),e);typeof t=="string"&&(t.match(ap)||[]).forEach(r=>{Bu(i,r)?Ci(i,r):me(i,r)})}}let S2=0;function vN(){return S2+=1,`v${S2}`}function Ru(i){return(i.id==null||i.id==="")&&(i.id=vN()),i.id}function ml(i){return i==null?!1:typeof i.getScreenCTM=="function"&&i instanceof SVGElement}const an={svg:"http://www.w3.org/2000/svg",xmlns:"http://www.w3.org/2000/xmlns/",xml:"http://www.w3.org/XML/1998/namespace",xlink:"http://www.w3.org/1999/xlink",xhtml:"http://www.w3.org/1999/xhtml"},E2="1.1";function A2(i,t=document){return t.createElement(i)}function lp(i,t=an.xhtml,e=document){return e.createElementNS(t,i)}function Qn(i,t=document){return lp(i,an.svg,t)}function Xc(i){if(i){const e=`<svg xmlns="${an.svg}" xmlns:xlink="${an.xlink}" version="${E2}">${i}</svg>`,{documentElement:n}=fy(e,{async:!1});return n}const t=document.createElementNS(an.svg,"svg");return t.setAttributeNS(an.xmlns,"xmlns:xlink",an.xlink),t.setAttribute("version",E2),t}function fy(i,t={}){let e;try{const n=new DOMParser;if(t.async!=null){const r=n;r.async=t.async}e=n.parseFromString(i,t.mimeType||"text/xml")}catch{e=void 0}if(!e||e.getElementsByTagName("parsererror").length)throw new Error(`Invalid XML: ${i}`);return e}function yN(i,t=!0){const e=i.nodeName;return t?e.toLowerCase():e.toUpperCase()}function cp(i){let t=0,e=i.previousSibling;for(;e;)e.nodeType===1&&(t+=1),e=e.previousSibling;return t}function xN(i,t){return i.querySelectorAll(t)}function Fd(i,t){return i.querySelector(t)}function py(i,t,e){const n=i.ownerSVGElement;let r=i.parentNode;for(;r&&r!==e&&r!==n;){if(Bu(r,t))return r;r=r.parentNode}return null}function up(i,t){const e=t&&t.parentNode;return i===e||!!(e&&e.nodeType===1&&i.compareDocumentPosition(e)&16)}function ir(i){i.parentNode&&i.parentNode.removeChild(i)}function hp(i){for(;i.firstChild;)i.removeChild(i.firstChild)}function bl(i,t){(Array.isArray(t)?t:[t]).forEach(n=>{n!=null&&i.appendChild(n)})}function CN(i,t){const e=i.firstChild;return e?dp(e,t):bl(i,t)}function dp(i,t){const e=i.parentNode;e&&(Array.isArray(t)?t:[t]).forEach(r=>{r!=null&&e.insertBefore(r,i)})}function wN(i,t){t!=null&&t.appendChild(i)}function Ld(i){try{return i instanceof HTMLElement}catch{return typeof i=="object"&&i.nodeType===1&&typeof i.style=="object"&&typeof i.ownerDocument=="object"}}const SN=["viewBox"];function EN(i,t){return i.getAttribute(t)}function gy(i,t){const e=by(t);e.ns?i.hasAttributeNS(e.ns,e.local)&&i.removeAttributeNS(e.ns,e.local):i.hasAttribute(t)&&i.removeAttribute(t)}function fp(i,t,e){if(e==null)return gy(i,t);const n=by(t);n.ns&&typeof e=="string"?i.setAttributeNS(n.ns,t,e):t==="id"?i.id=`${e}`:i.setAttribute(t,`${e}`)}function my(i,t){Object.keys(t).forEach(e=>{fp(i,e,t[e])})}function be(i,t,e){if(t==null){const n=i.attributes,r={};for(let s=0;s<n.length;s+=1)r[n[s].name]=n[s].value;return r}if(typeof t=="string"&&e===void 0)return i.getAttribute(t);typeof t=="object"?my(i,t):fp(i,t,e)}function by(i){if(i.indexOf(":")!==-1){const t=i.split(":");return{ns:an[t[0]],local:t[1]}}return{ns:null,local:i}}function vl(i){const t={};return Object.keys(i).forEach(e=>{const n=SN.includes(e)?e:cy(e);t[n]=i[e]}),t}function mc(i){const t={};return i.split(";").forEach(n=>{const r=n.trim();if(r){const s=r.split("=");s.length&&(t[s[0].trim()]=s[1]?s[1].trim():"")}}),t}function Id(i,t){return Object.keys(t).forEach(e=>{if(e==="class")i[e]=i[e]?`${i[e]} ${t[e]}`:t[e];else if(e==="style"){const n=typeof i[e]=="object",r=typeof t[e]=="object";let s,o;n&&r?(s=i[e],o=t[e]):n?(s=i[e],o=mc(t[e])):r?(s=mc(i[e]),o=t[e]):(s=mc(i[e]),o=mc(t[e])),i[e]=Id(s,o)}else i[e]=t[e]}),i}function AN(i,t,e={}){const n=e.offset||0,r=[],s=[];let o,a,l=null;for(let c=0;c<i.length;c+=1){o=s[c]=i[c];for(let u=0,h=t.length;u<h;u+=1){const f=t[u],p=f.start+n,b=f.end+n;c>=p&&c<b&&(typeof o=="string"?o=s[c]={t:i[c],attrs:f.attrs}:o.attrs=Id(Id({},o.attrs),f.attrs),e.includeAnnotationIndices&&(o.annotations==null&&(o.annotations=[]),o.annotations.push(u)))}a=s[c-1],a?rn(o)&&rn(a)?(l=l,JSON.stringify(o.attrs)===JSON.stringify(a.attrs)?l.t+=o.t:(r.push(l),l=o)):rn(o)||rn(a)?(l=l,r.push(l),l=o):l=(l||"")+o:l=o}return l!=null&&r.push(l),r}function MN(i){return i.replace(/ /g,"\xA0")}var M2;(function(i){i.emptyObject=Object.freeze({}),i.emptyArray=Object.freeze([]);function t(u){return u==null||typeof u=="boolean"||typeof u=="number"||typeof u=="string"}i.isPrimitive=t;function e(u){return Array.isArray(u)}i.isArray=e;function n(u){return!t(u)&&!e(u)}i.isObject=n;function r(u,h){if(u===h)return!0;if(t(u)||t(h))return!1;const f=e(u),p=e(h);return f!==p?!1:f&&p?o(u,h):a(u,h)}i.deepEqual=r;function s(u){return t(u)?u:e(u)?l(u):c(u)}i.deepCopy=s;function o(u,h){if(u===h)return!0;if(u.length!==h.length)return!1;for(let f=0,p=u.length;f<p;f+=1)if(!r(u[f],h[f]))return!1;return!0}function a(u,h){if(u===h)return!0;for(const f in u)if(!(f in h))return!1;for(const f in h)if(!(f in u))return!1;for(const f in u)if(!r(u[f],h[f]))return!1;return!0}function l(u){const h=new Array(u.length);for(let f=0,p=u.length;f<p;f+=1)h[f]=s(u[f]);return h}function c(u){const h={};return Object.keys(u).forEach(f=>{h[f]=s(u[f])}),h}})(M2||(M2={}));var zd;(function(i){function t(c){const u="data:";return c.substr(0,u.length)===u}i.isDataUrl=t;function e(c,u){if(!c||t(c)){setTimeout(()=>u(null,c));return}const h=()=>{u(new Error(`Failed to load image: ${c}`))},f=window.FileReader?b=>{if(b.status===200){const v=new FileReader;v.onload=C=>{const x=C.target.result;u(null,x)},v.onerror=h,v.readAsDataURL(b.response)}else h()}:b=>{const v=C=>{const S=[];for(let E=0;E<C.length;E+=32768)S.push(String.fromCharCode.apply(null,C.subarray(E,E+32768)));return S.join("")};if(b.status===200){let C=c.split(".").pop()||"png";C==="svg"&&(C="svg+xml");const x=`data:image/${C};base64,`,S=new Uint8Array(b.response),E=x+btoa(v(S));u(null,E)}else h()},p=new XMLHttpRequest;p.responseType=window.FileReader?"blob":"arraybuffer",p.open("GET",c,!0),p.addEventListener("error",h),p.addEventListener("load",()=>f(p)),p.send()}i.imageToDataUri=e;function n(c){let u=c.replace(/\s/g,"");u=decodeURIComponent(u);const h=u.indexOf(","),f=u.slice(0,h),p=f.split(":")[1].split(";")[0],b=u.slice(h+1);let v;f.indexOf("base64")>=0?v=atob(b):v=unescape(encodeURIComponent(b));const C=new Uint8Array(v.length);for(let x=0;x<v.length;x+=1)C[x]=v.charCodeAt(x);return new Blob([C],{type:p})}i.dataUriToBlob=n;function r(c,u){const h=window.navigator.msSaveBlob;if(h)h(c,u);else{const f=window.URL.createObjectURL(c),p=document.createElement("a");p.href=f,p.download=u,document.body.appendChild(p),p.click(),document.body.removeChild(p),window.URL.revokeObjectURL(f)}}i.downloadBlob=r;function s(c,u){const h=n(c);r(h,u)}i.downloadDataUri=s;function o(c){const u=c.match(/<svg[^>]*viewBox\s*=\s*(["']?)(.+?)\1[^>]*>/i);return u&&u[2]?u[2].replace(/\s+/," ").split(" "):null}function a(c){const u=parseFloat(c);return Number.isNaN(u)?null:u}function l(c,u={}){let h=null;const f=E=>(h==null&&(h=o(c)),h!=null?a(h[E]):null),p=E=>{const O=c.match(E);return O&&O[2]?a(O[2]):null};let b=u.width;if(b==null&&(b=p(/<svg[^>]*width\s*=\s*(["']?)(.+?)\1[^>]*>/i)),b==null&&(b=f(2)),b==null)throw new Error("Can not parse width from svg string");let v=u.height;if(v==null&&(v=p(/<svg[^>]*height\s*=\s*(["']?)(.+?)\1[^>]*>/i)),v==null&&(v=f(3)),v==null)throw new Error("Can not parse height from svg string");return`data:image/svg+xml,${encodeURIComponent(c).replace(/'/g,"%27").replace(/"/g,"%22")}`}i.svgToDataUrl=l})(zd||(zd={}));let Ts;const ON={px(i){return i},mm(i){return Ts*i},cm(i){return Ts*i*10},in(i){return Ts*i*25.4},pt(i){return Ts*(25.4*i/72)},pc(i){return Ts*(25.4*i/6)}};var jd;(function(i){function t(n,r,s){const o=Je("<div/>").css({display:"inline-block",position:"absolute",left:-15e3,top:-15e3,width:n+(s||""),height:r+(s||"")}).appendTo(document.body),a={width:o.width()||0,height:o.height()||0};return o.remove(),a}i.measure=t;function e(n,r){Ts==null&&(Ts=t("1","1","mm").width);const s=r?ON[r]:null;return s?s(n):n}i.toPx=e})(jd||(jd={}));const Bd=function(){let i;const t=window;if(t!=null&&(i=t.requestAnimationFrame||t.webkitRequestAnimationFrame||t.mozRequestAnimationFrame||t.oRequestAnimationFrame||t.msRequestAnimationFrame,i!=null&&(i=i.bind(t))),i==null){let e=0;i=n=>{const r=new Date().getTime(),s=Math.max(0,16-(r-e)),o=setTimeout(()=>{n(r+s)},s);return e=r+s,o}}return i}(),Rd=function(){let i;const t=window;return t!=null&&(i=t.cancelAnimationFrame||t.webkitCancelAnimationFrame||t.webkitCancelRequestAnimationFrame||t.msCancelAnimationFrame||t.msCancelRequestAnimationFrame||t.oCancelAnimationFrame||t.oCancelRequestAnimationFrame||t.mozCancelAnimationFrame||t.mozCancelRequestAnimationFrame,i&&(i=i.bind(t))),i==null&&(i=clearTimeout),i}();document&&document.createElement("div").style;function O2(i,t){const e=i.ownerDocument&&i.ownerDocument.defaultView&&i.ownerDocument.defaultView.opener?i.ownerDocument.defaultView.getComputedStyle(i,null):window.getComputedStyle(i,null);return e&&t?e.getPropertyValue(t)||e[t]:e}var re;(function(i){function t(n){return 180*n/Math.PI%360}i.toDeg=t,i.toRad=function(n,r=!1){return(r?n:n%360)*Math.PI/180};function e(n){return n%360+(n<0?360:0)}i.normalize=e})(re||(re={}));function $s(i,t=0){return Number.isInteger(i)?i:+i.toFixed(t)}function T2(i,t){let e,n;if(t==null?(n=i==null?1:i,e=0):(n=t,e=i==null?0:i),n<e){const r=e;e=n,n=r}return Math.floor(Math.random()*(n-e+1)+e)}function Co(i,t,e){return Number.isNaN(i)?NaN:Number.isNaN(t)||Number.isNaN(e)?0:t<e?i<t?t:i>e?e:i:i<e?e:i>t?t:i}function Vd(i,t){return t*Math.round(i/t)}function vy(i,t){return t!=null&&i!=null&&t.x>=i.x&&t.x<=i.x+i.width&&t.y>=i.y&&t.y<=i.y+i.height}function P2(i,t){const e=i.x-t.x,n=i.y-t.y;return e*e+n*n}class as{valueOf(){return this.toJSON()}toString(){return JSON.stringify(this.toJSON())}}class N extends as{constructor(t,e){super(),this.x=t==null?0:t,this.y=e==null?0:e}get[Symbol.toStringTag](){return N.toStringTag}round(t=0){return this.x=$s(this.x,t),this.y=$s(this.y,t),this}add(t,e){const n=N.create(t,e);return this.x+=n.x,this.y+=n.y,this}update(t,e){const n=N.create(t,e);return this.x=n.x,this.y=n.y,this}translate(t,e){const n=N.create(t,e);return this.x+=n.x,this.y+=n.y,this}rotate(t,e){const n=N.rotate(this,t,e);return this.x=n.x,this.y=n.y,this}scale(t,e,n=new N){const r=N.create(n);return this.x=r.x+t*(this.x-r.x),this.y=r.y+e*(this.y-r.y),this}closest(t){if(t.length===1)return N.create(t[0]);let e=null,n=1/0;return t.forEach(r=>{const s=this.squaredDistance(r);s<n&&(e=r,n=s)}),e?N.create(e):null}distance(t){return Math.sqrt(this.squaredDistance(t))}squaredDistance(t){const e=N.create(t),n=this.x-e.x,r=this.y-e.y;return n*n+r*r}manhattanDistance(t){const e=N.create(t);return Math.abs(e.x-this.x)+Math.abs(e.y-this.y)}magnitude(){return Math.sqrt(this.x*this.x+this.y*this.y)||.01}theta(t=new N){const e=N.create(t),n=-(e.y-this.y),r=e.x-this.x;let s=Math.atan2(n,r);return s<0&&(s=2*Math.PI+s),180*s/Math.PI}angleBetween(t,e){if(this.equals(t)||this.equals(e))return NaN;let n=this.theta(e)-this.theta(t);return n<0&&(n+=360),n}vectorAngle(t){return new N(0,0).angleBetween(this,t)}toPolar(t){return this.update(N.toPolar(this,t)),this}changeInAngle(t,e,n=new N){return this.clone().translate(-t,-e).theta(n)-this.theta(n)}adhereToRect(t){return vy(t,this)||(this.x=Math.min(Math.max(this.x,t.x),t.x+t.width),this.y=Math.min(Math.max(this.y,t.y),t.y+t.height)),this}bearing(t){const e=N.create(t),n=re.toRad(this.y),r=re.toRad(e.y),s=this.x,o=e.x,a=re.toRad(o-s),l=Math.sin(a)*Math.cos(r),c=Math.cos(n)*Math.sin(r)-Math.sin(n)*Math.cos(r)*Math.cos(a),u=re.toDeg(Math.atan2(l,c)),h=["NE","E","SE","S","SW","W","NW","N"];let f=u-22.5;return f<0&&(f+=360),f=parseInt(f/45,10),h[f]}cross(t,e){if(t!=null&&e!=null){const n=N.create(t),r=N.create(e);return(r.x-this.x)*(n.y-this.y)-(r.y-this.y)*(n.x-this.x)}return NaN}dot(t){const e=N.create(t);return this.x*e.x+this.y*e.y}diff(t,e){if(typeof t=="number")return new N(this.x-t,this.y-e);const n=N.create(t);return new N(this.x-n.x,this.y-n.y)}lerp(t,e){const n=N.create(t);return new N((1-e)*this.x+e*n.x,(1-e)*this.y+e*n.y)}normalize(t=1){const e=t/this.magnitude();return this.scale(e,e)}move(t,e){const n=N.create(t),r=re.toRad(n.theta(this));return this.translate(Math.cos(r)*e,-Math.sin(r)*e)}reflection(t){return N.create(t).move(this,this.distance(t))}snapToGrid(t,e){return this.x=Vd(this.x,t),this.y=Vd(this.y,e==null?t:e),this}equals(t){const e=N.create(t);return e!=null&&e.x===this.x&&e.y===this.y}clone(){return N.clone(this)}toJSON(){return N.toJSON(this)}serialize(){return`${this.x} ${this.y}`}}(function(i){i.toStringTag=`X6.Geometry.${i.name}`;function t(e){if(e==null)return!1;if(e instanceof i)return!0;const n=e[Symbol.toStringTag],r=e;return(n==null||n===i.toStringTag)&&typeof r.x=="number"&&typeof r.y=="number"&&typeof r.toPolar=="function"}i.isPoint=t})(N||(N={}));(function(i){function t(n){return n!=null&&typeof n=="object"&&typeof n.x=="number"&&typeof n.y=="number"}i.isPointLike=t;function e(n){return n!=null&&Array.isArray(n)&&n.length===2&&typeof n[0]=="number"&&typeof n[1]=="number"}i.isPointData=e})(N||(N={}));(function(i){function t(h,f){return h==null||typeof h=="number"?new i(h,f):e(h)}i.create=t;function e(h){return i.isPoint(h)?new i(h.x,h.y):Array.isArray(h)?new i(h[0],h[1]):new i(h.x,h.y)}i.clone=e;function n(h){return i.isPoint(h)?{x:h.x,y:h.y}:Array.isArray(h)?{x:h[0],y:h[1]}:{x:h.x,y:h.y}}i.toJSON=n;function r(h,f,p=new i){let b=Math.abs(h*Math.cos(f)),v=Math.abs(h*Math.sin(f));const C=e(p),x=re.normalize(re.toDeg(f));return x<90?v=-v:x<180?(b=-b,v=-v):x<270&&(b=-b),new i(C.x+b,C.y+v)}i.fromPolar=r;function s(h,f=new i){const p=e(h),b=e(f),v=p.x-b.x,C=p.y-b.y;return new i(Math.sqrt(v*v+C*C),re.toRad(b.theta(p)))}i.toPolar=s;function o(h,f){return h===f?!0:h!=null&&f!=null?h.x===f.x&&h.y===f.y:!1}i.equals=o;function a(h,f){if(h==null&&f!=null||h!=null&&f==null||h!=null&&f!=null&&h.length!==f.length)return!1;if(h!=null&&f!=null){for(let p=0,b=h.length;p<b;p+=1)if(!o(h[p],f[p]))return!1}return!0}i.equalPoints=a;function l(h,f,p,b){return new i(T2(h,f),T2(p,b))}i.random=l;function c(h,f,p){const b=re.toRad(re.normalize(-f)),v=Math.sin(b),C=Math.cos(b);return u(h,C,v,p)}i.rotate=c;function u(h,f,p,b=new i){const v=e(h),C=e(b),x=v.x-C.x,S=v.y-C.y,E=x*f-S*p,O=S*f+x*p;return new i(E+C.x,O+C.y)}i.rotateEx=u})(N||(N={}));class ht extends as{constructor(t,e,n,r){super(),this.x=t==null?0:t,this.y=e==null?0:e,this.width=n==null?0:n,this.height=r==null?0:r}get[Symbol.toStringTag](){return ht.toStringTag}get left(){return this.x}get top(){return this.y}get right(){return this.x+this.width}get bottom(){return this.y+this.height}get origin(){return new N(this.x,this.y)}get topLeft(){return new N(this.x,this.y)}get topCenter(){return new N(this.x+this.width/2,this.y)}get topRight(){return new N(this.x+this.width,this.y)}get center(){return new N(this.x+this.width/2,this.y+this.height/2)}get bottomLeft(){return new N(this.x,this.y+this.height)}get bottomCenter(){return new N(this.x+this.width/2,this.y+this.height)}get bottomRight(){return new N(this.x+this.width,this.y+this.height)}get corner(){return new N(this.x+this.width,this.y+this.height)}get rightMiddle(){return new N(this.x+this.width,this.y+this.height/2)}get leftMiddle(){return new N(this.x,this.y+this.height/2)}get topLine(){return new At(this.topLeft,this.topRight)}get rightLine(){return new At(this.topRight,this.bottomRight)}get bottomLine(){return new At(this.bottomLeft,this.bottomRight)}get leftLine(){return new At(this.topLeft,this.bottomLeft)}getOrigin(){return this.origin}getTopLeft(){return this.topLeft}getTopCenter(){return this.topCenter}getTopRight(){return this.topRight}getCenter(){return this.center}getCenterX(){return this.x+this.width/2}getCenterY(){return this.y+this.height/2}getBottomLeft(){return this.bottomLeft}getBottomCenter(){return this.bottomCenter}getBottomRight(){return this.bottomRight}getCorner(){return this.corner}getRightMiddle(){return this.rightMiddle}getLeftMiddle(){return this.leftMiddle}getTopLine(){return this.topLine}getRightLine(){return this.rightLine}getBottomLine(){return this.bottomLine}getLeftLine(){return this.leftLine}bbox(t){if(!t)return this.clone();const e=re.toRad(t),n=Math.abs(Math.sin(e)),r=Math.abs(Math.cos(e)),s=this.width*r+this.height*n,o=this.width*n+this.height*r;return new ht(this.x+(this.width-s)/2,this.y+(this.height-o)/2,s,o)}round(t=0){return this.x=$s(this.x,t),this.y=$s(this.y,t),this.width=$s(this.width,t),this.height=$s(this.height,t),this}add(t,e,n,r){const s=ht.create(t,e,n,r),o=Math.min(this.x,s.x),a=Math.min(this.y,s.y),l=Math.max(this.x+this.width,s.x+s.width),c=Math.max(this.y+this.height,s.y+s.height);return this.x=o,this.y=a,this.width=l-o,this.height=c-a,this}update(t,e,n,r){const s=ht.create(t,e,n,r);return this.x=s.x,this.y=s.y,this.width=s.width,this.height=s.height,this}inflate(t,e){const n=t,r=e!=null?e:t;return this.x-=n,this.y-=r,this.width+=2*n,this.height+=2*r,this}snapToGrid(t,e){const n=this.origin.snapToGrid(t,e),r=this.corner.snapToGrid(t,e);return this.x=n.x,this.y=n.y,this.width=r.x-n.x,this.height=r.y-n.y,this}translate(t,e){const n=N.create(t,e);return this.x+=n.x,this.y+=n.y,this}scale(t,e,n=new N){const r=this.origin.scale(t,e,n);return this.x=r.x,this.y=r.y,this.width*=t,this.height*=e,this}rotate(t,e=this.getCenter()){if(t!==0){const n=re.toRad(t),r=Math.cos(n),s=Math.sin(n);let o=this.getOrigin(),a=this.getTopRight(),l=this.getBottomRight(),c=this.getBottomLeft();o=N.rotateEx(o,r,s,e),a=N.rotateEx(a,r,s,e),l=N.rotateEx(l,r,s,e),c=N.rotateEx(c,r,s,e);const u=new ht(o.x,o.y,0,0);u.add(a.x,a.y,0,0),u.add(l.x,l.y,0,0),u.add(c.x,c.y,0,0),this.update(u)}return this}rotate90(){const t=(this.width-this.height)/2;this.x+=t,this.y-=t;const e=this.width;return this.width=this.height,this.height=e,this}moveAndExpand(t){const e=ht.clone(t);return this.x+=e.x||0,this.y+=e.y||0,this.width+=e.width||0,this.height+=e.height||0,this}getMaxScaleToFit(t,e=this.center){const n=ht.clone(t),r=e.x,s=e.y;let o=1/0,a=1/0,l=1/0,c=1/0,u=1/0,h=1/0,f=1/0,p=1/0;const b=n.topLeft;b.x<r&&(o=(this.x-r)/(b.x-r)),b.y<s&&(u=(this.y-s)/(b.y-s));const v=n.bottomRight;v.x>r&&(a=(this.x+this.width-r)/(v.x-r)),v.y>s&&(h=(this.y+this.height-s)/(v.y-s));const C=n.topRight;C.x>r&&(l=(this.x+this.width-r)/(C.x-r)),C.y<s&&(f=(this.y-s)/(C.y-s));const x=n.bottomLeft;return x.x<r&&(c=(this.x-r)/(x.x-r)),x.y>s&&(p=(this.y+this.height-s)/(x.y-s)),{sx:Math.min(o,a,l,c),sy:Math.min(u,h,f,p)}}getMaxUniformScaleToFit(t,e=this.center){const n=this.getMaxScaleToFit(t,e);return Math.min(n.sx,n.sy)}containsPoint(t,e){return vy(this,N.create(t,e))}containsRect(t,e,n,r){const s=ht.create(t,e,n,r),o=this.x,a=this.y,l=this.width,c=this.height,u=s.x,h=s.y,f=s.width,p=s.height;return l===0||c===0||f===0||p===0?!1:u>=o&&h>=a&&u+f<=o+l&&h+p<=a+c}intersectsWithLine(t){const e=[this.topLine,this.rightLine,this.bottomLine,this.leftLine],n=[],r=[];return e.forEach(s=>{const o=t.intersectsWithLine(s);o!==null&&r.indexOf(o.toString())<0&&(n.push(o),r.push(o.toString()))}),n.length>0?n:null}intersectsWithLineFromCenterToPoint(t,e){const n=N.clone(t),r=this.center;let s=null;e!=null&&e!==0&&n.rotate(e,r);const o=[this.topLine,this.rightLine,this.bottomLine,this.leftLine],a=new At(r,n);for(let l=o.length-1;l>=0;l-=1){const c=o[l].intersectsWithLine(a);if(c!==null){s=c;break}}return s&&e!=null&&e!==0&&s.rotate(-e,r),s}intersectsWithRect(t,e,n,r){const s=ht.create(t,e,n,r);if(!this.isIntersectWithRect(s))return null;const o=this.origin,a=this.corner,l=s.origin,c=s.corner,u=Math.max(o.x,l.x),h=Math.max(o.y,l.y);return new ht(u,h,Math.min(a.x,c.x)-u,Math.min(a.y,c.y)-h)}isIntersectWithRect(t,e,n,r){const s=ht.create(t,e,n,r),o=this.origin,a=this.corner,l=s.origin,c=s.corner;return!(c.x<=o.x||c.y<=o.y||l.x>=a.x||l.y>=a.y)}normalize(){let t=this.x,e=this.y,n=this.width,r=this.height;return this.width<0&&(t=this.x+this.width,n=-this.width),this.height<0&&(e=this.y+this.height,r=-this.height),this.x=t,this.y=e,this.width=n,this.height=r,this}union(t){const e=ht.clone(t),n=this.origin,r=this.corner,s=e.origin,o=e.corner,a=Math.min(n.x,s.x),l=Math.min(n.y,s.y),c=Math.max(r.x,o.x),u=Math.max(r.y,o.y);return new ht(a,l,c-a,u-l)}getNearestSideToPoint(t){const e=N.clone(t),n=e.x-this.x,r=this.x+this.width-e.x,s=e.y-this.y,o=this.y+this.height-e.y;let a=n,l="left";return r<a&&(a=r,l="right"),s<a&&(a=s,l="top"),o<a&&(l="bottom"),l}getNearestPointToPoint(t){const e=N.clone(t);if(this.containsPoint(e))switch(this.getNearestSideToPoint(e)){case"right":return new N(this.x+this.width,e.y);case"left":return new N(this.x,e.y);case"bottom":return new N(e.x,this.y+this.height);case"top":return new N(e.x,this.y)}return e.adhereToRect(this)}equals(t){return t!=null&&t.x===this.x&&t.y===this.y&&t.width===this.width&&t.height===this.height}clone(){return new ht(this.x,this.y,this.width,this.height)}toJSON(){return{x:this.x,y:this.y,width:this.width,height:this.height}}serialize(){return`${this.x} ${this.y} ${this.width} ${this.height}`}}(function(i){i.toStringTag=`X6.Geometry.${i.name}`;function t(e){if(e==null)return!1;if(e instanceof i)return!0;const n=e[Symbol.toStringTag],r=e;return(n==null||n===i.toStringTag)&&typeof r.x=="number"&&typeof r.y=="number"&&typeof r.width=="number"&&typeof r.height=="number"&&typeof r.inflate=="function"&&typeof r.moveAndExpand=="function"}i.isRectangle=t})(ht||(ht={}));(function(i){function t(e){return e!=null&&typeof e=="object"&&typeof e.x=="number"&&typeof e.y=="number"&&typeof e.width=="number"&&typeof e.height=="number"}i.isRectangleLike=t})(ht||(ht={}));(function(i){function t(o,a,l,c){return o==null||typeof o=="number"?new i(o,a,l,c):e(o)}i.create=t;function e(o){return i.isRectangle(o)?o.clone():Array.isArray(o)?new i(o[0],o[1],o[2],o[3]):new i(o.x,o.y,o.width,o.height)}i.clone=e;function n(o){return new i(0,0,o.width,o.height)}i.fromSize=n;function r(o,a){return new i(o.x,o.y,a.width,a.height)}i.fromPositionAndSize=r;function s(o){return new i(o.x-o.a,o.y-o.b,2*o.a,2*o.b)}i.fromEllipse=s})(ht||(ht={}));class At extends as{constructor(t,e,n,r){super(),typeof t=="number"&&typeof e=="number"?(this.start=new N(t,e),this.end=new N(n,r)):(this.start=N.create(t),this.end=N.create(e))}get[Symbol.toStringTag](){return At.toStringTag}get center(){return new N((this.start.x+this.end.x)/2,(this.start.y+this.end.y)/2)}getCenter(){return this.center}round(t=0){return this.start.round(t),this.end.round(t),this}translate(t,e){return typeof t=="number"?(this.start.translate(t,e),this.end.translate(t,e)):(this.start.translate(t),this.end.translate(t)),this}rotate(t,e){return this.start.rotate(t,e),this.end.rotate(t,e),this}scale(t,e,n){return this.start.scale(t,e,n),this.end.scale(t,e,n),this}length(){return Math.sqrt(this.squaredLength())}squaredLength(){const t=this.start.x-this.end.x,e=this.start.y-this.end.y;return t*t+e*e}setLength(t){const e=this.length();if(!e)return this;const n=t/e;return this.scale(n,n,this.start)}parallel(t){const e=this.clone();if(!e.isDifferentiable())return e;const{start:n,end:r}=e,s=n.clone().rotate(270,r),o=r.clone().rotate(90,n);return n.move(o,t),r.move(s,t),e}vector(){return new N(this.end.x-this.start.x,this.end.y-this.start.y)}angle(){const t=new N(this.start.x+1,this.start.y);return this.start.angleBetween(this.end,t)}bbox(){const t=Math.min(this.start.x,this.end.x),e=Math.min(this.start.y,this.end.y),n=Math.max(this.start.x,this.end.x),r=Math.max(this.start.y,this.end.y);return new ht(t,e,n-t,r-e)}bearing(){return this.start.bearing(this.end)}closestPoint(t){return this.pointAt(this.closestPointNormalizedLength(t))}closestPointLength(t){return this.closestPointNormalizedLength(t)*this.length()}closestPointTangent(t){return this.tangentAt(this.closestPointNormalizedLength(t))}closestPointNormalizedLength(t){const e=this.vector().dot(new At(this.start,t).vector()),n=Math.min(1,Math.max(0,e/this.squaredLength()));return Number.isNaN(n)?0:n}pointAt(t){const e=this.start,n=this.end;return t<=0?e.clone():t>=1?n.clone():e.lerp(n,t)}pointAtLength(t){const e=this.start,n=this.end;let r=!0;t<0&&(r=!1,t=-t);const s=this.length();if(t>=s)return r?n.clone():e.clone();const o=(r?t:s-t)/s;return this.pointAt(o)}divideAt(t){const e=this.pointAt(t);return[new At(this.start,e),new At(e,this.end)]}divideAtLength(t){const e=this.pointAtLength(t);return[new At(this.start,e),new At(e,this.end)]}containsPoint(t){const e=this.start,n=this.end;if(e.cross(t,n)!==0)return!1;const r=this.length();return!(new At(e,t).length()>r||new At(t,n).length()>r)}intersect(t,e){const n=t.intersectsWithLine(this,e);return n?Array.isArray(n)?n:[n]:null}intersectsWithLine(t){const e=new N(this.end.x-this.start.x,this.end.y-this.start.y),n=new N(t.end.x-t.start.x,t.end.y-t.start.y),r=e.x*n.y-e.y*n.x,s=new N(t.start.x-this.start.x,t.start.y-this.start.y),o=s.x*n.y-s.y*n.x,a=s.x*e.y-s.y*e.x;if(r===0||o*r<0||a*r<0)return null;if(r>0){if(o>r||a>r)return null}else if(o<r||a<r)return null;return new N(this.start.x+o*e.x/r,this.start.y+o*e.y/r)}isDifferentiable(){return!this.start.equals(this.end)}pointOffset(t){const e=N.clone(t),n=this.start,r=this.end;return((r.x-n.x)*(e.y-n.y)-(r.y-n.y)*(e.x-n.x))/this.length()}pointSquaredDistance(t,e){const n=N.create(t,e);return this.closestPoint(n).squaredDistance(n)}pointDistance(t,e){const n=N.create(t,e);return this.closestPoint(n).distance(n)}tangentAt(t){if(!this.isDifferentiable())return null;const e=this.start,n=this.end,r=this.pointAt(t),s=new At(e,n);return s.translate(r.x-e.x,r.y-e.y),s}tangentAtLength(t){if(!this.isDifferentiable())return null;const e=this.start,n=this.end,r=this.pointAtLength(t),s=new At(e,n);return s.translate(r.x-e.x,r.y-e.y),s}relativeCcw(t,e){const n=N.create(t,e);let r=n.x-this.start.x,s=n.y-this.start.y;const o=this.end.x-this.start.x,a=this.end.y-this.start.y;let l=r*a-s*o;return l===0&&(l=r*o+s*a,l>0&&(r-=o,s-=a,l=r*o+s*a,l<0&&(l=0))),l<0?-1:l>0?1:0}equals(t){return t!=null&&this.start.x===t.start.x&&this.start.y===t.start.y&&this.end.x===t.end.x&&this.end.y===t.end.y}clone(){return new At(this.start,this.end)}toJSON(){return{start:this.start.toJSON(),end:this.end.toJSON()}}serialize(){return[this.start.serialize(),this.end.serialize()].join(" ")}}(function(i){i.toStringTag=`X6.Geometry.${i.name}`;function t(e){if(e==null)return!1;if(e instanceof i)return!0;const n=e[Symbol.toStringTag],r=e;try{if((n==null||n===i.toStringTag)&&N.isPoint(r.start)&&N.isPoint(r.end)&&typeof r.vector=="function"&&typeof r.bearing=="function"&&typeof r.parallel=="function"&&typeof r.intersect=="function")return!0}catch{return!1}return!1}i.isLine=t})(At||(At={}));class Ei extends as{constructor(t,e,n,r){super(),this.x=t==null?0:t,this.y=e==null?0:e,this.a=n==null?0:n,this.b=r==null?0:r}get[Symbol.toStringTag](){return Ei.toStringTag}get center(){return new N(this.x,this.y)}bbox(){return ht.fromEllipse(this)}getCenter(){return this.center}inflate(t,e){const n=t,r=e!=null?e:t;return this.a+=2*n,this.b+=2*r,this}normalizedDistance(t,e){const n=N.create(t,e),r=n.x-this.x,s=n.y-this.y,o=this.a,a=this.b;return r*r/(o*o)+s*s/(a*a)}containsPoint(t,e){return this.normalizedDistance(t,e)<=1}intersectsWithLine(t){const e=[],n=this.a,r=this.b,s=t.start,o=t.end,a=t.vector(),l=s.diff(new N(this.x,this.y)),c=new N(a.x/(n*n),a.y/(r*r)),u=new N(l.x/(n*n),l.y/(r*r)),h=a.dot(c),f=a.dot(u),p=l.dot(u)-1,b=f*f-h*p;if(b<0)return null;if(b>0){const v=Math.sqrt(b),C=(-f-v)/h,x=(-f+v)/h;if((C<0||C>1)&&(x<0||x>1))return null;C>=0&&C<=1&&e.push(s.lerp(o,C)),x>=0&&x<=1&&e.push(s.lerp(o,x))}else{const v=-f/h;if(v>=0&&v<=1)e.push(s.lerp(o,v));else return null}return e}intersectsWithLineFromCenterToPoint(t,e=0){const n=N.clone(t);e&&n.rotate(e,this.getCenter());const r=n.x-this.x,s=n.y-this.y;let o;if(r===0)return o=this.bbox().getNearestPointToPoint(n),e?o.rotate(-e,this.getCenter()):o;const a=s/r,l=a*a,c=this.a*this.a,u=this.b*this.b;let h=Math.sqrt(1/(1/c+l/u));h=r<0?-h:h;const f=a*h;return o=new N(this.x+h,this.y+f),e?o.rotate(-e,this.getCenter()):o}tangentTheta(t){const e=N.clone(t),n=e.x,r=e.y,s=this.a,o=this.b,a=this.bbox().center,l=a.x,c=a.y,u=30,h=n>a.x+s/2,f=n<a.x-s/2;let p,b;return h||f?(b=n>a.x?r-u:r+u,p=s*s/(n-l)-s*s*(r-c)*(b-c)/(o*o*(n-l))+l):(p=r>a.y?n+u:n-u,b=o*o/(r-c)-o*o*(n-l)*(p-l)/(s*s*(r-c))+c),new N(p,b).theta(e)}scale(t,e){return this.a*=t,this.b*=e,this}rotate(t,e){const n=ht.fromEllipse(this);n.rotate(t,e);const r=Ei.fromRect(n);return this.a=r.a,this.b=r.b,this.x=r.x,this.y=r.y,this}translate(t,e){const n=N.create(t,e);return this.x+=n.x,this.y+=n.y,this}equals(t){return t!=null&&t.x===this.x&&t.y===this.y&&t.a===this.a&&t.b===this.b}clone(){return new Ei(this.x,this.y,this.a,this.b)}toJSON(){return{x:this.x,y:this.y,a:this.a,b:this.b}}serialize(){return`${this.x} ${this.y} ${this.a} ${this.b}`}}(function(i){i.toStringTag=`X6.Geometry.${i.name}`;function t(e){if(e==null)return!1;if(e instanceof i)return!0;const n=e[Symbol.toStringTag],r=e;return(n==null||n===i.toStringTag)&&typeof r.x=="number"&&typeof r.y=="number"&&typeof r.a=="number"&&typeof r.b=="number"&&typeof r.inflate=="function"&&typeof r.normalizedDistance=="function"}i.isEllipse=t})(Ei||(Ei={}));(function(i){function t(r,s,o,a){return r==null||typeof r=="number"?new i(r,s,o,a):e(r)}i.create=t;function e(r){return i.isEllipse(r)?r.clone():Array.isArray(r)?new i(r[0],r[1],r[2],r[3]):new i(r.x,r.y,r.a,r.b)}i.parse=e;function n(r){const s=r.center;return new i(s.x,s.y,r.width/2,r.height/2)}i.fromRect=n})(Ei||(Ei={}));class ln extends as{constructor(t){if(super(),t!=null){if(typeof t=="string")return ln.parse(t);this.points=t.map(e=>N.create(e))}else this.points=[]}get[Symbol.toStringTag](){return ln.toStringTag}get start(){return this.points.length===0?null:this.points[0]}get end(){return this.points.length===0?null:this.points[this.points.length-1]}scale(t,e,n=new N){return this.points.forEach(r=>r.scale(t,e,n)),this}rotate(t,e){return this.points.forEach(n=>n.rotate(t,e)),this}translate(t,e){const n=N.create(t,e);return this.points.forEach(r=>r.translate(n.x,n.y)),this}bbox(){if(this.points.length===0)return new ht;let t=1/0,e=-1/0,n=1/0,r=-1/0;const s=this.points;for(let o=0,a=s.length;o<a;o+=1){const l=s[o],c=l.x,u=l.y;c<t&&(t=c),c>e&&(e=c),u<n&&(n=u),u>r&&(r=u)}return new ht(t,n,e-t,r-n)}closestPoint(t){const e=this.closestPointLength(t);return this.pointAtLength(e)}closestPointLength(t){const e=this.points,n=e.length;if(n===0||n===1)return 0;let r=0,s=0,o=1/0;for(let a=0,l=n-1;a<l;a+=1){const c=new At(e[a],e[a+1]),u=c.length(),h=c.closestPointNormalizedLength(t),p=c.pointAt(h).squaredDistance(t);p<o&&(o=p,s=r+h*u),r+=u}return s}closestPointNormalizedLength(t){const e=this.closestPointLength(t);if(e===0)return 0;const n=this.length();return n===0?0:e/n}closestPointTangent(t){const e=this.closestPointLength(t);return this.tangentAtLength(e)}containsPoint(t){if(this.points.length===0)return!1;const e=N.clone(t),n=e.x,r=e.y,s=this.points,o=s.length;let a=o-1,l=0;for(let c=0;c<o;c+=1){const u=s[a],h=s[c];if(e.equals(u))return!0;const f=new At(u,h);if(f.containsPoint(t))return!0;if(r<=u.y&&r>h.y||r>u.y&&r<=h.y){const p=u.x-n>h.x-n?u.x-n:h.x-n;if(p>=0){const b=new N(n+p,r),v=new At(t,b);f.intersectsWithLine(v)&&(l+=1)}}a=c}return l%2===1}intersectsWithLine(t){const e=[];for(let n=0,r=this.points.length-1;n<r;n+=1){const s=this.points[n],o=this.points[n+1],a=t.intersectsWithLine(new At(s,o));a&&e.push(a)}return e.length>0?e:null}isDifferentiable(){for(let t=0,e=this.points.length-1;t<e;t+=1){const n=this.points[t],r=this.points[t+1];if(new At(n,r).isDifferentiable())return!0}return!1}length(){let t=0;for(let e=0,n=this.points.length-1;e<n;e+=1){const r=this.points[e],s=this.points[e+1];t+=r.distance(s)}return t}pointAt(t){const e=this.points,n=e.length;if(n===0)return null;if(n===1||t<=0)return e[0].clone();if(t>=1)return e[n-1].clone();const s=this.length()*t;return this.pointAtLength(s)}pointAtLength(t){const e=this.points,n=e.length;if(n===0)return null;if(n===1)return e[0].clone();let r=!0;t<0&&(r=!1,t=-t);let s=0;for(let a=0,l=n-1;a<l;a+=1){const c=r?a:l-1-a,u=e[c],h=e[c+1],f=new At(u,h),p=u.distance(h);if(t<=s+p)return f.pointAtLength((r?1:-1)*(t-s));s+=p}return(r?e[n-1]:e[0]).clone()}tangentAt(t){const n=this.points.length;if(n===0||n===1)return null;t<0&&(t=0),t>1&&(t=1);const s=this.length()*t;return this.tangentAtLength(s)}tangentAtLength(t){const e=this.points,n=e.length;if(n===0||n===1)return null;let r=!0;t<0&&(r=!1,t=-t);let s,o=0;for(let a=0,l=n-1;a<l;a+=1){const c=r?a:l-1-a,u=e[c],h=e[c+1],f=new At(u,h),p=u.distance(h);if(f.isDifferentiable()){if(t<=o+p)return f.tangentAtLength((r?1:-1)*(t-o));s=f}o+=p}if(s){const a=r?1:0;return s.tangentAt(a)}return null}simplify(t={}){const e=this.points;if(e.length<3)return this;const n=t.threshold||0;let r=0;for(;e[r+2];){const s=r,o=r+1,a=r+2,l=e[s],c=e[o],u=e[a];new At(l,u).closestPoint(c).distance(c)<=n?e.splice(o,1):r+=1}return this}toHull(){const t=this.points,e=t.length;if(e===0)return new ln;let n=t[0];for(let f=1;f<e;f+=1)(t[f].y<n.y||t[f].y===n.y&&t[f].x>n.x)&&(n=t[f]);const r=[];for(let f=0;f<e;f+=1){let p=n.theta(t[f]);p===0&&(p=360),r.push([t[f],f,p])}if(r.sort((f,p)=>{let b=f[2]-p[2];return b===0&&(b=p[1]-f[1]),b}),r.length>2){const f=r[r.length-1];r.unshift(f)}const s={},o=[],a=f=>`${f[0].toString()}@${f[1]}`;for(;r.length!==0;){const f=r.pop(),p=f[0];if(s[a(f)])continue;let b=!1;for(;!b;)if(o.length<2)o.push(f),b=!0;else{const v=o.pop(),C=v[0],x=o.pop(),S=x[0],E=S.cross(C,p);if(E<0)o.push(x),o.push(v),o.push(f),b=!0;else if(E===0){const k=C.angleBetween(S,p);Math.abs(k-180)<1e-10||C.equals(p)||S.equals(C)?(s[a(v)]=C,o.push(x)):Math.abs((k+1)%360-1)<1e-10&&(o.push(x),r.push(v))}else s[a(v)]=C,o.push(x)}}o.length>2&&o.pop();let l,c=-1;for(let f=0,p=o.length;f<p;f+=1){const b=o[f][1];(l===void 0||b<l)&&(l=b,c=f)}let u=[];if(c>0){const f=o.slice(c),p=o.slice(0,c);u=f.concat(p)}else u=o;const h=[];for(let f=0,p=u.length;f<p;f+=1)h.push(u[f][0]);return new ln(h)}equals(t){return t==null||t.points.length!==this.points.length?!1:t.points.every((e,n)=>e.equals(this.points[n]))}clone(){return new ln(this.points.map(t=>t.clone()))}toJSON(){return this.points.map(t=>t.toJSON())}serialize(){return this.points.map(t=>`${t.x}, ${t.y}`).join(" ")}}(function(i){i.toStringTag=`X6.Geometry.${i.name}`;function t(e){if(e==null)return!1;if(e instanceof i)return!0;const n=e[Symbol.toStringTag],r=e;return(n==null||n===i.toStringTag)&&typeof r.toHull=="function"&&typeof r.simplify=="function"}i.isPolyline=t})(ln||(ln={}));(function(i){function t(e){const n=e.trim();if(n==="")return new i;const r=[],s=n.split(/\s*,\s*|\s+/);for(let o=0,a=s.length;o<a;o+=2)r.push({x:+s[o],y:+s[o+1]});return new i(r)}i.parse=t})(ln||(ln={}));class Xe extends as{constructor(t,e,n,r){super(),this.PRECISION=3,this.start=N.create(t),this.controlPoint1=N.create(e),this.controlPoint2=N.create(n),this.end=N.create(r)}get[Symbol.toStringTag](){return Xe.toStringTag}bbox(){const t=this.start,e=this.controlPoint1,n=this.controlPoint2,r=this.end,s=t.x,o=t.y,a=e.x,l=e.y,c=n.x,u=n.y,h=r.x,f=r.y,p=[],b=[[],[]];let v,C,x,S,E,O,k,m;for(let B=0;B<2;B+=1){if(B===0?(C=6*s-12*a+6*c,v=-3*s+9*a-9*c+3*h,x=3*a-3*s):(C=6*o-12*l+6*u,v=-3*o+9*l-9*u+3*f,x=3*l-3*o),Math.abs(v)<1e-12){if(Math.abs(C)<1e-12)continue;S=-x/C,S>0&&S<1&&p.push(S);continue}k=C*C-4*x*v,m=Math.sqrt(k),!(k<0)&&(E=(-C+m)/(2*v),E>0&&E<1&&p.push(E),O=(-C-m)/(2*v),O>0&&O<1&&p.push(O))}let T,D,z,H=p.length;const q=H;for(;H;)H-=1,S=p[H],z=1-S,T=z*z*z*s+3*z*z*S*a+3*z*S*S*c+S*S*S*h,b[0][H]=T,D=z*z*z*o+3*z*z*S*l+3*z*S*S*u+S*S*S*f,b[1][H]=D;p[q]=0,p[q+1]=1,b[0][q]=s,b[1][q]=o,b[0][q+1]=h,b[1][q+1]=f,p.length=q+2,b[0].length=q+2,b[1].length=q+2;const R=Math.min.apply(null,b[0]),rt=Math.min.apply(null,b[1]),st=Math.max.apply(null,b[0]),j=Math.max.apply(null,b[1]);return new ht(R,rt,st-R,j-rt)}closestPoint(t,e={}){return this.pointAtT(this.closestPointT(t,e))}closestPointLength(t,e={}){const n=this.getOptions(e);return this.lengthAtT(this.closestPointT(t,n),n)}closestPointNormalizedLength(t,e={}){const n=this.getOptions(e),r=this.closestPointLength(t,n);if(!r)return 0;const s=this.length(n);return s===0?0:r/s}closestPointT(t,e={}){const n=this.getPrecision(e),r=this.getDivisions(e),s=Math.pow(10,-n);let o=null,a=0,l=0,c=0,u=0,h=0,f=null;const p=r.length;let b=p>0?1/p:0;for(r.forEach((v,C)=>{const x=v.start.distance(t),S=v.end.distance(t),E=x+S;(f==null||E<f)&&(o=v,a=C*b,l=(C+1)*b,c=x,u=S,f=E,h=v.endpointDistance())});;){const v=c?Math.abs(c-u)/c:0,C=u!=null?Math.abs(c-u)/u:0,x=v<s||C<s,S=c?c<h*s:!0,E=u?u<h*s:!0;if(x||(S||E))return c<=u?a:l;const k=o.divide(.5);b/=2;const m=k[0].start.distance(t),T=k[0].end.distance(t),D=m+T,z=k[1].start.distance(t),H=k[1].end.distance(t),q=z+H;D<=q?(o=k[0],l-=b,c=m,u=T):(o=k[1],a+=b,c=z,u=H)}}closestPointTangent(t,e={}){return this.tangentAtT(this.closestPointT(t,e))}containsPoint(t,e={}){return this.toPolyline(e).containsPoint(t)}divideAt(t,e={}){if(t<=0)return this.divideAtT(0);if(t>=1)return this.divideAtT(1);const n=this.tAt(t,e);return this.divideAtT(n)}divideAtLength(t,e={}){const n=this.tAtLength(t,e);return this.divideAtT(n)}divide(t){return this.divideAtT(t)}divideAtT(t){const e=this.start,n=this.controlPoint1,r=this.controlPoint2,s=this.end;if(t<=0)return[new Xe(e,e,e,e),new Xe(e,n,r,s)];if(t>=1)return[new Xe(e,n,r,s),new Xe(s,s,s,s)];const o=this.getSkeletonPoints(t),a=o.startControlPoint1,l=o.startControlPoint2,c=o.divider,u=o.dividerControlPoint1,h=o.dividerControlPoint2;return[new Xe(e,a,l,c),new Xe(c,u,h,s)]}endpointDistance(){return this.start.distance(this.end)}getSkeletonPoints(t){const e=this.start,n=this.controlPoint1,r=this.controlPoint2,s=this.end;if(t<=0)return{startControlPoint1:e.clone(),startControlPoint2:e.clone(),divider:e.clone(),dividerControlPoint1:n.clone(),dividerControlPoint2:r.clone()};if(t>=1)return{startControlPoint1:n.clone(),startControlPoint2:r.clone(),divider:s.clone(),dividerControlPoint1:s.clone(),dividerControlPoint2:s.clone()};const o=new At(e,n).pointAt(t),a=new At(n,r).pointAt(t),l=new At(r,s).pointAt(t),c=new At(o,a).pointAt(t),u=new At(a,l).pointAt(t),h=new At(c,u).pointAt(t);return{startControlPoint1:o,startControlPoint2:c,divider:h,dividerControlPoint1:u,dividerControlPoint2:l}}getSubdivisions(t={}){const e=this.getPrecision(t);let n=[new Xe(this.start,this.controlPoint1,this.controlPoint2,this.end)];if(e===0)return n;let r=this.endpointDistance();const s=Math.pow(10,-e);let o=0;for(;;){o+=1;const a=[];n.forEach(u=>{const h=u.divide(.5);a.push(h[0],h[1])});const l=a.reduce((u,h)=>u+h.endpointDistance(),0),c=l!==0?(l-r)/l:0;if(o>1&&c<s)return a;n=a,r=l}}length(t={}){return this.getDivisions(t).reduce((n,r)=>n+r.endpointDistance(),0)}lengthAtT(t,e={}){if(t<=0)return 0;const n=e.precision===void 0?this.PRECISION:e.precision;return this.divide(t)[0].length({precision:n})}pointAt(t,e={}){if(t<=0)return this.start.clone();if(t>=1)return this.end.clone();const n=this.tAt(t,e);return this.pointAtT(n)}pointAtLength(t,e={}){const n=this.tAtLength(t,e);return this.pointAtT(n)}pointAtT(t){return t<=0?this.start.clone():t>=1?this.end.clone():this.getSkeletonPoints(t).divider}isDifferentiable(){const t=this.start,e=this.controlPoint1,n=this.controlPoint2,r=this.end;return!(t.equals(e)&&e.equals(n)&&n.equals(r))}tangentAt(t,e={}){if(!this.isDifferentiable())return null;t<0?t=0:t>1&&(t=1);const n=this.tAt(t,e);return this.tangentAtT(n)}tangentAtLength(t,e={}){if(!this.isDifferentiable())return null;const n=this.tAtLength(t,e);return this.tangentAtT(n)}tangentAtT(t){if(!this.isDifferentiable())return null;t<0&&(t=0),t>1&&(t=1);const e=this.getSkeletonPoints(t),n=e.startControlPoint2,r=e.dividerControlPoint1,s=e.divider,o=new At(n,r);return o.translate(s.x-n.x,s.y-n.y),o}getPrecision(t={}){return t.precision==null?this.PRECISION:t.precision}getDivisions(t={}){if(t.subdivisions!=null)return t.subdivisions;const e=this.getPrecision(t);return this.getSubdivisions({precision:e})}getOptions(t={}){const e=this.getPrecision(t),n=this.getDivisions(t);return{precision:e,subdivisions:n}}tAt(t,e={}){if(t<=0)return 0;if(t>=1)return 1;const n=this.getOptions(e),s=this.length(n)*t;return this.tAtLength(s,n)}tAtLength(t,e={}){let n=!0;t<0&&(n=!1,t=-t);const r=this.getPrecision(e),s=this.getDivisions(e),o={precision:r,subdivisions:s};let a=null,l,c,u=0,h=0,f=0;const p=s.length;let b=p>0?1/p:0;for(let x=0;x<p;x+=1){const S=n?x:p-1-x,E=s[x],O=E.endpointDistance();if(t<=f+O){a=E,l=S*b,c=(S+1)*b,u=n?t-f:O+f-t,h=n?O+f-t:t-f;break}f+=O}if(a==null)return n?1:0;const v=this.length(o),C=Math.pow(10,-r);for(;;){let x;if(x=v!==0?u/v:0,x<C)return l;if(x=v!==0?h/v:0,x<C)return c;let S,E;const O=a.divide(.5);b/=2;const k=O[0].endpointDistance(),m=O[1].endpointDistance();u<=k?(a=O[0],c-=b,S=u,E=k-S):(a=O[1],l+=b,S=u-k,E=m-S),u=S,h=E}}toPoints(t={}){const e=this.getDivisions(t),n=[e[0].start.clone()];return e.forEach(r=>n.push(r.end.clone())),n}toPolyline(t={}){return new ln(this.toPoints(t))}scale(t,e,n){return this.start.scale(t,e,n),this.controlPoint1.scale(t,e,n),this.controlPoint2.scale(t,e,n),this.end.scale(t,e,n),this}rotate(t,e){return this.start.rotate(t,e),this.controlPoint1.rotate(t,e),this.controlPoint2.rotate(t,e),this.end.rotate(t,e),this}translate(t,e){return typeof t=="number"?(this.start.translate(t,e),this.controlPoint1.translate(t,e),this.controlPoint2.translate(t,e),this.end.translate(t,e)):(this.start.translate(t),this.controlPoint1.translate(t),this.controlPoint2.translate(t),this.end.translate(t)),this}equals(t){return t!=null&&this.start.equals(t.start)&&this.controlPoint1.equals(t.controlPoint1)&&this.controlPoint2.equals(t.controlPoint2)&&this.end.equals(t.end)}clone(){return new Xe(this.start,this.controlPoint1,this.controlPoint2,this.end)}toJSON(){return{start:this.start.toJSON(),controlPoint1:this.controlPoint1.toJSON(),controlPoint2:this.controlPoint2.toJSON(),end:this.end.toJSON()}}serialize(){return[this.start.serialize(),this.controlPoint1.serialize(),this.controlPoint2.serialize(),this.end.serialize()].join(" ")}}(function(i){i.toStringTag=`X6.Geometry.${i.name}`;function t(e){if(e==null)return!1;if(e instanceof i)return!0;const n=e[Symbol.toStringTag],r=e;try{if((n==null||n===i.toStringTag)&&N.isPoint(r.start)&&N.isPoint(r.controlPoint1)&&N.isPoint(r.controlPoint2)&&N.isPoint(r.end)&&typeof r.toPoints=="function"&&typeof r.toPolyline=="function")return!0}catch{return!1}return!1}i.isCurve=t})(Xe||(Xe={}));(function(i){function t(r){const s=r.length,o=[],a=[];let l=2;o[0]=r[0]/l;for(let c=1;c<s;c+=1)a[c]=1/l,l=(c<s-1?4:3.5)-a[c],o[c]=(r[c]-o[c-1])/l;for(let c=1;c<s;c+=1)o[s-c-1]-=a[s-c]*o[s-c];return o}function e(r){const s=r.map(f=>N.clone(f)),o=[],a=[],l=s.length-1;if(l===1)return o[0]=new N((2*s[0].x+s[1].x)/3,(2*s[0].y+s[1].y)/3),a[0]=new N(2*o[0].x-s[0].x,2*o[0].y-s[0].y),[o,a];const c=[];for(let f=1;f<l-1;f+=1)c[f]=4*s[f].x+2*s[f+1].x;c[0]=s[0].x+2*s[1].x,c[l-1]=(8*s[l-1].x+s[l].x)/2;const u=t(c);for(let f=1;f<l-1;f+=1)c[f]=4*s[f].y+2*s[f+1].y;c[0]=s[0].y+2*s[1].y,c[l-1]=(8*s[l-1].y+s[l].y)/2;const h=t(c);for(let f=0;f<l;f+=1)o.push(new N(u[f],h[f])),f<l-1?a.push(new N(2*s[f+1].x-u[f+1],2*s[f+1].y-h[f+1])):a.push(new N((s[l].x+u[l-1])/2,(s[l].y+h[l-1])/2));return[o,a]}function n(r){if(r==null||Array.isArray(r)&&r.length<2)throw new Error("At least 2 points are required");const s=e(r),o=[];for(let a=0,l=s[0].length;a<l;a+=1){const c=new N(s[0][a].x,s[0][a].y),u=new N(s[1][a].x,s[1][a].y);o.push(new i(r[a],c,u,r[a+1]))}return o}i.throughPoints=n})(Xe||(Xe={}));class Vu extends as{constructor(){super(...arguments),this.isVisible=!0,this.isSegment=!0,this.isSubpathStart=!1}get end(){return this.endPoint}get start(){if(this.previousSegment==null)throw new Error("Missing previous segment. (This segment cannot be the first segment of a path, or segment has not yet been added to a path.)");return this.previousSegment.end}closestPointT(t,e){if(this.closestPointNormalizedLength)return this.closestPointNormalizedLength(t);throw new Error("Neither `closestPointT` nor `closestPointNormalizedLength` method is implemented.")}lengthAtT(t,e){if(t<=0)return 0;const n=this.length();return t>=1?n:n*t}divideAtT(t){if(this.divideAt)return this.divideAt(t);throw new Error("Neither `divideAtT` nor `divideAt` method is implemented.")}pointAtT(t){if(this.pointAt)return this.pointAt(t);throw new Error("Neither `pointAtT` nor `pointAt` method is implemented.")}tangentAtT(t){if(this.tangentAt)return this.tangentAt(t);throw new Error("Neither `tangentAtT` nor `tangentAt` method is implemented.")}}class Nn extends Vu{constructor(t,e){super(),At.isLine(t)?this.endPoint=t.end.clone().round(2):this.endPoint=N.create(t,e).round(2)}get type(){return"L"}get line(){return new At(this.start,this.end)}bbox(){return this.line.bbox()}closestPoint(t){return this.line.closestPoint(t)}closestPointLength(t){return this.line.closestPointLength(t)}closestPointNormalizedLength(t){return this.line.closestPointNormalizedLength(t)}closestPointTangent(t){return this.line.closestPointTangent(t)}length(){return this.line.length()}divideAt(t){const e=this.line.divideAt(t);return[new Nn(e[0]),new Nn(e[1])]}divideAtLength(t){const e=this.line.divideAtLength(t);return[new Nn(e[0]),new Nn(e[1])]}getSubdivisions(){return[]}pointAt(t){return this.line.pointAt(t)}pointAtLength(t){return this.line.pointAtLength(t)}tangentAt(t){return this.line.tangentAt(t)}tangentAtLength(t){return this.line.tangentAtLength(t)}isDifferentiable(){return this.previousSegment==null?!1:!this.start.equals(this.end)}clone(){return new Nn(this.end)}scale(t,e,n){return this.end.scale(t,e,n),this}rotate(t,e){return this.end.rotate(t,e),this}translate(t,e){return typeof t=="number"?this.end.translate(t,e):this.end.translate(t),this}equals(t){return this.type===t.type&&this.start.equals(t.start)&&this.end.equals(t.end)}toJSON(){return{type:this.type,start:this.start.toJSON(),end:this.end.toJSON()}}serialize(){const t=this.end;return`${this.type} ${t.x} ${t.y}`}}(function(i){function t(...e){const n=e.length,r=e[0];if(At.isLine(r))return new i(r);if(N.isPointLike(r))return n===1?new i(r):e.map(o=>new i(o));if(n===2)return new i(+e[0],+e[1]);const s=[];for(let o=0;o<n;o+=2){const a=+e[o],l=+e[o+1];s.push(new i(a,l))}return s}i.create=t})(Nn||(Nn={}));class Ko extends Vu{get end(){if(!this.subpathStartSegment)throw new Error("Missing subpath start segment. (This segment needs a subpath start segment (e.g. MoveTo), or segment has not yet been added to a path.)");return this.subpathStartSegment.end}get type(){return"Z"}get line(){return new At(this.start,this.end)}bbox(){return this.line.bbox()}closestPoint(t){return this.line.closestPoint(t)}closestPointLength(t){return this.line.closestPointLength(t)}closestPointNormalizedLength(t){return this.line.closestPointNormalizedLength(t)}closestPointTangent(t){return this.line.closestPointTangent(t)}length(){return this.line.length()}divideAt(t){const e=this.line.divideAt(t);return[e[1].isDifferentiable()?new Nn(e[0]):this.clone(),new Nn(e[1])]}divideAtLength(t){const e=this.line.divideAtLength(t);return[e[1].isDifferentiable()?new Nn(e[0]):this.clone(),new Nn(e[1])]}getSubdivisions(){return[]}pointAt(t){return this.line.pointAt(t)}pointAtLength(t){return this.line.pointAtLength(t)}tangentAt(t){return this.line.tangentAt(t)}tangentAtLength(t){return this.line.tangentAtLength(t)}isDifferentiable(){return!this.previousSegment||!this.subpathStartSegment?!1:!this.start.equals(this.end)}scale(){return this}rotate(){return this}translate(){return this}equals(t){return this.type===t.type&&this.start.equals(t.start)&&this.end.equals(t.end)}clone(){return new Ko}toJSON(){return{type:this.type,start:this.start.toJSON(),end:this.end.toJSON()}}serialize(){return this.type}}(function(i){function t(){return new i}i.create=t})(Ko||(Ko={}));class Jo extends Vu{constructor(t,e){super(),this.isVisible=!1,this.isSubpathStart=!0,At.isLine(t)||Xe.isCurve(t)?this.endPoint=t.end.clone().round(2):this.endPoint=N.create(t,e).round(2)}get start(){throw new Error("Illegal access. Moveto segments should not need a start property.")}get type(){return"M"}bbox(){return null}closestPoint(){return this.end.clone()}closestPointLength(){return 0}closestPointNormalizedLength(){return 0}closestPointT(){return 1}closestPointTangent(){return null}length(){return 0}lengthAtT(){return 0}divideAt(){return[this.clone(),this.clone()]}divideAtLength(){return[this.clone(),this.clone()]}getSubdivisions(){return[]}pointAt(){return this.end.clone()}pointAtLength(){return this.end.clone()}pointAtT(){return this.end.clone()}tangentAt(){return null}tangentAtLength(){return null}tangentAtT(){return null}isDifferentiable(){return!1}scale(t,e,n){return this.end.scale(t,e,n),this}rotate(t,e){return this.end.rotate(t,e),this}translate(t,e){return typeof t=="number"?this.end.translate(t,e):this.end.translate(t),this}clone(){return new Jo(this.end)}equals(t){return this.type===t.type&&this.end.equals(t.end)}toJSON(){return{type:this.type,end:this.end.toJSON()}}serialize(){const t=this.end;return`${this.type} ${t.x} ${t.y}`}}(function(i){function t(...e){const n=e.length,r=e[0];if(At.isLine(r))return new i(r);if(Xe.isCurve(r))return new i(r);if(N.isPointLike(r)){if(n===1)return new i(r);const o=[];for(let a=0;a<n;a+=1)a===0?o.push(new i(e[a])):o.push(new Nn(e[a]));return o}if(n===2)return new i(+e[0],+e[1]);const s=[];for(let o=0;o<n;o+=2){const a=+e[o],l=+e[o+1];o===0?s.push(new i(a,l)):s.push(new Nn(a,l))}return s}i.create=t})(Jo||(Jo={}));class xi extends Vu{constructor(t,e,n,r,s,o){super(),Xe.isCurve(t)?(this.controlPoint1=t.controlPoint1.clone().round(2),this.controlPoint2=t.controlPoint2.clone().round(2),this.endPoint=t.end.clone().round(2)):typeof t=="number"?(this.controlPoint1=new N(t,e).round(2),this.controlPoint2=new N(n,r).round(2),this.endPoint=new N(s,o).round(2)):(this.controlPoint1=N.create(t).round(2),this.controlPoint2=N.create(e).round(2),this.endPoint=N.create(n).round(2))}get type(){return"C"}get curve(){return new Xe(this.start,this.controlPoint1,this.controlPoint2,this.end)}bbox(){return this.curve.bbox()}closestPoint(t){return this.curve.closestPoint(t)}closestPointLength(t){return this.curve.closestPointLength(t)}closestPointNormalizedLength(t){return this.curve.closestPointNormalizedLength(t)}closestPointTangent(t){return this.curve.closestPointTangent(t)}length(){return this.curve.length()}divideAt(t,e={}){const n=this.curve.divideAt(t,e);return[new xi(n[0]),new xi(n[1])]}divideAtLength(t,e={}){const n=this.curve.divideAtLength(t,e);return[new xi(n[0]),new xi(n[1])]}divideAtT(t){const e=this.curve.divideAtT(t);return[new xi(e[0]),new xi(e[1])]}getSubdivisions(){return[]}pointAt(t){return this.curve.pointAt(t)}pointAtLength(t){return this.curve.pointAtLength(t)}tangentAt(t){return this.curve.tangentAt(t)}tangentAtLength(t){return this.curve.tangentAtLength(t)}isDifferentiable(){if(!this.previousSegment)return!1;const t=this.start,e=this.controlPoint1,n=this.controlPoint2,r=this.end;return!(t.equals(e)&&e.equals(n)&&n.equals(r))}scale(t,e,n){return this.controlPoint1.scale(t,e,n),this.controlPoint2.scale(t,e,n),this.end.scale(t,e,n),this}rotate(t,e){return this.controlPoint1.rotate(t,e),this.controlPoint2.rotate(t,e),this.end.rotate(t,e),this}translate(t,e){return typeof t=="number"?(this.controlPoint1.translate(t,e),this.controlPoint2.translate(t,e),this.end.translate(t,e)):(this.controlPoint1.translate(t),this.controlPoint2.translate(t),this.end.translate(t)),this}equals(t){return this.start.equals(t.start)&&this.end.equals(t.end)&&this.controlPoint1.equals(t.controlPoint1)&&this.controlPoint2.equals(t.controlPoint2)}clone(){return new xi(this.controlPoint1,this.controlPoint2,this.end)}toJSON(){return{type:this.type,start:this.start.toJSON(),controlPoint1:this.controlPoint1.toJSON(),controlPoint2:this.controlPoint2.toJSON(),end:this.end.toJSON()}}serialize(){const t=this.controlPoint1,e=this.controlPoint2,n=this.end;return[this.type,t.x,t.y,e.x,e.y,n.x,n.y].join(" ")}}(function(i){function t(...e){const n=e.length,r=e[0];if(Xe.isCurve(r))return new i(r);if(N.isPointLike(r)){if(n===3)return new i(e[0],e[1],e[2]);const o=[];for(let a=0;a<n;a+=3)o.push(new i(e[a],e[a+1],e[a+2]));return o}if(n===6)return new i(e[0],e[1],e[2],e[3],e[4],e[5]);const s=[];for(let o=0;o<n;o+=6)s.push(new i(e[o],e[o+1],e[o+2],e[o+3],e[o+4],e[o+5]));return s}i.create=t})(xi||(xi={}));function bc(i,t,e){return{x:i*Math.cos(e)-t*Math.sin(e),y:i*Math.sin(e)+t*Math.cos(e)}}function k2(i,t,e,n,r,s){const o=.3333333333333333,a=2/3;return[o*i+a*e,o*t+a*n,o*r+a*e,o*s+a*n,r,s]}function yy(i,t,e,n,r,s,o,a,l,c){const u=Math.PI*120/180,h=Math.PI/180*(+r||0);let f=[],p,b,v,C,x;if(c)b=c[0],v=c[1],C=c[2],x=c[3];else{p=bc(i,t,-h),i=p.x,t=p.y,p=bc(a,l,-h),a=p.x,l=p.y;const st=(i-a)/2,j=(t-l)/2;let B=st*st/(e*e)+j*j/(n*n);B>1&&(B=Math.sqrt(B),e=B*e,n=B*n);const tt=e*e,bt=n*n,Ot=(s===o?-1:1)*Math.sqrt(Math.abs((tt*bt-tt*j*j-bt*st*st)/(tt*j*j+bt*st*st)));C=Ot*e*j/n+(i+a)/2,x=Ot*-n*st/e+(t+l)/2,b=Math.asin((t-x)/n),v=Math.asin((l-x)/n),b=i<C?Math.PI-b:b,v=a<C?Math.PI-v:v,b<0&&(b=Math.PI*2+b),v<0&&(v=Math.PI*2+v),o&&b>v&&(b-=Math.PI*2),!o&&v>b&&(v-=Math.PI*2)}let S=v-b;if(Math.abs(S)>u){const st=v,j=a,B=l;v=b+u*(o&&v>b?1:-1),a=C+e*Math.cos(v),l=x+n*Math.sin(v),f=yy(a,l,e,n,r,0,o,j,B,[v,st,C,x])}S=v-b;const E=Math.cos(b),O=Math.sin(b),k=Math.cos(v),m=Math.sin(v),T=Math.tan(S/4),D=4/3*(e*T),z=4/3*(n*T),H=[i,t],q=[i+D*O,t-z*E],R=[a+D*m,l-z*k],rt=[a,l];if(q[0]=2*H[0]-q[0],q[1]=2*H[1]-q[1],c)return[q,R,rt].concat(f);{f=[q,R,rt].concat(f).join().split(",");const st=[],j=f.length;for(let B=0;B<j;B+=1)st[B]=B%2?bc(+f[B-1],+f[B],h).y:bc(+f[B],+f[B+1],h).x;return st}}function TN(i){if(!i)return null;const t=`	
\v\f\r \xA0\u1680\u180E\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200A\u202F\u205F\u3000\u2028\u2029`,e=new RegExp(`([a-z])[${t},]*((-?\\d*\\.?\\d*(?:e[\\-+]?\\d+)?[${t}]*,?[${t}]*)+)`,"ig"),n=new RegExp(`(-?\\d*\\.?\\d*(?:e[\\-+]?\\d+)?)[${t}]*,?[${t}]*`,"ig"),r={a:7,c:6,h:1,l:2,m:2,q:4,s:4,t:2,v:1,z:0},s=[];return i.replace(e,(o,a,l)=>{const c=[];let u=a.toLowerCase();l.replace(n,(f,p)=>(p&&c.push(+p),f)),u==="m"&&c.length>2&&(s.push([a,...c.splice(0,2)]),u="l",a=a==="m"?"l":"L");const h=r[u];for(;c.length>=h&&(s.push([a,...c.splice(0,h)]),!!h););return o}),s}function PN(i){const t=TN(i);if(!t||!t.length)return[["M",0,0]];let e=0,n=0,r=0,s=0;const o=[];for(let a=0,l=t.length;a<l;a+=1){const c=[];o.push(c);const u=t[a],h=u[0];if(h!==h.toUpperCase())switch(c[0]=h.toUpperCase(),c[0]){case"A":c[1]=u[1],c[2]=u[2],c[3]=u[3],c[4]=u[4],c[5]=u[5],c[6]=+u[6]+e,c[7]=+u[7]+n;break;case"V":c[1]=+u[1]+n;break;case"H":c[1]=+u[1]+e;break;case"M":r=+u[1]+e,s=+u[2]+n;for(let f=1,p=u.length;f<p;f+=1)c[f]=+u[f]+(f%2?e:n);break;default:for(let f=1,p=u.length;f<p;f+=1)c[f]=+u[f]+(f%2?e:n);break}else for(let f=0,p=u.length;f<p;f+=1)c[f]=u[f];switch(c[0]){case"Z":e=+r,n=+s;break;case"H":e=c[1];break;case"V":n=c[1];break;case"M":r=c[c.length-2],s=c[c.length-1],e=c[c.length-2],n=c[c.length-1];break;default:e=c[c.length-2],n=c[c.length-1];break}}return o}function kN(i){const t=PN(i),e={x:0,y:0,bx:0,by:0,X:0,Y:0,qx:null,qy:null};function n(l,c,u){let h,f;if(!l)return["C",c.x,c.y,c.x,c.y,c.x,c.y];switch(l[0]in{T:1,Q:1}||(c.qx=null,c.qy=null),l[0]){case"M":c.X=l[1],c.Y=l[2];break;case"A":return parseFloat(l[1])===0||parseFloat(l[2])===0?["L",l[6],l[7]]:["C"].concat(yy.apply(0,[c.x,c.y].concat(l.slice(1))));case"S":return u==="C"||u==="S"?(h=c.x*2-c.bx,f=c.y*2-c.by):(h=c.x,f=c.y),["C",h,f].concat(l.slice(1));case"T":return u==="Q"||u==="T"?(c.qx=c.x*2-c.qx,c.qy=c.y*2-c.qy):(c.qx=c.x,c.qy=c.y),["C"].concat(k2(c.x,c.y,c.qx,c.qy,l[1],l[2]));case"Q":return c.qx=l[1],c.qy=l[2],["C"].concat(k2(c.x,c.y,l[1],l[2],l[3],l[4]));case"H":return["L"].concat(l[1],c.y);case"V":return["L"].concat(c.x,l[1])}return l}function r(l,c){if(l[c].length>7){l[c].shift();const u=l[c];for(;u.length;)s[c]="A",c+=1,l.splice(c,0,["C"].concat(u.splice(0,6)));l.splice(c,1),a=t.length}}const s=[];let o="",a=t.length;for(let l=0;l<a;l+=1){let c="";t[l]&&(c=t[l][0]),c!=="C"&&(s[l]=c,l>0&&(o=s[l-1])),t[l]=n(t[l],e,o),s[l]!=="A"&&c==="C"&&(s[l]="C"),r(t,l);const u=t[l],h=u.length;e.x=u[h-2],e.y=u[h-1],e.bx=parseFloat(u[h-4])||e.x,e.by=parseFloat(u[h-3])||e.y}return(!t[0][0]||t[0][0]!=="M")&&t.unshift(["M",0,0]),t}function _N(i){return kN(i).map(t=>t.map(e=>typeof e=="string"?e:$s(e,2))).join(",").split(",").join(" ")}const DN=new RegExp("^[\\s\\dLMCZz,.]*$");function NN(i){return typeof i!="string"?!1:DN.test(i)}function Hh(i,t){return(i%t+t)%t}function $N(i,t,e,n,r){const s=[],o=i[i.length-1],a=t!=null&&t>0,l=t||0;if(n&&a){i=i.slice();const h=i[0],f=new N(o.x+(h.x-o.x)/2,o.y+(h.y-o.y)/2);i.splice(0,0,f)}let c=i[0],u=1;for(e?s.push("M",c.x,c.y):s.push("L",c.x,c.y);u<(n?i.length:i.length-1);){let h=i[Hh(u,i.length)],f=c.x-h.x,p=c.y-h.y;if(a&&(f!==0||p!==0)&&(r==null||r.indexOf(u-1)<0)){let b=Math.sqrt(f*f+p*p);const v=f*Math.min(l,b/2)/b,C=p*Math.min(l,b/2)/b,x=h.x+v,S=h.y+C;s.push("L",x,S);let E=i[Hh(u+1,i.length)];for(;u<i.length-2&&Math.round(E.x-h.x)===0&&Math.round(E.y-h.y)===0;)E=i[Hh(u+2,i.length)],u+=1;f=E.x-h.x,p=E.y-h.y,b=Math.max(1,Math.sqrt(f*f+p*p));const O=f*Math.min(l,b/2)/b,k=p*Math.min(l,b/2)/b,m=h.x+O,T=h.y+k;s.push("Q",h.x,h.y,m,T),h=new N(m,T)}else s.push("L",h.x,h.y);c=h,u+=1}return n?s.push("Z"):s.push("L",o.x,o.y),s.map(h=>typeof h=="string"?h:+h.toFixed(3)).join(" ")}function xy(i,t={}){const e=[];return i&&i.length&&i.forEach(n=>{Array.isArray(n)?e.push({x:n[0],y:n[1]}):e.push({x:n.x,y:n.y})}),$N(e,t.round,t.initialMove==null||t.initialMove,t.close,t.exclude)}function Yc(i,t,e,n,r=0,s=0,o=0,a,l){if(e===0||n===0)return[];a-=i,l-=t,e=Math.abs(e),n=Math.abs(n);const c=-a/2,u=-l/2,h=Math.cos(r*Math.PI/180),f=Math.sin(r*Math.PI/180),p=h*c+f*u,b=-1*f*c+h*u,v=p*p,C=b*b,x=e*e,S=n*n,E=v/x+C/S;let O;if(E>1)e=Math.sqrt(E)*e,n=Math.sqrt(E)*n,O=0;else{let at=1;s===o&&(at=-1),O=at*Math.sqrt((x*S-x*C-S*v)/(x*C+S*v))}const k=O*e*b/n,m=-1*O*n*p/e,T=h*k-f*m+a/2,D=f*k+h*m+l/2;let z=Math.atan2((b-m)/n,(p-k)/e)-Math.atan2(0,1),H=z>=0?z:2*Math.PI+z;z=Math.atan2((-b-m)/n,(-p-k)/e)-Math.atan2((b-m)/n,(p-k)/e);let q=z>=0?z:2*Math.PI+z;o===0&&q>0?q-=2*Math.PI:o!==0&&q<0&&(q+=2*Math.PI);const R=q*2/Math.PI,rt=Math.ceil(R<0?-1*R:R),st=q/rt,j=8/3*Math.sin(st/4)*Math.sin(st/4)/Math.sin(st/2),B=h*e,tt=h*n,bt=f*e,Ot=f*n;let Gt=Math.cos(H),pt=Math.sin(H),$t=-j*(B*pt+Ot*Gt),Dt=-j*(bt*pt-tt*Gt),_t=0,zt=0;const de=[];for(let at=0;at<rt;at+=1){H+=st,Gt=Math.cos(H),pt=Math.sin(H),_t=B*Gt-Ot*pt+T,zt=bt*Gt+tt*pt+D;const Tt=-j*(B*pt+Ot*Gt),Ut=-j*(bt*pt-tt*Gt),te=at*6;de[te]=Number($t+i),de[te+1]=Number(Dt+t),de[te+2]=Number(_t-Tt+i),de[te+3]=Number(zt-Ut+t),de[te+4]=Number(_t+i),de[te+5]=Number(zt+t),$t=_t+Tt,Dt=zt+Ut}return de.map(at=>+at.toFixed(2))}function FN(i,t,e,n,r=0,s=0,o=0,a,l){const c=[],u=Yc(i,t,e,n,r,s,o,a,l);if(u!=null)for(let h=0,f=u.length;h<f;h+=6)c.push("C",u[h],u[h+1],u[h+2],u[h+3],u[h+4],u[h+5]);return c.join(" ")}class Nt extends as{constructor(t){if(super(),this.PRECISION=3,this.segments=[],Array.isArray(t))if(At.isLine(t[0])||Xe.isCurve(t[0])){let e=null;t.forEach((r,s)=>{s===0&&this.appendSegment(Nt.createSegment("M",r.start)),e!=null&&!e.end.equals(r.start)&&this.appendSegment(Nt.createSegment("M",r.start)),At.isLine(r)?this.appendSegment(Nt.createSegment("L",r.end)):Xe.isCurve(r)&&this.appendSegment(Nt.createSegment("C",r.controlPoint1,r.controlPoint2,r.end)),e=r})}else t.forEach(n=>{n.isSegment&&this.appendSegment(n)});else t!=null&&(At.isLine(t)?(this.appendSegment(Nt.createSegment("M",t.start)),this.appendSegment(Nt.createSegment("L",t.end))):Xe.isCurve(t)?(this.appendSegment(Nt.createSegment("M",t.start)),this.appendSegment(Nt.createSegment("C",t.controlPoint1,t.controlPoint2,t.end))):ln.isPolyline(t)?t.points&&t.points.length&&t.points.forEach((e,n)=>{const r=n===0?Nt.createSegment("M",e):Nt.createSegment("L",e);this.appendSegment(r)}):t.isSegment&&this.appendSegment(t))}get[Symbol.toStringTag](){return Nt.toStringTag}get start(){const t=this.segments,e=t.length;if(e===0)return null;for(let n=0;n<e;n+=1){const r=t[n];if(r.isVisible)return r.start}return t[e-1].end}get end(){const t=this.segments,e=t.length;if(e===0)return null;for(let n=e-1;n>=0;n-=1){const r=t[n];if(r.isVisible)return r.end}return t[e-1].end}moveTo(...t){return this.appendSegment(Jo.create.call(null,...t))}lineTo(...t){return this.appendSegment(Nn.create.call(null,...t))}curveTo(...t){return this.appendSegment(xi.create.call(null,...t))}arcTo(t,e,n,r,s,o,a){const l=this.end||new N,c=typeof o=="number"?Yc(l.x,l.y,t,e,n,r,s,o,a):Yc(l.x,l.y,t,e,n,r,s,o.x,o.y);if(c!=null)for(let u=0,h=c.length;u<h;u+=6)this.curveTo(c[u],c[u+1],c[u+2],c[u+3],c[u+4],c[u+5]);return this}quadTo(t,e,n,r){const s=this.end||new N,o=["M",s.x,s.y];if(typeof t=="number")o.push("Q",t,e,n,r);else{const l=e;o.push("Q",t.x,t.y,l.x,l.y)}const a=Nt.parse(o.join(" "));return this.appendSegment(a.segments.slice(1)),this}close(){return this.appendSegment(Ko.create())}drawPoints(t,e={}){const n=xy(t,e),r=Nt.parse(n);r&&r.segments&&this.appendSegment(r.segments)}bbox(){const t=this.segments,e=t.length;if(e===0)return null;let n;for(let s=0;s<e;s+=1){const o=t[s];if(o.isVisible){const a=o.bbox();a!=null&&(n=n?n.union(a):a)}}if(n!=null)return n;const r=t[e-1];return new ht(r.end.x,r.end.y,0,0)}appendSegment(t){const e=this.segments.length;let n=e!==0?this.segments[e-1]:null,r;const s=null;if(Array.isArray(t))for(let o=0,a=t.length;o<a;o+=1){const l=t[o];r=this.prepareSegment(l,n,s),this.segments.push(r),n=r}else t!=null&&t.isSegment&&(r=this.prepareSegment(t,n,s),this.segments.push(r));return this}insertSegment(t,e){const n=this.segments.length;if(t<0&&(t=n+t+1),t>n||t<0)throw new Error("Index out of range.");let r,s=null,o=null;if(n!==0&&(t>=1?(s=this.segments[t-1],o=s.nextSegment):(s=null,o=this.segments[0])),!Array.isArray(e))r=this.prepareSegment(e,s,o),this.segments.splice(t,0,r);else for(let a=0,l=e.length;a<l;a+=1){const c=e[a];r=this.prepareSegment(c,s,o),this.segments.splice(t+a,0,r),s=r}return this}removeSegment(t){const e=this.fixIndex(t),n=this.segments.splice(e,1)[0],r=n.previousSegment,s=n.nextSegment;return r&&(r.nextSegment=s),s&&(s.previousSegment=r),n.isSubpathStart&&s&&this.updateSubpathStartSegment(s),n}replaceSegment(t,e){const n=this.fixIndex(t);let r;const s=this.segments[n];let o=s.previousSegment;const a=s.nextSegment;let l=s.isSubpathStart;if(!Array.isArray(e))r=this.prepareSegment(e,o,a),this.segments.splice(n,1,r),l&&r.isSubpathStart&&(l=!1);else{this.segments.splice(t,1);for(let c=0,u=e.length;c<u;c+=1){const h=e[c];r=this.prepareSegment(h,o,a),this.segments.splice(t+c,0,r),o=r,l&&r.isSubpathStart&&(l=!1)}}l&&a&&this.updateSubpathStartSegment(a)}getSegment(t){const e=this.fixIndex(t);return this.segments[e]}fixIndex(t){const e=this.segments.length;if(e===0)throw new Error("Path has no segments.");let n=t;for(;n<0;)n=e+n;if(n>=e||n<0)throw new Error("Index out of range.");return n}segmentAt(t,e={}){const n=this.segmentIndexAt(t,e);return n?this.getSegment(n):null}segmentAtLength(t,e={}){const n=this.segmentIndexAtLength(t,e);return n?this.getSegment(n):null}segmentIndexAt(t,e={}){if(this.segments.length===0)return null;const n=Co(t,0,1),r=this.getOptions(e),o=this.length(r)*n;return this.segmentIndexAtLength(o,r)}segmentIndexAtLength(t,e={}){const n=this.segments.length;if(n===0)return null;let r=!0;t<0&&(r=!1,t=-t);const s=this.getPrecision(e),o=this.getSubdivisions(e);let a=0,l=null;for(let c=0;c<n;c+=1){const u=r?c:n-1-c,h=this.segments[u],f=o[u],p=h.length({precision:s,subdivisions:f});if(h.isVisible){if(t<=a+p)return u;l=u}a+=p}return l}getSegmentSubdivisions(t={}){const e=this.getPrecision(t),n=[];for(let r=0,s=this.segments.length;r<s;r+=1){const a=this.segments[r].getSubdivisions({precision:e});n.push(a)}return n}updateSubpathStartSegment(t){let e=t.previousSegment,n=t;for(;n&&!n.isSubpathStart;)e!=null?n.subpathStartSegment=e.subpathStartSegment:n.subpathStartSegment=null,e=n,n=n.nextSegment}prepareSegment(t,e,n){t.previousSegment=e,t.nextSegment=n,e!=null&&(e.nextSegment=t),n!=null&&(n.previousSegment=t);let r=t;return t.isSubpathStart&&(t.subpathStartSegment=t,r=n),r!=null&&this.updateSubpathStartSegment(r),t}closestPoint(t,e={}){const n=this.closestPointT(t,e);return n?this.pointAtT(n):null}closestPointLength(t,e={}){const n=this.getOptions(e),r=this.closestPointT(t,n);return r?this.lengthAtT(r,n):0}closestPointNormalizedLength(t,e={}){const n=this.getOptions(e),r=this.closestPointLength(t,n);if(r===0)return 0;const s=this.length(n);return s===0?0:r/s}closestPointT(t,e={}){if(this.segments.length===0)return null;const n=this.getPrecision(e),r=this.getSubdivisions(e);let s,o=1/0;for(let a=0,l=this.segments.length;a<l;a+=1){const c=this.segments[a],u=r[a];if(c.isVisible){const h=c.closestPointT(t,{precision:n,subdivisions:u}),f=c.pointAtT(h),p=P2(f,t);p<o&&(s={segmentIndex:a,value:h},o=p)}}return s||{segmentIndex:this.segments.length-1,value:1}}closestPointTangent(t,e={}){if(this.segments.length===0)return null;const n=this.getPrecision(e),r=this.getSubdivisions(e);let s,o=1/0;for(let a=0,l=this.segments.length;a<l;a+=1){const c=this.segments[a],u=r[a];if(c.isDifferentiable()){const h=c.closestPointT(t,{precision:n,subdivisions:u}),f=c.pointAtT(h),p=P2(f,t);p<o&&(s=c.tangentAtT(h),o=p)}}return s||null}containsPoint(t,e={}){const n=this.toPolylines(e);if(!n)return!1;let r=0;for(let s=0,o=n.length;s<o;s+=1)n[s].containsPoint(t)&&(r+=1);return r%2===1}pointAt(t,e={}){if(this.segments.length===0)return null;if(t<=0)return this.start.clone();if(t>=1)return this.end.clone();const n=this.getOptions(e),s=this.length(n)*t;return this.pointAtLength(s,n)}pointAtLength(t,e={}){if(this.segments.length===0)return null;if(t===0)return this.start.clone();let n=!0;t<0&&(n=!1,t=-t);const r=this.getPrecision(e),s=this.getSubdivisions(e);let o,a=0;for(let c=0,u=this.segments.length;c<u;c+=1){const h=n?c:u-1-c,f=this.segments[h],p=s[h],b=f.length({precision:r,subdivisions:p});if(f.isVisible){if(t<=a+b)return f.pointAtLength((n?1:-1)*(t-a),{precision:r,subdivisions:p});o=f}a+=b}return o?n?o.end:o.start:this.segments[this.segments.length-1].end.clone()}pointAtT(t){const e=this.segments,n=e.length;if(n===0)return null;const r=t.segmentIndex;if(r<0)return e[0].pointAtT(0);if(r>=n)return e[n-1].pointAtT(1);const s=Co(t.value,0,1);return e[r].pointAtT(s)}divideAt(t,e={}){if(this.segments.length===0)return null;const n=Co(t,0,1),r=this.getOptions(e),o=this.length(r)*n;return this.divideAtLength(o,r)}divideAtLength(t,e={}){if(this.segments.length===0)return null;let n=!0;t<0&&(n=!1,t=-t);const r=this.getPrecision(e),s=this.getSubdivisions(e);let o=0,a,l,c,u,h;for(let k=0,m=this.segments.length;k<m;k+=1){const T=n?k:m-1-k,D=this.getSegment(T),z=s[T],H={precision:r,subdivisions:z},q=D.length(H);if(D.isDifferentiable()&&(c=D,u=T,t<=o+q)){l=T,a=D.divideAtLength((n?1:-1)*(t-o),H);break}o+=q}if(!c)return null;a||(l=u,h=n?1:0,a=c.divideAtT(h));const f=this.clone(),p=l;f.replaceSegment(p,a);const b=p;let v=p+1,C=p+2;a[0].isDifferentiable()||(f.removeSegment(b),v-=1,C-=1);const x=f.getSegment(v).start;f.insertSegment(v,Nt.createSegment("M",x)),C+=1,a[1].isDifferentiable()||(f.removeSegment(C-1),C-=1);const S=C-b-1;for(let k=C,m=f.segments.length;k<m;k+=1){const T=this.getSegment(k-S),D=f.getSegment(k);if(D.type==="Z"&&!T.subpathStartSegment.end.equals(D.subpathStartSegment.end)){const z=Nt.createSegment("L",T.end);f.replaceSegment(k,z)}}const E=new Nt(f.segments.slice(0,v)),O=new Nt(f.segments.slice(v));return[E,O]}intersectsWithLine(t,e={}){const n=this.toPolylines(e);if(n==null)return null;let r=null;for(let s=0,o=n.length;s<o;s+=1){const a=n[s],l=t.intersect(a);l&&(r==null&&(r=[]),Array.isArray(l)?r.push(...l):r.push(l))}return r}isDifferentiable(){for(let t=0,e=this.segments.length;t<e;t+=1)if(this.segments[t].isDifferentiable())return!0;return!1}isValid(){const t=this.segments;return t.length===0||t[0].type==="M"}length(t={}){if(this.segments.length===0)return 0;const e=this.getSubdivisions(t);let n=0;for(let r=0,s=this.segments.length;r<s;r+=1){const o=this.segments[r],a=e[r];n+=o.length({subdivisions:a})}return n}lengthAtT(t,e={}){const n=this.segments.length;if(n===0)return 0;let r=t.segmentIndex;if(r<0)return 0;let s=Co(t.value,0,1);r>=n&&(r=n-1,s=1);const o=this.getPrecision(e),a=this.getSubdivisions(e);let l=0;for(let h=0;h<r;h+=1){const f=this.segments[h],p=a[h];l+=f.length({precision:o,subdivisions:p})}const c=this.segments[r],u=a[r];return l+=c.lengthAtT(s,{precision:o,subdivisions:u}),l}tangentAt(t,e={}){if(this.segments.length===0)return null;const n=Co(t,0,1),r=this.getOptions(e),o=this.length(r)*n;return this.tangentAtLength(o,r)}tangentAtLength(t,e={}){if(this.segments.length===0)return null;let n=!0;t<0&&(n=!1,t=-t);const r=this.getPrecision(e),s=this.getSubdivisions(e);let o,a=0;for(let l=0,c=this.segments.length;l<c;l+=1){const u=n?l:c-1-l,h=this.segments[u],f=s[u],p=h.length({precision:r,subdivisions:f});if(h.isDifferentiable()){if(t<=a+p)return h.tangentAtLength((n?1:-1)*(t-a),{precision:r,subdivisions:f});o=h}a+=p}if(o){const l=n?1:0;return o.tangentAtT(l)}return null}tangentAtT(t){const e=this.segments.length;if(e===0)return null;const n=t.segmentIndex;if(n<0)return this.segments[0].tangentAtT(0);if(n>=e)return this.segments[e-1].tangentAtT(1);const r=Co(t.value,0,1);return this.segments[n].tangentAtT(r)}getPrecision(t={}){return t.precision==null?this.PRECISION:t.precision}getSubdivisions(t={}){if(t.segmentSubdivisions==null){const e=this.getPrecision(t);return this.getSegmentSubdivisions({precision:e})}return t.segmentSubdivisions}getOptions(t={}){const e=this.getPrecision(t),n=this.getSubdivisions(t);return{precision:e,segmentSubdivisions:n}}toPoints(t={}){const e=this.segments,n=e.length;if(n===0)return null;const r=this.getSubdivisions(t),s=[];let o=[];for(let a=0;a<n;a+=1){const l=e[a];if(l.isVisible){const c=r[a];c.length>0?c.forEach(u=>o.push(u.start)):o.push(l.start)}else o.length>0&&(o.push(e[a-1].end),s.push(o),o=[])}return o.length>0&&(o.push(this.end),s.push(o)),s}toPolylines(t={}){const e=this.toPoints(t);return e?e.map(n=>new ln(n)):null}scale(t,e,n){return this.segments.forEach(r=>r.scale(t,e,n)),this}rotate(t,e){return this.segments.forEach(n=>n.rotate(t,e)),this}translate(t,e){return typeof t=="number"?this.segments.forEach(n=>n.translate(t,e)):this.segments.forEach(n=>n.translate(t)),this}clone(){const t=new Nt;return this.segments.forEach(e=>t.appendSegment(e.clone())),t}equals(t){if(t==null)return!1;const e=this.segments,n=t.segments,r=e.length;if(n.length!==r)return!1;for(let s=0;s<r;s+=1){const o=e[s],a=n[s];if(o.type!==a.type||!o.equals(a))return!1}return!0}toJSON(){return this.segments.map(t=>t.toJSON())}serialize(){if(!this.isValid())throw new Error("Invalid path segments.");return this.segments.map(t=>t.serialize()).join(" ")}toString(){return this.serialize()}}(function(i){i.toStringTag=`X6.Geometry.${i.name}`;function t(e){if(e==null)return!1;if(e instanceof i)return!0;const n=e[Symbol.toStringTag],r=e;return!!((n==null||n===i.toStringTag)&&Array.isArray(r.segments)&&typeof r.moveTo=="function"&&typeof r.lineTo=="function"&&typeof r.curveTo=="function")}i.isPath=t})(Nt||(Nt={}));(function(i){function t(n){if(!n)return new i;const r=new i,s=/(?:[a-zA-Z] *)(?:(?:-?\d+(?:\.\d+)?(?:e[-+]?\d+)? *,? *)|(?:-?\.\d+ *,? *))+|(?:[a-zA-Z] *)(?! |\d|-|\.)/g,o=i.normalize(n).match(s);if(o!=null)for(let a=0,l=o.length;a<l;a+=1){const c=o[a],u=/(?:[a-zA-Z])|(?:(?:-?\d+(?:\.\d+)?(?:e[-+]?\d+)?))|(?:(?:-?\.\d+))/g,h=c.match(u);if(h!=null){const f=h[0],p=h.slice(1).map(v=>+v),b=e.call(null,f,...p);r.appendSegment(b)}}return r}i.parse=t;function e(n,...r){if(n==="M")return Jo.create.call(null,...r);if(n==="L")return Nn.create.call(null,...r);if(n==="C")return xi.create.call(null,...r);if(n==="z"||n==="Z")return Ko.create();throw new Error(`Invalid path segment type "${n}"`)}i.createSegment=e})(Nt||(Nt={}));(function(i){i.normalize=_N,i.isValid=NN,i.drawArc=FN,i.drawPoints=xy,i.arcToCurves=Yc})(Nt||(Nt={}));class St{constructor(t,e,n){if(!t)throw new TypeError("Invalid element to create vector");let r;if(St.isVector(t))r=t.node;else if(typeof t=="string")if(t.toLowerCase()==="svg")r=Xc();else if(t[0]==="<"){const s=Xc(t);r=document.importNode(s.firstChild,!0)}else r=document.createElementNS(an.svg,t);else r=t;this.node=r,e&&this.setAttributes(e),n&&this.append(n)}get[Symbol.toStringTag](){return St.toStringTag}get type(){return this.node.nodeName}get id(){return this.node.id}set id(t){this.node.id=t}transform(t,e){return t==null?Zo(this.node):(Zo(this.node,t,e),this)}translate(t,e=0,n={}){return t==null?_2(this.node):(_2(this.node,t,e,n),this)}rotate(t,e,n,r={}){return t==null?qd(this.node):(qd(this.node,t,e,n,r),this)}scale(t,e){return t==null?Ur(this.node):(Ur(this.node,t,e),this)}getTransformToElement(t){const e=St.toNode(t);return pa(this.node,e)}removeAttribute(t){return gy(this.node,t),this}getAttribute(t){return EN(this.node,t)}setAttribute(t,e){return fp(this.node,t,e),this}setAttributes(t){return my(this.node,t),this}attr(t,e){return t==null?be(this.node):typeof t=="string"&&e===void 0?be(this.node,t):(typeof t=="object"?be(this.node,t):be(this.node,t,e),this)}svg(){return this.node instanceof SVGSVGElement?this:St.create(this.node.ownerSVGElement)}defs(){const t=this.svg()||this,e=t.node.getElementsByTagName("defs")[0];return e?St.create(e):St.create("defs").appendTo(t)}text(t,e={}){return wy(this.node,t,e),this}tagName(){return yN(this.node)}clone(){return St.create(this.node.cloneNode(!0))}remove(){return ir(this.node),this}empty(){return hp(this.node),this}append(t){return bl(this.node,St.toNodes(t)),this}appendTo(t){return wN(this.node,St.isVector(t)?t.node:t),this}prepend(t){return CN(this.node,St.toNodes(t)),this}before(t){return dp(this.node,St.toNodes(t)),this}replace(t){return this.node.parentNode&&this.node.parentNode.replaceChild(St.toNode(t),this.node),St.create(t)}first(){return this.node.firstChild?St.create(this.node.firstChild):null}last(){return this.node.lastChild?St.create(this.node.lastChild):null}get(t){const e=this.node.childNodes[t];return e?St.create(e):null}indexOf(t){return Array.prototype.slice.call(this.node.childNodes).indexOf(St.toNode(t))}find(t){const e=[],n=xN(this.node,t);if(n)for(let r=0,s=n.length;r<s;r+=1)e.push(St.create(n[r]));return e}findOne(t){const e=Fd(this.node,t);return e?St.create(e):null}findParentByClass(t,e){const n=py(this.node,t,e);return n?St.create(n):null}matches(t){const e=this.node;this.node.matches;const n=e.matches||e.matchesSelector||e.msMatchesSelector||e.mozMatchesSelector||e.webkitMatchesSelector||e.oMatchesSelector||null;return n&&n.call(e,t)}contains(t){return up(this.node,St.isVector(t)?t.node:t)}wrap(t){const e=St.create(t),n=this.node.parentNode;return n!=null&&n.insertBefore(e.node,this.node),e.append(this)}parent(t){let e=this;if(e.node.parentNode==null)return null;if(e=St.create(e.node.parentNode),t==null)return e;do if(typeof t=="string"?e.matches(t):e instanceof t)return e;while(e=St.create(e.node.parentNode));return e}children(){const t=this.node.childNodes,e=[];for(let n=0;n<t.length;n+=1)t[n].nodeType===1&&e.push(St.create(t[n]));return e}eachChild(t,e){const n=this.children();for(let r=0,s=n.length;r<s;r+=1)t.call(n[r],n[r],r,n),e&&n[r].eachChild(t,e);return this}index(){return cp(this.node)}hasClass(t){return Bu(this.node,t)}addClass(t){return me(this.node,t),this}removeClass(t){return Ci(this.node,t),this}toggleClass(t,e){return dy(this.node,t,e),this}toLocalPoint(t,e){return s$(this.node,t,e)}toGeometryShape(){return Ty(this.node)}translateCenterToPoint(t){const n=this.getBBox({target:this.svg()}).getCenter();return this.translate(t.x-n.x,t.y-n.y),this}translateAndAutoOrient(t,e,n){return Ud(this.node,t,e,n),this}animate(t){return o$(this.node,t)}animateTransform(t){return a$(this.node,t)}animateAlongPath(t,e){return l$(this.node,t,e)}normalizePath(){return this.tagName()==="path"&&this.attr("d",Nt.normalize(this.attr("d"))),this}bbox(t,e){return r$(this.node,t,e)}getBBox(t={}){return Cn(this.node,{recursive:t.recursive,target:t.target?St.toNode(t.target):null})}sample(t=1){return this.node instanceof SVGPathElement?BN(this.node,t):[]}toPath(){return St.create(WN(this.node))}toPathData(){return My(this.node)}}(function(i){i.toStringTag=`X6.${i.name}`;function t(o){if(o==null)return!1;if(o instanceof i)return!0;const a=o[Symbol.toStringTag],l=o;return(a==null||a===i.toStringTag)&&l.node instanceof SVGElement&&typeof l.animate=="function"&&typeof l.sample=="function"&&typeof l.normalizePath=="function"&&typeof l.toPath=="function"}i.isVector=t;function e(o,a,l){return new i(o,a,l)}i.create=e;function n(o){if(o[0]==="<"){const a=Xc(o),l=[];for(let c=0,u=a.childNodes.length;c<u;c+=1){const h=a.childNodes[c];l.push(e(document.importNode(h,!0)))}return l}return[e(o)]}i.createVectors=n;function r(o){return t(o)?o.node:o}i.toNode=r;function s(o){return Array.isArray(o)?o.map(a=>r(a)):[r(o)]}i.toNodes=s})(St||(St={}));function LN(i,t){const e=St.create(t),n=St.create("textPath"),r=i.d;if(r&&i["xlink:href"]===void 0){const s=St.create("path").attr("d",r).appendTo(e.defs());n.attr("xlink:href",`#${s.id}`)}return typeof i=="object"&&n.attr(i),n.node}function IN(i,t,e){const n=e.eol,r=e.baseSize,s=e.lineHeight;let o=0,a;const l={},c=t.length-1;for(let u=0;u<=c;u+=1){let h=t[u],f=null;if(typeof h=="object"){const p=h.attrs,b=St.create("tspan",p);a=b.node;let v=h.t;n&&u===c&&(v+=n),a.textContent=v;const C=p.class;C&&b.addClass(C),e.includeAnnotationIndices&&b.attr("annotations",h.annotations.join(",")),f=parseFloat(p["font-size"]),f===void 0&&(f=r),f&&f>o&&(o=f)}else n&&u===c&&(h+=n),a=document.createTextNode(h||" "),r&&r>o&&(o=r);i.appendChild(a)}return o&&(l.maxFontSize=o),s?l.lineHeight=s:o&&(l.lineHeight=o*1.2),l}const Cy=/em$/;function vc(i,t){const e=parseFloat(i);return Cy.test(i)?e*t:e}function zN(i,t,e,n){if(!Array.isArray(t))return 0;const r=t.length;if(!r)return 0;let s=t[0];const o=vc(s.maxFontSize,e)||e;let a=0;const l=vc(n,e);for(let h=1;h<r;h+=1)s=t[h],a+=vc(s.lineHeight,e)||l;const c=vc(s.maxFontSize,e)||e;let u;switch(i){case"middle":u=o/2-.15*c-a/2;break;case"bottom":u=-(.25*c)-a;break;default:case"top":u=.8*o;break}return u}function wy(i,t,e={}){t=MN(t);const n=e.eol;let r=e.textPath;const s=e.textVerticalAnchor,o=s==="middle"||s==="bottom"||s==="top";let a=e.x;a===void 0&&(a=i.getAttribute("x")||0);const l=e.includeAnnotationIndices;let c=e.annotations;c&&!Array.isArray(c)&&(c=[c]);const u=e.lineHeight,h=u==="auto",f=h?"1.5em":u||"1em";hp(i),be(i,{"xml:space":"preserve",display:t||e.displayEmpty?null:"none"});const p=be(i,"font-size");let b=parseFloat(p);b||(b=16,(o||c)&&!p&&be(i,"font-size",`${b}`));let v;r?(typeof r=="string"&&(r={d:r}),v=LN(r,i)):v=document.createDocumentFragment();let C,x=0,S;const E=t.split(`
`),O=[],k=E.length-1;for(let T=0;T<=k;T+=1){C=f;let D="v-line";const z=Qn("tspan");let H,q=E[T];if(q)if(c){const R=AN(q,c,{offset:-x,includeAnnotationIndices:l});H=IN(z,R,{eol:T!==k&&n,baseSize:b,lineHeight:h?null:f,includeAnnotationIndices:l});const rt=H.lineHeight;rt&&h&&T!==0&&(C=rt),T===0&&(S=H.maxFontSize*.8)}else n&&T!==k&&(q+=n),z.textContent=q;else{z.textContent="-",D+=" v-empty-line";const R=z.style;R.fillOpacity=0,R.strokeOpacity=0,c&&(H={})}H&&O.push(H),T>0&&z.setAttribute("dy",C),(T>0||r)&&z.setAttribute("x",a),z.className.baseVal=D,v.appendChild(z),x+=q.length+1}if(o)if(c)C=zN(s,O,b,f);else if(s==="top")C="0.8em";else{let T;switch(k>0?(T=parseFloat(f)||1,T*=k,Cy.test(f)||(T/=b)):T=0,s){case"middle":C=`${.3-T/2}em`;break;case"bottom":C=`${-T-.3}em`;break}}else s===0?C="0em":s?C=s:(C=0,i.getAttribute("y")==null&&i.setAttribute("y",`${S||"0.8em"}`));v.firstChild.setAttribute("dy",C),i.appendChild(v)}function jN(i,t,e,n){const r=[],s=[];if(t!=null){const o=i.split(t);if(r.push(...o),typeof t=="string")for(let a=0,l=o.length-1;a<l;a+=1)s.push(t);else{const a=i.match(new RegExp(t,"g"));for(let l=0,c=o.length-1;l<c;l+=1)s.push(a?a[l]:"")}}else{let o="";for(let a=0,l=i.length;a<l;a+=1){const c=i[a];c===" "?(r.push(o),s.push(" "),o=""):c.match(/[^\x00-\xff]/)?(o.length&&(r.push(o),s.push("")),r.push(c),s.push(""),o=""):o+=c}o.length&&r.push(o)}for(let o=0;o<r.length;o+=1){const a=r[o];if(a.indexOf(e)>=0&&a.length>1){const l=a.split(e);for(let h=0,f=l.length-1;h<f;h+=1)l.splice(2*h+1,0,e);const c=l.filter(h=>h!=="");r.splice(o,1,...c);const u=c.map(()=>"");u.pop(),s.splice(o,0,...u)}}for(let o=0;o<r.length;o+=1){const a=r[o],l=a.search(n);l>0&&l<a.length-1&&(r.splice(o,1,a.substring(0,l+1),a.substring(l+1)),s.splice(o,0,""))}return{words:r,separators:s}}function Sy(i,t,e={},n={}){const r=t.width,s=t.height,o=n.svgDocument||Qn("svg"),a=Qn("text"),l=Qn("tspan"),c=document.createTextNode("");be(a,e),a.appendChild(l),a.style.opacity="0",a.style.display="block",l.style.display="block",l.appendChild(c),o.appendChild(a);const u=o.parentNode==null;u&&document.body.appendChild(o);const h=n.eol||`
`,f=n.separator||" ",p=n.hyphen?new RegExp(n.hyphen):/[^\w\d]/,b=n.breakWord!==!1,v=[],C={};let x=[],S,E,O;const{words:k,separators:m}=jN(i,n.separator,h,p);for(let T=0,D=0,z=k.length;T<z;T+=1){const H=k[T];if(!!H){if(H===h){v[D]=!0,D+=1,x[D]="";continue}if(x[D]!=null?(O=m[T-1]||"",c.data=`${x[D]}${O}${H}`):c.data=H,l.getComputedTextLength()<=r)x[D]=c.data,C[D]=m[T],S&&(v[D]=!0,D+=1,S=0);else{if(b){if(!x[D]||S){const q=!!S,R=H.length===1;if(S=H.length-1,q||R){if(R){if(!x[D]){x=[];break}k.splice(T,2,H+k[T+1]),m.splice(T+1,1),v[D]=!0,D+=1,z-=1,T-=1;continue}k[T]=H.substring(0,S),k[T+1]=H.substring(S)+k[T+1]}else k.splice(T,1,H.substring(0,S),H.substring(S)),m.splice(T,0,""),z+=1,D&&!v[D-1]&&(D-=1);T-=1;continue}}else if(!x[D]){x[D]=H,v[D]=!0,D+=1;continue}D+=1,T-=1}if(s!=null){if(E==null){let q;e.lineHeight==="auto"?q={value:1.5,unit:"em"}:q=gN(e.lineHeight,["em"])||{value:1,unit:"em"},E=q.value,q.unit==="em"&&(Qe.IS_FIREFOX?E*=l.getBBox().height:E*=a.getBBox().height)}if(E*x.length>s){const q=Math.floor(s/E)-1,R=x[q],rt=x[q+1];if(x.splice(q+1),R==null)break;let st=n.ellipsis;if(!st)break;typeof st!="string"&&(st="\u2026");let j=R;rt&&b&&(j+=O+rt);let B=j.length,tt,bt;do{if(bt=j[B],tt=j.substring(0,B),bt?bt.match(f)&&(tt+=bt):tt+=C[q],tt+=st,c.data=tt,l.getComputedTextLength()<=r){x[q]=tt;break}B-=1}while(B>=0);break}}}}return ir(u?o:a),x.join(h)}const Hd=.551784;function Sn(i,t,e=NaN){const n=i.getAttribute(t);if(n==null)return e;const r=parseFloat(n);return Number.isNaN(r)?e:r}function BN(i,t=1){const e=i.getTotalLength(),n=[];let r=0,s;for(;r<e;)s=i.getPointAtLength(r),n.push({distance:r,x:s.x,y:s.y}),r+=t;return n}function RN(i){return["M",Sn(i,"x1"),Sn(i,"y1"),"L",Sn(i,"x2"),Sn(i,"y2")].join(" ")}function VN(i){const t=Kc(i);return t.length===0?null:`${Ey(t)} Z`}function HN(i){const t=Kc(i);return t.length===0?null:Ey(t)}function Ey(i){return`M ${i.map(e=>`${e.x} ${e.y}`).join(" L")}`}function Kc(i){const t=[],e=i.points;if(e)for(let n=0,r=e.numberOfItems;n<r;n+=1)t.push(e.getItem(n));return t}function GN(i){const t=Sn(i,"cx",0),e=Sn(i,"cy",0),n=Sn(i,"r"),r=n*Hd;return["M",t,e-n,"C",t+r,e-n,t+n,e-r,t+n,e,"C",t+n,e+r,t+r,e+n,t,e+n,"C",t-r,e+n,t-n,e+r,t-n,e,"C",t-n,e-r,t-r,e-n,t,e-n,"Z"].join(" ")}function qN(i){const t=Sn(i,"cx",0),e=Sn(i,"cy",0),n=Sn(i,"rx"),r=Sn(i,"ry")||n,s=n*Hd,o=r*Hd;return["M",t,e-r,"C",t+s,e-r,t+n,e-o,t+n,e,"C",t+n,e+o,t+s,e+r,t,e+r,"C",t-s,e+r,t-n,e+o,t-n,e,"C",t-n,e-o,t-s,e-r,t,e-r,"Z"].join(" ")}function UN(i){return Ay({x:Sn(i,"x",0),y:Sn(i,"y",0),width:Sn(i,"width",0),height:Sn(i,"height",0),rx:Sn(i,"rx",0),ry:Sn(i,"ry",0)})}function Ay(i){let t;const e=i.x,n=i.y,r=i.width,s=i.height,o=Math.min(i.rx||i["top-rx"]||0,r/2),a=Math.min(i.rx||i["bottom-rx"]||0,r/2),l=Math.min(i.ry||i["top-ry"]||0,s/2),c=Math.min(i.ry||i["bottom-ry"]||0,s/2);return o||a||l||c?t=["M",e,n+l,"v",s-l-c,"a",a,c,0,0,0,a,c,"h",r-2*a,"a",a,c,0,0,0,a,-c,"v",-(s-c-l),"a",o,l,0,0,0,-o,-l,"h",-(r-2*o),"a",o,l,0,0,0,-o,l,"Z"]:t=["M",e,n,"H",e+r,"V",n+s,"H",e,"V",n,"Z"],t.join(" ")}function WN(i){const t=Qn("path");be(t,be(i));const e=My(i);return e&&t.setAttribute("d",e),t}function My(i){const t=i.tagName.toLowerCase();switch(t){case"path":return i.getAttribute("d");case"line":return RN(i);case"polygon":return VN(i);case"polyline":return HN(i);case"ellipse":return qN(i);case"circle":return GN(i);case"rect":return UN(i)}throw new Error(`"${t}" cannot be converted to svg path element.`)}function XN(i,t,e,n){const r=2*Math.PI-1e-6,s=i,o=t;let a=e,l=n;if(l<a){const v=a;a=l,l=v}const c=l-a,u=c<Math.PI?"0":"1",h=Math.cos(a),f=Math.sin(a),p=Math.cos(l),b=Math.sin(l);return c>=r?s?`M0,${o}A${o},${o} 0 1,1 0,${-o}A${o},${o} 0 1,1 0,${o}M0,${s}A${s},${s} 0 1,0 0,${-s}A${s},${s} 0 1,0 0,${s}Z`:`M0,${o}A${o},${o} 0 1,1 0,${-o}A${o},${o} 0 1,1 0,${o}Z`:s?`M${o*h},${o*f}A${o},${o} 0 ${u},1 ${o*p},${o*b}L${s*p},${s*b}A${s},${s} 0 ${u},0 ${s*h},${s*f}Z`:`M${o*h},${o*f}A${o},${o} 0 ${u},1 ${o*p},${o*b}L0,0Z`}const yl=Qn("svg"),YN=/(\w+)\(([^,)]+),?([^)]+)?\)/gi,Oy=/[ ,]+/,KN=/^(\w+)\((.*)\)/;function JN(i,t){const e=yl.createSVGPoint();return e.x=i,e.y=t,e}function wn(i){const t=yl.createSVGMatrix();if(i!=null){const e=i,n=t;for(const r in e)n[r]=e[r]}return t}function $a(i){return i!=null?(i instanceof DOMMatrix||(i=wn(i)),yl.createSVGTransformFromMatrix(i)):yl.createSVGTransform()}function Jc(i){let t=wn();const e=i!=null&&i.match(YN);if(!e)return t;for(let n=0,r=e.length;n<r;n+=1){const o=e[n].match(KN);if(o){let a,l,c,u,h,f=wn();const p=o[2].split(Oy);switch(o[1].toLowerCase()){case"scale":a=parseFloat(p[0]),l=p[1]===void 0?a:parseFloat(p[1]),f=f.scaleNonUniform(a,l);break;case"translate":c=parseFloat(p[0]),u=parseFloat(p[1]),f=f.translate(c,u);break;case"rotate":h=parseFloat(p[0]),c=parseFloat(p[1])||0,u=parseFloat(p[2])||0,c!==0||u!==0?f=f.translate(c,u).rotate(h).translate(-c,-u):f=f.rotate(h);break;case"skewx":h=parseFloat(p[0]),f=f.skewX(h);break;case"skewy":h=parseFloat(p[0]),f=f.skewY(h);break;case"matrix":f.a=parseFloat(p[0]),f.b=parseFloat(p[1]),f.c=parseFloat(p[2]),f.d=parseFloat(p[3]),f.e=parseFloat(p[4]),f.f=parseFloat(p[5]);break;default:continue}t=t.multiply(f)}}return t}function uo(i){const t=i||{},e=t.a!=null?t.a:1,n=t.b!=null?t.b:0,r=t.c!=null?t.c:0,s=t.d!=null?t.d:1,o=t.e!=null?t.e:0,a=t.f!=null?t.f:0;return`matrix(${e},${n},${r},${s},${o},${a})`}function Hu(i){let t,e,n;if(i){const s=Oy;if(i.trim().indexOf("matrix")>=0){const o=Jc(i),a=ZN(o);t=[a.translateX,a.translateY],e=[a.rotation],n=[a.scaleX,a.scaleY];const l=[];(t[0]!==0||t[1]!==0)&&l.push(`translate(${t.join(",")})`),(n[0]!==1||n[1]!==1)&&l.push(`scale(${n.join(",")})`),e[0]!==0&&l.push(`rotate(${e[0]})`),i=l.join(" ")}else{const o=i.match(/translate\((.*?)\)/);o&&(t=o[1].split(s));const a=i.match(/rotate\((.*?)\)/);a&&(e=a[1].split(s));const l=i.match(/scale\((.*?)\)/);l&&(n=l[1].split(s))}}const r=n&&n[0]?parseFloat(n[0]):1;return{raw:i||"",translation:{tx:t&&t[0]?parseInt(t[0],10):0,ty:t&&t[1]?parseInt(t[1],10):0},rotation:{angle:e&&e[0]?parseInt(e[0],10):0,cx:e&&e[1]?parseInt(e[1],10):void 0,cy:e&&e[2]?parseInt(e[2],10):void 0},scale:{sx:r,sy:n&&n[1]?parseFloat(n[1]):r}}}function Gd(i,t){const e=t.x*i.a+t.y*i.c+0,n=t.x*i.b+t.y*i.d+0;return{x:e,y:n}}function ZN(i){const t=Gd(i,{x:0,y:1}),e=Gd(i,{x:1,y:0}),n=180/Math.PI*Math.atan2(t.y,t.x)-90,r=180/Math.PI*Math.atan2(e.y,e.x);return{skewX:n,skewY:r,translateX:i.e,translateY:i.f,scaleX:Math.sqrt(i.a*i.a+i.b*i.b),scaleY:Math.sqrt(i.c*i.c+i.d*i.d),rotation:n}}function QN(i){let t,e,n,r;return i?(t=i.a==null?1:i.a,r=i.d==null?1:i.d,e=i.b,n=i.c):t=r=1,{sx:e?Math.sqrt(t*t+e*e):t,sy:n?Math.sqrt(n*n+r*r):r}}function t$(i){let t={x:0,y:1};return i&&(t=Gd(i,t)),{angle:re.normalize(re.toDeg(Math.atan2(t.y,t.x))-90)}}function e$(i){return{tx:i&&i.e||0,ty:i&&i.f||0}}function gr(i,t){const e=JN(i.x,i.y).matrixTransform(t);return new N(e.x,e.y)}function n$(i,t){return new At(gr(i.start,t),gr(i.end,t))}function ci(i,t){const e=yl.createSVGPoint();e.x=i.x,e.y=i.y;const n=e.matrixTransform(t);e.x=i.x+i.width,e.y=i.y;const r=e.matrixTransform(t);e.x=i.x+i.width,e.y=i.y+i.height;const s=e.matrixTransform(t);e.x=i.x,e.y=i.y+i.height;const o=e.matrixTransform(t),a=Math.min(n.x,r.x,s.x,o.x),l=Math.max(n.x,r.x,s.x,o.x),c=Math.min(n.y,r.y,s.y,o.y),u=Math.max(n.y,r.y,s.y,o.y);return new ht(a,c,l-a,u-c)}var i$=globalThis&&globalThis.__rest||function(i,t){var e={};for(var n in i)Object.prototype.hasOwnProperty.call(i,n)&&t.indexOf(n)<0&&(e[n]=i[n]);if(i!=null&&typeof Object.getOwnPropertySymbols=="function")for(var r=0,n=Object.getOwnPropertySymbols(i);r<n.length;r++)t.indexOf(n[r])<0&&Object.prototype.propertyIsEnumerable.call(i,n[r])&&(e[n[r]]=i[n[r]]);return e};function r$(i,t,e){let n;const r=i.ownerSVGElement;if(!r)return new ht(0,0,0,0);try{n=i.getBBox()}catch{n={x:i.clientLeft,y:i.clientTop,width:i.clientWidth,height:i.clientHeight}}if(t)return ht.create(n);const s=pa(i,e||r);return ci(n,s)}function Cn(i,t={}){let e;if(!i.ownerSVGElement||!ml(i)){if(Ld(i)){const{left:o,top:a,width:l,height:c}=c$(i);return new ht(o,a,l,c)}return new ht(0,0,0,0)}let r=t.target;if(!t.recursive){try{e=i.getBBox()}catch{e={x:i.clientLeft,y:i.clientTop,width:i.clientWidth,height:i.clientHeight}}if(!r)return ht.create(e);const o=pa(i,r);return ci(e,o)}{const o=i.childNodes,a=o.length;if(a===0)return Cn(i,{target:r});r||(r=i);for(let l=0;l<a;l+=1){const c=o[l];let u;c.childNodes.length===0?u=Cn(c,{target:r}):u=Cn(c,{target:r,recursive:!0}),e?e=e.union(u):e=u}return e}}function pa(i,t){if(ml(t)&&ml(i)){const e=t.getScreenCTM(),n=i.getScreenCTM();if(e&&n)return e.inverse().multiply(n)}return wn()}function s$(i,t,e){const n=i instanceof SVGSVGElement?i:i.ownerSVGElement,r=n.createSVGPoint();r.x=t,r.y=e;try{const s=n.getScreenCTM(),o=r.matrixTransform(s.inverse()),a=pa(i,n).inverse();return o.matrixTransform(a)}catch{return r}}function Ty(i){const t=e=>{const n=i.getAttribute(e),r=n?parseFloat(n):0;return Number.isNaN(r)?0:r};switch(i instanceof SVGElement&&i.nodeName.toLowerCase()){case"rect":return new ht(t("x"),t("y"),t("width"),t("height"));case"circle":return new Ei(t("cx"),t("cy"),t("r"),t("r"));case"ellipse":return new Ei(t("cx"),t("cy"),t("rx"),t("ry"));case"polyline":{const e=Kc(i);return new ln(e)}case"polygon":{const e=Kc(i);return e.length>1&&e.push(e[0]),new ln(e)}case"path":{let e=i.getAttribute("d");return Nt.isValid(e)||(e=Nt.normalize(e)),Nt.parse(e)}case"line":return new At(t("x1"),t("y1"),t("x2"),t("y2"))}return Cn(i)}function o$(i,t){return Py(i,t,"animate")}function a$(i,t){return Py(i,t,"animateTransform")}function Py(i,t,e){const n=Qn(e);i.appendChild(n);try{return ky(n,t)}catch{}return()=>{}}function ky(i,t){const{start:e,complete:n,repeat:r}=t,s=i$(t,["start","complete","repeat"]);be(i,s),e&&i.addEventListener("beginEvent",e),n&&i.addEventListener("endEvent",n),r&&i.addEventListener("repeatEvent",r);const o=i;return o.beginElement(),()=>o.endElement()}function l$(i,t,e){const n=Ru(e),r=Qn("animateMotion"),s=Qn("mpath");be(s,{"xlink:href":`#${n}`}),r.appendChild(s),i.appendChild(r);try{return ky(r,t)}catch{if(document.documentElement.getAttribute("smiling")==="fake"){const a=r;a.animators=[];const l=window,c=a.getAttribute("id");c&&(l.id2anim[c]=a);const u=l.getTargets(a);for(let h=0,f=u.length;h<f;h+=1){const p=u[h],b=new l.Animator(a,p,h);l.animators.push(b),a.animators[h]=b,b.register()}}}return()=>{}}function c$(i){let t=0,e=0,n=0,r=0;if(i){let s=i;for(;s;)t+=s.offsetLeft,e+=s.offsetTop,s=s.offsetParent,s&&(t+=parseInt(O2(s,"borderLeft"),10),e+=parseInt(O2(s,"borderTop"),10));n=i.offsetWidth,r=i.offsetHeight}return{left:t,top:e,width:n,height:r}}function Zo(i,t,e={}){if(t==null)return Jc(be(i,"transform"));if(e.absolute){i.setAttribute("transform",uo(t));return}const n=i.transform,r=$a(t);n.baseVal.appendItem(r)}function _2(i,t,e=0,n={}){let r=be(i,"transform");const s=Hu(r);if(t==null)return s.translation;r=s.raw,r=r.replace(/translate\([^)]*\)/g,"").trim();const o=n.absolute?t:s.translation.tx+t,a=n.absolute?e:s.translation.ty+e,l=`translate(${o},${a})`;i.setAttribute("transform",`${l} ${r}`.trim())}function qd(i,t,e,n,r={}){let s=be(i,"transform");const o=Hu(s);if(t==null)return o.rotation;s=o.raw,s=s.replace(/rotate\([^)]*\)/g,"").trim(),t%=360;const a=r.absolute?t:o.rotation.angle+t,l=e!=null&&n!=null?`,${e},${n}`:"",c=`rotate(${a}${l})`;i.setAttribute("transform",`${s} ${c}`.trim())}function Ur(i,t,e){let n=be(i,"transform");const r=Hu(n);if(t==null)return r.scale;e=e==null?t:e,n=r.raw,n=n.replace(/scale\([^)]*\)/g,"").trim();const s=`scale(${t},${e})`;i.setAttribute("transform",`${n} ${s}`.trim())}function Ud(i,t,e,n){const r=N.create(t),s=N.create(e);n||(n=i instanceof SVGSVGElement?i:i.ownerSVGElement);const o=Ur(i);i.setAttribute("transform","");const a=Cn(i,{target:n}).scale(o.sx,o.sy),l=$a();l.setTranslate(-a.x-a.width/2,-a.y-a.height/2);const c=$a(),u=r.angleBetween(s,r.clone().translate(1,0));u&&c.setRotate(u,0,0);const h=$a(),f=r.clone().move(s,a.width/2);h.setTranslate(2*r.x-f.x,2*r.y-f.y);const p=pa(i,n),b=$a();b.setMatrix(h.matrix.multiply(c.matrix.multiply(l.matrix.multiply(p.scale(o.sx,o.sy))))),i.setAttribute("transform",uo(b.matrix))}class _y{constructor(t,e,n){this.animationFrameId=0,this.deltaX=0,this.deltaY=0,this.eventName=Qe.isEventSupported("wheel")?"wheel":"mousewheel",this.target=t,this.onWheelCallback=e,this.onWheelGuard=n,this.onWheel=this.onWheel.bind(this),this.didWheel=this.didWheel.bind(this)}enable(){Qe.SUPPORT_PASSIVE?this.target.addEventListener(this.eventName,this.onWheel,{passive:!1}):Je(this.target).on("mousewheel",this.onWheel)}disable(){Qe.SUPPORT_PASSIVE?this.target.removeEventListener(this.eventName,this.onWheel):Je(this.target).off("mousewheel")}onWheel(t){if(this.onWheelGuard!=null&&!this.onWheelGuard(t))return;this.deltaX+=t.deltaX,this.deltaY+=t.deltaY,t.preventDefault();let e;(this.deltaX!==0||this.deltaY!==0)&&(t.stopPropagation(),e=!0),e===!0&&this.animationFrameId===0&&(this.animationFrameId=requestAnimationFrame(()=>{this.didWheel(t)}))}didWheel(t){this.animationFrameId=0,this.onWheelCallback(t,this.deltaX,this.deltaY),this.deltaX=0,this.deltaY=0}}St.isVector;St.create;St.createVectors;function Dy(i,t=60){let e=null;return(...n)=>{e&&clearTimeout(e),e=window.setTimeout(()=>{i.apply(this,n)},t)}}function u$(i){let t=null,e=[];const n=()=>{if(getComputedStyle(i).position==="static"){const c=i.style;c.position="relative"}const l=document.createElement("object");return l.onload=()=>{l.contentDocument.defaultView.addEventListener("resize",r),r()},l.style.display="block",l.style.position="absolute",l.style.top="0",l.style.left="0",l.style.height="100%",l.style.width="100%",l.style.overflow="hidden",l.style.pointerEvents="none",l.style.zIndex="-1",l.style.opacity="0",l.setAttribute("tabindex","-1"),l.type="text/html",i.appendChild(l),l.data="about:blank",l},r=Dy(()=>{e.forEach(l=>l(i))}),s=l=>{t||(t=n()),e.indexOf(l)===-1&&e.push(l)},o=()=>{t&&t.parentNode&&(t.contentDocument&&t.contentDocument.defaultView.removeEventListener("resize",r),t.parentNode.removeChild(t),t=null,e=[])};return{element:i,bind:s,destroy:o,unbind:l=>{const c=e.indexOf(l);c!==-1&&e.splice(c,1),e.length===0&&t&&o()}}}function h$(i){let t=null,e=[];const n=Dy(()=>{e.forEach(l=>{l(i)})}),r=()=>{const l=new ResizeObserver(n);return l.observe(i),n(),l},s=l=>{t||(t=r()),e.indexOf(l)===-1&&e.push(l)},o=()=>{t&&(t.disconnect(),e=[],t=null)};return{element:i,bind:s,destroy:o,unbind:l=>{const c=e.indexOf(l);c!==-1&&e.splice(c,1),e.length===0&&t&&o()}}}const d$=typeof ResizeObserver!="undefined"?h$:u$;var Zc;(function(i){const t=new WeakMap;function e(r){let s=t.get(r);return s||(s=d$(r),t.set(r,s),s)}function n(r){r.destroy(),t.delete(r.element)}i.bind=(r,s)=>{const o=e(r);return o.bind(s),()=>o.unbind(s)},i.clear=r=>{const s=e(r);n(s)}})(Zc||(Zc={}));var Wd;(function(i){const t=[],e=16.666666666666668,n=[];let r=0;const s=()=>performance.now(),o=u=>u[0],a=u=>n.push(u)===1&&l(),l=(()=>{const u=()=>n.splice(0,n.length).forEach(h=>h());if(typeof MessageChannel!="undefined"){const{port1:h,port2:f}=new MessageChannel;return h.onmessage=u,()=>f.postMessage(null)}return()=>setTimeout(u)})(),c=()=>{r=s()+e;let u=o(t);for(;u&&!i.shouldYield();){const{callback:h,data:f}=u;u.callback=null;const p=h&&h(f);p?u.callback=p:t.shift(),u=o(t)}u&&a(c)};i.scheduleTask=(u,h)=>{const f={callback:u,data:h};t.push(f),a(c)},i.shouldYield=()=>{var u,h;return((h=(u=navigator)===null||u===void 0?void 0:u.scheduling)===null||h===void 0?void 0:h.isInputPending())||s()>=r}})(Wd||(Wd={}));class Ke{constructor(t){this.options=Object.assign({},t),this.data=this.options.data||{},this.register=this.register.bind(this),this.unregister=this.unregister.bind(this)}get names(){return Object.keys(this.data)}register(t,e,n=!1){if(typeof t=="object"){Object.keys(t).forEach(o=>{this.register(o,t[o],e)});return}this.exist(t)&&!n&&!Qe.isApplyingHMR()&&this.onDuplicated(t);const r=this.options.process,s=r?xt(r,this,t,e):e;return this.data[t]=s,s}unregister(t){const e=t?this.data[t]:null;return delete this.data[t],e}get(t){return t?this.data[t]:null}exist(t){return t?this.data[t]!=null:!1}onDuplicated(t){try{throw this.options.onConflict&&xt(this.options.onConflict,this,t),new Error(`${Vc(this.options.type)} with name '${t}' already registered.`)}catch(e){throw e}}onNotFound(t,e){throw new Error(this.getSpellingSuggestion(t,e))}getSpellingSuggestion(t,e){const n=this.getSpellingSuggestionForName(t),r=e?`${e} ${D5(this.options.type)}`:this.options.type;return`${Vc(r)} with name '${t}' does not exist.${n?` Did you mean '${n}'?`:""}`}getSpellingSuggestionForName(t){return fN(t,Object.keys(this.data),e=>e)}}(function(i){function t(e){return new i(e)}i.create=t})(Ke||(Ke={}));const f$={xlinkHref:"xlink:href",xlinkShow:"xlink:show",xlinkRole:"xlink:role",xlinkType:"xlink:type",xlinkArcrole:"xlink:arcrole",xlinkTitle:"xlink:title",xlinkActuate:"xlink:actuate",xmlSpace:"xml:space",xmlBase:"xml:base",xmlLang:"xml:lang",preserveAspectRatio:"preserveAspectRatio",requiredExtension:"requiredExtension",requiredFeatures:"requiredFeatures",systemLanguage:"systemLanguage",externalResourcesRequired:"externalResourceRequired"},p$={},Ny={position:Gu("x","width","origin")},$y={position:Gu("y","height","origin")},g$={position:Gu("x","width","corner")},m$={position:Gu("y","height","corner")},Fy={set:Qr("width","width")},Ly={set:Qr("height","height")},b$={set:Qr("rx","width")},v$={set:Qr("ry","height")},Iy={set:(i=>{const t=Qr(i,"width"),e=Qr(i,"height");return function(n,r){const s=r.refBBox,o=s.height>s.width?t:e;return xt(o,this,n,r)}})("r")},y$={set(i,{refBBox:t}){let e=parseFloat(i);const n=Ri(i);n&&(e/=100);const r=Math.sqrt(t.height*t.height+t.width*t.width);let s;return Number.isFinite(e)&&(n||e>=0&&e<=1?s=e*r:s=Math.max(e+r,0)),{r:s}}},x$={set:Qr("cx","width")},C$={set:Qr("cy","height")},zy={set:Ry({resetOffset:!0})},w$={set:Ry({resetOffset:!1})},jy={set:Vy({resetOffset:!0})},S$={set:Vy({resetOffset:!1})},E$=Iy,A$=zy,M$=jy,O$=Ny,T$=$y,P$=Fy,k$=Ly;function Gu(i,t,e){return(n,{refBBox:r})=>{if(n==null)return null;let s=parseFloat(n);const o=Ri(n);o&&(s/=100);let a;if(Number.isFinite(s)){const c=r[e];o||s>0&&s<1?a=c[i]+r[t]*s:a=c[i]+s}const l=new N;return l[i]=a||0,l}}function Qr(i,t){return function(e,{refBBox:n}){let r=parseFloat(e);const s=Ri(e);s&&(r/=100);const o={};if(Number.isFinite(r)){const a=s||r>=0&&r<=1?r*n[t]:Math.max(r+n[t],0);o[i]=a}return o}}function By(i,t){const e="x6-shape",n=t&&t.resetOffset;return function(r,{view:s,elem:o,refBBox:a}){const l=s.$(o);let c=l.data(e);if(!c||c.value!==r){const x=i(r);c={value:r,shape:x,shapeBBox:x.bbox()},l.data(e,c)}const u=c.shape.clone(),h=c.shapeBBox.clone(),f=h.getOrigin(),p=a.getOrigin();h.x=p.x,h.y=p.y;const b=a.getMaxScaleToFit(h,p),v=h.width===0||a.width===0?1:b.sx,C=h.height===0||a.height===0?1:b.sy;return u.scale(v,C,f),n&&u.translate(-f.x,-f.y),u}}function Ry(i){function t(n){return Nt.parse(n)}const e=By(t,i);return(n,r)=>({d:e(n,r).serialize()})}function Vy(i){const t=By(e=>new ln(e),i);return(e,n)=>({points:t(e,n).serialize()})}const _$={qualify:gi,set(i,{view:t}){return`url(#${t.graph.defineGradient(i)})`}},D$={qualify:gi,set(i,{view:t}){const e=t.cell,n=Object.assign({},i);if(e.isEdge()&&n.type==="linearGradient"){const r=t,s=r.sourcePoint,o=r.targetPoint;n.id=`gradient-${n.type}-${e.id}`,n.attrs=Object.assign(Object.assign({},n.attrs),{x1:s.x,y1:s.y,x2:o.x,y2:o.y,gradientUnits:"userSpaceOnUse"}),t.graph.defs.remove(n.id)}return`url(#${t.graph.defineGradient(n)})`}},Hy={qualify(i,{attrs:t}){return t.textWrap==null||!gi(t.textWrap)},set(i,{view:t,elem:e,attrs:n}){const r="x6-text",s=t.$(e),o=s.data(r),a=h=>{try{return JSON.parse(h)}catch{return h}},l={x:n.x,eol:n.eol,annotations:a(n.annotations),textPath:a(n["text-path"]||n.textPath),textVerticalAnchor:n["text-vertical-anchor"]||n.textVerticalAnchor,displayEmpty:(n["display-empty"]||n.displayEmpty)==="true",lineHeight:n["line-height"]||n.lineHeight},c=n["font-size"]||n.fontSize,u=JSON.stringify([i,l]);if(c&&e.setAttribute("font-size",c),o==null||o!==u){const h=l.textPath;if(h!=null&&typeof h=="object"){const f=h.selector;if(typeof f=="string"){const p=t.find(f)[0];p instanceof SVGPathElement&&(Ru(p),l.textPath=Object.assign({"xlink:href":`#${p.id}`},h))}}wy(e,`${i}`,l),s.data(r,u)}}},N$={qualify:gi,set(i,{view:t,elem:e,attrs:n,refBBox:r}){const s=i,o=s.width||0;Ri(o)?r.width*=parseFloat(o)/100:o<=0?r.width+=o:r.width=o;const a=s.height||0;Ri(a)?r.height*=parseFloat(a)/100:a<=0?r.height+=a:r.height=a;let l,c=s.text;c==null&&(c=n.text),c!=null?l=Sy(`${c}`,r,{"font-weight":n["font-weight"]||n.fontWeight,"font-size":n["font-size"]||n.fontSize,"font-family":n["font-family"]||n.fontFamily,lineHeight:n.lineHeight},{svgDocument:t.graph.view.svg,ellipsis:s.ellipsis,hyphen:s.hyphen,breakWord:s.breakWord}):l="",xt(Hy.set,this,l,{view:t,elem:e,attrs:n,refBBox:r,cell:t.cell})}},ga=(i,{attrs:t})=>t.text!==void 0,$$={qualify:ga},F$={qualify:ga},L$={qualify:ga},I$={qualify:ga},z$={qualify:ga},j$={qualify:ga},B$={qualify(i,{elem:t}){return t instanceof SVGElement},set(i,{view:t,elem:e}){const n="x6-title",r=`${i}`,s=t.$(e),o=s.data(n);if(o==null||o!==r){s.data(n,r);const a=e.firstChild;if(a&&a.tagName.toUpperCase()==="TITLE"){const l=a;l.textContent=r}else{const l=document.createElementNS(e.namespaceURI,"title");l.textContent=r,e.insertBefore(l,a)}}}},R$={offset:Gy("x","width","right")},V$={offset:Gy("y","height","bottom")},H$={offset(i,{refBBox:t}){return i?{x:-t.x,y:-t.y}:{x:0,y:0}}};function Gy(i,t,e){return(n,{refBBox:r})=>{const s=new N;let o;return n==="middle"?o=r[t]/2:n===e?o=r[t]:typeof n=="number"&&Number.isFinite(n)?o=n>-1&&n<1?-r[t]*n:-n:Ri(n)?o=r[t]*parseFloat(n)/100:o=0,s[i]=-(r[i]+o),s}}const G$={qualify:gi,set(i,{view:t,elem:e}){t.$(e).css(i)}},q$={set(i,{view:t,elem:e}){t.$(e).html(`${i}`)}},U$={qualify:gi,set(i,{view:t}){return`url(#${t.graph.defineFilter(i)})`}},W$={set(i){return i!=null&&typeof i=="object"&&i.id?i.id:i}};function ls(i,t,e){let n,r;typeof t=="object"?(n=t.x,r=t.y):(n=t,r=e);const s=Nt.parse(i),o=s.bbox();if(o){let a=-o.height/2-o.y,l=-o.width/2-o.x;typeof n=="number"&&(l-=n),typeof r=="number"&&(a-=r),s.translate(l,a)}return s.serialize()}var qy=globalThis&&globalThis.__rest||function(i,t){var e={};for(var n in i)Object.prototype.hasOwnProperty.call(i,n)&&t.indexOf(n)<0&&(e[n]=i[n]);if(i!=null&&typeof Object.getOwnPropertySymbols=="function")for(var r=0,n=Object.getOwnPropertySymbols(i);r<n.length;r++)t.indexOf(n[r])<0&&Object.prototype.propertyIsEnumerable.call(i,n[r])&&(e[n[r]]=i[n[r]]);return e};const X$=i=>{var{size:t,width:e,height:n,offset:r,open:s}=i,o=qy(i,["size","width","height","offset","open"]);return Uy({size:t,width:e,height:n,offset:r},s===!0,!0,void 0,o)},Y$=i=>{var{size:t,width:e,height:n,offset:r,factor:s}=i,o=qy(i,["size","width","height","offset","factor"]);return Uy({size:t,width:e,height:n,offset:r},!1,!1,s,o)};function Uy(i,t,e,n=3/4,r={}){const s=i.size||10,o=i.width||s,a=i.height||s,l=new Nt,c={};if(t)l.moveTo(o,0).lineTo(0,a/2).lineTo(o,a),c.fill="none";else{if(l.moveTo(0,a/2),l.lineTo(o,0),!e){const u=zn(n,0,1);l.lineTo(o*u,a/2)}l.lineTo(o,a),l.close()}return Object.assign(Object.assign(Object.assign({},c),r),{tagName:"path",d:ls(l.serialize(),{x:i.offset!=null?i.offset:-o/2})})}var K$=globalThis&&globalThis.__rest||function(i,t){var e={};for(var n in i)Object.prototype.hasOwnProperty.call(i,n)&&t.indexOf(n)<0&&(e[n]=i[n]);if(i!=null&&typeof Object.getOwnPropertySymbols=="function")for(var r=0,n=Object.getOwnPropertySymbols(i);r<n.length;r++)t.indexOf(n[r])<0&&Object.prototype.propertyIsEnumerable.call(i,n[r])&&(e[n[r]]=i[n[r]]);return e};const J$=i=>{var{size:t,width:e,height:n,offset:r}=i,s=K$(i,["size","width","height","offset"]);const o=t||10,a=e||o,l=n||o,c=new Nt;return c.moveTo(0,l/2).lineTo(a/2,0).lineTo(a,l/2).lineTo(a/2,l).close(),Object.assign(Object.assign({},s),{tagName:"path",d:ls(c.serialize(),r==null?-a/2:r)})};var Z$=globalThis&&globalThis.__rest||function(i,t){var e={};for(var n in i)Object.prototype.hasOwnProperty.call(i,n)&&t.indexOf(n)<0&&(e[n]=i[n]);if(i!=null&&typeof Object.getOwnPropertySymbols=="function")for(var r=0,n=Object.getOwnPropertySymbols(i);r<n.length;r++)t.indexOf(n[r])<0&&Object.prototype.propertyIsEnumerable.call(i,n[r])&&(e[n[r]]=i[n[r]]);return e};const Q$=i=>{var{d:t,offsetX:e,offsetY:n}=i,r=Z$(i,["d","offsetX","offsetY"]);return Object.assign(Object.assign({},r),{tagName:"path",d:ls(t,e,n)})};var tF=globalThis&&globalThis.__rest||function(i,t){var e={};for(var n in i)Object.prototype.hasOwnProperty.call(i,n)&&t.indexOf(n)<0&&(e[n]=i[n]);if(i!=null&&typeof Object.getOwnPropertySymbols=="function")for(var r=0,n=Object.getOwnPropertySymbols(i);r<n.length;r++)t.indexOf(n[r])<0&&Object.prototype.propertyIsEnumerable.call(i,n[r])&&(e[n[r]]=i[n[r]]);return e};const eF=i=>{var{size:t,width:e,height:n,offset:r}=i,s=tF(i,["size","width","height","offset"]);const o=t||10,a=e||o,l=n||o,c=new Nt;return c.moveTo(0,0).lineTo(a,l).moveTo(0,l).lineTo(a,0),Object.assign(Object.assign({},s),{tagName:"path",fill:"none",d:ls(c.serialize(),r||-a/2)})};var nF=globalThis&&globalThis.__rest||function(i,t){var e={};for(var n in i)Object.prototype.hasOwnProperty.call(i,n)&&t.indexOf(n)<0&&(e[n]=i[n]);if(i!=null&&typeof Object.getOwnPropertySymbols=="function")for(var r=0,n=Object.getOwnPropertySymbols(i);r<n.length;r++)t.indexOf(n[r])<0&&Object.prototype.propertyIsEnumerable.call(i,n[r])&&(e[n[r]]=i[n[r]]);return e};const iF=i=>{var{width:t,height:e,offset:n,open:r,flip:s}=i,o=nF(i,["width","height","offset","open","flip"]);let a=e||6;const l=t||10,c=r===!0,u=s===!0,h=Object.assign(Object.assign({},o),{tagName:"path"});u&&(a=-a);const f=new Nt;return f.moveTo(0,a).lineTo(l,0),c?h.fill="none":(f.lineTo(l,a),f.close()),h.d=ls(f.serialize(),{x:n||-l/2,y:a/2}),h};var Wy=globalThis&&globalThis.__rest||function(i,t){var e={};for(var n in i)Object.prototype.hasOwnProperty.call(i,n)&&t.indexOf(n)<0&&(e[n]=i[n]);if(i!=null&&typeof Object.getOwnPropertySymbols=="function")for(var r=0,n=Object.getOwnPropertySymbols(i);r<n.length;r++)t.indexOf(n[r])<0&&Object.prototype.propertyIsEnumerable.call(i,n[r])&&(e[n[r]]=i[n[r]]);return e};const Xy=i=>{var{r:t}=i,e=Wy(i,["r"]);const n=t||5;return Object.assign(Object.assign({cx:n},e),{tagName:"circle",r:n})},rF=i=>{var{r:t}=i,e=Wy(i,["r"]);const n=t||5,r=new Nt;return r.moveTo(n,0).lineTo(n,n*2),r.moveTo(0,n).lineTo(n*2,n),{children:[Object.assign(Object.assign({},Xy({r:n})),{fill:"none"}),Object.assign(Object.assign({},e),{tagName:"path",d:ls(r.serialize(),-n)})]}};var sF=globalThis&&globalThis.__rest||function(i,t){var e={};for(var n in i)Object.prototype.hasOwnProperty.call(i,n)&&t.indexOf(n)<0&&(e[n]=i[n]);if(i!=null&&typeof Object.getOwnPropertySymbols=="function")for(var r=0,n=Object.getOwnPropertySymbols(i);r<n.length;r++)t.indexOf(n[r])<0&&Object.prototype.propertyIsEnumerable.call(i,n[r])&&(e[n[r]]=i[n[r]]);return e};const oF=i=>{var{rx:t,ry:e}=i,n=sF(i,["rx","ry"]);const r=t||5,s=e||5;return Object.assign(Object.assign({cx:r},n),{tagName:"ellipse",rx:r,ry:s})};var aF=Object.freeze(Object.defineProperty({__proto__:null,block:X$,classic:Y$,diamond:J$,path:Q$,cross:eF,async:iF,circle:Xy,circlePlus:rF,ellipse:oF},Symbol.toStringTag,{value:"Module"})),ts;(function(i){i.presets=aF,i.registry=Ke.create({type:"marker"}),i.registry.register(i.presets,!0)})(ts||(ts={}));(function(i){i.normalize=ls})(ts||(ts={}));var lF=globalThis&&globalThis.__rest||function(i,t){var e={};for(var n in i)Object.prototype.hasOwnProperty.call(i,n)&&t.indexOf(n)<0&&(e[n]=i[n]);if(i!=null&&typeof Object.getOwnPropertySymbols=="function")for(var r=0,n=Object.getOwnPropertySymbols(i);r<n.length;r++)t.indexOf(n[r])<0&&Object.prototype.propertyIsEnumerable.call(i,n[r])&&(e[n[r]]=i[n[r]]);return e};function pp(i){return typeof i=="string"||gi(i)}const cF={qualify:pp,set(i,{view:t,attrs:e}){return gp("marker-start",i,t,e)}},uF={qualify:pp,set(i,{view:t,attrs:e}){return gp("marker-end",i,t,e,{transform:"rotate(180)"})}},hF={qualify:pp,set(i,{view:t,attrs:e}){return gp("marker-mid",i,t,e)}};function gp(i,t,e,n,r={}){const s=typeof t=="string"?{name:t}:t,{name:o,args:a}=s,l=lF(s,["name","args"]);let c=l;if(o&&typeof o=="string"){const h=ts.registry.get(o);if(h)c=h(Object.assign(Object.assign({},l),a));else return ts.registry.onNotFound(o)}const u=Object.assign(Object.assign(Object.assign({},dF(n,i)),r),c);return{[i]:`url(#${e.graph.defineMarker(u)})`}}function dF(i,t){const e={},n=i.stroke;typeof n=="string"&&(e.stroke=n,e.fill=n);let r=i.strokeOpacity;if(r==null&&(r=i["stroke-opacity"]),r==null&&(r=i.opacity),r!=null&&(e["stroke-opacity"]=r,e["fill-opacity"]=r),t!=="marker-mid"){const s=parseFloat(i.strokeWidth||i["stroke-width"]);if(Number.isFinite(s)&&s>1){const o=Math.ceil(s/2);e.refX=t==="marker-start"?o:-o}}return e}const Rl=(i,{view:t})=>t.cell.isEdge(),fF={qualify:Rl,set(i,t){const e=t.view,n=i.stubs||0;let r;if(Number.isFinite(n)&&n!==0){let s;n<0?s=((e.getConnectionLength()||0)+n)/2:s=n;const o=e.getConnection();if(o){const a=o.divideAtLength(s),l=o.divideAtLength(-s);a&&l&&(r=`${a[0].serialize()} ${l[1].serialize()}`)}}return{d:r||e.getConnectionPathData()}}},Yy={qualify:Rl,set:qu("getTangentAtLength",{rotate:!0})},pF={qualify:Rl,set:qu("getTangentAtLength",{rotate:!1})},Ky={qualify:Rl,set:qu("getTangentAtRatio",{rotate:!0})},gF={qualify:Rl,set:qu("getTangentAtRatio",{rotate:!1})},mF=Yy,bF=Ky;function qu(i,t){const e={x:1,y:0};return(n,r)=>{let s,o;const a=r.view,l=a[i](Number(n));return l?(o=t.rotate?l.vector().vectorAngle(e):0,s=l.start):(s=a.path.start,o=0),o===0?{transform:`translate(${s.x},${s.y}')`}:{transform:`translate(${s.x},${s.y}') rotate(${o})`}}}var vF=Object.freeze(Object.defineProperty({__proto__:null,ref:p$,refX:Ny,refY:$y,refDx:g$,refDy:m$,refWidth:Fy,refHeight:Ly,refRx:b$,refRy:v$,refRInscribed:Iy,refRCircumscribed:y$,refCx:x$,refCy:C$,refDResetOffset:zy,refDKeepOffset:w$,refPointsResetOffset:jy,refPointsKeepOffset:S$,refR:E$,refD:A$,refPoints:M$,refX2:O$,refY2:T$,refWidth2:P$,refHeight2:k$,fill:_$,stroke:D$,text:Hy,textWrap:N$,lineHeight:$$,textVerticalAnchor:F$,textPath:L$,annotations:I$,eol:z$,displayEmpty:j$,title:B$,xAlign:R$,yAlign:V$,resetOffset:H$,style:G$,html:q$,filter:U$,port:W$,sourceMarker:cF,targetMarker:uF,vertexMarker:hF,connection:fF,atConnectionLengthKeepGradient:Yy,atConnectionLengthIgnoreGradient:pF,atConnectionRatioKeepGradient:Ky,atConnectionRatioIgnoreGradient:gF,atConnectionLength:mF,atConnectionRatio:bF},Symbol.toStringTag,{value:"Module"})),rr;(function(i){function t(e,n,r){return!!(e!=null&&(typeof e=="string"||typeof e.qualify!="function"||xt(e.qualify,this,n,r)))}i.isValidDefinition=t})(rr||(rr={}));(function(i){i.presets=Object.assign(Object.assign({},f$),vF),i.registry=Ke.create({type:"attribute definition"}),i.registry.register(i.presets,!0)})(rr||(rr={}));const yF={color:"#aaaaaa",thickness:1,markup:"rect",update(i,t){const e=t.thickness*t.sx,n=t.thickness*t.sy;be(i,{width:e,height:n,rx:e,ry:n,fill:t.color})}},xF={color:"#aaaaaa",thickness:1,markup:"rect",update(i,t){const e=t.sx<=1?t.thickness*t.sx:t.thickness;be(i,{width:e,height:e,rx:e,ry:e,fill:t.color})}},CF={color:"rgba(224,224,224,1)",thickness:1,markup:"path",update(i,t){let e;const n=t.width,r=t.height,s=t.thickness;n-s>=0&&r-s>=0?e=["M",n,0,"H0 M0 0 V0",r].join(" "):e="M 0 0 0 0",be(i,{d:e,stroke:t.color,"stroke-width":t.thickness})}},wF=[{color:"rgba(224,224,224,1)",thickness:1,markup:"path",update(i,t){let e;const n=t.width,r=t.height,s=t.thickness;n-s>=0&&r-s>=0?e=["M",n,0,"H0 M0 0 V0",r].join(" "):e="M 0 0 0 0",be(i,{d:e,stroke:t.color,"stroke-width":t.thickness})}},{color:"rgba(224,224,224,0.2)",thickness:3,factor:4,markup:"path",update(i,t){let e;const n=t.factor||1,r=t.width*n,s=t.height*n,o=t.thickness;r-o>=0&&s-o>=0?e=["M",r,0,"H0 M0 0 V0",s].join(" "):e="M 0 0 0 0",t.width=r,t.height=s,be(i,{d:e,stroke:t.color,"stroke-width":t.thickness})}}];var SF=Object.freeze(Object.defineProperty({__proto__:null,dot:yF,fixedDot:xF,mesh:CF,doubleMesh:wF},Symbol.toStringTag,{value:"Module"}));class Wr{constructor(){this.patterns={},this.root=St.create(Xc(),{width:"100%",height:"100%"},[Qn("defs")]).node}add(t,e){const n=this.root.childNodes[0];n&&n.appendChild(e),this.patterns[t]=e,St.create("rect",{width:"100%",height:"100%",fill:`url(#${t})`}).appendTo(this.root)}get(t){return this.patterns[t]}has(t){return this.patterns[t]!=null}}(function(i){i.presets=SF,i.registry=Ke.create({type:"grid"}),i.registry.register(i.presets,!0)})(Wr||(Wr={}));function mp(i,t){return i!=null?i:t}function yn(i,t){return i!=null&&Number.isFinite(i)?i:t}function EF(i={}){const t=mp(i.color,"blue"),e=yn(i.width,1),n=yn(i.margin,2),r=yn(i.opacity,1),s=n,o=n+e;return`
    <filter>
      <feFlood flood-color="${t}" flood-opacity="${r}" result="colored"/>
      <feMorphology in="SourceAlpha" result="morphedOuter" operator="dilate" radius="${o}" />
      <feMorphology in="SourceAlpha" result="morphedInner" operator="dilate" radius="${s}" />
      <feComposite result="morphedOuterColored" in="colored" in2="morphedOuter" operator="in"/>
      <feComposite operator="xor" in="morphedOuterColored" in2="morphedInner" result="outline"/>
      <feMerge>
        <feMergeNode in="outline"/>
        <feMergeNode in="SourceGraphic"/>
      </feMerge>
    </filter>
  `.trim()}function AF(i={}){const t=mp(i.color,"red"),e=yn(i.blur,0),n=yn(i.width,1),r=yn(i.opacity,1);return`
      <filter>
        <feFlood flood-color="${t}" flood-opacity="${r}" result="colored"/>
        <feMorphology result="morphed" in="SourceGraphic" operator="dilate" radius="${n}"/>
        <feComposite result="composed" in="colored" in2="morphed" operator="in"/>
        <feGaussianBlur result="blured" in="composed" stdDeviation="${e}"/>
        <feBlend in="SourceGraphic" in2="blured" mode="normal"/>
      </filter>
    `.trim()}function MF(i={}){const t=yn(i.x,2);return`
    <filter>
      <feGaussianBlur stdDeviation="${i.y!=null&&Number.isFinite(i.y)?[t,i.y]:t}"/>
    </filter>
  `.trim()}function OF(i={}){const t=yn(i.dx,0),e=yn(i.dy,0),n=mp(i.color,"black"),r=yn(i.blur,4),s=yn(i.opacity,1);return"SVGFEDropShadowElement"in window?`<filter>
         <feDropShadow stdDeviation="${r}" dx="${t}" dy="${e}" flood-color="${n}" flood-opacity="${s}" />
       </filter>`.trim():`<filter>
         <feGaussianBlur in="SourceAlpha" stdDeviation="${r}" />
         <feOffset dx="${t}" dy="${e}" result="offsetblur" />
         <feFlood flood-color="${n}" />
         <feComposite in2="offsetblur" operator="in" />
         <feComponentTransfer>
           <feFuncA type="linear" slope="${s}" />
         </feComponentTransfer>
         <feMerge>
           <feMergeNode/>
           <feMergeNode in="SourceGraphic"/>
         </feMerge>
       </filter>`.trim()}function TF(i={}){const t=yn(i.amount,1),e=.2126+.7874*(1-t),n=.7152-.7152*(1-t),r=.0722-.0722*(1-t),s=.2126-.2126*(1-t),o=.7152+.2848*(1-t),a=.0722-.0722*(1-t),l=.2126-.2126*(1-t),c=.0722+.9278*(1-t);return`
    <filter>
      <feColorMatrix type="matrix" values="${e} ${n} ${r} 0 0 ${s} ${o} ${a} 0 0 ${l} ${n} ${c} 0 0 0 0 0 1 0"/>
    </filter>
  `.trim()}function PF(i={}){const t=yn(i.amount,1),e=.393+.607*(1-t),n=.769-.769*(1-t),r=.189-.189*(1-t),s=.349-.349*(1-t),o=.686+.314*(1-t),a=.168-.168*(1-t),l=.272-.272*(1-t),c=.534-.534*(1-t),u=.131+.869*(1-t);return`
      <filter>
        <feColorMatrix type="matrix" values="${e} ${n} ${r} 0 0 ${s} ${o} ${a} 0 0 ${l} ${c} ${u} 0 0 0 0 0 1 0"/>
      </filter>
    `.trim()}function kF(i={}){const t=yn(i.amount,1);return`
      <filter>
        <feColorMatrix type="saturate" values="${1-t}"/>
      </filter>
    `.trim()}function _F(i={}){return`
      <filter>
        <feColorMatrix type="hueRotate" values="${yn(i.angle,0)}"/>
      </filter>
    `.trim()}function DF(i={}){const t=yn(i.amount,1),e=1-t;return`
      <filter>
        <feComponentTransfer>
          <feFuncR type="table" tableValues="${t} ${e}"/>
          <feFuncG type="table" tableValues="${t} ${e}"/>
          <feFuncB type="table" tableValues="${t} ${e}"/>
        </feComponentTransfer>
      </filter>
    `.trim()}function NF(i={}){const t=yn(i.amount,1);return`
    <filter>
      <feComponentTransfer>
        <feFuncR type="linear" slope="${t}"/>
        <feFuncG type="linear" slope="${t}"/>
        <feFuncB type="linear" slope="${t}"/>
      </feComponentTransfer>
    </filter>
  `.trim()}function $F(i={}){const t=yn(i.amount,1),e=.5-t/2;return`
    <filter>
     <feComponentTransfer>
        <feFuncR type="linear" slope="${t}" intercept="${e}"/>
        <feFuncG type="linear" slope="${t}" intercept="${e}"/>
        <feFuncB type="linear" slope="${t}" intercept="${e}"/>
      </feComponentTransfer>
    </filter>
  `.trim()}var FF=Object.freeze(Object.defineProperty({__proto__:null,outline:EF,highlight:AF,blur:MF,dropShadow:OF,grayScale:TF,sepia:PF,saturate:kF,hueRotate:_F,invert:DF,brightness:NF,contrast:$F},Symbol.toStringTag,{value:"Module"})),Qo;(function(i){i.presets=FF,i.registry=Ke.create({type:"filter"}),i.registry.register(i.presets,!0)})(Qo||(Qo={}));const Jy=function(i){const t=document.createElement("canvas"),e=i.width,n=i.height;t.width=e*2,t.height=n;const r=t.getContext("2d");return r.drawImage(i,0,0,e,n),r.translate(2*e,0),r.scale(-1,1),r.drawImage(i,0,0,e,n),t},Zy=function(i){const t=document.createElement("canvas"),e=i.width,n=i.height;t.width=e,t.height=n*2;const r=t.getContext("2d");return r.drawImage(i,0,0,e,n),r.translate(0,2*n),r.scale(1,-1),r.drawImage(i,0,0,e,n),t},Qy=function(i){const t=document.createElement("canvas"),e=i.width,n=i.height;t.width=2*e,t.height=2*n;const r=t.getContext("2d");return r.drawImage(i,0,0,e,n),r.setTransform(-1,0,0,-1,t.width,t.height),r.drawImage(i,0,0,e,n),r.setTransform(-1,0,0,1,t.width,0),r.drawImage(i,0,0,e,n),r.setTransform(1,0,0,-1,0,t.height),r.drawImage(i,0,0,e,n),t},LF=function(i,t){const e=i.width,n=i.height,r=document.createElement("canvas");r.width=e*3,r.height=n*3;const s=r.getContext("2d"),o=t.angle!=null?-t.angle:-20,a=re.toRad(o),l=r.width/4,c=r.height/4;for(let u=0;u<4;u+=1)for(let h=0;h<4;h+=1)(u+h)%2>0&&(s.setTransform(1,0,0,1,(2*u-1)*l,(2*h-1)*c),s.rotate(a),s.drawImage(i,-e/2,-n/2,e,n));return r};var IF=Object.freeze(Object.defineProperty({__proto__:null,flipX:Jy,flipY:Zy,flipXY:Qy,watermark:LF},Symbol.toStringTag,{value:"Module"})),xl;(function(i){i.presets=Object.assign({},IF),i.presets["flip-x"]=Jy,i.presets["flip-y"]=Zy,i.presets["flip-xy"]=Qy,i.registry=Ke.create({type:"background pattern"}),i.registry.register(i.presets,!0)})(xl||(xl={}));const sr={prefixCls:"x6",autoInsertCSS:!0,useCSSSelector:!0,trackable:!1,trackInfo:{},track(i){sr.trackable=i}};var tn;(function(i){i.snapToGrid=Vd,i.normalizeMarker=ls;function t(e){return`${sr.prefixCls}-${e}`}i.prefix=t})(tn||(tn={}));(function(i){function t(e,n,r,s=[]){const o=typeof n.children=="function"?n.children(e):e[n.children||"children"];return r||(r=n.createNode(e),s.push(r)),Array.isArray(o)&&o.forEach(a=>{const l=n.createNode(a),c=n.createEdge(r,l);s.push(l,c),this.makeTree(a,n,l,s)}),s}i.makeTree=t})(tn||(tn={}));const zF="1.32.3",D2=tn.prefix("highlighted"),jF={highlight(i,t,e){const n=e&&e.className||D2;me(t,n)},unhighlight(i,t,e){const n=e&&e.className||D2;Ci(t,n)}},N2=tn.prefix("highlight-opacity"),BF={highlight(i,t){me(t,N2)},unhighlight(i,t){Ci(t,N2)}},RF={padding:3,rx:0,ry:0,attrs:{"stroke-width":3,stroke:"#FEB663"}},VF={highlight(i,t,e){const n=Vr.getHighlighterId(t,e);if(Vr.hasCache(n))return;e=cv({},e,RF);const r=St.create(t);let s,o;try{s=r.toPathData()}catch{o=r.bbox(!0),s=Ay(Object.assign(Object.assign({},e),o))}const a=Qn("path");if(be(a,Object.assign({d:s,"pointer-events":"none","vector-effect":"non-scaling-stroke",fill:"none"},e.attrs?vl(e.attrs):null)),i.isEdgeElement(t))be(a,"d",i.getConnectionPathData());else{let u=r.getTransformToElement(i.container);const h=e.padding;if(h){o==null&&(o=r.bbox(!0));const f=o.x+o.width/2,p=o.y+o.height/2;o=ci(o,u);const b=Math.max(o.width,1),v=Math.max(o.height,1),C=(b+h)/b,x=(v+h)/v,S=wn({a:C,b:0,c:0,d:x,e:f-C*f,f:p-x*p});u=u.multiply(S)}Zo(a,u)}me(a,tn.prefix("highlight-stroke"));const l=i.cell,c=()=>Vr.removeHighlighter(n);l.on("removed",c),l.model&&l.model.on("reseted",c),i.container.appendChild(a),Vr.setCache(n,a)},unhighlight(i,t,e){Vr.removeHighlighter(Vr.getHighlighterId(t,e))}};var Vr;(function(i){function t(o,a){return Ru(o),o.id+JSON.stringify(a)}i.getHighlighterId=t;const e={};function n(o,a){e[o]=a}i.setCache=n;function r(o){return e[o]!=null}i.hasCache=r;function s(o){const a=e[o];a&&(ir(a),delete e[o])}i.removeHighlighter=s})(Vr||(Vr={}));var HF=Object.freeze(Object.defineProperty({__proto__:null,className:jF,opacity:BF,stroke:VF},Symbol.toStringTag,{value:"Module"})),vr;(function(i){function t(e,n){if(typeof n.highlight!="function")throw new Error(`Highlighter '${e}' is missing required \`highlight()\` method`);if(typeof n.unhighlight!="function")throw new Error(`Highlighter '${e}' is missing required \`unhighlight()\` method`)}i.check=t})(vr||(vr={}));(function(i){i.presets=HF,i.registry=Ke.create({type:"highlighter"}),i.registry.register(i.presets,!0)})(vr||(vr={}));function Xd(i,t={}){return new N(nr(t.x,i.width),nr(t.y,i.height))}function bp(i,t,e){return Object.assign({angle:t,position:i.toJSON()},e)}const GF=(i,t)=>i.map(({x:e,y:n,angle:r})=>bp(Xd(t,{x:e,y:n}),r||0)),qF=(i,t,e)=>{const n=e.start||0,r=e.step||20;return t1(i,t,n,(s,o)=>(s+.5-o/2)*r)},UF=(i,t,e)=>{const n=e.start||0,r=e.step||360/i.length;return t1(i,t,n,s=>s*r)};function t1(i,t,e,n){const r=t.getCenter(),s=t.getTopCenter(),o=t.width/t.height,a=Ei.fromRect(t),l=i.length;return i.map((c,u)=>{const h=e+n(u,l),f=s.clone().rotate(-h,r).scale(o,1,r),p=c.compensateRotate?-a.tangentTheta(f):0;return(c.dx||c.dy)&&f.translate(c.dx||0,c.dy||0),c.dr&&f.move(r,c.dr),bp(f.round(),p,c)})}var WF=globalThis&&globalThis.__rest||function(i,t){var e={};for(var n in i)Object.prototype.hasOwnProperty.call(i,n)&&t.indexOf(n)<0&&(e[n]=i[n]);if(i!=null&&typeof Object.getOwnPropertySymbols=="function")for(var r=0,n=Object.getOwnPropertySymbols(i);r<n.length;r++)t.indexOf(n[r])<0&&Object.prototype.propertyIsEnumerable.call(i,n[r])&&(e[n[r]]=i[n[r]]);return e};const XF=(i,t,e)=>{const n=Xd(t,e.start||t.getOrigin()),r=Xd(t,e.end||t.getCorner());return Vl(i,n,r,e)},YF=(i,t,e)=>Vl(i,t.getTopLeft(),t.getBottomLeft(),e),KF=(i,t,e)=>Vl(i,t.getTopRight(),t.getBottomRight(),e),JF=(i,t,e)=>Vl(i,t.getTopLeft(),t.getTopRight(),e),ZF=(i,t,e)=>Vl(i,t.getBottomLeft(),t.getBottomRight(),e);function Vl(i,t,e,n){const r=new At(t,e),s=i.length;return i.map((o,a)=>{var{strict:l}=o,c=WF(o,["strict"]);const u=l||n.strict?(a+1)/(s+1):(a+.5)/s,h=r.pointAt(u);return(c.dx||c.dy)&&h.translate(c.dx||0,c.dy||0),bp(h.round(),0,c)})}var QF=Object.freeze(Object.defineProperty({__proto__:null,absolute:GF,ellipse:qF,ellipseSpread:UF,line:XF,left:YF,right:KF,top:JF,bottom:ZF},Symbol.toStringTag,{value:"Module"})),Rs;(function(i){i.presets=QF,i.registry=Ke.create({type:"port layout"}),i.registry.register(i.presets,!0)})(Rs||(Rs={}));const tL={position:{x:0,y:0},angle:0,attrs:{".":{y:"0","text-anchor":"start"}}};function cs(i,t){const{x:e,y:n,angle:r,attrs:s}=t||{};return cv({},{angle:r,attrs:s,position:{x:e,y:n}},i,tL)}const eL=(i,t,e)=>cs({position:t.getTopLeft()},e),nL=(i,t,e)=>cs({position:{x:-15,y:0},attrs:{".":{y:".3em","text-anchor":"end"}}},e),iL=(i,t,e)=>cs({position:{x:15,y:0},attrs:{".":{y:".3em","text-anchor":"start"}}},e),rL=(i,t,e)=>cs({position:{x:0,y:-15},attrs:{".":{"text-anchor":"middle"}}},e),sL=(i,t,e)=>cs({position:{x:0,y:15},attrs:{".":{y:".6em","text-anchor":"middle"}}},e),oL=(i,t,e)=>e1(i,t,!1,e),aL=(i,t,e)=>e1(i,t,!0,e),lL=(i,t,e)=>n1(i,t,!1,e),cL=(i,t,e)=>n1(i,t,!0,e);function e1(i,t,e,n){const r=n.offset!=null?n.offset:15,s=t.getCenter().theta(i),o=i1(t);let a,l,c,u,h=0;return s<o[1]||s>o[2]?(a=".3em",l=r,c=0,u="start"):s<o[0]?(a="0",l=0,c=-r,e?(h=-90,u="start"):u="middle"):s<o[3]?(a=".3em",l=-r,c=0,u="end"):(a=".6em",l=0,c=r,e?(h=90,u="start"):u="middle"),cs({position:{x:Math.round(l),y:Math.round(c)},angle:h,attrs:{".":{y:a,"text-anchor":u}}},n)}function n1(i,t,e,n){const r=n.offset!=null?n.offset:15,s=t.getCenter().theta(i),o=i1(t);let a,l,c,u,h=0;return s<o[1]||s>o[2]?(a=".3em",l=-r,c=0,u="end"):s<o[0]?(a=".6em",l=0,c=r,e?(h=90,u="start"):u="middle"):s<o[3]?(a=".3em",l=r,c=0,u="start"):(a="0em",l=0,c=-r,e?(h=-90,u="start"):u="middle"),cs({position:{x:Math.round(l),y:Math.round(c)},angle:h,attrs:{".":{y:a,"text-anchor":u}}},n)}function i1(i){const t=i.getCenter(),e=t.theta(i.getTopLeft()),n=t.theta(i.getBottomLeft()),r=t.theta(i.getBottomRight()),s=t.theta(i.getTopRight());return[e,s,r,n]}const uL=(i,t,e)=>r1(i.diff(t.getCenter()),!1,e),hL=(i,t,e)=>r1(i.diff(t.getCenter()),!0,e);function r1(i,t,e){const n=e.offset!=null?e.offset:20,r=new N(0,0),s=-i.theta(r),o=i.clone().move(r,n).diff(i).round();let a=".3em",l,c=s;return(s+90)%180===0?(l=t?"end":"middle",!t&&s===-270&&(a="0em")):s>-270&&s<-90?(l="start",c=s-180):l="end",cs({position:o.round().toJSON(),angle:t?c:0,attrs:{".":{y:a,"text-anchor":l}}},e)}var dL=Object.freeze(Object.defineProperty({__proto__:null,manual:eL,left:nL,right:iL,top:rL,bottom:sL,outside:oL,outsideOriented:aL,inside:lL,insideOriented:cL,radial:uL,radialOriented:hL},Symbol.toStringTag,{value:"Module"})),ta;(function(i){i.presets=dL,i.registry=Ke.create({type:"port label layout"}),i.registry.register(i.presets,!0)})(ta||(ta={}));class mr{constructor(t,e,n,r){if(t==null)return this.set(255,255,255,1);if(typeof t=="number")return this.set(t,e,n,r);if(typeof t=="string")return mr.fromString(t)||this;if(Array.isArray(t))return this.set(t);this.set(t.r,t.g,t.b,t.a==null?1:t.a)}blend(t,e,n){this.set(t.r+(e.r-t.r)*n,t.g+(e.g-t.g)*n,t.b+(e.b-t.b)*n,t.a+(e.a-t.a)*n)}lighten(t){const e=mr.lighten(this.toArray(),t);this.r=e[0],this.g=e[1],this.b=e[2],this.a=e[3]}darken(t){this.lighten(-t)}set(t,e,n,r){const s=Array.isArray(t)?t[0]:t,o=Array.isArray(t)?t[1]:e,a=Array.isArray(t)?t[2]:n,l=Array.isArray(t)?t[3]:r;return this.r=Math.round(zn(s,0,255)),this.g=Math.round(zn(o,0,255)),this.b=Math.round(zn(a,0,255)),this.a=l==null?1:zn(l,0,1),this}toHex(){return`#${["r","g","b"].map(e=>{const n=this[e].toString(16);return n.length<2?`0${n}`:n}).join("")}`}toRGBA(){return this.toArray()}toHSLA(){return mr.rgba2hsla(this.r,this.g,this.b,this.a)}toCSS(t){const e=`${this.r},${this.g},${this.b},`;return t?`rgb(${e})`:`rgba(${e},${this.a})`}toGrey(){return mr.makeGrey(Math.round((this.r+this.g+this.b)/3),this.a)}toArray(){return[this.r,this.g,this.b,this.a]}toString(){return this.toCSS()}}(function(i){function t(E){return new i(E)}i.fromArray=t;function e(E){return new i([...b(E),1])}i.fromHex=e;function n(E){const O=E.toLowerCase().match(/^rgba?\(([\s.,0-9]+)\)/);if(O){const k=O[1].split(/\s*,\s*/).map(m=>parseInt(m,10));return new i(k)}return null}i.fromRGBA=n;function r(E,O,k){k<0&&++k,k>1&&--k;const m=6*k;return m<1?E+(O-E)*m:2*k<1?O:3*k<2?E+(O-E)*(2/3-k)*6:E}function s(E){const O=E.toLowerCase().match(/^hsla?\(([\s.,0-9]+)\)/);if(O){const k=O[2].split(/\s*,\s*/),m=(parseFloat(k[0])%360+360)%360/360,T=parseFloat(k[1])/100,D=parseFloat(k[2])/100,z=k[3]==null?1:parseInt(k[3],10);return new i(c(m,T,D,z))}return null}i.fromHSLA=s;function o(E){if(E.startsWith("#"))return e(E);if(E.startsWith("rgb"))return n(E);const O=i.named[E];return O?e(O):s(E)}i.fromString=o;function a(E,O){return i.fromArray([E,E,E,O])}i.makeGrey=a;function l(E,O,k,m){const T=Array.isArray(E)?E[0]:E,D=Array.isArray(E)?E[1]:O,z=Array.isArray(E)?E[2]:k,H=Array.isArray(E)?E[3]:m,q=Math.max(T,D,z),R=Math.min(T,D,z),rt=(q+R)/2;let st=0,j=0;if(R!==q){const B=q-R;switch(j=rt>.5?B/(2-q-R):B/(q+R),q){case T:st=(D-z)/B+(D<z?6:0);break;case D:st=(z-T)/B+2;break;case z:st=(T-D)/B+4;break}st/=6}return[st,j,rt,H==null?1:H]}i.rgba2hsla=l;function c(E,O,k,m){const T=Array.isArray(E)?E[0]:E,D=Array.isArray(E)?E[1]:O,z=Array.isArray(E)?E[2]:k,H=Array.isArray(E)?E[3]:m,q=z<=.5?z*(D+1):z+D-z*D,R=2*z-q;return[r(R,q,T+1/3)*256,r(R,q,T)*256,r(R,q,T-1/3)*256,H==null?1:H]}i.hsla2rgba=c;function u(E){return new i(Math.round(Math.random()*256),Math.round(Math.random()*256),Math.round(Math.random()*256),E?void 0:parseFloat(Math.random().toFixed(2)))}i.random=u;function h(){const E="0123456789ABCDEF";let O="#";for(let k=0;k<6;k+=1)O+=E[Math.floor(Math.random()*16)];return O}i.randomHex=h;function f(E){return u(E).toString()}i.randomRGBA=f;function p(E,O){if(typeof E=="string"){const z=E[0]==="#",[H,q,R]=b(E);return O?H*.299+q*.587+R*.114>186?"#000000":"#ffffff":`${z?"#":""}${v(255-H,255-q,255-R)}`}const k=E[0],m=E[1],T=E[2],D=E[3];return O?k*.299+m*.587+T*.114>186?[0,0,0,D]:[255,255,255,D]:[255-k,255-m,255-T,D]}i.invert=p;function b(E){const O=E.indexOf("#")===0?E:`#${E}`;let k=Number(`0x${O.substr(1)}`);if(!(O.length===4||O.length===7)||Number.isNaN(k))throw new Error("Invalid hex color.");const m=O.length===4?4:8,T=(1<<m)-1,D=["b","g","r"].map(()=>{const z=k&T;return k>>=m,m===4?17*z:z});return[D[2],D[1],D[0]]}function v(E,O,k){const m=T=>T.length<2?`0${T}`:T;return`${m(E.toString(16))}${m(O.toString(16))}${m(k.toString(16))}`}function C(E,O){return S(E,O)}i.lighten=C;function x(E,O){return S(E,-O)}i.darken=x;function S(E,O){if(typeof E=="string"){const T=E[0]==="#",D=parseInt(T?E.substr(1):E,16),z=zn((D>>16)+O,0,255),H=zn((D>>8&255)+O,0,255),q=zn((D&255)+O,0,255);return`${T?"#":""}${(q|H<<8|z<<16).toString(16)}`}const k=v(E[0],E[1],E[2]),m=b(S(k,O));return[m[0],m[1],m[2],E[3]]}})(mr||(mr={}));(function(i){i.named={aliceblue:"#f0f8ff",antiquewhite:"#faebd7",aqua:"#00ffff",aquamarine:"#7fffd4",azure:"#f0ffff",beige:"#f5f5dc",bisque:"#ffe4c4",black:"#000000",blanchedalmond:"#ffebcd",blue:"#0000ff",blueviolet:"#8a2be2",brown:"#a52a2a",burlywood:"#deb887",burntsienna:"#ea7e5d",cadetblue:"#5f9ea0",chartreuse:"#7fff00",chocolate:"#d2691e",coral:"#ff7f50",cornflowerblue:"#6495ed",cornsilk:"#fff8dc",crimson:"#dc143c",cyan:"#00ffff",darkblue:"#00008b",darkcyan:"#008b8b",darkgoldenrod:"#b8860b",darkgray:"#a9a9a9",darkgreen:"#006400",darkgrey:"#a9a9a9",darkkhaki:"#bdb76b",darkmagenta:"#8b008b",darkolivegreen:"#556b2f",darkorange:"#ff8c00",darkorchid:"#9932cc",darkred:"#8b0000",darksalmon:"#e9967a",darkseagreen:"#8fbc8f",darkslateblue:"#483d8b",darkslategray:"#2f4f4f",darkslategrey:"#2f4f4f",darkturquoise:"#00ced1",darkviolet:"#9400d3",deeppink:"#ff1493",deepskyblue:"#00bfff",dimgray:"#696969",dimgrey:"#696969",dodgerblue:"#1e90ff",firebrick:"#b22222",floralwhite:"#fffaf0",forestgreen:"#228b22",fuchsia:"#ff00ff",gainsboro:"#dcdcdc",ghostwhite:"#f8f8ff",gold:"#ffd700",goldenrod:"#daa520",gray:"#808080",green:"#008000",greenyellow:"#adff2f",grey:"#808080",honeydew:"#f0fff0",hotpink:"#ff69b4",indianred:"#cd5c5c",indigo:"#4b0082",ivory:"#fffff0",khaki:"#f0e68c",lavender:"#e6e6fa",lavenderblush:"#fff0f5",lawngreen:"#7cfc00",lemonchiffon:"#fffacd",lightblue:"#add8e6",lightcoral:"#f08080",lightcyan:"#e0ffff",lightgoldenrodyellow:"#fafad2",lightgray:"#d3d3d3",lightgreen:"#90ee90",lightgrey:"#d3d3d3",lightpink:"#ffb6c1",lightsalmon:"#ffa07a",lightseagreen:"#20b2aa",lightskyblue:"#87cefa",lightslategray:"#778899",lightslategrey:"#778899",lightsteelblue:"#b0c4de",lightyellow:"#ffffe0",lime:"#00ff00",limegreen:"#32cd32",linen:"#faf0e6",magenta:"#ff00ff",maroon:"#800000",mediumaquamarine:"#66cdaa",mediumblue:"#0000cd",mediumorchid:"#ba55d3",mediumpurple:"#9370db",mediumseagreen:"#3cb371",mediumslateblue:"#7b68ee",mediumspringgreen:"#00fa9a",mediumturquoise:"#48d1cc",mediumvioletred:"#c71585",midnightblue:"#191970",mintcream:"#f5fffa",mistyrose:"#ffe4e1",moccasin:"#ffe4b5",navajowhite:"#ffdead",navy:"#000080",oldlace:"#fdf5e6",olive:"#808000",olivedrab:"#6b8e23",orange:"#ffa500",orangered:"#ff4500",orchid:"#da70d6",palegoldenrod:"#eee8aa",palegreen:"#98fb98",paleturquoise:"#afeeee",palevioletred:"#db7093",papayawhip:"#ffefd5",peachpuff:"#ffdab9",peru:"#cd853f",pink:"#ffc0cb",plum:"#dda0dd",powderblue:"#b0e0e6",purple:"#800080",rebeccapurple:"#663399",red:"#ff0000",rosybrown:"#bc8f8f",royalblue:"#4169e1",saddlebrown:"#8b4513",salmon:"#fa8072",sandybrown:"#f4a460",seagreen:"#2e8b57",seashell:"#fff5ee",sienna:"#a0522d",silver:"#c0c0c0",skyblue:"#87ceeb",slateblue:"#6a5acd",slategray:"#708090",slategrey:"#708090",snow:"#fffafa",springgreen:"#00ff7f",steelblue:"#4682b4",tan:"#d2b48c",teal:"#008080",thistle:"#d8bfd8",tomato:"#ff6347",turquoise:"#40e0d0",violet:"#ee82ee",wheat:"#f5deb3",white:"#ffffff",whitesmoke:"#f5f5f5",yellow:"#ffff00",yellowgreen:"#9acd32"}})(mr||(mr={}));class fL{constructor(){this.listeners={}}on(t,e,n){return e==null?this:(this.listeners[t]||(this.listeners[t]=[]),this.listeners[t].push(e,n),this)}once(t,e,n){const r=(...s)=>(this.off(t,r),Ya.call([e,n],s));return this.on(t,r,this)}off(t,e,n){if(!(t||e||n))return this.listeners={},this;const r=this.listeners;return(t?[t]:Object.keys(r)).forEach(o=>{const a=r[o];if(!!a){if(!(e||n)){delete r[o];return}for(let l=a.length-2;l>=0;l-=2)e&&a[l]!==e||n&&a[l+1]!==n||a.splice(l,2)}}),this}trigger(t,...e){let n=!0;if(t!=="*"){const s=this.listeners[t];s!=null&&(n=Ya.call([...s],e))}const r=this.listeners["*"];return r!=null?sp([n,Ya.call([...r],[t,...e])]):n}emit(t,...e){return this.trigger(t,...e)}}var Ya;(function(i){function t(e,n){const r=[];for(let s=0;s<e.length;s+=2){const o=e[s],a=e[s+1],l=Array.isArray(n)?n:[n],c=hy(o,a,l);r.push(c)}return sp(r)}i.call=t})(Ya||(Ya={}));class Vi{get disposed(){return this._disposed===!0}dispose(){this._disposed=!0}}(function(i){function t(){return(e,n,r)=>{const s=r.value,o=e.__proto__;r.value=function(){this.disposed||(s.call(this),o.dispose.call(this))}}}i.dispose=t})(Vi||(Vi={}));class $2{constructor(){this.isDisposed=!1,this.items=new Set}get disposed(){return this.isDisposed}dispose(){this.isDisposed||(this.isDisposed=!0,this.items.forEach(t=>{t.dispose()}),this.items.clear())}contains(t){return this.items.has(t)}add(t){this.items.add(t)}remove(t){this.items.delete(t)}clear(){this.items.clear()}}(function(i){function t(e){const n=new i;return e.forEach(r=>{n.add(r)}),n}i.from=t})($2||($2={}));class Pn extends fL{}(function(i){i.dispose=Vi.dispose})(Pn||(Pn={}));ay(Pn,Vi);class s1 extends Pn{get disabled(){return this._disabled===!0}enable(){delete this._disabled}disable(){this._disabled=!0}}var pL=globalThis&&globalThis.__decorate||function(i,t,e,n){var r=arguments.length,s=r<3?t:n===null?n=Object.getOwnPropertyDescriptor(t,e):n,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")s=Reflect.decorate(i,t,e,n);else for(var a=i.length-1;a>=0;a--)(o=i[a])&&(s=(r<3?o(s):r>3?o(t,e,s):o(t,e))||s);return r>3&&s&&Object.defineProperty(t,e,s),s};class Qc extends Vi{constructor(){super(),this.clear()}clear(){this.map=new WeakMap,this.arr=[]}has(t){return this.map.has(t)}get(t){return this.map.get(t)}set(t,e){this.map.set(t,e),this.arr.push(t)}delete(t){const e=this.arr.indexOf(t);e>=0&&this.arr.splice(e,1);const n=this.map.get(t);return this.map.delete(t),n}each(t){this.arr.forEach(e=>{const n=this.map.get(e);t(n,e)})}dispose(){this.clear()}}pL([Vi.dispose()],Qc.prototype,"dispose",null);class Cl{constructor(t={}){this.comparator=t.comparator||Cl.defaultComparator,this.index={},this.data=t.data||[],this.heapify()}isEmpty(){return this.data.length===0}insert(t,e,n){const r={priority:t,value:e},s=this.data.length-1;return n&&(r.id=n,this.index[n]=s),this.data.push(r),this.bubbleUp(s),this}peek(){return this.data[0]?this.data[0].value:null}peekPriority(){return this.data[0]?this.data[0].priority:null}updatePriority(t,e){const n=this.index[t];if(typeof n=="undefined")throw new Error(`Node with id '${t}' was not found in the heap.`);const r=this.data,s=r[n].priority,o=this.comparator(e,s);o<0?(r[n].priority=e,this.bubbleUp(n)):o>0&&(r[n].priority=e,this.bubbleDown(n))}remove(){const t=this.data,e=t[0],n=t.pop();return delete this.index[t.length],t.length>0&&(t[0]=n,n.id&&(this.index[n.id]=0),this.bubbleDown(0)),e?e.value:null}heapify(){for(let t=0;t<this.data.length;t+=1)this.bubbleUp(t)}bubbleUp(t){const e=this.data;let n,r,s=t;for(;s>0&&(r=s-1>>>1,this.comparator(e[s].priority,e[r].priority)<0);){n=e[r],e[r]=e[s];let o=e[s].id;o!=null&&(this.index[o]=r),e[s]=n,o=e[s].id,o!=null&&(this.index[o]=s),s=r}}bubbleDown(t){const e=this.data,n=e.length-1;let r=t;for(;;){const s=(r<<1)+1,o=s+1;let a=r;if(s<=n&&this.comparator(e[s].priority,e[a].priority)<0&&(a=s),o<=n&&this.comparator(e[o].priority,e[a].priority)<0&&(a=o),a!==r){const l=e[a];e[a]=e[r];let c=e[r].id;c!=null&&(this.index[c]=a),e[r]=l,c=e[r].id,c!=null&&(this.index[c]=r),r=a}else break}}}(function(i){i.defaultComparator=(t,e)=>t-e})(Cl||(Cl={}));var Yd;(function(i){function t(e,n,r=(s,o)=>1){const s={},o={},a={},l=new Cl;for(s[n]=0,Object.keys(e).forEach(c=>{c!==n&&(s[c]=1/0),l.insert(s[c],c,c)});!l.isEmpty();){const c=l.remove();a[c]=!0;const u=e[c]||[];for(let h=0;h<u.length;h+=1){const f=u[h];if(!a[f]){const p=s[c]+r(c,f);p<s[f]&&(s[f]=p,o[f]=c,l.updatePriority(f,p))}}}return o}i.run=t})(Yd||(Yd={}));var qs;(function(i){i.linear=t=>t,i.quad=t=>t*t,i.cubic=t=>t*t*t,i.inout=t=>{if(t<=0)return 0;if(t>=1)return 1;const e=t*t,n=e*t;return 4*(t<.5?n:3*(t-e)+n-.75)},i.exponential=t=>Math.pow(2,10*(t-1)),i.bounce=t=>{for(let e=0,n=1;;e+=n,n/=2)if(t>=(7-4*e)/11){const r=(11-6*e-11*t)/4;return-r*r+n*n}}})(qs||(qs={}));(function(i){i.decorators={reverse(t){return e=>1-t(1-e)},reflect(t){return e=>.5*(e<.5?t(2*e):2-t(2-2*e))},clamp(t,e=0,n=1){return r=>{const s=t(r);return s<e?e:s>n?n:s}},back(t=1.70158){return e=>e*e*((t+1)*e-t)},elastic(t=1.5){return e=>Math.pow(2,10*(e-1))*Math.cos(20*Math.PI*t/3*e)}}})(qs||(qs={}));(function(i){function t(j){return-1*Math.cos(j*(Math.PI/2))+1}i.easeInSine=t;function e(j){return Math.sin(j*(Math.PI/2))}i.easeOutSine=e;function n(j){return-.5*(Math.cos(Math.PI*j)-1)}i.easeInOutSine=n;function r(j){return j*j}i.easeInQuad=r;function s(j){return j*(2-j)}i.easeOutQuad=s;function o(j){return j<.5?2*j*j:-1+(4-2*j)*j}i.easeInOutQuad=o;function a(j){return j*j*j}i.easeInCubic=a;function l(j){const B=j-1;return B*B*B+1}i.easeOutCubic=l;function c(j){return j<.5?4*j*j*j:(j-1)*(2*j-2)*(2*j-2)+1}i.easeInOutCubic=c;function u(j){return j*j*j*j}i.easeInQuart=u;function h(j){const B=j-1;return 1-B*B*B*B}i.easeOutQuart=h;function f(j){const B=j-1;return j<.5?8*j*j*j*j:1-8*B*B*B*B}i.easeInOutQuart=f;function p(j){return j*j*j*j*j}i.easeInQuint=p;function b(j){const B=j-1;return 1+B*B*B*B*B}i.easeOutQuint=b;function v(j){const B=j-1;return j<.5?16*j*j*j*j*j:1+16*B*B*B*B*B}i.easeInOutQuint=v;function C(j){return j===0?0:Math.pow(2,10*(j-1))}i.easeInExpo=C;function x(j){return j===1?1:-Math.pow(2,-10*j)+1}i.easeOutExpo=x;function S(j){if(j===0||j===1)return j;const B=j*2,tt=B-1;return B<1?.5*Math.pow(2,10*tt):.5*(-Math.pow(2,-10*tt)+2)}i.easeInOutExpo=S;function E(j){const B=j/1;return-1*(Math.sqrt(1-B*j)-1)}i.easeInCirc=E;function O(j){const B=j-1;return Math.sqrt(1-B*B)}i.easeOutCirc=O;function k(j){const B=j*2,tt=B-2;return B<1?-.5*(Math.sqrt(1-B*B)-1):.5*(Math.sqrt(1-tt*tt)+1)}i.easeInOutCirc=k;function m(j,B=1.70158){return j*j*((B+1)*j-B)}i.easeInBack=m;function T(j,B=1.70158){const tt=j/1-1;return tt*tt*((B+1)*tt+B)+1}i.easeOutBack=T;function D(j,B=1.70158){const tt=j*2,bt=tt-2,Ot=B*1.525;return tt<1?.5*tt*tt*((Ot+1)*tt-Ot):.5*(bt*bt*((Ot+1)*bt+Ot)+2)}i.easeInOutBack=D;function z(j,B=.7){if(j===0||j===1)return j;const bt=j/1-1,Ot=1-B,Gt=Ot/(2*Math.PI)*Math.asin(1);return-(Math.pow(2,10*bt)*Math.sin((bt-Gt)*(2*Math.PI)/Ot))}i.easeInElastic=z;function H(j,B=.7){const tt=1-B,bt=j*2;if(j===0||j===1)return j;const Ot=tt/(2*Math.PI)*Math.asin(1);return Math.pow(2,-10*bt)*Math.sin((bt-Ot)*(2*Math.PI)/tt)+1}i.easeOutElastic=H;function q(j,B=.65){const tt=1-B;if(j===0||j===1)return j;const bt=j*2,Ot=bt-1,Gt=tt/(2*Math.PI)*Math.asin(1);return bt<1?-.5*(Math.pow(2,10*Ot)*Math.sin((Ot-Gt)*(2*Math.PI)/tt)):Math.pow(2,-10*Ot)*Math.sin((Ot-Gt)*(2*Math.PI)/tt)*.5+1}i.easeInOutElastic=q;function R(j){const B=j/1;if(B<1/2.75)return 7.5625*B*B;if(B<2/2.75){const tt=B-.5454545454545454;return 7.5625*tt*tt+.75}if(B<2.5/2.75){const tt=B-.8181818181818182;return 7.5625*tt*tt+.9375}{const tt=B-.9545454545454546;return 7.5625*tt*tt+.984375}}i.easeOutBounce=R;function rt(j){return 1-R(1-j)}i.easeInBounce=rt;function st(j){return j<.5?rt(j*2)*.5:R(j*2-1)*.5+.5}i.easeInOutBounce=st})(qs||(qs={}));var Fs;(function(i){i.number=(t,e)=>{const n=e-t;return r=>t+n*r},i.object=(t,e)=>{const n=Object.keys(t);return r=>{const s={};for(let o=n.length-1;o!==-1;o-=1){const a=n[o];s[a]=t[a]+(e[a]-t[a])*r}return s}},i.unit=(t,e)=>{const n=/(-?[0-9]*.[0-9]*)(px|em|cm|mm|in|pt|pc|%)/,r=n.exec(t),s=n.exec(e),o=s?s[1]:"",a=r?+r[1]:0,l=s?+s[1]:0,c=o.indexOf("."),u=c>0?o[1].length-c-1:0,h=l-a,f=r?r[2]:"";return p=>(a+h*p).toFixed(u)+f},i.color=(t,e)=>{const n=parseInt(t.slice(1),16),r=parseInt(e.slice(1),16),s=n&255,o=(r&255)-s,a=n&65280,l=(r&65280)-a,c=n&16711680,u=(r&16711680)-c;return h=>{const f=s+o*h&255,p=a+l*h&65280,b=c+u*h&16711680;return`#${(1<<24|f|p|b).toString(16).slice(1)}`}}})(Fs||(Fs={}));var F2;(function(i){const t=`${sr.prefixCls}.storage`;function e(h,f,p){const b=f.id||SP("doc-"),v=l(h);v.keys.push(b),o(c(h,b),f),o(u(h),v),s(p,null,Object.assign(Object.assign({},f),{id:b}))}i.insert=e;function n(h,f,p){const b=l(h),v=[];if(f==null)b.keys.forEach(C=>{const x=a(c(h,C));x?v.push(x):s(p,new Error(`No document found for an ID '${C}' from index.`))}),s(p,null,v);else if(f.id){const C=a(c(h,f.id));s(p,null,C?[C]:[])}else s(p,null,[])}i.find=n;function r(h,f,p){const b=l(h);if(f==null)b.keys.forEach(v=>{localStorage.removeItem(c(h,v))}),localStorage.removeItem(u(h)),s(p,null);else if(f.id){const v=b.keys.indexOf(f.id);v>=0&&b.keys.splice(v,1),localStorage.removeItem(c(h,f.id)),o(u(h),b),s(p,null)}}i.remove=r;function s(h,f,p){h&&a5(()=>{h(f,p)})}function o(h,f){localStorage.setItem(h,JSON.stringify(f))}function a(h){const f=localStorage.getItem(h);return f?JSON.parse(f):null}function l(h){const f=a(u(h));return f?(f.keys==null&&(f.keys=[]),f):{keys:[]}}function c(h,f){return`${t}.${h}.docs.${f}`}function u(h){return`${t}.${h}.index`}})(F2||(F2={}));class se extends Pn{constructor(){super(),this.cid=Kd.uniqueId(),se.views[this.cid]=this}get priority(){return 2}confirmUpdate(t,e){return 0}$(t){return se.$(t)}empty(t=this.container){return this.$(t).empty(),this}unmount(t=this.container){return this.$(t).remove(),this}remove(t=this.container){return t===this.container&&(this.removeEventListeners(document),this.onRemove(),delete se.views[this.cid]),this.unmount(t),this}onRemove(){}setClass(t,e=this.container){e.classList.value=Array.isArray(t)?t.join(" "):t}addClass(t,e=this.container){return this.$(e).addClass(Array.isArray(t)?t.join(" "):t),this}removeClass(t,e=this.container){return this.$(e).removeClass(Array.isArray(t)?t.join(" "):t),this}setStyle(t,e=this.container){return this.$(e).css(t),this}setAttrs(t,e=this.container){return t!=null&&e!=null&&(e instanceof SVGElement?be(e,t):this.$(e).attr(t)),this}findAttr(t,e=this.container){let n=e;for(;n&&n.nodeType===1;){const r=n.getAttribute(t);if(r!=null)return r;if(n===this.container)return null;n=n.parentNode}return null}find(t,e=this.container,n=this.selectors){return se.find(t,e,n).elems}findOne(t,e=this.container,n=this.selectors){const r=this.find(t,e,n);return r.length>0?r[0]:null}findByAttr(t,e=this.container){let n=e;for(;n&&n.getAttribute;){const r=n.getAttribute(t);if((r!=null||n===this.container)&&r!=="false")return n;n=n.parentNode}return null}getSelector(t,e){let n;if(t===this.container)return typeof e=="string"&&(n=`> ${e}`),n;if(t){const r=cp(t)+1;n=`${t.tagName.toLowerCase()}:nth-child(${r})`,e&&(n+=` > ${e}`),n=this.getSelector(t.parentNode,n)}return n}prefixClassName(t){return tn.prefix(t)}delegateEvents(t,e){if(t==null)return this;e||this.undelegateEvents();const n=/^(\S+)\s*(.*)$/;return Object.keys(t).forEach(r=>{const s=r.match(n);if(s==null)return;const o=this.getEventHandler(t[r]);typeof o=="function"&&this.delegateEvent(s[1],s[2],o)}),this}undelegateEvents(){return this.$(this.container).off(this.getEventNamespace()),this}delegateDocumentEvents(t,e){return this.addEventListeners(document,t,e),this}undelegateDocumentEvents(){return this.removeEventListeners(document),this}delegateEvent(t,e,n){return this.$(this.container).on(t+this.getEventNamespace(),e,n),this}undelegateEvent(t,e,n){const r=t+this.getEventNamespace();return e==null?this.$(this.container).off(r):typeof e=="string"?this.$(this.container).off(r,e,n):this.$(this.container).off(r,e),this}addEventListeners(t,e,n){if(e==null)return this;const r=this.getEventNamespace(),s=this.$(t);return Object.keys(e).forEach(o=>{const a=this.getEventHandler(e[o]);typeof a=="function"&&s.on(o+r,n,a)}),this}removeEventListeners(t){return t!=null&&this.$(t).off(this.getEventNamespace()),this}getEventNamespace(){return`.${sr.prefixCls}-event-${this.cid}`}getEventHandler(t){let e;if(typeof t=="string"){const n=this[t];typeof n=="function"&&(e=(...r)=>n.call(this,...r))}else e=(...n)=>t.call(this,...n);return e}getEventTarget(t,e={}){const{target:n,type:r,clientX:s=0,clientY:o=0}=t;return e.fromPoint||r==="touchmove"||r==="touchend"?document.elementFromPoint(s,o):n}stopPropagation(t){return this.setEventData(t,{propagationStopped:!0}),this}isPropagationStopped(t){return this.getEventData(t).propagationStopped===!0}getEventData(t){return this.eventData(t)}setEventData(t,e){return this.eventData(t,e)}eventData(t,e){if(t==null)throw new TypeError("Event object required");let n=t.data;const r=`__${this.cid}__`;return e==null?n==null?{}:n[r]||{}:(n==null&&(n=t.data={}),n[r]==null?n[r]=Object.assign({},e):n[r]=Object.assign(Object.assign({},n[r]),e),n[r])}normalizeEvent(t){return se.normalizeEvent(t)}}(function(i){function t(s){return Je(s)}i.$=t;function e(s,o){return o?Qn(s||"g"):lp(s||"div")}i.createElement=e;function n(s,o,a){if(!s||s===".")return{elems:[o]};if(a){const l=a[s];if(l)return{elems:Array.isArray(l)?l:[l]}}return{isCSSSelector:!0,elems:t(o).find(s).toArray()}}i.find=n;function r(s){let o=s;const a=s.originalEvent,l=a&&a.changedTouches&&a.changedTouches[0];if(l){for(const u in s)l[u]===void 0&&(l[u]=s[u]);o=l}const c=o.target;if(c){const u=c.correspondingUseElement;u&&(o.target=u)}return o}i.normalizeEvent=r})(se||(se={}));(function(i){i.views={};function t(e){return i.views[e]||null}i.getView=t})(se||(se={}));var Kd;(function(i){let t=0;function e(){const n=`v${t}`;return t+=1,n}i.uniqueId=e})(Kd||(Kd={}));const gL=i=>i;function L2(i,t){return t===0?"0%":`${Math.round(i/t*100)}%`}function o1(i){return(e,n,r,s)=>n.isEdgeElement(r)?bL(i,e,n,r,s):mL(i,e,n,r,s)}function mL(i,t,e,n,r){const s=e.cell,o=s.getAngle(),a=e.getUnrotatedBBoxOfElement(n),l=s.getBBox().getCenter(),c=N.create(r).rotate(o,l);let u=c.x-a.x,h=c.y-a.y;return i&&(u=L2(u,a.width),h=L2(h,a.height)),t.anchor={name:"topLeft",args:{dx:u,dy:h,rotate:!0}},t}function bL(i,t,e,n,r){const s=e.getConnection();if(!s)return t;const o=s.closestPointLength(r);if(i){const a=s.length();t.anchor={name:"ratio",args:{ratio:o/a}}}else t.anchor={name:"length",args:{length:o}};return t}const vL=o1(!0),yL=o1(!1);var xL=Object.freeze(Object.defineProperty({__proto__:null,noop:gL,pinRelative:vL,pinAbsolute:yL},Symbol.toStringTag,{value:"Module"})),ea;(function(i){i.presets=xL,i.registry=Ke.create({type:"connection strategy"}),i.registry.register(i.presets,!0)})(ea||(ea={}));class CL{constructor(t){this.view=t,this.clean()}clean(){this.elemCache&&this.elemCache.dispose(),this.elemCache=new Qc,this.pathCache={}}get(t){return this.elemCache.has(t)||this.elemCache.set(t,{}),this.elemCache.get(t)}getData(t){const e=this.get(t);return e.data||(e.data={}),e.data}getMatrix(t){const e=this.get(t);if(e.matrix==null){const n=this.view.rotatableNode||this.view.container;e.matrix=pa(t,n)}return wn(e.matrix)}getShape(t){const e=this.get(t);return e.shape==null&&(e.shape=Ty(t)),e.shape.clone()}getBoundingRect(t){const e=this.get(t);return e.boundingRect==null&&(e.boundingRect=Cn(t)),e.boundingRect.clone()}}var he;(function(i){function t(u){return u!=null&&!e(u)}i.isJSONMarkup=t;function e(u){return u!=null&&typeof u=="string"}i.isStringMarkup=e;function n(u){return u==null||e(u)?u:Ye(u)}i.clone=n;function r(u){return`${u}`.trim().replace(/[\r|\n]/g," ").replace(/>\s+</g,"><")}i.sanitize=r;function s(u){const h=document.createDocumentFragment(),f={},p={},b=r(u);return uy(b,{raw:!0}).forEach(C=>{h.appendChild(C)}),{fragment:h,selectors:p,groups:f}}i.parseStringMarkup=s;function o(u,h={ns:an.svg}){const f=document.createDocumentFragment(),p={},b={},v=[{markup:Array.isArray(u)?u:[u],parent:f,ns:h.ns}];for(;v.length>0;){const C=v.pop();let x=C.ns||an.svg;const S=C.markup,E=C.parent;S.forEach(O=>{const k=O.tagName;if(!k)throw new TypeError("Invalid tagName");O.ns&&(x=O.ns);const m=x===an.svg,T=x?lp(k,x):A2(k),D=O.attrs;D&&(m?be(T,vl(D)):Je(T).attr(D));const z=O.style;z&&Je(T).css(z);const H=O.className;H!=null&&T.setAttribute("class",Array.isArray(H)?H.join(" "):H),O.textContent&&(T.textContent=O.textContent);const q=O.selector;if(q!=null){if(b[q])throw new TypeError("Selector must be unique");b[q]=T}if(O.groupSelector){let rt=O.groupSelector;Array.isArray(rt)||(rt=[rt]),rt.forEach(st=>{p[st]||(p[st]=[]),p[st].push(T)})}E.appendChild(T);const R=O.children;Array.isArray(R)&&v.push({ns:x,markup:R,parent:T})})}return Object.keys(p).forEach(C=>{if(b[C])throw new Error("Ambiguous group selector");b[C]=p[C]}),{fragment:f,selectors:b,groups:p}}i.parseJSONMarkup=o;function a(u){return u instanceof SVGElement?Qn("g"):A2("div")}function l(u){if(e(u)){const b=St.createVectors(u),v=b.length;if(v===1)return{elem:b[0].node};if(v>1){const C=a(b[0].node);return b.forEach(x=>{C.appendChild(x.node)}),{elem:C}}return{}}const h=o(u),f=h.fragment;let p=null;return f.childNodes.length>1?(p=a(f.firstChild),p.appendChild(f)):p=f.firstChild,{elem:p,selectors:h.selectors}}i.renderMarkup=l;function c(u){const h=St.createVectors(u),f=document.createDocumentFragment();for(let p=0,b=h.length;p<b;p+=1){const v=h[p].node;f.appendChild(v)}return{fragment:f,selectors:{}}}i.parseLabelStringMarkup=c})(he||(he={}));(function(i){function t(r,s,o){if(r!=null){let a;const l=r.tagName.toLowerCase();if(r===s)return typeof o=="string"?a=`> ${l} > ${o}`:a=`> ${l}`,a;const c=r.parentNode;if(c&&c.childNodes.length>1){const u=cp(r)+1;a=`${l}:nth-child(${u})`}else a=l;return o&&(a+=` > ${o}`),t(r.parentNode,s,a)}return o}i.getSelector=t;function e(r,s,o){if(r.nodeName==="#text")return null;let a=null,l=null,c=null,u=!1;const h={tagName:r.tagName};if(r.attributes){c={};for(let f=0,p=r.attributes.length;f<p;f+=1){const b=r.attributes[f],v=b.nodeName,C=b.nodeValue;v==="selector"?a=C:v==="groupSelector"?l=C:v==="class"?h.attrs={class:C}:c[v]=C}}return a==null&&(u=!0,a=t(r,s)),r.namespaceURI&&(h.ns=r.namespaceURI),h.ns==null&&(["body","div","section","main","nav","footer","span","p","h1","h2","h3","h4","h5","h6","ul","ol","dl","center","strong","pre","form","select","textarea","fieldset","marquee","bgsound","iframe","frameset"].includes(r.tagName)?h.ns=an.xhtml:o&&(h.ns=o)),a&&(h.selector=a),l!=null&&(h.groupSelector=l),{markup:h,attrs:c,isCSSSelector:u}}function n(r){const s=i.sanitize(r),o=fy(s,{mimeType:"image/svg+xml"}),a=Array.prototype.slice.call(o.childNodes),l={},c=new WeakMap,u=(f,p,b)=>{const v=e(f,p,b);if(v==null){const C=c.get(f.parentNode);C&&f.textContent&&(C.textContent=f.textContent)}else{const{markup:C,attrs:x,isCSSSelector:S}=v;if(c.set(f,C),C.selector&&x!=null&&(Object.keys(x).length&&(l[C.selector]=x),S&&delete C.selector),f.childNodes&&f.childNodes.length>0)for(let E=0,O=f.childNodes.length;E<O;E+=1){const k=f.childNodes[E],m=u(k,p,C.ns);m&&(C.children==null&&(C.children=[]),C.children.push(m))}return C}};return{markup:a.map(f=>u(f,f)).filter(f=>f!=null),attrs:l}}i.xml2json=n})(he||(he={}));(function(i){function t(){return"g"}i.getPortContainerMarkup=t;function e(){return{tagName:"circle",selector:"circle",attrs:{r:10,fill:"#FFFFFF",stroke:"#000000"}}}i.getPortMarkup=e;function n(){return{tagName:"text",selector:"text",attrs:{fill:"#000000"}}}i.getPortLabelMarkup=n})(he||(he={}));(function(i){function t(){return i.sanitize(`
    <path class="connection" stroke="black" d="M 0 0 0 0"/>
    <path class="source-marker" fill="black" stroke="black" d="M 0 0 0 0"/>
    <path class="target-marker" fill="black" stroke="black" d="M 0 0 0 0"/>
    <path class="connection-wrap" d="M 0 0 0 0"/>
    <g class="labels"/>
    <g class="vertices"/>
    <g class="arrowheads"/>
    <g class="tools"/>
  `)}i.getEdgeMarkup=t;function e(){return i.sanitize(`
    <g class="edge-tool">
      <g class="tool-remove" event="edge:remove">
        <circle r="11" />
        <path transform="scale(.8) translate(-16, -16)" d="M24.778,21.419 19.276,15.917 24.777,10.415 21.949,7.585 16.447,13.087 10.945,7.585 8.117,10.415 13.618,15.917 8.116,21.419 10.946,24.248 16.447,18.746 21.948,24.248z" />
        <title>Remove edge.</title>
      </g>
      <g class="tool-options" event="edge:options">
        <circle r="11" transform="translate(25)"/>
        <path fill="white" transform="scale(.55) translate(29, -16)" d="M31.229,17.736c0.064-0.571,0.104-1.148,0.104-1.736s-0.04-1.166-0.104-1.737l-4.377-1.557c-0.218-0.716-0.504-1.401-0.851-2.05l1.993-4.192c-0.725-0.91-1.549-1.734-2.458-2.459l-4.193,1.994c-0.647-0.347-1.334-0.632-2.049-0.849l-1.558-4.378C17.165,0.708,16.588,0.667,16,0.667s-1.166,0.041-1.737,0.105L12.707,5.15c-0.716,0.217-1.401,0.502-2.05,0.849L6.464,4.005C5.554,4.73,4.73,5.554,4.005,6.464l1.994,4.192c-0.347,0.648-0.632,1.334-0.849,2.05l-4.378,1.557C0.708,14.834,0.667,15.412,0.667,16s0.041,1.165,0.105,1.736l4.378,1.558c0.217,0.715,0.502,1.401,0.849,2.049l-1.994,4.193c0.725,0.909,1.549,1.733,2.459,2.458l4.192-1.993c0.648,0.347,1.334,0.633,2.05,0.851l1.557,4.377c0.571,0.064,1.148,0.104,1.737,0.104c0.588,0,1.165-0.04,1.736-0.104l1.558-4.377c0.715-0.218,1.399-0.504,2.049-0.851l4.193,1.993c0.909-0.725,1.733-1.549,2.458-2.458l-1.993-4.193c0.347-0.647,0.633-1.334,0.851-2.049L31.229,17.736zM16,20.871c-2.69,0-4.872-2.182-4.872-4.871c0-2.69,2.182-4.872,4.872-4.872c2.689,0,4.871,2.182,4.871,4.872C20.871,18.689,18.689,20.871,16,20.871z"/>
        <title>Edge options.</title>
      </g>
    </g>
  `)}i.getEdgeToolMarkup=e;function n(){return i.sanitize(`
    <g class="vertex-group" transform="translate(<%= x %>, <%= y %>)">
      <circle class="vertex" data-index="<%= index %>" r="10" />
      <path class="vertex-remove-area" data-index="<%= index %>" d="M16,5.333c-7.732,0-14,4.701-14,10.5c0,1.982,0.741,3.833,2.016,5.414L2,25.667l5.613-1.441c2.339,1.317,5.237,2.107,8.387,2.107c7.732,0,14-4.701,14-10.5C30,10.034,23.732,5.333,16,5.333z" transform="translate(5, -33)"/>
      <path class="vertex-remove" data-index="<%= index %>" transform="scale(.8) translate(9.5, -37)" d="M24.778,21.419 19.276,15.917 24.777,10.415 21.949,7.585 16.447,13.087 10.945,7.585 8.117,10.415 13.618,15.917 8.116,21.419 10.946,24.248 16.447,18.746 21.948,24.248z">
      <title>Remove vertex.</title>
      </path>
    </g>
  `)}i.getEdgeVertexMarkup=n;function r(){return i.sanitize(`
    <g class="arrowhead-group arrowhead-group-<%= end %>">
      <path class="arrowhead" data-terminal="<%= end %>" d="M 26 0 L 0 13 L 26 26 z" />
    </g>
  `)}i.getEdgeArrowheadMarkup=r})(he||(he={}));(function(i){function t(e=!1){return{tagName:"foreignObject",selector:"fo",children:[{ns:an.xhtml,tagName:"body",selector:"foBody",attrs:{xmlns:an.xhtml},style:{width:"100%",height:"100%",background:"transparent"},children:e?[]:[{tagName:"div",selector:"foContent",style:{width:"100%",height:"100%"}}]}]}}i.getForeignObjectMarkup=t})(he||(he={}));class Us{constructor(t){this.view=t}get cell(){return this.view.cell}getDefinition(t){return this.cell.getAttrDefinition(t)}processAttrs(t,e){let n,r,s,o,a;const l=[];return Object.keys(e).forEach(c=>{const u=e[c],h=this.getDefinition(c),f=xt(rr.isValidDefinition,this.view,h,u,{elem:t,attrs:e,cell:this.cell,view:this.view});if(h&&f)typeof h=="string"?(n==null&&(n={}),n[h]=u):u!==null&&l.push({name:c,definition:h});else{n==null&&(n={});const p=Us.CASE_SENSITIVE_ATTR.includes(c)?c:cy(c);n[p]=u}}),l.forEach(({name:c,definition:u})=>{const h=e[c];typeof u.set=="function"&&(!Ld(t)&&Us.DELAY_ATTRS.includes(c)?(a==null&&(a={}),a[c]=h):(r==null&&(r={}),r[c]=h)),typeof u.offset=="function"&&(s==null&&(s={}),s[c]=h),typeof u.position=="function"&&(o==null&&(o={}),o[c]=h)}),{raw:e,normal:n,set:r,offset:s,position:o,delay:a}}mergeProcessedAttrs(t,e){t.set=Object.assign(Object.assign({},t.set),e.set),t.position=Object.assign(Object.assign({},t.position),e.position),t.offset=Object.assign(Object.assign({},t.offset),e.offset);const n=t.normal&&t.normal.transform;n!=null&&e.normal&&(e.normal.transform=n),t.normal=e.normal}findAttrs(t,e,n,r){const s=[],o=new Qc;return Object.keys(t).forEach(a=>{const l=t[a];if(!gi(l))return;const{isCSSSelector:c,elems:u}=se.find(a,e,r);n[a]=u;for(let h=0,f=u.length;h<f;h+=1){const p=u[h],b=r&&r[a]===p,v=o.get(p);if(v){v.array||(s.push(p),v.array=!0,v.attrs=[v.attrs],v.priority=[v.priority]);const C=v.attrs,x=v.priority;if(b)C.unshift(l),x.unshift(-1);else{const S=K5(x,c?-1:f);C.splice(S,0,l),x.splice(S,0,f)}}else o.set(p,{elem:p,attrs:l,priority:b?-1:f,array:!1})}}),s.forEach(a=>{const l=o.get(a),c=l.attrs;l.attrs=c.reduceRight((u,h)=>Ne(u,h),{})}),o}updateRelativeAttrs(t,e,n,r){const s=e.raw||{};let o=e.normal||{};const a=e.set,l=e.position,c=e.offset,u=e.delay,h=()=>({elem:t,cell:this.cell,view:this.view,attrs:s,refBBox:n.clone()});if(a!=null&&Object.keys(a).forEach(k=>{const m=a[k],T=this.getDefinition(k);if(T!=null){const D=xt(T.set,this.view,m,h());typeof D=="object"?o=Object.assign(Object.assign({},o),D):D!=null&&(o[k]=D)}}),Ld(t)){this.view.setAttrs(o,t);return}const f=o.transform,p=f?`${f}`:null,b=Jc(p),v=new N(b.e,b.f);f&&(delete o.transform,b.e=0,b.f=0);let C=1,x=1;if(l||c){const k=this.view.getScaleOfElement(t,r.scalableNode);C=k.sx,x=k.sy}let S=!1;l!=null&&Object.keys(l).forEach(k=>{const m=l[k],T=this.getDefinition(k);if(T!=null){const D=xt(T.position,this.view,m,h());D!=null&&(S=!0,v.translate(N.create(D).scale(C,x)))}}),this.view.setAttrs(o,t);let E=!1;if(c!=null){const k=this.view.getBoundingRectOfElement(t);if(k.width>0&&k.height>0){const m=ci(k,b).scale(1/C,1/x);Object.keys(c).forEach(T=>{const D=c[T],z=this.getDefinition(T);if(z!=null){const H=xt(z.offset,this.view,D,{elem:t,cell:this.cell,view:this.view,attrs:s,refBBox:m});H!=null&&(E=!0,v.translate(N.create(H).scale(C,x)))}})}}(f!=null||S||E)&&(v.round(1),b.e=v.x,b.f=v.y,t.setAttribute("transform",uo(b)));const O=()=>{u!=null&&Object.keys(u).forEach(k=>{const m=u[k],T=this.getDefinition(k);if(T!=null){const D=xt(T.set,this.view,m,h());typeof D=="object"?this.view.setAttrs(D,t):D!=null&&this.view.setAttrs({[k]:D},t)}})};r.forceSync?O():Wd.scheduleTask(O)}update(t,e,n){const r={},s=this.findAttrs(n.attrs||e,t,r,n.selectors),o=n.attrs?this.findAttrs(e,t,r,n.selectors):s,a=[];s.each(u=>{const h=u.elem,f=u.attrs,p=this.processAttrs(h,f);if(p.set==null&&p.position==null&&p.offset==null&&p.delay==null)this.view.setAttrs(p.normal,h);else{const b=o.get(h),v=b?b.attrs:null,C=v&&f.ref==null?v.ref:f.ref;let x;if(C){if(x=(r[C]||this.view.find(C,t,n.selectors))[0],!x)throw new Error(`"${C}" reference does not exist.`)}else x=null;const S={node:h,refNode:x,attributes:v,processedAttributes:p},E=a.findIndex(O=>O.refNode===h);E>-1?a.splice(E,0,S):a.push(S)}});const l=new Qc;let c;a.forEach(u=>{const h=u.node,f=u.refNode;let p;const b=f!=null&&n.rotatableNode!=null&&up(n.rotatableNode,f);if(f&&(p=l.get(f)),!p){const S=b?n.rotatableNode:t;p=f?Cn(f,{target:S}):n.rootBBox,f&&l.set(f,p)}let v;n.attrs&&u.attributes?(v=this.processAttrs(h,u.attributes),this.mergeProcessedAttrs(v,u.processedAttributes)):v=u.processedAttributes;let C=p;b&&n.rotatableNode!=null&&!n.rotatableNode.contains(h)&&(c||(c=Jc(be(n.rotatableNode,"transform"))),C=ci(p,c)),a.find(S=>S.refNode===h)&&(n.forceSync=!0),this.updateRelativeAttrs(h,v,C,n)})}}(function(i){i.CASE_SENSITIVE_ATTR=["viewBox"],i.DELAY_ATTRS=["text","textWrap","sourceMarker","targetMarker"]})(Us||(Us={}));class a1{constructor(t,e,n=[]){this.view=t;const r={},s={};let o=0;Object.keys(e).forEach(l=>{let c=e[l];Array.isArray(c)||(c=[c]),c.forEach(u=>{let h=r[u];h||(o+=1,h=r[u]=1<<o),s[l]|=h})});let a=n;if(Array.isArray(a)||(a=[a]),a.forEach(l=>{r[l]||(o+=1,r[l]=1<<o)}),o>25)throw new Error("Maximum number of flags exceeded.");this.flags=r,this.attrs=s,this.bootstrap=n}get cell(){return this.view.cell}getFlag(t){const e=this.flags;return e==null?0:Array.isArray(t)?t.reduce((n,r)=>n|e[r],0):e[t]|0}hasAction(t,e){return t&this.getFlag(e)}removeAction(t,e){return t^t&this.getFlag(e)}getBootstrapFlag(){return this.getFlag(this.bootstrap)}getChangedFlag(){let t=0;return this.attrs&&Object.keys(this.attrs).forEach(e=>{this.cell.hasChanged(e)&&(t|=this.attrs[e])}),t}}var wL=globalThis&&globalThis.__rest||function(i,t){var e={};for(var n in i)Object.prototype.hasOwnProperty.call(i,n)&&t.indexOf(n)<0&&(e[n]=i[n]);if(i!=null&&typeof Object.getOwnPropertySymbols=="function")for(var r=0,n=Object.getOwnPropertySymbols(i);r<n.length;r++)t.indexOf(n[r])<0&&Object.prototype.propertyIsEnumerable.call(i,n[r])&&(e[n[r]]=i[n[r]]);return e};class Re extends se{constructor(t,e={}){super(),this.cell=t,this.options=this.ensureOptions(e),this.graph=this.options.graph,this.attr=new Us(this),this.flag=new a1(this,this.options.actions,this.options.bootstrap),this.cache=new CL(this),this.setContainer(this.ensureContainer()),this.setup(),this.$(this.container).data("view",this),this.init()}static getDefaults(){return this.defaults}static config(t){this.defaults=this.getOptions(t)}static getOptions(t){const e=(c,u)=>u!=null?yv([...Array.isArray(c)?c:[c],...Array.isArray(u)?u:[u]]):Array.isArray(c)?[...c]:[c],n=Ye(this.getDefaults()),{bootstrap:r,actions:s,events:o,documentEvents:a}=t,l=wL(t,["bootstrap","actions","events","documentEvents"]);return r&&(n.bootstrap=e(n.bootstrap,r)),s&&Object.keys(s).forEach(c=>{const u=s[c],h=n.actions[c];u&&h?n.actions[c]=e(h,u):u&&(n.actions[c]=e(u))}),o&&(n.events=Object.assign(Object.assign({},n.events),o)),t.documentEvents&&(n.documentEvents=Object.assign(Object.assign({},n.documentEvents),a)),Ne(n,l)}get[Symbol.toStringTag](){return Re.toStringTag}init(){}onRemove(){this.removeTools()}get priority(){return this.options.priority}get rootSelector(){return this.options.rootSelector}getConstructor(){return this.constructor}ensureOptions(t){return this.getConstructor().getOptions(t)}getContainerTagName(){return this.options.isSvgElement?"g":"div"}getContainerStyle(){}getContainerAttrs(){return{"data-cell-id":this.cell.id,"data-shape":this.cell.shape}}getContainerClassName(){return this.prefixClassName("cell")}ensureContainer(){return se.createElement(this.getContainerTagName(),this.options.isSvgElement)}setContainer(t){if(this.container!==t){this.undelegateEvents(),this.container=t,this.options.events!=null&&this.delegateEvents(this.options.events);const e=this.getContainerAttrs();e!=null&&this.setAttrs(e,t);const n=this.getContainerStyle();n!=null&&this.setStyle(n,t);const r=this.getContainerClassName();r!=null&&this.addClass(r,t)}return this}isNodeView(){return!1}isEdgeView(){return!1}render(){return this}confirmUpdate(t,e={}){return 0}getBootstrapFlag(){return this.flag.getBootstrapFlag()}getFlag(t){return this.flag.getFlag(t)}hasAction(t,e){return this.flag.hasAction(t,e)}removeAction(t,e){return this.flag.removeAction(t,e)}handleAction(t,e,n,r){if(this.hasAction(t,e)){n();const s=[e];return r&&(typeof r=="string"?s.push(r):s.push(...r)),this.removeAction(t,s)}return t}setup(){this.cell.on("changed",({options:t})=>this.onAttrsChange(t))}onAttrsChange(t){let e=this.flag.getChangedFlag();t.updated||!e||(t.dirty&&this.hasAction(e,"update")&&(e|=this.getFlag("render")),t.toolId&&(t.async=!1),this.graph!=null&&this.graph.renderer.requestViewUpdate(this,e,this.priority,t))}parseJSONMarkup(t,e){const n=he.parseJSONMarkup(t),r=n.selectors,s=this.rootSelector;if(e&&s){if(r[s])throw new Error("Invalid root selector");r[s]=e}return n}can(t){let e=this.graph.options.interacting;if(typeof e=="function"&&(e=xt(e,this.graph,this)),typeof e=="object"){let n=e[t];return typeof n=="function"&&(n=xt(n,this.graph,this)),n!==!1}return typeof e=="boolean"?e:!1}cleanCache(){return this.cache.clean(),this}getCache(t){return this.cache.get(t)}getDataOfElement(t){return this.cache.getData(t)}getMatrixOfElement(t){return this.cache.getMatrix(t)}getShapeOfElement(t){return this.cache.getShape(t)}getScaleOfElement(t,e){let n,r;if(e&&e.contains(t)){const s=Ur(e);n=1/s.sx,r=1/s.sy}else n=1,r=1;return{sx:n,sy:r}}getBoundingRectOfElement(t){return this.cache.getBoundingRect(t)}getBBoxOfElement(t){const e=this.getBoundingRectOfElement(t),n=this.getMatrixOfElement(t),r=this.getRootRotatedMatrix(),s=this.getRootTranslatedMatrix();return ci(e,s.multiply(r).multiply(n))}getUnrotatedBBoxOfElement(t){const e=this.getBoundingRectOfElement(t),n=this.getMatrixOfElement(t),r=this.getRootTranslatedMatrix();return ci(e,r.multiply(n))}getBBox(t={}){let e;if(t.useCellGeometry){const n=this.cell,r=n.isNode()?n.getAngle():0;e=n.getBBox().bbox(r)}else e=this.getBBoxOfElement(this.container);return this.graph.localToGraph(e)}getRootTranslatedMatrix(){const t=this.cell,e=t.isNode()?t.getPosition():{x:0,y:0};return wn().translate(e.x,e.y)}getRootRotatedMatrix(){let t=wn();const e=this.cell,n=e.isNode()?e.getAngle():0;if(n){const r=e.getBBox(),s=r.width/2,o=r.height/2;t=t.translate(s,o).rotate(n).translate(-s,-o)}return t}findMagnet(t=this.container){return this.findByAttr("magnet",t)}updateAttrs(t,e,n={}){n.rootBBox==null&&(n.rootBBox=new ht),n.selectors==null&&(n.selectors=this.selectors),this.attr.update(t,e,n)}isEdgeElement(t){return this.cell.isEdge()&&(t==null||t===this.container)}prepareHighlight(t,e={}){const n=t&&this.$(t)[0]||this.container;return e.partial=n===this.container,n}highlight(t,e={}){const n=this.prepareHighlight(t,e);return this.notify("cell:highlight",{magnet:n,options:e,view:this,cell:this.cell}),this.isEdgeView()?this.notify("edge:highlight",{magnet:n,options:e,view:this,edge:this.cell,cell:this.cell}):this.isNodeView()&&this.notify("node:highlight",{magnet:n,options:e,view:this,node:this.cell,cell:this.cell}),this}unhighlight(t,e={}){const n=this.prepareHighlight(t,e);return this.notify("cell:unhighlight",{magnet:n,options:e,view:this,cell:this.cell}),this.isNodeView()?this.notify("node:unhighlight",{magnet:n,options:e,view:this,node:this.cell,cell:this.cell}):this.isEdgeView()&&this.notify("edge:unhighlight",{magnet:n,options:e,view:this,edge:this.cell,cell:this.cell}),this}notifyUnhighlight(t,e){}getEdgeTerminal(t,e,n,r,s){const o=this.cell,a=this.findAttr("port",t),l=t.getAttribute("data-selector"),c={cell:o.id};return l!=null&&(c.magnet=l),a!=null?(c.port=a,o.isNode()&&!o.hasPort(a)&&l==null&&(c.selector=this.getSelector(t))):l==null&&this.container!==t&&(c.selector=this.getSelector(t)),this.customizeEdgeTerminal(c,t,e,n,r,s)}customizeEdgeTerminal(t,e,n,r,s,o){const a=s.getStrategy()||this.graph.options.connecting.strategy;if(a){const l=typeof a=="string"?a:a.name,c=typeof a=="string"?{}:a.args||{},u=ea.registry;if(l){const h=u.get(l);if(h==null)return u.onNotFound(l);const f=xt(h,this.graph,t,this,e,new N(n,r),s,o,c);if(f)return f}}return t}getMagnetFromEdgeTerminal(t){const e=this.cell,n=this.container,r=t.port;let s=t.magnet,o;return r!=null&&e.isNode()&&e.hasPort(r)?o=this.findPortElem(r,s)||n:(s||(s=t.selector),!s&&r!=null&&(s=`[port="${r}"]`),o=this.findOne(s,n,this.selectors)),o}animate(t,e){const n=typeof t=="string"?this.findOne(t):t;if(n==null)throw new Error("Invalid animation element.");const r=n.parentNode,s=()=>{r||ir(n)},o=St.create(n);r||o.appendTo(this.graph.view.stage);const a=e.complete;return e.complete=l=>{s(),a&&a(l)},o.animate(e)}animateTransform(t,e){const n=typeof t=="string"?this.findOne(t):t;if(n==null)throw new Error("Invalid animation element.");const r=n.parentNode,s=()=>{r||ir(n)},o=St.create(n);r||o.appendTo(this.graph.view.stage);const a=e.complete;return e.complete=l=>{s(),a&&a(l)},o.animateTransform(e)}hasTools(t){const e=this.tools;return e==null?!1:t==null?!0:e.name===t}addTools(t){if(!this.can("toolsAddable"))return this;if(this.removeTools(),t){const e=cn.isToolsView(t)?t:new cn(t);this.tools=e,this.graph.on("tools:hide",this.hideTools,this),this.graph.on("tools:show",this.showTools,this),this.graph.on("tools:remove",this.removeTools,this),e.config({view:this}),e.mount()}return this}updateTools(t={}){return this.tools&&this.tools.update(t),this}removeTools(){return this.tools&&(this.tools.remove(),this.graph.off("tools:hide",this.hideTools,this),this.graph.off("tools:show",this.showTools,this),this.graph.off("tools:remove",this.removeTools,this),this.tools=null),this}hideTools(){return this.tools&&this.tools.hide(),this}showTools(){return this.tools&&this.tools.show(),this}renderTools(){const t=this.cell.getTools();return this.addTools(t),this}notify(t,e){return this.trigger(t,e),this.graph.trigger(t,e),this}getEventArgs(t,e,n){const r=this,s=r.cell;return e==null||n==null?{e:t,view:r,cell:s}:{e:t,x:e,y:n,view:r,cell:s}}onClick(t,e,n){this.notify("cell:click",this.getEventArgs(t,e,n))}onDblClick(t,e,n){this.notify("cell:dblclick",this.getEventArgs(t,e,n))}onContextMenu(t,e,n){this.notify("cell:contextmenu",this.getEventArgs(t,e,n))}onMouseDown(t,e,n){this.cell.model&&(this.cachedModelForMouseEvent=this.cell.model,this.cachedModelForMouseEvent.startBatch("mouse")),this.notify("cell:mousedown",this.getEventArgs(t,e,n))}onMouseUp(t,e,n){this.notify("cell:mouseup",this.getEventArgs(t,e,n)),this.cachedModelForMouseEvent&&(this.cachedModelForMouseEvent.stopBatch("mouse",{cell:this.cell}),this.cachedModelForMouseEvent=null)}onMouseMove(t,e,n){this.notify("cell:mousemove",this.getEventArgs(t,e,n))}onMouseOver(t){this.notify("cell:mouseover",this.getEventArgs(t))}onMouseOut(t){this.notify("cell:mouseout",this.getEventArgs(t))}onMouseEnter(t){this.notify("cell:mouseenter",this.getEventArgs(t))}onMouseLeave(t){this.notify("cell:mouseleave",this.getEventArgs(t))}onMouseWheel(t,e,n,r){this.notify("cell:mousewheel",Object.assign({delta:r},this.getEventArgs(t,e,n)))}onCustomEvent(t,e,n,r){this.notify("cell:customevent",Object.assign({name:e},this.getEventArgs(t,n,r))),this.notify(e,Object.assign({},this.getEventArgs(t,n,r)))}onMagnetMouseDown(t,e,n,r){}onMagnetDblClick(t,e,n,r){}onMagnetContextMenu(t,e,n,r){}onLabelMouseDown(t,e,n){}checkMouseleave(t){const e=this.graph;e.renderer.isAsync()&&e.renderer.dumpView(this);const n=this.getEventTarget(t,{fromPoint:!0}),r=e.renderer.findViewByElem(n);r!==this&&(this.onMouseLeave(t),r&&r.onMouseEnter(t))}}Re.defaults={isSvgElement:!0,rootSelector:"root",priority:0,bootstrap:[],actions:{}};(function(i){i.Flag=a1,i.Attr=Us})(Re||(Re={}));(function(i){i.toStringTag=`X6.${i.name}`;function t(e){if(e==null)return!1;if(e instanceof i)return!0;const n=e[Symbol.toStringTag],r=e;return(n==null||n===i.toStringTag)&&typeof r.isNodeView=="function"&&typeof r.isEdgeView=="function"&&typeof r.confirmUpdate=="function"}i.isCellView=t})(Re||(Re={}));(function(i){function t(n){return function(r){r.config({priority:n})}}i.priority=t;function e(n){return function(r){r.config({bootstrap:n})}}i.bootstrap=e})(Re||(Re={}));(function(i){i.registry=Ke.create({type:"view"})})(Re||(Re={}));class cn extends se{constructor(t={}){super(),this.svgContainer=this.createContainer(!0,t),this.htmlContainer=this.createContainer(!1,t),this.config(t)}get name(){return this.options.name}get graph(){return this.cellView.graph}get cell(){return this.cellView.cell}get[Symbol.toStringTag](){return cn.toStringTag}createContainer(t,e){const n=t?se.createElement("g",!0):se.createElement("div",!1);return me(n,this.prefixClassName("cell-tools")),e.className&&me(n,e.className),n}config(t){if(this.options=Object.assign(Object.assign({},this.options),t),!Re.isCellView(t.view)||t.view===this.cellView)return this;this.cellView=t.view,this.cell.isEdge()?(me(this.svgContainer,this.prefixClassName("edge-tools")),me(this.htmlContainer,this.prefixClassName("edge-tools"))):this.cell.isNode()&&(me(this.svgContainer,this.prefixClassName("node-tools")),me(this.htmlContainer,this.prefixClassName("node-tools"))),this.svgContainer.setAttribute("data-cell-id",this.cell.id),this.htmlContainer.setAttribute("data-cell-id",this.cell.id),this.name&&(this.svgContainer.setAttribute("data-tools-name",this.name),this.htmlContainer.setAttribute("data-tools-name",this.name));const e=this.options.items;if(!Array.isArray(e))return this;this.tools=[];const n=[];e.forEach(r=>{cn.ToolItem.isToolItem(r)?r.name==="vertices"?n.unshift(r):n.push(r):(typeof r=="object"?r.name:r)==="vertices"?n.unshift(r):n.push(r)});for(let r=0;r<n.length;r+=1){const s=n[r];let o;if(cn.ToolItem.isToolItem(s))o=s;else{const a=typeof s=="object"?s.name:s,l=typeof s=="object"?s.args||{}:{};if(a){if(this.cell.isNode()){const c=ia.registry.get(a);if(c)o=new c(l);else return ia.registry.onNotFound(a)}else if(this.cell.isEdge()){const c=ra.registry.get(a);if(c)o=new c(l);else return ra.registry.onNotFound(a)}}}o&&(o.config(this.cellView,this),o.render(),(o.options.isSVGElement!==!1?this.svgContainer:this.htmlContainer).appendChild(o.container),this.tools.push(o))}return this}update(t={}){const e=this.tools;return e&&e.forEach(n=>{t.toolId!==n.cid&&n.isVisible()&&n.update()}),this}focus(t){const e=this.tools;return e&&e.forEach(n=>{t===n?n.show():n.hide()}),this}blur(t){const e=this.tools;return e&&e.forEach(n=>{n!==t&&!n.isVisible()&&(n.show(),n.update())}),this}hide(){return this.focus(null)}show(){return this.blur(null)}remove(){const t=this.tools;return t&&(t.forEach(e=>e.remove()),this.tools=null),ir(this.svgContainer),ir(this.htmlContainer),super.remove()}mount(){const t=this.tools,e=this.cellView;if(e&&t){const n=t.some(s=>s.options.isSVGElement!==!1),r=t.some(s=>s.options.isSVGElement===!1);n&&(this.options.local?e.container:e.graph.view.decorator).appendChild(this.svgContainer),r&&this.graph.container.appendChild(this.htmlContainer)}return this}}(function(i){i.toStringTag=`X6.${i.name}`;function t(e){if(e==null)return!1;if(e instanceof i)return!0;const n=e[Symbol.toStringTag],r=e;return(n==null||n===i.toStringTag)&&r.graph!=null&&r.cell!=null&&typeof r.config=="function"&&typeof r.update=="function"&&typeof r.focus=="function"&&typeof r.blur=="function"&&typeof r.show=="function"&&typeof r.hide=="function"}i.isToolsView=t})(cn||(cn={}));(function(i){class t extends se{constructor(n={}){super(),this.visible=!0,this.options=this.getOptions(n),this.container=se.createElement(this.options.tagName||"g",this.options.isSVGElement!==!1),me(this.container,this.prefixClassName("cell-tool")),typeof this.options.className=="string"&&me(this.container,this.options.className),this.init()}static getDefaults(){return this.defaults}static config(n){this.defaults=this.getOptions(n)}static getOptions(n){return Ne(Ye(this.getDefaults()),n)}get graph(){return this.cellView.graph}get cell(){return this.cellView.cell}get name(){return this.options.name}get[Symbol.toStringTag](){return t.toStringTag}init(){}getOptions(n){return this.constructor.getOptions(n)}delegateEvents(){return this.options.events&&super.delegateEvents(this.options.events),this}config(n,r){return this.cellView=n,this.parent=r,this.stamp(this.container),this.cell.isEdge()?me(this.container,this.prefixClassName("edge-tool")):this.cell.isNode()&&me(this.container,this.prefixClassName("node-tool")),this.name&&this.container.setAttribute("data-tool-name",this.name),this.delegateEvents(),this}render(){this.empty();const n=this.options.markup;if(n){const r=he.isStringMarkup(n)?he.parseStringMarkup(n):he.parseJSONMarkup(n);this.container.appendChild(r.fragment),this.childNodes=r.selectors}return this.onRender(),this}onRender(){}update(){return this}stamp(n=this.container){n&&n.setAttribute("data-cell-id",this.cellView.cell.id)}show(){return this.container.style.display="",this.visible=!0,this}hide(){return this.container.style.display="none",this.visible=!1,this}isVisible(){return!!this.visible}focus(){const n=this.options.focusOpacity;return n!=null&&Number.isFinite(n)&&(this.container.style.opacity=`${n}`),this.parent.focus(this),this}blur(){return this.container.style.opacity="",this.parent.blur(this),this}guard(n){return this.graph==null||this.cellView==null?!0:this.graph.view.guard(n,this.cellView)}}t.defaults={isSVGElement:!0,tagName:"g"},i.ToolItem=t,function(e){let n=0;function r(o){return o?rp(o):(n+=1,`CustomTool${n}`)}function s(o){const a=np(r(o.name),this);return a.config(o),a}e.define=s}(t=i.ToolItem||(i.ToolItem={})),function(e){e.toStringTag=`X6.${e.name}`;function n(r){if(r==null)return!1;if(r instanceof e)return!0;const s=r[Symbol.toStringTag],o=r;return(s==null||s===e.toStringTag)&&o.graph!=null&&o.cell!=null&&typeof o.config=="function"&&typeof o.update=="function"&&typeof o.focus=="function"&&typeof o.blur=="function"&&typeof o.show=="function"&&typeof o.hide=="function"&&typeof o.isVisible=="function"}e.isToolItem=n}(t=i.ToolItem||(i.ToolItem={}))})(cn||(cn={}));function l1(i,t,e,n){return xt(ea.presets.pinRelative,this.graph,{},t,e,i,this.cell,n,{}).anchor}function c1(i,t){return t?i.cell.getBBox():i.cell.isEdge()?i.getConnection().bbox():i.getUnrotatedBBoxOfElement(i.container)}class es extends cn.ToolItem{onRender(){me(this.container,this.prefixClassName("cell-tool-button")),this.update()}update(){return this.updatePosition(),this}updatePosition(){const e=this.cellView.cell.isEdge()?this.getEdgeMatrix():this.getNodeMatrix();Zo(this.container,e,{absolute:!0})}getNodeMatrix(){const t=this.cellView,e=this.options;let{x:n=0,y:r=0}=e;const{offset:s,useCellGeometry:o,rotate:a}=e;let l=c1(t,o);const c=t.cell.getAngle();a||(l=l.bbox(c));let u=0,h=0;typeof s=="number"?(u=s,h=s):typeof s=="object"&&(u=s.x,h=s.y),n=nr(n,l.width),r=nr(r,l.height);let f=wn().translate(l.x+l.width/2,l.y+l.height/2);return a&&(f=f.rotate(c)),f=f.translate(n+u-l.width/2,r+h-l.height/2),f}getEdgeMatrix(){const t=this.cellView,e=this.options,{offset:n=0,distance:r=0,rotate:s}=e;let o,a,l;Ri(r)?o=t.getTangentAtRatio(parseFloat(r)/100):o=t.getTangentAtLength(r),o?(a=o.start,l=o.vector().vectorAngle(new N(1,0))||0):(a=t.getConnection().start,l=0);let c=wn().translate(a.x,a.y).rotate(l);return typeof n=="object"?c=c.translate(n.x||0,n.y||0):c=c.translate(0,n),s||(c=c.rotate(-l)),c}onMouseDown(t){if(this.guard(t))return;t.stopPropagation(),t.preventDefault();const e=this.options.onClick;typeof e=="function"&&xt(e,this.cellView,{e:t,view:this.cellView,cell:this.cellView.cell,btn:this})}}(function(i){i.config({name:"button",events:{mousedown:"onMouseDown",touchstart:"onMouseDown"}})})(es||(es={}));(function(i){i.Remove=i.define({name:"button-remove",markup:[{tagName:"circle",selector:"button",attrs:{r:7,fill:"#FF1D00",cursor:"pointer"}},{tagName:"path",selector:"icon",attrs:{d:"M -3 -3 3 3 M -3 3 3 -3",fill:"none",stroke:"#FFFFFF","stroke-width":2,"pointer-events":"none"}}],distance:60,offset:0,onClick({view:t,btn:e}){e.parent.remove(),t.cell.remove({ui:!0,toolId:e.cid})}})})(es||(es={}));var SL=globalThis&&globalThis.__rest||function(i,t){var e={};for(var n in i)Object.prototype.hasOwnProperty.call(i,n)&&t.indexOf(n)<0&&(e[n]=i[n]);if(i!=null&&typeof Object.getOwnPropertySymbols=="function")for(var r=0,n=Object.getOwnPropertySymbols(i);r<n.length;r++)t.indexOf(n[r])<0&&Object.prototype.propertyIsEnumerable.call(i,n[r])&&(e[n[r]]=i[n[r]]);return e};class tu extends cn.ToolItem{onRender(){if(me(this.container,this.prefixClassName("cell-tool-boundary")),this.options.attrs){const t=this.options.attrs,{class:e}=t,n=SL(t,["class"]);be(this.container,vl(n)),e&&me(this.container,e)}this.update()}update(){const t=this.cellView,e=this.options,{useCellGeometry:n,rotate:r}=e,s=Zn(e.padding);let o=c1(t,n).moveAndExpand({x:-s.left,y:-s.top,width:s.left+s.right,height:s.top+s.bottom});const a=t.cell;if(a.isNode()){const l=a.getAngle();if(l)if(r){const c=a.getBBox().getCenter();qd(this.container,l,c.x,c.y,{absolute:!0})}else o=o.bbox(l)}return be(this.container,o.toJSON()),this}}(function(i){i.config({name:"boundary",tagName:"rect",padding:10,attrs:{fill:"none",stroke:"#333","stroke-width":.5,"stroke-dasharray":"5, 5","pointer-events":"none"}})})(tu||(tu={}));class wl extends cn.ToolItem{constructor(){super(...arguments),this.handles=[]}get vertices(){return this.cellView.cell.getVertices()}onRender(){return this.addClass(this.prefixClassName("edge-tool-vertices")),this.options.addable&&this.updatePath(),this.resetHandles(),this.renderHandles(),this}update(){return this.vertices.length===this.handles.length?this.updateHandles():(this.resetHandles(),this.renderHandles()),this.options.addable&&this.updatePath(),this}resetHandles(){const t=this.handles;this.handles=[],t&&t.forEach(e=>{this.stopHandleListening(e),e.remove()})}renderHandles(){const t=this.vertices;for(let e=0,n=t.length;e<n;e+=1){const r=t[e],s=this.options.createHandle,o=this.options.processHandle,a=s({index:e,graph:this.graph,guard:l=>this.guard(l),attrs:this.options.attrs||{}});o&&o(a),this.graph.hook.onToolItemCreated({name:"vertices",cell:this.cell,view:this.cellView,tool:a}),a.updatePosition(r.x,r.y),this.stamp(a.container),this.container.appendChild(a.container),this.handles.push(a),this.startHandleListening(a)}}updateHandles(){const t=this.vertices;for(let e=0,n=t.length;e<n;e+=1){const r=t[e],s=this.handles[e];s&&s.updatePosition(r.x,r.y)}}updatePath(){const t=this.childNodes.connection;t&&t.setAttribute("d",this.cellView.getConnectionPathData())}startHandleListening(t){const e=this.cellView;e.can("vertexMovable")&&(t.on("change",this.onHandleChange,this),t.on("changing",this.onHandleChanging,this),t.on("changed",this.onHandleChanged,this)),e.can("vertexDeletable")&&t.on("remove",this.onHandleRemove,this)}stopHandleListening(t){const e=this.cellView;e.can("vertexMovable")&&(t.off("change",this.onHandleChange,this),t.off("changing",this.onHandleChanging,this),t.off("changed",this.onHandleChanged,this)),e.can("vertexDeletable")&&t.off("remove",this.onHandleRemove,this)}getNeighborPoints(t){const e=this.cellView,n=this.vertices,r=t>0?n[t-1]:e.sourceAnchor,s=t<n.length-1?n[t+1]:e.targetAnchor;return{prev:N.create(r),next:N.create(s)}}getMouseEventArgs(t){const e=this.normalizeEvent(t),{x:n,y:r}=this.graph.snapToGrid(e.clientX,e.clientY);return{e,x:n,y:r}}onHandleChange({e:t}){this.focus();const e=this.cellView;if(e.cell.startBatch("move-vertex",{ui:!0,toolId:this.cid}),!this.options.stopPropagation){const{e:n,x:r,y:s}=this.getMouseEventArgs(t);e.notifyMouseDown(n,r,s)}}onHandleChanging({handle:t,e}){const n=this.cellView,r=t.options.index,{e:s,x:o,y:a}=this.getMouseEventArgs(e),l={x:o,y:a};this.snapVertex(l,r),n.cell.setVertexAt(r,l,{ui:!0,toolId:this.cid}),t.updatePosition(l.x,l.y),this.options.stopPropagation||n.notifyMouseMove(s,o,a)}onHandleChanged({e:t}){const e=this.options,n=this.cellView;if(e.addable&&this.updatePath(),!e.removeRedundancies)return;n.removeRedundantLinearVertices({ui:!0,toolId:this.cid})&&this.render(),this.blur(),n.cell.stopBatch("move-vertex",{ui:!0,toolId:this.cid}),this.eventData(t).vertexAdded&&n.cell.stopBatch("add-vertex",{ui:!0,toolId:this.cid});const{e:s,x:o,y:a}=this.getMouseEventArgs(t);this.options.stopPropagation||n.notifyMouseUp(s,o,a),n.checkMouseleave(s),e.onChanged&&e.onChanged({edge:n.cell,edgeView:n})}snapVertex(t,e){const n=this.options.snapRadius||0;if(n>0){const r=this.getNeighborPoints(e),s=r.prev,o=r.next;Math.abs(t.x-s.x)<n?t.x=s.x:Math.abs(t.x-o.x)<n&&(t.x=o.x),Math.abs(t.y-s.y)<n?t.y=r.prev.y:Math.abs(t.y-o.y)<n&&(t.y=o.y)}}onHandleRemove({handle:t,e}){if(this.options.removable){const n=t.options.index,r=this.cellView;r.cell.removeVertexAt(n,{ui:!0}),this.options.addable&&this.updatePath(),r.checkMouseleave(this.normalizeEvent(e))}}onPathMouseDown(t){const e=this.cellView;if(this.guard(t)||!this.options.addable||!e.can("vertexAddable"))return;t.stopPropagation(),t.preventDefault();const n=this.normalizeEvent(t),r=this.graph.snapToGrid(n.clientX,n.clientY).toJSON();e.cell.startBatch("add-vertex",{ui:!0,toolId:this.cid});const s=e.getVertexIndex(r.x,r.y);this.snapVertex(r,s),e.cell.insertVertex(r,s,{ui:!0,toolId:this.cid}),this.render();const o=this.handles[s];this.eventData(n,{vertexAdded:!0}),o.onMouseDown(n)}onRemove(){this.resetHandles()}}(function(i){class t extends se{constructor(n){super(),this.options=n,this.render(),this.delegateEvents({mousedown:"onMouseDown",touchstart:"onMouseDown",dblclick:"onDoubleClick"})}get graph(){return this.options.graph}render(){this.container=se.createElement("circle",!0);const n=this.options.attrs;if(typeof n=="function"){const r=i.getDefaults();this.setAttrs(Object.assign(Object.assign({},r.attrs),n(this)))}else this.setAttrs(n);this.addClass(this.prefixClassName("edge-tool-vertex"))}updatePosition(n,r){this.setAttrs({cx:n,cy:r})}onMouseDown(n){this.options.guard(n)||(n.stopPropagation(),n.preventDefault(),this.graph.view.undelegateEvents(),this.delegateDocumentEvents({mousemove:"onMouseMove",touchmove:"onMouseMove",mouseup:"onMouseUp",touchend:"onMouseUp",touchcancel:"onMouseUp"},n.data),this.emit("change",{e:n,handle:this}))}onMouseMove(n){this.emit("changing",{e:n,handle:this})}onMouseUp(n){this.emit("changed",{e:n,handle:this}),this.undelegateDocumentEvents(),this.graph.view.delegateEvents()}onDoubleClick(n){this.emit("remove",{e:n,handle:this})}}i.Handle=t})(wl||(wl={}));(function(i){const t=tn.prefix("edge-tool-vertex-path");i.config({name:"vertices",snapRadius:20,addable:!0,removable:!0,removeRedundancies:!0,stopPropagation:!0,attrs:{r:6,fill:"#333",stroke:"#fff",cursor:"move","stroke-width":2},createHandle:e=>new i.Handle(e),markup:[{tagName:"path",selector:"connection",className:t,attrs:{fill:"none",stroke:"transparent","stroke-width":10,cursor:"pointer"}}],events:{[`mousedown .${t}`]:"onPathMouseDown",[`touchstart .${t}`]:"onPathMouseDown"}})})(wl||(wl={}));class Sl extends cn.ToolItem{constructor(){super(...arguments),this.handles=[]}get vertices(){return this.cellView.cell.getVertices()}update(){return this.render(),this}onRender(){me(this.container,this.prefixClassName("edge-tool-segments")),this.resetHandles();const t=this.cellView,e=[...this.vertices];e.unshift(t.sourcePoint),e.push(t.targetPoint);for(let n=0,r=e.length;n<r-1;n+=1){const s=e[n],o=e[n+1],a=this.renderHandle(s,o,n);this.stamp(a.container),this.handles.push(a)}return this}renderHandle(t,e,n){const r=this.options.createHandle({index:n,graph:this.graph,guard:s=>this.guard(s),attrs:this.options.attrs||{}});return this.options.processHandle&&this.options.processHandle(r),this.graph.hook.onToolItemCreated({name:"segments",cell:this.cell,view:this.cellView,tool:r}),this.updateHandle(r,t,e),this.container.appendChild(r.container),this.startHandleListening(r),r}startHandleListening(t){t.on("change",this.onHandleChange,this),t.on("changing",this.onHandleChanging,this),t.on("changed",this.onHandleChanged,this)}stopHandleListening(t){t.off("change",this.onHandleChange,this),t.off("changing",this.onHandleChanging,this),t.off("changed",this.onHandleChanged,this)}resetHandles(){const t=this.handles;this.handles=[],t&&t.forEach(e=>{this.stopHandleListening(e),e.remove()})}shiftHandleIndexes(t){const e=this.handles;for(let n=0,r=e.length;n<r;n+=1)e[n].options.index+=t}resetAnchor(t,e){const n=this.cellView.cell,r={ui:!0,toolId:this.cid};e?n.prop([t,"anchor"],e,r):n.removeProp([t,"anchor"],r)}snapHandle(t,e,n){const r=t.options.axis,s=t.options.index,l=this.cellView.cell.getVertices(),c=l[s-2]||n.sourceAnchor,u=l[s+1]||n.targetAnchor,h=this.options.snapRadius;return Math.abs(e[r]-c[r])<h?e[r]=c[r]:Math.abs(e[r]-u[r])<h&&(e[r]=u[r]),e}onHandleChanging({handle:t,e}){const n=this.graph,r=this.options,s=this.cellView,o=r.anchor,a=t.options.axis,l=t.options.index-1,c=this.getEventData(e),u=this.normalizeEvent(e),h=n.snapToGrid(u.clientX,u.clientY),f=this.snapHandle(t,h.clone(),c),p=Ye(this.vertices);let b=p[l],v=p[l+1];const C=s.sourceView,x=s.sourceBBox;let S=!1,E=!1;if(b?l===0?x.containsPoint(b)?(p.shift(),this.shiftHandleIndexes(-1),S=!0):(b[a]=f[a],E=!0):b[a]=f[a]:(b=s.sourceAnchor.toJSON(),b[a]=f[a],x.containsPoint(b)?S=!0:(p.unshift(b),this.shiftHandleIndexes(1),E=!0)),typeof o=="function"&&C){if(S){const D=c.sourceAnchor.clone();D[a]=f[a];const z=xt(o,s,D,C,s.sourceMagnet||C.container,"source",s,this);this.resetAnchor("source",z)}E&&this.resetAnchor("source",c.sourceAnchorDef)}const O=s.targetView,k=s.targetBBox;let m=!1,T=!1;if(v?l===p.length-2?k.containsPoint(v)?(p.pop(),m=!0):(v[a]=f[a],T=!0):v[a]=f[a]:(v=s.targetAnchor.toJSON(),v[a]=f[a],k.containsPoint(v)?m=!0:(p.push(v),T=!0)),typeof o=="function"&&O){if(m){const D=c.targetAnchor.clone();D[a]=f[a];const z=xt(o,s,D,O,s.targetMagnet||O.container,"target",s,this);this.resetAnchor("target",z)}T&&this.resetAnchor("target",c.targetAnchorDef)}N.equalPoints(p,this.vertices)||this.cellView.cell.setVertices(p,{ui:!0,toolId:this.cid}),this.updateHandle(t,b,v,0),r.stopPropagation||s.notifyMouseMove(u,h.x,h.y)}onHandleChange({handle:t,e}){const n=this.options,r=this.handles,s=this.cellView,o=t.options.index;if(!!Array.isArray(r)){for(let a=0,l=r.length;a<l;a+=1)a!==o&&r[a].hide();if(this.focus(),this.setEventData(e,{sourceAnchor:s.sourceAnchor.clone(),targetAnchor:s.targetAnchor.clone(),sourceAnchorDef:Ye(this.cell.prop(["source","anchor"])),targetAnchorDef:Ye(this.cell.prop(["target","anchor"]))}),this.cell.startBatch("move-segment",{ui:!0,toolId:this.cid}),!n.stopPropagation){const a=this.normalizeEvent(e),l=this.graph.snapToGrid(a.clientX,a.clientY);s.notifyMouseDown(a,l.x,l.y)}}}onHandleChanged({e:t}){const e=this.options,n=this.cellView;e.removeRedundancies&&n.removeRedundantLinearVertices({ui:!0,toolId:this.cid});const r=this.normalizeEvent(t),s=this.graph.snapToGrid(r.clientX,r.clientY);this.render(),this.blur(),this.cell.stopBatch("move-segment",{ui:!0,toolId:this.cid}),e.stopPropagation||n.notifyMouseUp(r,s.x,s.y),n.checkMouseleave(r),e.onChanged&&e.onChanged({edge:n.cell,edgeView:n})}updateHandle(t,e,n,r=0){const s=this.options.precision||0,o=Math.abs(e.x-n.x)<s,a=Math.abs(e.y-n.y)<s;if(o||a){const l=new At(e,n);if(l.length()<this.options.threshold)t.hide();else{const u=l.getCenter(),h=o?"x":"y";u[h]+=r||0;const f=l.vector().vectorAngle(new N(1,0));t.updatePosition(u.x,u.y,f,this.cellView),t.show(),t.options.axis=h}}else t.hide()}onRemove(){this.resetHandles()}}(function(i){class t extends se{constructor(n){super(),this.options=n,this.render(),this.delegateEvents({mousedown:"onMouseDown",touchstart:"onMouseDown"})}render(){this.container=se.createElement("rect",!0);const n=this.options.attrs;if(typeof n=="function"){const r=i.getDefaults();this.setAttrs(Object.assign(Object.assign({},r.attrs),n(this)))}else this.setAttrs(n);this.addClass(this.prefixClassName("edge-tool-segment"))}updatePosition(n,r,s,o){const a=o.getClosestPoint(new N(n,r))||new N(n,r);let l=wn().translate(a.x,a.y);if(a.equals({x:n,y:r}))l=l.rotate(s);else{let u=new At(n,r,a.x,a.y).vector().vectorAngle(new N(1,0));u!==0&&(u+=90),l=l.rotate(u)}this.setAttrs({transform:uo(l),cursor:s%180===0?"row-resize":"col-resize"})}onMouseDown(n){this.options.guard(n)||(this.trigger("change",{e:n,handle:this}),n.stopPropagation(),n.preventDefault(),this.options.graph.view.undelegateEvents(),this.delegateDocumentEvents({mousemove:"onMouseMove",touchmove:"onMouseMove",mouseup:"onMouseUp",touchend:"onMouseUp",touchcancel:"onMouseUp"},n.data))}onMouseMove(n){this.emit("changing",{e:n,handle:this})}onMouseUp(n){this.emit("changed",{e:n,handle:this}),this.undelegateDocumentEvents(),this.options.graph.view.delegateEvents()}show(){this.container.style.display=""}hide(){this.container.style.display="none"}}i.Handle=t})(Sl||(Sl={}));(function(i){i.config({name:"segments",precision:.5,threshold:40,snapRadius:10,stopPropagation:!0,removeRedundancies:!0,attrs:{width:20,height:8,x:-10,y:-4,rx:4,ry:4,fill:"#333",stroke:"#fff","stroke-width":2},createHandle:t=>new i.Handle(t),anchor:l1})})(Sl||(Sl={}));class eu extends cn.ToolItem{get type(){return this.options.type}onRender(){me(this.container,this.prefixClassName(`edge-tool-${this.type}-anchor`)),this.toggleArea(!1),this.update()}update(){const t=this.type;return this.cellView.getTerminalView(t)?(this.updateAnchor(),this.updateArea(),this.container.style.display=""):this.container.style.display="none",this}updateAnchor(){const t=this.childNodes;if(!t)return;const e=t.anchor;if(!e)return;const n=this.type,r=this.cellView,s=this.options,o=r.getTerminalAnchor(n),a=r.cell.prop([n,"anchor"]);e.setAttribute("transform",`translate(${o.x}, ${o.y})`);const l=a?s.customAnchorAttrs:s.defaultAnchorAttrs;l&&Object.keys(l).forEach(c=>{e.setAttribute(c,l[c])})}updateArea(){const t=this.childNodes;if(!t)return;const e=t.area;if(!e)return;const n=this.type,r=this.cellView,s=r.getTerminalView(n);if(s){const o=s.cell,a=r.getTerminalMagnet(n);let l=this.options.areaPadding||0;Number.isFinite(l)||(l=0);let c,u,h;s.isEdgeElement(a)?(c=s.getBBox(),u=0,h=c.getCenter()):(c=s.getUnrotatedBBoxOfElement(a),u=o.getAngle(),h=c.getCenter(),u&&h.rotate(-u,o.getBBox().getCenter())),c.inflate(l),be(e,{x:-c.width/2,y:-c.height/2,width:c.width,height:c.height,transform:`translate(${h.x}, ${h.y}) rotate(${u})`})}}toggleArea(t){if(this.childNodes){const e=this.childNodes.area;e&&(e.style.display=t?"":"none")}}onMouseDown(t){this.guard(t)||(t.stopPropagation(),t.preventDefault(),this.graph.view.undelegateEvents(),this.options.documentEvents&&this.delegateDocumentEvents(this.options.documentEvents),this.focus(),this.toggleArea(this.options.restrictArea),this.cell.startBatch("move-anchor",{ui:!0,toolId:this.cid}))}resetAnchor(t){const e=this.type,n=this.cell;t?n.prop([e,"anchor"],t,{rewrite:!0,ui:!0,toolId:this.cid}):n.removeProp([e,"anchor"],{ui:!0,toolId:this.cid})}onMouseMove(t){const e=this.type,n=this.cellView,r=n.getTerminalView(e);if(r==null)return;const s=this.normalizeEvent(t),o=r.cell,a=n.getTerminalMagnet(e);let l=this.graph.clientToLocal(s.clientX,s.clientY);const c=this.options.snap;if(typeof c=="function"){const f=xt(c,n,l,r,a,e,n,this);l=N.create(f)}if(this.options.restrictArea)if(r.isEdgeElement(a)){const f=r.getClosestPoint(l);f&&(l=f)}else{const f=r.getUnrotatedBBoxOfElement(a),p=o.getAngle(),b=o.getBBox().getCenter(),v=l.clone().rotate(p,b);f.containsPoint(v)||(l=f.getNearestPointToPoint(v).rotate(-p,b))}let u;const h=this.options.anchor;typeof h=="function"&&(u=xt(h,n,l,r,a,e,n,this)),this.resetAnchor(u),this.update()}onMouseUp(t){this.graph.view.delegateEvents(),this.undelegateDocumentEvents(),this.blur(),this.toggleArea(!1);const e=this.cellView;this.options.removeRedundancies&&e.removeRedundantLinearVertices({ui:!0,toolId:this.cid}),this.cell.stopBatch("move-anchor",{ui:!0,toolId:this.cid})}onDblClick(){const t=this.options.resetAnchor;t&&this.resetAnchor(t===!0?void 0:t),this.update()}}(function(i){i.config({tagName:"g",markup:[{tagName:"circle",selector:"anchor",attrs:{cursor:"pointer"}},{tagName:"rect",selector:"area",attrs:{"pointer-events":"none",fill:"none",stroke:"#33334F","stroke-dasharray":"2,4",rx:5,ry:5}}],events:{mousedown:"onMouseDown",touchstart:"onMouseDown",dblclick:"onDblClick"},documentEvents:{mousemove:"onMouseMove",touchmove:"onMouseMove",mouseup:"onMouseUp",touchend:"onMouseUp",touchcancel:"onMouseUp"},customAnchorAttrs:{"stroke-width":4,stroke:"#33334F",fill:"#FFFFFF",r:5},defaultAnchorAttrs:{"stroke-width":2,stroke:"#FFFFFF",fill:"#33334F",r:6},areaPadding:6,snapRadius:10,resetAnchor:!0,restrictArea:!0,removeRedundancies:!0,anchor:l1,snap(t,e,n,r,s,o){const a=o.options.snapRadius||0,l=r==="source",c=l?0:-1,u=this.cell.getVertexAt(c)||this.getTerminalAnchor(l?"target":"source");return u&&(Math.abs(u.x-t.x)<a&&(t.x=u.x),Math.abs(u.y-t.y)<a&&(t.y=u.y)),t}})})(eu||(eu={}));const EL=eu.define({name:"source-anchor",type:"source"}),AL=eu.define({name:"target-anchor",type:"target"});var ML=globalThis&&globalThis.__rest||function(i,t){var e={};for(var n in i)Object.prototype.hasOwnProperty.call(i,n)&&t.indexOf(n)<0&&(e[n]=i[n]);if(i!=null&&typeof Object.getOwnPropertySymbols=="function")for(var r=0,n=Object.getOwnPropertySymbols(i);r<n.length;r++)t.indexOf(n[r])<0&&Object.prototype.propertyIsEnumerable.call(i,n[r])&&(e[n[r]]=i[n[r]]);return e};class nu extends cn.ToolItem{get type(){return this.options.type}get ratio(){return this.options.ratio}init(){if(this.options.attrs){const t=this.options.attrs,{class:e}=t,n=ML(t,["class"]);this.setAttrs(n,this.container),e&&me(this.container,e)}}onRender(){me(this.container,this.prefixClassName(`edge-tool-${this.type}-arrowhead`)),this.update()}update(){const t=this.ratio,e=this.cellView,n=e.getTangentAtRatio(t),r=n?n.start:e.getPointAtRatio(t),s=n&&n.vector().vectorAngle(new N(1,0))||0;if(!r)return this;const o=wn().translate(r.x,r.y).rotate(s);return Zo(this.container,o,{absolute:!0}),this}onMouseDown(t){if(this.guard(t))return;t.stopPropagation(),t.preventDefault();const e=this.cellView;if(e.can("arrowheadMovable")){e.cell.startBatch("move-arrowhead",{ui:!0,toolId:this.cid});const n=this.graph.snapToGrid(t.clientX,t.clientY),r=e.prepareArrowheadDragging(this.type,{x:n.x,y:n.y,options:{toolId:this.cid}});this.cellView.setEventData(t,r),this.delegateDocumentEvents(this.options.documentEvents,t.data),e.graph.view.undelegateEvents(),this.container.style.pointerEvents="none"}this.focus()}onMouseMove(t){const e=this.normalizeEvent(t),n=this.graph.snapToGrid(e.clientX,e.clientY);this.cellView.onMouseMove(e,n.x,n.y),this.update()}onMouseUp(t){this.undelegateDocumentEvents();const e=this.normalizeEvent(t),n=this.cellView,r=this.graph.snapToGrid(e.clientX,e.clientY);n.onMouseUp(e,r.x,r.y),this.graph.view.delegateEvents(),this.blur(),this.container.style.pointerEvents="",n.cell.stopBatch("move-arrowhead",{ui:!0,toolId:this.cid})}}(function(i){i.config({tagName:"path",isSVGElement:!0,events:{mousedown:"onMouseDown",touchstart:"onMouseDown"},documentEvents:{mousemove:"onMouseMove",touchmove:"onMouseMove",mouseup:"onMouseUp",touchend:"onMouseUp",touchcancel:"onMouseUp"}})})(nu||(nu={}));const OL=nu.define({name:"source-arrowhead",type:"source",ratio:0,attrs:{d:"M 10 -8 -10 0 10 8 Z",fill:"#333",stroke:"#fff","stroke-width":2,cursor:"move"}}),TL=nu.define({name:"target-arrowhead",type:"target",ratio:1,attrs:{d:"M -10 -8 10 0 -10 8 Z",fill:"#333",stroke:"#fff","stroke-width":2,cursor:"move"}});class na extends cn.ToolItem{constructor(){super(...arguments),this.labelIndex=-1,this.distance=.5}render(){return this.createElement(),this.update(),this.autoFocus(),this.delegateDocumentEvents(this.options.documentEvents),this}createElement(){const{cell:t}=this,e=[this.prefixClassName(`${t.isEdge()?"edge":"node"}-tool-editor`),this.prefixClassName("cell-tool-editor")];this.editor=cn.createElement("div",!1),this.addClass(e,this.editor),this.editor.contentEditable="true",this.container.appendChild(this.editor)}update(){const{graph:t,cell:e,editor:n}=this,r=n.style;let s=new N,o=20;if(e.isNode())s=e.getBBox().center,o=e.size().width-4;else if(e.isEdge()){const h=this.options.event,f=h.target,p=f.parentElement;if(p&&Bu(p,this.prefixClassName("edge-label"))){const v=p.getAttribute("data-index")||"0";this.labelIndex=parseInt(v,10);const C=p.getAttribute("transform"),{translation:x}=Hu(C);s=new N(x.tx,x.ty),o=Cn(f).width}else{if(!this.options.labelAddable)return this;s=t.clientToLocal(N.create(h.clientX,h.clientY));const C=this.cellView.path.closestPointLength(s);this.distance=C}}s=t.localToGraph(s),r.left=`${s.x}px`,r.top=`${s.y}px`,r.minWidth=`${o}px`;const a=t.scale();r.transform=`scale(${a.sx}, ${a.sy}) translate(-50%, -50%)`;const l=this.options.attrs;r.fontSize=`${l.fontSize}px`,r.fontFamily=l.fontFamily,r.color=l.color,r.backgroundColor=l.backgroundColor;const c=this.options.getText;let u;return typeof c=="function"&&(u=xt(c,this.cellView,{cell:this.cell,index:this.labelIndex})),n.innerText=u||"",this}onDocumentMouseDown(t){if(t.target!==this.editor){const e=this.cell,n=this.editor.innerText.replace(/\n$/,"")||"",r=this.options.setText;typeof r=="function"&&xt(r,this.cellView,{cell:this.cell,value:n,index:this.labelIndex,distance:this.distance}),e.removeTool(e.isEdge()?"edge-editor":"node-editor"),this.undelegateDocumentEvents()}}onDblClick(t){t.stopPropagation()}onMouseDown(t){t.stopPropagation()}autoFocus(){setTimeout(()=>{this.editor.focus(),this.selectText()})}selectText(){if(window.getSelection){const t=document.createRange(),e=window.getSelection();t.selectNodeContents(this.editor),e.removeAllRanges(),e.addRange(t)}}}(function(i){i.config({tagName:"div",isSVGElement:!1,events:{dblclick:"onDblClick",mousedown:"onMouseDown"},documentEvents:{mousedown:"onDocumentMouseDown"}})})(na||(na={}));(function(i){i.NodeEditor=i.define({attrs:{fontSize:14,fontFamily:"Arial, helvetica, sans-serif",color:"#000",backgroundColor:"#fff"},getText({cell:t}){return t.attr("text/text")},setText({cell:t,value:e}){t.attr("text/text",e)}}),i.EdgeEditor=i.define({attrs:{fontSize:14,fontFamily:"Arial, helvetica, sans-serif",color:"#000",backgroundColor:"#fff"},labelAddable:!0,getText({cell:t,index:e}){return e===-1?"":t.prop(`labels/${e}/attrs/label/text`)},setText({cell:t,value:e,index:n,distance:r}){const s=t;n===-1?s.appendLabel({position:{distance:r},attrs:{label:{text:e}}}):e?s.prop(`labels/${n}/attrs/label/text`,e):typeof n=="number"&&s.removeLabelAt(n)}})})(na||(na={}));var u1=globalThis&&globalThis.__rest||function(i,t){var e={};for(var n in i)Object.prototype.hasOwnProperty.call(i,n)&&t.indexOf(n)<0&&(e[n]=i[n]);if(i!=null&&typeof Object.getOwnPropertySymbols=="function")for(var r=0,n=Object.getOwnPropertySymbols(i);r<n.length;r++)t.indexOf(n[r])<0&&Object.prototype.propertyIsEnumerable.call(i,n[r])&&(e[n[r]]=i[n[r]]);return e},ia;(function(i){i.presets={boundary:tu,button:es,"button-remove":es.Remove,"node-editor":na.NodeEditor},i.registry=Ke.create({type:"node tool",process(t,e){if(typeof e=="function")return e;let n=cn.ToolItem;const{inherit:r}=e,s=u1(e,["inherit"]);if(r){const o=this.get(r);o==null?this.onNotFound(r,"inherited"):n=o}return s.name==null&&(s.name=t),n.define.call(n,s)}}),i.registry.register(i.presets,!0)})(ia||(ia={}));var ra;(function(i){i.presets={boundary:tu,vertices:wl,segments:Sl,button:es,"button-remove":es.Remove,"source-anchor":EL,"target-anchor":AL,"source-arrowhead":OL,"target-arrowhead":TL,"edge-editor":na.EdgeEditor},i.registry=Ke.create({type:"edge tool",process(t,e){if(typeof e=="function")return e;let n=cn.ToolItem;const{inherit:r}=e,s=u1(e,["inherit"]);if(r){const o=this.get(r);o==null?this.onNotFound(r,"inherited"):n=o}return s.name==null&&(s.name=t),n.define.call(n,s)}}),i.registry.register(i.presets,!0)})(ra||(ra={}));const PL=Tr("center"),kL=Tr("topCenter"),_L=Tr("bottomCenter"),DL=Tr("leftMiddle"),NL=Tr("rightMiddle"),$L=Tr("topLeft"),FL=Tr("topRight"),LL=Tr("bottomLeft"),IL=Tr("bottomRight");function Tr(i){return function(t,e,n,r={}){const s=r.rotate?t.getUnrotatedBBoxOfElement(e):t.getBBoxOfElement(e),o=s[i];o.x+=nr(r.dx,s.width),o.y+=nr(r.dy,s.height);const a=t.cell;return r.rotate?o.rotate(-a.getAngle(),a.getBBox().getCenter()):o}}function Uu(i){return function(t,e,n,r){if(n instanceof Element){const s=this.graph.renderer.findViewByElem(n);let o;if(s)if(s.isEdgeElement(n)){const a=r.fixedAt!=null?r.fixedAt:"50%";o=h1(s,a)}else o=s.getBBoxOfElement(n).getCenter();else o=new N;return i.call(this,t,e,o,r)}return i.apply(this,arguments)}}function h1(i,t){const e=Ri(t),n=typeof t=="string"?parseFloat(t):t;return e?i.getPointAtRatio(n/100):i.getPointAtLength(n)}const zL=function(i,t,e,n){const r=i.cell.getAngle(),s=i.getBBoxOfElement(t),o=s.getCenter(),a=s.getTopLeft(),l=s.getBottomRight();let c=n.padding;if(Number.isFinite(c)||(c=0),a.y+c<=e.y&&e.y<=l.y-c){const u=e.y-o.y;o.x+=r===0||r===180?0:u*1/Math.tan(re.toRad(r)),o.y+=u}else if(a.x+c<=e.x&&e.x<=l.x-c){const u=e.x-o.x;o.y+=r===90||r===270?0:u*Math.tan(re.toRad(r)),o.x+=u}return o},jL=Uu(zL),BL=function(i,t,e,n,r){const s=i.cell.getConnectionPoint(this.cell,r);return(n.dx||n.dy)&&s.translate(n.dx||0,n.dy||0),s},RL=function(i,t,e,n){let r,s=0,o;const a=i.cell;n.rotate?(r=i.getUnrotatedBBoxOfElement(t),o=a.getBBox().getCenter(),s=a.getAngle()):r=i.getBBoxOfElement(t);const l=n.padding;l!=null&&Number.isFinite(l)&&r.inflate(l),n.rotate&&e.rotate(s,o);const c=r.getNearestSideToPoint(e);let u;switch(c){case"left":u=r.getLeftMiddle();break;case"right":u=r.getRightMiddle();break;case"top":u=r.getTopCenter();break;case"bottom":u=r.getBottomCenter();break}const h=n.direction;return h==="H"?(c==="top"||c==="bottom")&&(e.x<=r.x+r.width?u=r.getLeftMiddle():u=r.getRightMiddle()):h==="V"&&(e.y<=r.y+r.height?u=r.getTopCenter():u=r.getBottomCenter()),n.rotate?u.rotate(-s,o):u},VL=Uu(RL);var HL=Object.freeze(Object.defineProperty({__proto__:null,center:PL,top:kL,bottom:_L,left:DL,right:NL,topLeft:$L,topRight:FL,bottomLeft:LL,bottomRight:IL,orth:jL,nodeCenter:BL,midSide:VL},Symbol.toStringTag,{value:"Module"})),sa;(function(i){i.presets=HL,i.registry=Ke.create({type:"node endpoint"}),i.registry.register(i.presets,!0)})(sa||(sa={}));const GL=function(i,t,e,n){let r=n.ratio!=null?n.ratio:.5;return r>1&&(r/=100),i.getPointAtRatio(r)},qL=function(i,t,e,n){const r=n.length!=null?n.length:20;return i.getPointAtLength(r)},d1=function(i,t,e,n){const r=i.getClosestPoint(e);return r!=null?r:new N},UL=Uu(d1),WL=function(i,t,e,n){const s=i.getConnection(),o=i.getConnectionSubdivisions(),a=new At(e.clone().translate(0,1e6),e.clone().translate(0,-1e6)),l=new At(e.clone().translate(1e6,0),e.clone().translate(-1e6,0)),c=a.intersect(s,{segmentSubdivisions:o}),u=l.intersect(s,{segmentSubdivisions:o}),h=[];return c&&h.push(...c),u&&h.push(...u),h.length>0?e.closest(h):n.fallbackAt!=null?h1(i,n.fallbackAt):xt(d1,this,i,t,e,n)},XL=Uu(WL);var YL=Object.freeze(Object.defineProperty({__proto__:null,closest:UL,ratio:GL,length:qL,orth:XL},Symbol.toStringTag,{value:"Module"})),oa;(function(i){i.presets=YL,i.registry=Ke.create({type:"edge endpoint"}),i.registry.register(i.presets,!0)})(oa||(oa={}));function Wu(i,t,e){let n;if(typeof e=="object"){if(Number.isFinite(e.y)){const s=new At(t,i),{start:o,end:a}=s.parallel(e.y);t=o,i=a}n=e.x}else n=e;if(n==null||!Number.isFinite(n))return i;const r=i.distance(t);return n===0&&r>0?i:i.move(t,-Math.min(n,r-1))}function iu(i){const t=i.getAttribute("stroke-width");return t===null?0:parseFloat(t)||0}function KL(i){if(i==null)return null;let t=i;do{let e=t.tagName;if(typeof e!="string")return null;if(e=e.toUpperCase(),e==="G")t=t.firstElementChild;else if(e==="TITLE")t=t.nextElementSibling;else break}while(t);return t}const f1=function(i,t,e,n){const r=t.getBBoxOfElement(e);n.stroked&&r.inflate(iu(e)/2);const s=i.intersect(r),o=s&&s.length?i.start.closest(s):i.end;return Wu(o,i.start,n.offset)},JL=function(i,t,e,n,r){const s=t.cell,o=s.isNode()?s.getAngle():0;if(o===0)return xt(f1,this,i,t,e,n,r);const a=t.getUnrotatedBBoxOfElement(e);n.stroked&&a.inflate(iu(e)/2);const l=a.getCenter(),c=i.clone().rotate(o,l),u=c.setLength(1e6).intersect(a),h=u&&u.length?c.start.closest(u).rotate(-o,l):i.end;return Wu(h,i.start,n.offset)},ZL=function(i,t,e,n){let r,s;const o=i.end,a=n.selector;if(typeof a=="string"?r=t.findOne(a):Array.isArray(a)?r=ip(e,a):r=KL(e),!ml(r)){if(r===e||!ml(e))return o;r=e}const l=t.getShapeOfElement(r),c=t.getMatrixOfElement(r),u=t.getRootTranslatedMatrix(),h=t.getRootRotatedMatrix(),f=u.multiply(h).multiply(c),p=f.inverse(),b=n$(i,p),v=b.start.clone(),C=t.getDataOfElement(r);if(n.insideout===!1){C.shapeBBox==null&&(C.shapeBBox=l.bbox());const O=C.shapeBBox;if(O!=null&&O.containsPoint(v))return o}n.extrapolate===!0&&b.setLength(1e6);let x;if(Nt.isPath(l)){const O=n.precision||2;C.segmentSubdivisions==null&&(C.segmentSubdivisions=l.getSegmentSubdivisions({precision:O})),x={precision:O,segmentSubdivisions:C.segmentSubdivisions},s=b.intersect(l,x)}else s=b.intersect(l);s?Array.isArray(s)&&(s=v.closest(s)):n.sticky===!0&&(ht.isRectangle(l)?s=l.getNearestPointToPoint(v):Ei.isEllipse(l)?s=l.intersectsWithLineFromCenterToPoint(v):s=l.closestPoint(v,x));const S=s?gr(s,f):o;let E=n.offset||0;return n.stroked!==!1&&(typeof E=="object"?(E=Object.assign({},E),E.x==null&&(E.x=0),E.x+=iu(r)/2):E+=iu(r)/2),Wu(S,i.start,E)};function QL(i,t,e=0){const{start:n,end:r}=i;let s,o,a,l;switch(t){case"left":l="x",s=r,o=n,a=-1;break;case"right":l="x",s=n,o=r,a=1;break;case"top":l="y",s=r,o=n,a=-1;break;case"bottom":l="y",s=n,o=r,a=1;break;default:return}n[l]<r[l]?s[l]=o[l]:o[l]=s[l],Number.isFinite(e)&&(s[l]+=a*e,o[l]+=a*e)}const t7=function(i,t,e,n){const{alignOffset:r,align:s}=n;return s&&QL(i,s,r),Wu(i.end,i.start,n.offset)};var e7=Object.freeze(Object.defineProperty({__proto__:null,bbox:f1,rect:JL,boundary:ZL,anchor:t7},Symbol.toStringTag,{value:"Module"})),aa;(function(i){i.presets=e7,i.registry=Ke.create({type:"connection point"}),i.registry.register(i.presets,!0)})(aa||(aa={}));const n7=function(i){return[...i]},i7=function(i,t,e){const n=t.side||"bottom",r=Zn(t.padding||40),s=e.sourceBBox,o=e.targetBBox,a=s.getCenter(),l=o.getCenter();let c,u,h;switch(n){case"top":h=-1,c="y",u="height";break;case"left":h=-1,c="x",u="width";break;case"right":h=1,c="x",u="width";break;case"bottom":default:h=1,c="y",u="height";break}return a[c]+=h*(s[u]/2+r[n]),l[c]+=h*(o[u]/2+r[n]),h*(a[c]-l[c])>0?l[c]=a[c]:a[c]=l[c],[a.toJSON(),...i,l.toJSON()]};function yc(i){return new ht(i.x,i.y,0,0)}function ru(i={}){const t=Zn(i.padding||20);return{x:-t.left,y:-t.top,width:t.left+t.right,height:t.top+t.bottom}}function p1(i,t={}){return i.sourceBBox.clone().moveAndExpand(ru(t))}function g1(i,t={}){return i.targetBBox.clone().moveAndExpand(ru(t))}function r7(i,t={}){return i.sourceAnchor?i.sourceAnchor:p1(i,t).getCenter()}function s7(i,t={}){return i.targetAnchor?i.targetAnchor:g1(i,t).getCenter()}const m1=function(i,t,e){let n=p1(e,t),r=g1(e,t);const s=r7(e,t),o=s7(e,t);n=n.union(yc(s)),r=r.union(yc(o));const a=i.map(u=>N.create(u));a.unshift(s),a.push(o);let l=null;const c=[];for(let u=0,h=a.length-1;u<h;u+=1){let f=null;const p=a[u],b=a[u+1],v=vi.getBearing(p,b)!=null;if(u===0)u+1===h?n.intersectsWithRect(r.clone().inflate(1))?f=vi.insideNode(p,b,n,r):v||(f=vi.nodeToNode(p,b,n,r)):n.containsPoint(b)?f=vi.insideNode(p,b,n,yc(b).moveAndExpand(ru(t))):v||(f=vi.nodeToVertex(p,b,n));else if(u+1===h){const C=v&&vi.getBearing(b,p)===l;r.containsPoint(p)||C?f=vi.insideNode(p,b,yc(p).moveAndExpand(ru(t)),r,l):v||(f=vi.vertexToNode(p,b,r,l))}else v||(f=vi.vertexToVertex(p,b,l));f?(c.push(...f.points),l=f.direction):l=vi.getBearing(p,b),u+1<h&&c.push(b)}return c};var vi;(function(i){const t={N:"S",S:"N",E:"W",W:"E"},e={N:-Math.PI/2*3,S:-Math.PI/2,E:0,W:Math.PI};function n(h,f,p){let b=new N(h.x,f.y);return p.containsPoint(b)&&(b=new N(f.x,h.y)),b}function r(h,f){return h[f==="W"||f==="E"?"width":"height"]}i.getBBoxSize=r;function s(h,f){return h.x===f.x?h.y>f.y?"N":"S":h.y===f.y?h.x>f.x?"W":"E":null}i.getBearing=s;function o(h,f,p){const b=new N(h.x,f.y),v=new N(f.x,h.y),C=s(h,b),x=s(h,v),S=p?t[p]:null,E=C===p||C!==S&&(x===S||x!==p)?b:v;return{points:[E],direction:s(E,f)}}i.vertexToVertex=o;function a(h,f,p){const b=n(h,f,p);return{points:[b],direction:s(b,f)}}i.nodeToVertex=a;function l(h,f,p,b){const v=[new N(h.x,f.y),new N(f.x,h.y)],C=v.filter(E=>!p.containsPoint(E)),x=C.filter(E=>s(E,h)!==b);let S;if(x.length>0)return S=x.filter(E=>s(h,E)===b).pop(),S=S||x[0],{points:[S],direction:s(S,f)};{S=h5(v,C)[0];const E=N.create(f).move(S,-r(p,b)/2);return{points:[n(E,h,p),E],direction:s(E,f)}}}i.vertexToNode=l;function c(h,f,p,b){let v=a(f,h,b);const C=v.points[0];if(p.containsPoint(C)){v=a(h,f,p);const x=v.points[0];if(b.containsPoint(x)){const S=N.create(h).move(x,-r(p,s(h,x))/2),E=N.create(f).move(C,-r(b,s(f,C))/2),O=new At(S,E).getCenter(),k=a(h,O,p),m=o(O,f,k.direction);v.points=[k.points[0],m.points[0]],v.direction=m.direction}}return v}i.nodeToNode=c;function u(h,f,p,b,v){const C=p.union(b).inflate(1),x=C.getCenter(),S=x.distance(f)>x.distance(h),E=S?f:h,O=S?h:f;let k,m,T;v?(k=N.fromPolar(C.width+C.height,e[v],E),k=C.getNearestPointToPoint(k).move(k,-1)):k=C.getNearestPointToPoint(E).move(E,1),m=n(k,O,C);let D;k.round().equals(m.round())?(m=N.fromPolar(C.width+C.height,re.toRad(k.theta(E))+Math.PI/2,O),m=C.getNearestPointToPoint(m).move(O,1).round(),T=n(k,m,C),D=S?[m,T,k]:[k,T,m]):D=S?[m,k]:[k,m];const z=s(S?k:m,f);return{points:D,direction:z}}i.insideNode=u})(vi||(vi={}));const o7={step:10,maxLoopCount:2e3,precision:1,maxDirectionChange:90,perpendicular:!0,excludeTerminals:[],excludeShapes:[],excludeHiddenNodes:!1,startDirections:["top","right","bottom","left"],endDirections:["top","right","bottom","left"],directionMap:{top:{x:0,y:-1},right:{x:1,y:0},bottom:{x:0,y:1},left:{x:-1,y:0}},cost(){return Gr(this.step,this)},directions(){const i=Gr(this.step,this),t=Gr(this.cost,this);return[{cost:t,offsetX:i,offsetY:0},{cost:t,offsetX:-i,offsetY:0},{cost:t,offsetX:0,offsetY:i},{cost:t,offsetX:0,offsetY:-i}]},penalties(){const i=Gr(this.step,this);return{0:0,45:i/2,90:i/2}},paddingBox(){const i=Gr(this.step,this);return{x:-i,y:-i,width:2*i,height:2*i}},fallbackRouter:m1,draggingRouter:null};function Gr(i,t){return typeof i=="function"?i.call(t):i}function a7(i){const t=Object.keys(i).reduce((e,n)=>{const r=e;return n==="fallbackRouter"||n==="draggingRouter"||n==="fallbackRoute"?r[n]=i[n]:r[n]=Gr(i[n],i),e},{});if(t.padding){const e=Zn(t.padding);i.paddingBox={x:-e.left,y:-e.top,width:e.left+e.right,height:e.top+e.bottom}}return t.directions.forEach(e=>{const n=new N(0,0),r=new N(e.offsetX,e.offsetY);e.angle=re.normalize(n.theta(r))}),t}const I2=1,z2=2;class l7{constructor(){this.items=[],this.hash={},this.values={}}add(t,e){this.hash[t]?this.items.splice(this.items.indexOf(t),1):this.hash[t]=I2,this.values[t]=e;const n=J5(this.items,t,r=>this.values[r]);this.items.splice(n,0,t)}pop(){const t=this.items.shift();return t&&(this.hash[t]=z2),t}isOpen(t){return this.hash[t]===I2}isClose(t){return this.hash[t]===z2}isEmpty(){return this.items.length===0}}class c7{constructor(t){this.options=t,this.mapGridSize=100,this.map={}}build(t,e){const n=this.options,r=n.excludeTerminals.reduce((c,u)=>{const h=e[u];if(h){const f=t.getCell(h.cell);f&&c.push(f)}return c},[]);let s=[];const o=t.getCell(e.getSourceCellId());o&&(s=j0(s,o.getAncestors().map(c=>c.id)));const a=t.getCell(e.getTargetCellId());a&&(s=j0(s,a.getAncestors().map(c=>c.id)));const l=this.mapGridSize;return t.getNodes().reduce((c,u)=>{const h=u.shape,f=n.excludeShapes,p=h?f.includes(h):!1,b=r.some(S=>S.id===u.id),v=s.includes(u.id),C=n.excludeHiddenNodes&&!u.isVisible();if(!(p||b||v||C)){const S=u.getBBox().moveAndExpand(n.paddingBox),E=S.getOrigin().snapToGrid(l),O=S.getCorner().snapToGrid(l);for(let k=E.x;k<=O.x;k+=l)for(let m=E.y;m<=O.y;m+=l){const T=new N(k,m).toString();c[T]==null&&(c[T]=[]),c[T].push(S)}}return c},this.map),this}isAccessible(t){const e=t.clone().snapToGrid(this.mapGridSize).toString(),n=this.map[e];return n?n.every(r=>!r.containsPoint(t)):!0}}function b1(i,t){const e=i.sourceBBox.clone();return t&&t.paddingBox?e.moveAndExpand(t.paddingBox):e}function v1(i,t){const e=i.targetBBox.clone();return t&&t.paddingBox?e.moveAndExpand(t.paddingBox):e}function y1(i,t){return i.sourceAnchor?i.sourceAnchor:b1(i,t).getCenter()}function u7(i,t){return i.targetAnchor?i.targetAnchor:v1(i,t).getCenter()}function Gh(i,t,e,n,r){const s=360/e,o=i.theta(h7(i,t,n,r)),a=re.normalize(o+s/2);return s*Math.floor(a/s)}function h7(i,t,e,n){const r=n.step,s=t.x-i.x,o=t.y-i.y,a=s/e.x,l=o/e.y,c=a*r,u=l*r;return new N(i.x+c,i.y+u)}function j2(i,t){const e=Math.abs(i-t);return e>180?360-e:e}function d7(i,t){const e=t.step;return t.directions.forEach(n=>{n.gridOffsetX=n.offsetX/e*i.x,n.gridOffsetY=n.offsetY/e*i.y}),t.directions}function f7(i,t,e){return{source:t.clone(),x:B2(e.x-t.x,i),y:B2(e.y-t.y,i)}}function B2(i,t){if(!i)return t;const e=Math.abs(i),n=Math.round(e/t);if(!n)return e;const r=n*t,o=(e-r)/n;return t+o}function p7(i,t){const e=t.source,n=tn.snapToGrid(i.x-e.x,t.x)+e.x,r=tn.snapToGrid(i.y-e.y,t.y)+e.y;return new N(n,r)}function Fa(i,t){return i.round(t)}function Pc(i,t,e){return Fa(p7(i.clone(),t),e)}function Ka(i){return i.toString()}function qh(i){return new N(i.x===0?0:Math.abs(i.x)/i.x,i.y===0?0:Math.abs(i.y)/i.y)}function R2(i,t){let e=1/0;for(let n=0,r=t.length;n<r;n+=1){const s=i.manhattanDistance(t[n]);s<e&&(e=s)}return e}function V2(i,t,e,n,r){const s=r.precision,o=r.directionMap,a=i.diff(t.getCenter()),l=Object.keys(o).reduce((c,u)=>{if(e.includes(u)){const h=o[u],f=new N(i.x+h.x*(Math.abs(a.x)+t.width),i.y+h.y*(Math.abs(a.y)+t.height)),b=new At(i,f).intersect(t)||[];let v,C=null;for(let x=0;x<b.length;x+=1){const S=b[x],E=i.squaredDistance(S);(v==null||E>v)&&(v=E,C=S)}if(C){let x=Pc(C,n,s);t.containsPoint(x)&&(x=Pc(x.translate(h.x*n.x,h.y*n.y),n,s)),c.push(x)}}return c},[]);return t.containsPoint(i)||l.push(Pc(i,n,s)),l}function g7(i,t,e,n,r){const s=[];let o=qh(r.diff(e)),a=Ka(e),l=i[a],c;for(;l;){c=t[a];const f=qh(c.diff(l));f.equals(o)||(s.unshift(c),o=f),a=Ka(l),l=i[a]}const u=t[a];return qh(u.diff(n)).equals(o)||s.unshift(u),s}function m7(i,t,e,n,r){const s=r.precision;let o,a;ht.isRectangle(t)?o=Fa(y1(i,r).clone(),s):o=Fa(t.clone(),s),ht.isRectangle(e)?a=Fa(u7(i,r).clone(),s):a=Fa(e.clone(),s);const l=f7(r.step,o,a),c=o,u=a;let h,f;if(ht.isRectangle(t)?h=V2(c,t,r.startDirections,l,r):h=[c],ht.isRectangle(e)?f=V2(a,e,r.endDirections,l,r):f=[u],h=h.filter(p=>n.isAccessible(p)),f=f.filter(p=>n.isAccessible(p)),h.length>0&&f.length>0){const p=new l7,b={},v={},C={};for(let H=0,q=h.length;H<q;H+=1){const R=h[H],rt=Ka(R);p.add(rt,R2(R,f)),b[rt]=R,C[rt]=0}const x=r.previousDirectionAngle,S=x===void 0;let E,O;const k=d7(l,r),m=k.length,T=f.reduce((H,q)=>{const R=Ka(q);return H.push(R),H},[]),D=N.equalPoints(h,f);let z=r.maxLoopCount;for(;!p.isEmpty()&&z>0;){const H=p.pop(),q=b[H],R=v[H],rt=C[H],st=q.equals(c),j=R==null;let B;if(j?S?st?B=null:B=Gh(c,q,m,l,r):B=x:B=Gh(R,q,m,l,r),!(j&&D)&&T.indexOf(H)>=0)return r.previousDirectionAngle=B,g7(v,b,q,c,u);for(let bt=0;bt<m;bt+=1){E=k[bt];const Ot=E.angle;if(O=j2(B,Ot),!(S&&st)&&O>r.maxDirectionChange)continue;const Gt=Pc(q.clone().translate(E.gridOffsetX||0,E.gridOffsetY||0),l,s),pt=Ka(Gt);if(p.isClose(pt)||!n.isAccessible(Gt))continue;if(T.indexOf(pt)>=0&&!Gt.equals(u)){const de=Gh(Gt,u,m,l,r);if(j2(Ot,de)>r.maxDirectionChange)continue}const $t=E.cost,Dt=st?0:r.penalties[O],_t=rt+$t+Dt;(!p.isOpen(pt)||_t<C[pt])&&(b[pt]=Gt,v[pt]=q,C[pt]=_t,p.add(pt,_t+R2(Gt,f)))}z-=1}}return r.fallbackRoute?xt(r.fallbackRoute,this,c,u,r):null}const b7=function(i,t,e){const n=a7(t),r=b1(e,n),s=v1(e,n),o=y1(e,n),a=new c7(n).build(e.graph.model,e.cell),l=i.map(p=>N.create(p)),c=[];let u=o,h,f;for(let p=0,b=l.length;p<=b;p+=1){let v=null;if(h=f||r,f=l[p],f==null){f=s;const x=e.cell;if((x.getSourceCellId()==null||x.getTargetCellId()==null)&&typeof n.draggingRouter=="function"){const E=h===r?o:h,O=f.getOrigin();v=xt(n.draggingRouter,e,E,O,n)}}if(v==null&&(v=m7(e,h,f,a,n)),v===null)return xt(n.fallbackRouter,this,i,n,e);const C=v[0];C&&C.equals(u)&&v.shift(),u=v[v.length-1]||u,c.push(...v)}return c},x1=function(i,t,e){return xt(b7,this,i,Object.assign(Object.assign({},o7),t),e)},v7={maxDirectionChange:45,directions(){const i=Gr(this.step,this),t=Gr(this.cost,this),e=Math.ceil(Math.sqrt(i*i<<1));return[{cost:t,offsetX:i,offsetY:0},{cost:e,offsetX:i,offsetY:i},{cost:t,offsetX:0,offsetY:i},{cost:e,offsetX:-i,offsetY:i},{cost:t,offsetX:-i,offsetY:0},{cost:e,offsetX:-i,offsetY:-i},{cost:t,offsetX:0,offsetY:-i},{cost:e,offsetX:i,offsetY:-i}]},fallbackRoute(i,t,e){const n=i.theta(t),r=[];let s={x:t.x,y:i.y},o={x:i.x,y:t.y};if(n%180>90){const E=s;s=o,o=E}const a=n%90<45?s:o,l=new At(i,a),c=90*Math.ceil(n/90),u=N.fromPolar(l.squaredLength(),re.toRad(c+135),a),h=new At(t,u),f=l.intersectsWithLine(h),p=f||t,b=f?p:i,v=360/e.directions.length,C=b.theta(t),x=re.normalize(C+v/2),S=v*Math.floor(x/v);return e.previousDirectionAngle=S,p&&r.push(p.round()),r.push(t),r}},y7=function(i,t,e){return xt(x1,this,i,Object.assign(Object.assign({},v7),t),e)},x7=function(i,t,e){const n=t.offset||32,r=t.min==null?16:t.min;let s=0,o=t.direction;const a=e.sourceBBox,l=e.targetBBox,c=a.getCenter(),u=l.getCenter();if(typeof n=="number"&&(s=n),o==null){let x=l.left-a.right,S=l.top-a.bottom;x>=0&&S>=0?o=x>=S?"L":"T":x<=0&&S>=0?(x=a.left-l.right,x>=0?o=x>=S?"R":"T":o="T"):x>=0&&S<=0?(S=a.top-l.bottom,S>=0?o=x>=S?"L":"B":o="L"):(x=a.left-l.right,S=a.top-l.bottom,x>=0&&S>=0?o=x>=S?"R":"B":x<=0&&S>=0?o="B":x>=0&&S<=0?o="R":o=Math.abs(x)>Math.abs(S)?"R":"B")}o==="H"?o=u.x-c.x>=0?"L":"R":o==="V"&&(o=u.y-c.y>=0?"T":"B"),n==="center"&&(o==="L"?s=(l.left-a.right)/2:o==="R"?s=(a.left-l.right)/2:o==="T"?s=(l.top-a.bottom)/2:o==="B"&&(s=(a.top-l.bottom)/2));let h,f,p;const b=o==="L"||o==="R";if(b){if(u.y===c.y)return[...i];p=o==="L"?1:-1,h="x",f="width"}else{if(u.x===c.x)return[...i];p=o==="T"?1:-1,h="y",f="height"}const v=c.clone(),C=u.clone();if(v[h]+=p*(a[f]/2+s),C[h]-=p*(l[f]/2+s),b){const x=v.x,S=C.x,E=a.width/2+r,O=l.width/2+r;u.x>c.x?S<=x&&(v.x=Math.max(S,c.x+E),C.x=Math.min(x,u.x-O)):S>=x&&(v.x=Math.min(S,c.x-E),C.x=Math.max(x,u.x+O))}else{const x=v.y,S=C.y,E=a.height/2+r,O=l.height/2+r;u.y>c.y?S<=x&&(v.y=Math.max(S,c.y+E),C.y=Math.min(x,u.y-O)):S>=x&&(v.y=Math.min(S,c.y-E),C.y=Math.max(x,u.y+O))}return[v.toJSON(),...i,C.toJSON()]};function wo(i,t){if(t!=null&&t!==!1){const e=typeof t=="boolean"?0:t;if(e>0){const n=N.create(i[1]).move(i[2],e),r=N.create(i[1]).move(i[0],e);return[n.toJSON(),...i,r.toJSON()]}{const n=i[1];return[Object.assign({},n),...i,Object.assign({},n)]}}return i}const C7=function(i,t,e){const n=t.width||50,s=(t.height||80)/2,o=t.angle||"auto",a=e.sourceAnchor,l=e.targetAnchor,c=e.sourceBBox,u=e.targetBBox;if(a.equals(l)){const h=x=>{const S=re.toRad(x),E=Math.sin(S),O=Math.cos(S),k=new N(a.x+O*n,a.y+E*n),m=new N(k.x-O*s,k.y-E*s),T=m.clone().rotate(-90,k),D=m.clone().rotate(90,k);return[T.toJSON(),k.toJSON(),D.toJSON()]},f=x=>{const S=a.clone().move(x,-1),E=new At(S,x);return!c.containsPoint(x)&&!c.intersectsWithLine(E)},p=[0,90,180,270,45,135,225,315];if(typeof o=="number")return wo(h(o),t.merge);const b=c.getCenter();if(b.equals(a))return wo(h(0),t.merge);const v=b.angleBetween(a,b.clone().translate(1,0));let C=h(v);if(f(C[1]))return wo(C,t.merge);for(let x=1,S=p.length;x<S;x+=1)if(C=h(v+p[x]),f(C[1]))return wo(C,t.merge);return wo(C,t.merge)}{const h=new At(a,l);let f=h.parallel(-n),p=f.getCenter(),b=f.start.clone().move(f.end,s),v=f.end.clone().move(f.start,s);const C=h.parallel(-1),x=new At(C.start,p),S=new At(C.end,p);if((c.containsPoint(p)||u.containsPoint(p)||c.intersectsWithLine(x)||c.intersectsWithLine(S)||u.intersectsWithLine(x)||u.intersectsWithLine(S))&&(f=h.parallel(n),p=f.getCenter(),b=f.start.clone().move(f.end,s),v=f.end.clone().move(f.start,s)),t.merge){const E=new At(a,l),O=new At(p,E.center).setLength(Number.MAX_SAFE_INTEGER),k=c.intersectsWithLine(O),m=u.intersectsWithLine(O),T=k?Array.isArray(k)?k:[k]:[];m&&(Array.isArray(m)?T.push(...m):T.push(m));const D=E.center.closest(T);D?(e.sourceAnchor=D.clone(),e.targetAnchor=D.clone()):(e.sourceAnchor=E.center.clone(),e.targetAnchor=E.center.clone())}return wo([b.toJSON(),p.toJSON(),v.toJSON()],t.merge)}};var w7=Object.freeze(Object.defineProperty({__proto__:null,normal:n7,oneSide:i7,orth:m1,metro:y7,manhattan:x1,er:x7,loop:C7},Symbol.toStringTag,{value:"Module"})),Xr;(function(i){i.presets=w7,i.registry=Ke.create({type:"router"}),i.registry.register(i.presets,!0)})(Xr||(Xr={}));const S7=function(i,t,e,n={}){const r=[i,...e,t],s=new ln(r),o=new Nt(s);return n.raw?o:o.serialize()},E7=function(i,t,e,n={}){const r=e.length===3?0:1,s=N.create(e[0+r]),o=N.create(e[2+r]),a=N.create(e[1+r]);if(!N.equals(i,t)){const c=new N((i.x+t.x)/2,(i.y+t.y)/2),u=c.angleBetween(N.create(i).rotate(90,c),a);u>1&&(s.rotate(180-u,c),o.rotate(180-u,c),a.rotate(180-u,c))}const l=`
     M ${i.x} ${i.y}
     Q ${s.x} ${s.y} ${a.x} ${a.y}
     Q ${o.x} ${o.y} ${t.x} ${t.y}
  `;return n.raw?Nt.parse(l):l},A7=function(i,t,e,n={}){const r=new Nt;r.appendSegment(Nt.createSegment("M",i));const s=1/3,o=2/3,a=n.radius||10;let l,c;for(let u=0,h=e.length;u<h;u+=1){const f=N.create(e[u]),p=e[u-1]||i,b=e[u+1]||t;l=c||f.distance(p)/2,c=f.distance(b)/2;const v=-Math.min(a,l),C=-Math.min(a,c),x=f.clone().move(p,v).round(),S=f.clone().move(b,C).round(),E=new N(s*x.x+o*f.x,o*f.y+s*x.y),O=new N(s*S.x+o*f.x,o*f.y+s*S.y);r.appendSegment(Nt.createSegment("L",x)),r.appendSegment(Nt.createSegment("C",E,O,S))}return r.appendSegment(Nt.createSegment("L",t)),n.raw?r:r.serialize()},M7=function(i,t,e,n={}){let r,s=n.direction;if(e&&e.length!==0){const o=[i,...e,t],a=Xe.throughPoints(o);r=new Nt(a)}else if(r=new Nt,r.appendSegment(Nt.createSegment("M",i)),s||(s=Math.abs(i.x-t.x)>=Math.abs(i.y-t.y)?"H":"V"),s==="H"){const o=(i.x+t.x)/2;r.appendSegment(Nt.createSegment("C",o,i.y,o,t.y,t.x,t.y))}else{const o=(i.y+t.y)/2;r.appendSegment(Nt.createSegment("C",i.x,o,t.x,o,t.x,t.y))}return n.raw?r:r.serialize()},H2=1,xc=1/3,Cc=2/3;function O7(i){let t=i.graph._jumpOverUpdateList;if(t==null&&(t=i.graph._jumpOverUpdateList=[],i.graph.on("cell:mouseup",()=>{const e=i.graph._jumpOverUpdateList;for(let n=0;n<e.length;n+=1)e[n].update()}),i.graph.on("model:reseted",()=>{t=i.graph._jumpOverUpdateList=[]})),t.indexOf(i)<0){t.push(i);const e=()=>t.splice(t.indexOf(i),1);i.cell.once("change:connector",e),i.cell.once("removed",e)}}function Uh(i,t,e=[]){const n=[i,...e,t],r=[];return n.forEach((s,o)=>{const a=n[o+1];a!=null&&r.push(new At(s,a))}),r}function T7(i,t){const e=[];return t.forEach(n=>{const r=i.intersectsWithLine(n);r&&e.push(r)}),e}function G2(i,t){return new At(i,t).squaredLength()}function P7(i,t,e){return t.reduce((n,r,s)=>{if(su.includes(r))return n;const o=n.pop()||i,a=N.create(r).move(o.start,-e);let l=N.create(r).move(o.start,+e);const c=t[s+1];if(c!=null){const f=l.distance(c);f<=e&&(l=c.move(o.start,f),su.push(c))}else if(a.distance(o.end)<e*2+H2)return n.push(o),n;if(l.distance(o.start)<e*2+H2)return n.push(o),n;const h=new At(a,l);return El.push(h),n.push(new At(o.start,a),h,new At(l,o.end)),n},[])}function q2(i,t,e,n){const r=new Nt;let s;return s=Nt.createSegment("M",i[0].start),r.appendSegment(s),i.forEach((o,a)=>{if(El.includes(o)){let l,c,u,h;if(e==="arc"){l=-90,c=o.start.diff(o.end),(c.x<0||c.x===0&&c.y<0)&&(l+=180);const p=o.getCenter(),b=new At(p,o.end).rotate(l,p);let v;v=new At(o.start,p),u=v.pointAt(2/3).rotate(l,o.start),h=b.pointAt(1/3).rotate(-l,b.end),s=Nt.createSegment("C",u,h,b.end),r.appendSegment(s),v=new At(p,o.end),u=b.pointAt(1/3).rotate(l,b.end),h=v.pointAt(1/3).rotate(-l,o.end),s=Nt.createSegment("C",u,h,o.end),r.appendSegment(s)}else if(e==="gap")s=Nt.createSegment("M",o.end),r.appendSegment(s);else if(e==="cubic"){l=o.start.theta(o.end);const f=t*.6;let p=t*1.35;c=o.start.diff(o.end),(c.x<0||c.x===0&&c.y<0)&&(p*=-1),u=new N(o.start.x+f,o.start.y+p).rotate(l,o.start),h=new N(o.end.x-f,o.end.y+p).rotate(l,o.end),s=Nt.createSegment("C",u,h,o.end),r.appendSegment(s)}}else{const l=i[a+1];n===0||!l||El.includes(l)?(s=Nt.createSegment("L",o.end),r.appendSegment(s)):k7(n,r,o.end,o.start,l.end)}}),r}function k7(i,t,e,n,r){const s=e.distance(n)/2,o=e.distance(r)/2,a=-Math.min(i,s),l=-Math.min(i,o),c=e.clone().move(n,a).round(),u=e.clone().move(r,l).round(),h=new N(xc*c.x+Cc*e.x,Cc*e.y+xc*c.y),f=new N(xc*u.x+Cc*e.x,Cc*e.y+xc*u.y);let p;p=Nt.createSegment("L",c),t.appendSegment(p),p=Nt.createSegment("C",h,f,u),t.appendSegment(p)}let El,su;const _7=function(i,t,e,n={}){El=[],su=[],O7(this);const r=n.size||5,s=n.type||"arc",o=n.radius||0,a=n.ignoreConnectors||["smooth"],l=this.graph,u=l.model.getEdges();if(u.length===1)return q2(Uh(i,t,e),r,s,o);const h=this.cell,f=u.indexOf(h),p=l.options.connecting.connector||{},b=u.filter((O,k)=>{const m=O.getConnector()||p;return a.includes(m.name)?!1:k>f?m.name!=="jumpover":!0}),v=b.map(O=>l.renderer.findViewByCell(O)),C=Uh(i,t,e),x=v.map(O=>O==null?[]:O===this?C:Uh(O.sourcePoint,O.targetPoint,O.routePoints)),S=[];C.forEach(O=>{const k=b.reduce((m,T,D)=>{if(T!==h){const z=T7(O,x[D]);m.push(...z)}return m},[]).sort((m,T)=>G2(O.start,m)-G2(O.start,T));k.length>0?S.push(...P7(O,k,r)):S.push(O)});const E=q2(S,r,s,o);return El=[],su=[],n.raw?E:E.serialize()};var D7=Object.freeze(Object.defineProperty({__proto__:null,normal:S7,loop:E7,rounded:A7,smooth:M7,jumpover:_7},Symbol.toStringTag,{value:"Module"})),Vs;(function(i){i.presets=D7,i.registry=Ke.create({type:"connector"}),i.registry.register(i.presets,!0)})(Vs||(Vs={}));Ke.create;class Al{constructor(t){this.cell=t,this.ids={},this.cache={}}get(){return Object.keys(this.ids)}start(t,e,n={},r="/"){const s=this.cell.getPropByPath(t),o=Z6(n,Al.defaultOptions),a=this.getTiming(o.timing),l=this.getInterp(o.interp,s,e);let c=0;const u=Array.isArray(t)?t.join(r):t,h=Array.isArray(t)?t:t.split(r),f=()=>{const p=new Date().getTime();c===0&&(c=p);let v=(p-c)/o.duration;v<1?this.ids[u]=Bd(f):v=1;const C=l(a(v));this.cell.setPropByPath(h,C),n.progress&&n.progress(Object.assign({progress:v,currentValue:C},this.getArgs(u))),v===1&&(this.cell.notify("transition:end",this.getArgs(u)),this.cell.notify("transition:complete",this.getArgs(u)),n.complete&&n.complete(this.getArgs(u)),this.cell.notify("transition:finish",this.getArgs(u)),n.finish&&n.finish(this.getArgs(u)),this.clean(u))};return setTimeout(()=>{this.stop(t,void 0,r),this.cache[u]={startValue:s,targetValue:e,options:o},this.ids[u]=Bd(f),this.cell.notify("transition:begin",this.getArgs(u)),this.cell.notify("transition:start",this.getArgs(u)),n.start&&n.start(this.getArgs(u))},n.delay),this.stop.bind(this,t,r,n)}stop(t,e={},n="/"){const r=Array.isArray(t)?t:t.split(n);return Object.keys(this.ids).filter(s=>ji(r,s.split(n).slice(0,r.length))).forEach(s=>{Rd(this.ids[s]);const o=this.cache[s],a=this.getArgs(s),l=Object.assign(Object.assign({},o.options),e),c=l.jumpedToEnd;c&&o.targetValue!=null&&(this.cell.setPropByPath(s,o.targetValue),this.cell.notify("transition:end",Object.assign({},a)),this.cell.notify("transition:complete",Object.assign({},a)),l.complete&&l.complete(Object.assign({},a)));const u=Object.assign({jumpedToEnd:c},a);this.cell.notify("transition:stop",Object.assign({},u)),l.stop&&l.stop(Object.assign({},u)),this.cell.notify("transition:finish",Object.assign({},a)),l.finish&&l.finish(Object.assign({},a)),this.clean(s)}),this}clean(t){delete this.ids[t],delete this.cache[t]}getTiming(t){return typeof t=="string"?qs[t]:t}getInterp(t,e,n){return t?t(e,n):typeof n=="number"?Fs.number(e,n):typeof n=="string"?n[0]==="#"?Fs.color(e,n):Fs.unit(e,n):Fs.object(e,n)}getArgs(t){const e=this.cache[t];return{path:t,startValue:e.startValue,targetValue:e.targetValue,cell:this.cell}}}(function(i){i.defaultOptions={delay:10,duration:100,timing:"linear"}})(Al||(Al={}));var N7=globalThis&&globalThis.__decorate||function(i,t,e,n){var r=arguments.length,s=r<3?t:n===null?n=Object.getOwnPropertyDescriptor(t,e):n,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")s=Reflect.decorate(i,t,e,n);else for(var a=i.length-1;a>=0;a--)(o=i[a])&&(s=(r<3?o(s):r>3?o(t,e,s):o(t,e))||s);return r>3&&s&&Object.defineProperty(t,e,s),s};class C1 extends Pn{constructor(t={}){super(),this.pending=!1,this.changing=!1,this.data={},this.mutate(Ye(t)),this.changed={}}mutate(t,e={}){const n=e.unset===!0,r=e.silent===!0,s=[],o=this.changing;this.changing=!0,o||(this.previous=Ye(this.data),this.changed={});const a=this.data,l=this.previous,c=this.changed;if(Object.keys(t).forEach(u=>{const h=u,f=t[h];ji(a[h],f)||s.push(h),ji(l[h],f)?delete c[h]:c[h]=f,n?delete a[h]:a[h]=f}),!r&&s.length>0&&(this.pending=!0,this.pendingOptions=e,s.forEach(u=>{this.emit("change:*",{key:u,options:e,store:this,current:a[u],previous:l[u]})})),o)return this;if(!r)for(;this.pending;)this.pending=!1,this.emit("changed",{current:a,previous:l,store:this,options:this.pendingOptions});return this.pending=!1,this.changing=!1,this.pendingOptions=null,this}get(t,e){if(t==null)return this.data;const n=this.data[t];return n==null?e:n}getPrevious(t){if(this.previous){const e=this.previous[t];return e==null?void 0:e}}set(t,e,n){return t!=null&&(typeof t=="object"?this.mutate(t,e):this.mutate({[t]:e},n)),this}remove(t,e){const r={};let s;if(typeof t=="string")r[t]=void 0,s=e;else if(Array.isArray(t))t.forEach(o=>r[o]=void 0),s=e;else{for(const o in this.data)r[o]=void 0;s=t}return this.mutate(r,Object.assign(Object.assign({},s),{unset:!0})),this}getByPath(t){return ip(this.data,t,"/")}setByPath(t,e,n={}){const r="/",s=Array.isArray(t)?[...t]:t.split(r),o=Array.isArray(t)?t.join(r):t,a=s[0],l=s.length;if(n.propertyPath=o,n.propertyValue=e,n.propertyPathArray=s,l===1)this.set(a,e,n);else{const c={};let u=c,h=a;for(let b=1;b<l;b+=1){const v=s[b],C=Number.isFinite(Number(v));u=u[h]=C?[]:{},h=v}fa(c,s,e,r);const f=Ye(this.data);n.rewrite&&w2(f,t,r);const p=Ne(f,c);this.set(a,p[a],n)}return this}removeByPath(t,e){const n=Array.isArray(t)?t:t.split("/"),r=n[0];if(n.length===1)this.remove(r,e);else{const s=n.slice(1),o=Ye(this.get(r));o&&w2(o,s),this.set(r,o,e)}return this}hasChanged(t){return t==null?Object.keys(this.changed).length>0:t in this.changed}getChanges(t){if(t==null)return this.hasChanged()?Ye(this.changed):null;const e=this.changing?this.previous:this.data,n={};let r;for(const s in t){const o=t[s];ji(e[s],o)||(n[s]=o,r=!0)}return r?Ye(n):null}toJSON(){return Ye(this.data)}clone(){const t=this.constructor;return new t(this.data)}dispose(){this.off(),this.data={},this.previous={},this.changed={},this.pending=!1,this.changing=!1,this.pendingOptions=null,this.trigger("disposed",{store:this})}}N7([Pn.dispose()],C1.prototype,"dispose",null);var $7=globalThis&&globalThis.__decorate||function(i,t,e,n){var r=arguments.length,s=r<3?t:n===null?n=Object.getOwnPropertyDescriptor(t,e):n,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")s=Reflect.decorate(i,t,e,n);else for(var a=i.length-1;a>=0;a--)(o=i[a])&&(s=(r<3?o(s):r>3?o(t,e,s):o(t,e))||s);return r>3&&s&&Object.defineProperty(t,e,s),s},w1=globalThis&&globalThis.__rest||function(i,t){var e={};for(var n in i)Object.prototype.hasOwnProperty.call(i,n)&&t.indexOf(n)<0&&(e[n]=i[n]);if(i!=null&&typeof Object.getOwnPropertySymbols=="function")for(var r=0,n=Object.getOwnPropertySymbols(i);r<n.length;r++)t.indexOf(n[r])<0&&Object.prototype.propertyIsEnumerable.call(i,n[r])&&(e[n[r]]=i[n[r]]);return e};class ie extends Pn{constructor(t={}){super();const n=this.constructor.getDefaults(!0),r=Ne({},this.preprocess(n),this.preprocess(t));this.id=r.id||Nd(),this.store=new C1(r),this.animation=new Al(this),this.setup(),this.init(),this.postprocess(t)}static config(t){const{markup:e,propHooks:n,attrHooks:r}=t,s=w1(t,["markup","propHooks","attrHooks"]);e!=null&&(this.markup=e),n&&(this.propHooks=this.propHooks.slice(),Array.isArray(n)?this.propHooks.push(...n):typeof n=="function"?this.propHooks.push(n):Object.keys(n).forEach(o=>{const a=n[o];typeof a=="function"&&this.propHooks.push(a)})),r&&(this.attrHooks=Object.assign(Object.assign({},this.attrHooks),r)),this.defaults=Ne({},this.defaults,s)}static getMarkup(){return this.markup}static getDefaults(t){return t?this.defaults:Ye(this.defaults)}static getAttrHooks(){return this.attrHooks}static applyPropHooks(t,e){return this.propHooks.reduce((n,r)=>r?xt(r,t,n):n,e)}get[Symbol.toStringTag](){return ie.toStringTag}init(){}get model(){return this._model}set model(t){this._model!==t&&(this._model=t)}preprocess(t,e){const n=t.id,s=this.constructor.applyPropHooks(this,t);return n==null&&e!==!0&&(s.id=Nd()),s}postprocess(t){}setup(){this.store.on("change:*",t=>{const{key:e,current:n,previous:r,options:s}=t;this.notify("change:*",{key:e,options:s,current:n,previous:r,cell:this}),this.notify(`change:${e}`,{options:s,current:n,previous:r,cell:this});const o=e;(o==="source"||o==="target")&&this.notify("change:terminal",{type:o,current:n,previous:r,options:s,cell:this})}),this.store.on("changed",({options:t})=>this.notify("changed",{options:t,cell:this}))}notify(t,e){this.trigger(t,e);const n=this.model;return n&&(n.notify(`cell:${t}`,e),this.isNode()?n.notify(`node:${t}`,Object.assign(Object.assign({},e),{node:this})):this.isEdge()&&n.notify(`edge:${t}`,Object.assign(Object.assign({},e),{edge:this}))),this}isNode(){return!1}isEdge(){return!1}isSameStore(t){return this.store===t.store}get view(){return this.store.get("view")}get shape(){return this.store.get("shape","")}getProp(t,e){return t==null?this.store.get():this.store.get(t,e)}setProp(t,e,n){if(typeof t=="string")this.store.set(t,e,n);else{const r=this.preprocess(t,!0);this.store.set(Ne({},this.getProp(),r),e),this.postprocess(t)}return this}removeProp(t,e){return typeof t=="string"||Array.isArray(t)?this.store.removeByPath(t,e):this.store.remove(e),this}hasChanged(t){return t==null?this.store.hasChanged():this.store.hasChanged(t)}getPropByPath(t){return this.store.getByPath(t)}setPropByPath(t,e,n={}){return this.model&&(t==="children"?this._children=e?e.map(r=>this.model.getCell(r)).filter(r=>r!=null):null:t==="parent"&&(this._parent=e?this.model.getCell(e):null)),this.store.setByPath(t,e,n),this}removePropByPath(t,e={}){const n=Array.isArray(t)?t:t.split("/");return n[0]==="attrs"&&(e.dirty=!0),this.store.removeByPath(n,e),this}prop(t,e,n){return t==null?this.getProp():typeof t=="string"||Array.isArray(t)?arguments.length===1?this.getPropByPath(t):e==null?this.removePropByPath(t,n||{}):this.setPropByPath(t,e,n||{}):this.setProp(t,e||{})}previous(t){return this.store.getPrevious(t)}get zIndex(){return this.getZIndex()}set zIndex(t){t==null?this.removeZIndex():this.setZIndex(t)}getZIndex(){return this.store.get("zIndex")}setZIndex(t,e={}){return this.store.set("zIndex",t,e),this}removeZIndex(t={}){return this.store.remove("zIndex",t),this}toFront(t={}){const e=this.model;if(e){let n=e.getMaxZIndex(),r;t.deep?(r=this.getDescendants({deep:!0,breadthFirst:!0}),r.unshift(this)):r=[this],n=n-r.length+1;const s=e.total();let o=e.indexOf(this)!==s-r.length;o||(o=r.some((a,l)=>a.getZIndex()!==n+l)),o&&this.batchUpdate("to-front",()=>{n+=r.length,r.forEach((a,l)=>{a.setZIndex(n+l,t)})})}return this}toBack(t={}){const e=this.model;if(e){let n=e.getMinZIndex(),r;t.deep?(r=this.getDescendants({deep:!0,breadthFirst:!0}),r.unshift(this)):r=[this];let s=e.indexOf(this)!==0;s||(s=r.some((o,a)=>o.getZIndex()!==n+a)),s&&this.batchUpdate("to-back",()=>{n-=r.length,r.forEach((o,a)=>{o.setZIndex(n+a,t)})})}return this}get markup(){return this.getMarkup()}set markup(t){t==null?this.removeMarkup():this.setMarkup(t)}getMarkup(){let t=this.store.get("markup");return t==null&&(t=this.constructor.getMarkup()),t}setMarkup(t,e={}){return this.store.set("markup",t,e),this}removeMarkup(t={}){return this.store.remove("markup",t),this}get attrs(){return this.getAttrs()}set attrs(t){t==null?this.removeAttrs():this.setAttrs(t)}getAttrs(){const t=this.store.get("attrs");return t?Object.assign({},t):{}}setAttrs(t,e={}){if(t==null)this.removeAttrs(e);else{const n=r=>this.store.set("attrs",r,e);if(e.overwrite===!0)n(t);else{const r=this.getAttrs();e.deep===!1?n(Object.assign(Object.assign({},r),t)):n(Ne({},r,t))}}return this}replaceAttrs(t,e={}){return this.setAttrs(t,Object.assign(Object.assign({},e),{overwrite:!0}))}updateAttrs(t,e={}){return this.setAttrs(t,Object.assign(Object.assign({},e),{deep:!1}))}removeAttrs(t={}){return this.store.remove("attrs",t),this}getAttrDefinition(t){if(!t)return null;const n=this.constructor.getAttrHooks()||{};let r=n[t]||rr.registry.get(t);if(!r){const s=$f(t);r=n[s]||rr.registry.get(s)}return r||null}getAttrByPath(t){return t==null||t===""?this.getAttrs():this.getPropByPath(this.prefixAttrPath(t))}setAttrByPath(t,e,n={}){return this.setPropByPath(this.prefixAttrPath(t),e,n),this}removeAttrByPath(t,e={}){return this.removePropByPath(this.prefixAttrPath(t),e),this}prefixAttrPath(t){return Array.isArray(t)?["attrs"].concat(t):`attrs/${t}`}attr(t,e,n){return t==null?this.getAttrByPath():typeof t=="string"||Array.isArray(t)?arguments.length===1?this.getAttrByPath(t):e==null?this.removeAttrByPath(t,n||{}):this.setAttrByPath(t,e,n||{}):this.setAttrs(t,e||{})}get visible(){return this.isVisible()}set visible(t){this.setVisible(t)}setVisible(t,e={}){return this.store.set("visible",t,e),this}isVisible(){return this.store.get("visible")!==!1}show(t={}){return this.isVisible()||this.setVisible(!0,t),this}hide(t={}){return this.isVisible()&&this.setVisible(!1,t),this}toggleVisible(t,e={}){const n=typeof t=="boolean"?t:!this.isVisible(),r=typeof t=="boolean"?e:t;return n?this.show(r):this.hide(r),this}get data(){return this.getData()}set data(t){this.setData(t)}getData(){return this.store.get("data")}setData(t,e={}){if(t==null)this.removeData(e);else{const n=r=>this.store.set("data",r,e);if(e.overwrite===!0)n(t);else{const r=this.getData();e.deep===!1?n(typeof t=="object"?Object.assign(Object.assign({},r),t):t):n(Ne({},r,t))}}return this}replaceData(t,e={}){return this.setData(t,Object.assign(Object.assign({},e),{overwrite:!0}))}updateData(t,e={}){return this.setData(t,Object.assign(Object.assign({},e),{deep:!1}))}removeData(t={}){return this.store.remove("data",t),this}get parent(){return this.getParent()}get children(){return this.getChildren()}getParentId(){return this.store.get("parent")}getParent(){const t=this.getParentId();if(t&&this.model){const e=this.model.getCell(t);return this._parent=e,e}return null}getChildren(){const t=this.store.get("children");if(t&&t.length&&this.model){const e=t.map(n=>{var r;return(r=this.model)===null||r===void 0?void 0:r.getCell(n)}).filter(n=>n!=null);return this._children=e,[...e]}return null}hasParent(){return this.parent!=null}isParentOf(t){return t!=null&&t.getParent()===this}isChildOf(t){return t!=null&&this.getParent()===t}eachChild(t,e){return this.children&&this.children.forEach(t,e),this}filterChild(t,e){return this.children?this.children.filter(t,e):[]}getChildCount(){return this.children==null?0:this.children.length}getChildIndex(t){return this.children==null?-1:this.children.indexOf(t)}getChildAt(t){return this.children!=null&&t>=0?this.children[t]:null}getAncestors(t={}){const e=[];let n=this.getParent();for(;n;)e.push(n),n=t.deep!==!1?n.getParent():null;return e}getDescendants(t={}){if(t.deep!==!1){if(t.breadthFirst){const e=[],n=this.getChildren()||[];for(;n.length>0;){const r=n.shift(),s=r.getChildren();e.push(r),s&&n.push(...s)}return e}{const e=this.getChildren()||[];return e.forEach(n=>{e.push(...n.getDescendants(t))}),e}}return this.getChildren()||[]}isDescendantOf(t,e={}){if(t==null)return!1;if(e.deep!==!1){let n=this.getParent();for(;n;){if(n===t)return!0;n=n.getParent()}return!1}return this.isChildOf(t)}isAncestorOf(t,e={}){return t==null?!1:t.isDescendantOf(this,e)}contains(t){return this.isAncestorOf(t)}getCommonAncestor(...t){return ie.getCommonAncestor(this,...t)}setParent(t,e={}){return this._parent=t,t?this.store.set("parent",t.id,e):this.store.remove("parent",e),this}setChildren(t,e={}){return this._children=t,t!=null?this.store.set("children",t.map(n=>n.id),e):this.store.remove("children",e),this}unembed(t,e={}){const n=this.children;if(n!=null&&t!=null){const r=this.getChildIndex(t);r!==-1&&(n.splice(r,1),t.setParent(null,e),this.setChildren(n,e))}return this}embed(t,e={}){return t.addTo(this,e),this}addTo(t,e={}){return ie.isCell(t)?t.addChild(this,e):t.addCell(this,e),this}insertTo(t,e,n={}){return t.insertChild(this,e,n),this}addChild(t,e={}){return this.insertChild(t,void 0,e)}insertChild(t,e,n={}){if(t!=null&&t!==this){const r=t.getParent(),s=this!==r;let o=e;if(o==null&&(o=this.getChildCount(),s||(o-=1)),r){const l=r.getChildren();if(l){const c=l.indexOf(t);c>=0&&(t.setParent(null,n),l.splice(c,1),r.setChildren(l,n))}}let a=this.children;if(a==null?(a=[],a.push(t)):a.splice(o,0,t),t.setParent(this,n),this.setChildren(a,n),s&&this.model){const l=this.model.getIncomingEdges(this),c=this.model.getOutgoingEdges(this);l&&l.forEach(u=>u.updateParent(n)),c&&c.forEach(u=>u.updateParent(n))}this.model&&this.model.addCell(t,n)}return this}removeFromParent(t={}){const e=this.getParent();if(e!=null){const n=e.getChildIndex(this);e.removeChildAt(n,t)}return this}removeChild(t,e={}){const n=this.getChildIndex(t);return this.removeChildAt(n,e)}removeChildAt(t,e={}){const n=this.getChildAt(t);return this.children!=null&&n!=null&&(this.unembed(n,e),n.remove(e)),n}remove(t={}){return this.batchUpdate("remove",()=>{const e=this.getParent();e&&e.removeChild(this,t),t.deep!==!1&&this.eachChild(n=>n.remove(t)),this.model&&this.model.removeCell(this,t)}),this}transition(t,e,n={},r="/"){return this.animation.start(t,e,n,r)}stopTransition(t,e,n="/"){return this.animation.stop(t,e,n),this}getTransitions(){return this.animation.get()}translate(t,e,n){return this}scale(t,e,n,r){return this}addTools(t,e,n){const r=Array.isArray(t)?t:[t],s=typeof e=="string"?e:null,o=typeof e=="object"?e:typeof n=="object"?n:{};if(o.reset)return this.setTools({name:s,items:r,local:o.local},o);let a=Ye(this.getTools());if(a==null||s==null||a.name===s)return a==null&&(a={}),a.items||(a.items=[]),a.name=s,a.items=[...a.items,...r],this.setTools(Object.assign({},a),o)}setTools(t,e={}){return t==null?this.removeTools():this.store.set("tools",ie.normalizeTools(t),e),this}getTools(){return this.store.get("tools")}removeTools(t={}){return this.store.remove("tools",t),this}hasTools(t){const e=this.getTools();return e==null?!1:t==null?!0:e.name===t}hasTool(t){const e=this.getTools();return e==null?!1:e.items.some(n=>typeof n=="string"?n===t:n.name===t)}removeTool(t,e={}){const n=Ye(this.getTools());if(n){let r=!1;const s=n.items.slice(),o=a=>{s.splice(a,1),r=!0};if(typeof t=="number")o(t);else for(let a=s.length-1;a>=0;a-=1){const l=s[a];(typeof l=="string"?l===t:l.name===t)&&o(a)}r&&(n.items=s,this.setTools(n,e))}return this}getBBox(t){return new ht}getConnectionPoint(t,e){return new N}toJSON(t={}){const e=Object.assign({},this.store.get()),n=Object.prototype.toString,r=this.isNode()?"node":this.isEdge()?"edge":"cell";if(!e.shape){const b=this.constructor;throw new Error(`Unable to serialize ${r} missing "shape" prop, check the ${r} "${b.name||n.call(b)}"`)}const s=this.constructor,o=t.diff===!0,a=e.attrs||{},l=s.getDefaults(!0),c=o?this.preprocess(l,!0):l,u=c.attrs||{},h={};Object.keys(e).forEach(b=>{const v=e[b];if(v!=null&&!Array.isArray(v)&&typeof v=="object"&&!gi(v))throw new Error(`Can only serialize ${r} with plain-object props, but got a "${n.call(v)}" type of key "${b}" on ${r} "${this.id}"`);if(b!=="attrs"&&b!=="shape"&&o){const C=c[b];ji(v,C)&&delete e[b]}}),Object.keys(a).forEach(b=>{const v=a[b],C=u[b];Object.keys(v).forEach(x=>{const S=v[x],E=C?C[x]:null;S!=null&&typeof S=="object"&&!Array.isArray(S)?Object.keys(S).forEach(O=>{const k=S[O];if(C==null||E==null||!rn(E)||!ji(E[O],k)){h[b]==null&&(h[b]={}),h[b][x]==null&&(h[b][x]={});const m=h[b][x];m[O]=k}}):(C==null||!ji(E,S))&&(h[b]==null&&(h[b]={}),h[b][x]=S)})});const f=Object.assign(Object.assign({},e),{attrs:fv(h)?void 0:h});f.attrs==null&&delete f.attrs;const p=f;return p.angle===0&&delete p.angle,Ye(p)}clone(t={}){if(!t.deep){const n=Object.assign({},this.store.get());t.keepId||delete n.id,delete n.parent,delete n.children;const r=this.constructor;return new r(n)}return ie.deepClone(this)[this.id]}findView(t){return t.renderer.findViewByCell(this)}startBatch(t,e={},n=this.model){return this.notify("batch:start",{name:t,data:e,cell:this}),n&&n.startBatch(t,Object.assign(Object.assign({},e),{cell:this})),this}stopBatch(t,e={},n=this.model){return n&&n.stopBatch(t,Object.assign(Object.assign({},e),{cell:this})),this.notify("batch:stop",{name:t,data:e,cell:this}),this}batchUpdate(t,e,n){const r=this.model;this.startBatch(t,n,r);const s=e();return this.stopBatch(t,n,r),s}dispose(){this.removeFromParent(),this.store.dispose()}}ie.defaults={};ie.attrHooks={};ie.propHooks=[];$7([Pn.dispose()],ie.prototype,"dispose",null);(function(i){function t(e){return typeof e=="string"?{items:[e]}:Array.isArray(e)?{items:e}:e.items?e:{items:[e]}}i.normalizeTools=t})(ie||(ie={}));(function(i){i.toStringTag=`X6.${i.name}`;function t(e){if(e==null)return!1;if(e instanceof i)return!0;const n=e[Symbol.toStringTag],r=e;return(n==null||n===i.toStringTag)&&typeof r.isNode=="function"&&typeof r.isEdge=="function"&&typeof r.prop=="function"&&typeof r.attr=="function"}i.isCell=t})(ie||(ie={}));(function(i){function t(...s){const o=s.filter(l=>l!=null).map(l=>l.getAncestors()).sort((l,c)=>l.length-c.length);return o.shift().find(l=>o.every(c=>c.includes(l)))||null}i.getCommonAncestor=t;function e(s,o={}){let a=null;for(let l=0,c=s.length;l<c;l+=1){const u=s[l];let h=u.getBBox(o);if(h){if(u.isNode()){const f=u.getAngle();f!=null&&f!==0&&(h=h.bbox(f))}a=a==null?h:a.union(h)}}return a}i.getCellsBBox=e;function n(s){const o=[s,...s.getDescendants({deep:!0})];return i.cloneCells(o)}i.deepClone=n;function r(s){const o=yv(s),a=o.reduce((l,c)=>(l[c.id]=c.clone(),l),{});return o.forEach(l=>{const c=a[l.id];if(c.isEdge()){const f=c.getSourceCellId(),p=c.getTargetCellId();f&&a[f]&&c.setSource(Object.assign(Object.assign({},c.getSource()),{cell:a[f].id})),p&&a[p]&&c.setTarget(Object.assign(Object.assign({},c.getTarget()),{cell:a[p].id}))}const u=l.getParent();u&&a[u.id]&&c.setParent(a[u.id]);const h=l.getChildren();if(h&&h.length){const f=h.reduce((p,b)=>(a[b.id]&&p.push(a[b.id]),p),[]);f.length>0&&c.setChildren(f)}}),a}i.cloneCells=r})(ie||(ie={}));(function(i){i.config({propHooks(t){var{tools:e}=t,n=w1(t,["tools"]);return e&&(n.tools=i.normalizeTools(e)),n}})})(ie||(ie={}));var la;(function(i){let t,e;function n(o,a){return a?t!=null&&t.exist(o):e!=null&&e.exist(o)}i.exist=n;function r(o){t=o}i.setEdgeRegistry=r;function s(o){e=o}i.setNodeRegistry=s})(la||(la={}));class F7{constructor(t){this.ports=[],this.groups={},this.init(Ye(t))}getPorts(){return this.ports}getGroup(t){return t!=null?this.groups[t]:null}getPortsByGroup(t){return this.ports.filter(e=>e.group===t||e.group==null&&t==null)}getPortsLayoutByGroup(t,e){const n=this.getPortsByGroup(t),r=t?this.getGroup(t):null,s=r?r.position:null,o=s?s.name:null;let a;if(o!=null){const h=Rs.registry.get(o);if(h==null)return Rs.registry.onNotFound(o);a=h}else a=Rs.presets.left;const l=n.map(h=>h&&h.position&&h.position.args||{}),c=s&&s.args||{};return a(l,e,c).map((h,f)=>{const p=n[f];return{portLayout:h,portId:p.id,portSize:p.size,portAttrs:p.attrs,labelSize:p.label.size,labelLayout:this.getPortLabelLayout(p,N.create(h.position),e)}})}init(t){const{groups:e,items:n}=t;e!=null&&Object.keys(e).forEach(r=>{this.groups[r]=this.parseGroup(e[r])}),Array.isArray(n)&&n.forEach(r=>{this.ports.push(this.parsePort(r))})}parseGroup(t){return Object.assign(Object.assign({},t),{label:this.getLabel(t,!0),position:this.getPortPosition(t.position,!0)})}parsePort(t){const e=Object.assign({},t),n=this.getGroup(t.group)||{};return e.markup=e.markup||n.markup,e.attrs=Ne({},n.attrs,e.attrs),e.position=this.createPosition(n,e),e.label=Ne({},n.label,this.getLabel(e)),e.zIndex=this.getZIndex(n,e),e.size=Object.assign(Object.assign({},n.size),e.size),e}getZIndex(t,e){return typeof e.zIndex=="number"?e.zIndex:typeof t.zIndex=="number"||t.zIndex==="auto"?t.zIndex:"auto"}createPosition(t,e){return Ne({name:"left",args:{}},t.position,{args:e.args})}getPortPosition(t,e=!1){if(t==null){if(e)return{name:"left",args:{}}}else{if(typeof t=="string")return{name:t,args:{}};if(Array.isArray(t))return{name:"absolute",args:{x:t[0],y:t[1]}};if(typeof t=="object")return t}return{args:{}}}getPortLabelPosition(t,e=!1){if(t==null){if(e)return{name:"left",args:{}}}else{if(typeof t=="string")return{name:t,args:{}};if(typeof t=="object")return t}return{args:{}}}getLabel(t,e=!1){const n=t.label||{};return n.position=this.getPortLabelPosition(n.position,e),n}getPortLabelLayout(t,e,n){const r=t.label.position.name||"left",s=t.label.position.args||{},o=ta.registry.get(r)||ta.presets.left;return o?o(e,n,s):null}}var Xu=globalThis&&globalThis.__rest||function(i,t){var e={};for(var n in i)Object.prototype.hasOwnProperty.call(i,n)&&t.indexOf(n)<0&&(e[n]=i[n]);if(i!=null&&typeof Object.getOwnPropertySymbols=="function")for(var r=0,n=Object.getOwnPropertySymbols(i);r<n.length;r++)t.indexOf(n[r])<0&&Object.prototype.propertyIsEnumerable.call(i,n[r])&&(e[n[r]]=i[n[r]]);return e};class Ie extends ie{constructor(t={}){super(t),this.initPorts()}get[Symbol.toStringTag](){return Ie.toStringTag}preprocess(t,e){const{x:n,y:r,width:s,height:o}=t,a=Xu(t,["x","y","width","height"]);if(n!=null||r!=null){const l=a.position;a.position=Object.assign(Object.assign({},l),{x:n!=null?n:l?l.x:0,y:r!=null?r:l?l.y:0})}if(s!=null||o!=null){const l=a.size;a.size=Object.assign(Object.assign({},l),{width:s!=null?s:l?l.width:0,height:o!=null?o:l?l.height:0})}return super.preprocess(a,e)}isNode(){return!0}size(t,e,n){return t===void 0?this.getSize():typeof t=="number"?this.setSize(t,e,n):this.setSize(t,e)}getSize(){const t=this.store.get("size");return t?Object.assign({},t):{width:1,height:1}}setSize(t,e,n){return typeof t=="object"?this.resize(t.width,t.height,e):this.resize(t,e,n),this}resize(t,e,n={}){this.startBatch("resize",n);const r=n.direction;if(r){const s=this.getSize();switch(r){case"left":case"right":e=s.height;break;case"top":case"bottom":t=s.width;break}let a={right:0,"top-right":0,top:1,"top-left":1,left:2,"bottom-left":2,bottom:3,"bottom-right":3}[r];const l=re.normalize(this.getAngle()||0);n.absolute&&(a+=Math.floor((l+45)/90),a%=4);const c=this.getBBox();let u;a===0?u=c.getBottomLeft():a===1?u=c.getCorner():a===2?u=c.getTopRight():u=c.getOrigin();const h=u.clone().rotate(-l,c.getCenter()),f=Math.sqrt(t*t+e*e)/2;let p=a*Math.PI/2;p+=Math.atan(a%2===0?e/t:t/e),p-=re.toRad(l);const v=N.fromPolar(f,p,h).clone().translate(t/-2,e/-2);this.store.set("size",{width:t,height:e},n),this.setPosition(v.x,v.y,n)}else this.store.set("size",{width:t,height:e},n);return this.stopBatch("resize",n),this}scale(t,e,n,r={}){const s=this.getBBox().scale(t,e,n==null?void 0:n);return this.startBatch("scale",r),this.setPosition(s.x,s.y,r),this.resize(s.width,s.height,r),this.stopBatch("scale"),this}position(t,e,n){return typeof t=="number"?this.setPosition(t,e,n):this.getPosition(t)}getPosition(t={}){if(t.relative){const n=this.getParent();if(n!=null&&n.isNode()){const r=this.getPosition(),s=n.getPosition();return{x:r.x-s.x,y:r.y-s.y}}}const e=this.store.get("position");return e?Object.assign({},e):{x:0,y:0}}setPosition(t,e,n={}){let r,s,o;if(typeof t=="object"?(r=t.x,s=t.y,o=e||{}):(r=t,s=e,o=n||{}),o.relative){const a=this.getParent();if(a!=null&&a.isNode()){const l=a.getPosition();r+=l.x,s+=l.y}}if(o.deep){const a=this.getPosition();this.translate(r-a.x,s-a.y,o)}else this.store.set("position",{x:r,y:s},o);return this}translate(t=0,e=0,n={}){if(t===0&&e===0)return this;n.translateBy=n.translateBy||this.id;const r=this.getPosition();if(n.restrict!=null&&n.translateBy===this.id){const o=this.getBBox({deep:!0}),a=n.restrict,l=r.x-o.x,c=r.y-o.y,u=Math.max(a.x+l,Math.min(a.x+a.width+l-o.width,r.x+t)),h=Math.max(a.y+c,Math.min(a.y+a.height+c-o.height,r.y+e));t=u-r.x,e=h-r.y}const s={x:r.x+t,y:r.y+e};return n.tx=t,n.ty=e,n.transition?(typeof n.transition!="object"&&(n.transition={}),this.transition("position",s,Object.assign(Object.assign({},n.transition),{interp:Fs.object})),this.eachChild(o=>{var a;((a=n.exclude)===null||a===void 0?void 0:a.includes(o))||o.translate(t,e,n)})):(this.startBatch("translate",n),this.store.set("position",s,n),this.eachChild(o=>{var a;((a=n.exclude)===null||a===void 0?void 0:a.includes(o))||o.translate(t,e,n)}),this.stopBatch("translate",n)),this}angle(t,e){return t==null?this.getAngle():this.rotate(t,e)}getAngle(){return this.store.get("angle",0)}rotate(t,e={}){const n=this.getAngle();if(e.center){const r=this.getSize(),s=this.getPosition(),o=this.getBBox().getCenter();o.rotate(n-t,e.center);const a=o.x-r.width/2-s.x,l=o.y-r.height/2-s.y;this.startBatch("rotate",{angle:t,options:e}),this.setPosition(s.x+a,s.y+l,e),this.rotate(t,Object.assign(Object.assign({},e),{center:null})),this.stopBatch("rotate")}else this.store.set("angle",e.absolute?t:(n+t)%360,e);return this}getBBox(t={}){if(t.deep){const e=this.getDescendants({deep:!0,breadthFirst:!0});return e.push(this),ie.getCellsBBox(e)}return ht.fromPositionAndSize(this.getPosition(),this.getSize())}getConnectionPoint(t,e){const n=this.getBBox(),r=n.getCenter(),s=t.getTerminal(e);if(s==null)return r;const o=s.port;if(!o||!this.hasPort(o))return r;const a=this.getPort(o);if(!a||!a.group)return r;const c=this.getPortsPosition(a.group)[o].position,u=N.create(c).translate(n.getOrigin()),h=this.getAngle();return h&&u.rotate(-h,r),u}fit(t={}){const n=(this.getChildren()||[]).filter(c=>c.isNode());if(n.length===0)return this;this.startBatch("fit-embeds",t),t.deep&&n.forEach(c=>c.fit(t));let{x:r,y:s,width:o,height:a}=ie.getCellsBBox(n);const l=Zn(t.padding);return r-=l.left,s-=l.top,o+=l.left+l.right,a+=l.bottom+l.top,this.store.set({position:{x:r,y:s},size:{width:o,height:a}},t),this.stopBatch("fit-embeds"),this}get portContainerMarkup(){return this.getPortContainerMarkup()}set portContainerMarkup(t){this.setPortContainerMarkup(t)}getDefaultPortContainerMarkup(){return this.store.get("defaultPortContainerMarkup")||he.getPortContainerMarkup()}getPortContainerMarkup(){return this.store.get("portContainerMarkup")||this.getDefaultPortContainerMarkup()}setPortContainerMarkup(t,e={}){return this.store.set("portContainerMarkup",he.clone(t),e),this}get portMarkup(){return this.getPortMarkup()}set portMarkup(t){this.setPortMarkup(t)}getDefaultPortMarkup(){return this.store.get("defaultPortMarkup")||he.getPortMarkup()}getPortMarkup(){return this.store.get("portMarkup")||this.getDefaultPortMarkup()}setPortMarkup(t,e={}){return this.store.set("portMarkup",he.clone(t),e),this}get portLabelMarkup(){return this.getPortLabelMarkup()}set portLabelMarkup(t){this.setPortLabelMarkup(t)}getDefaultPortLabelMarkup(){return this.store.get("defaultPortLabelMarkup")||he.getPortLabelMarkup()}getPortLabelMarkup(){return this.store.get("portLabelMarkup")||this.getDefaultPortLabelMarkup()}setPortLabelMarkup(t,e={}){return this.store.set("portLabelMarkup",he.clone(t),e),this}get ports(){const t=this.store.get("ports",{items:[]});return t.items==null&&(t.items=[]),t}getPorts(){return Ye(this.ports.items)}getPortsByGroup(t){return this.getPorts().filter(e=>e.group===t)}getPort(t){return Ye(this.ports.items.find(e=>e.id&&e.id===t))}getPortAt(t){return this.ports.items[t]||null}hasPorts(){return this.ports.items.length>0}hasPort(t){return this.getPortIndex(t)!==-1}getPortIndex(t){const e=typeof t=="string"?t:t.id;return e!=null?this.ports.items.findIndex(n=>n.id===e):-1}getPortsPosition(t){const e=this.getSize();return this.port.getPortsLayoutByGroup(t,new ht(0,0,e.width,e.height)).reduce((r,s)=>{const o=s.portLayout;return r[s.portId]={position:Object.assign({},o.position),angle:o.angle||0},r},{})}getPortProp(t,e){return this.getPropByPath(this.prefixPortPath(t,e))}setPortProp(t,e,n,r){if(typeof e=="string"||Array.isArray(e)){const a=this.prefixPortPath(t,e),l=n;return this.setPropByPath(a,l,r)}const s=this.prefixPortPath(t),o=e;return this.setPropByPath(s,o,n)}removePortProp(t,e,n){return typeof e=="string"||Array.isArray(e)?this.removePropByPath(this.prefixPortPath(t,e),n):this.removePropByPath(this.prefixPortPath(t),e)}portProp(t,e,n,r){return e==null?this.getPortProp(t):typeof e=="string"||Array.isArray(e)?arguments.length===2?this.getPortProp(t,e):n==null?this.removePortProp(t,e,r):this.setPortProp(t,e,n,r):this.setPortProp(t,e,n)}prefixPortPath(t,e){const n=this.getPortIndex(t);if(n===-1)throw new Error(`Unable to find port with id: "${t}"`);return e==null||e===""?["ports","items",`${n}`]:Array.isArray(e)?["ports","items",`${n}`,...e]:`ports/items/${n}/${e}`}addPort(t,e){const n=[...this.ports.items];return n.push(t),this.setPropByPath("ports/items",n,e),this}addPorts(t,e){return this.setPropByPath("ports/items",[...this.ports.items,...t],e),this}insertPort(t,e,n){const r=[...this.ports.items];return r.splice(t,0,e),this.setPropByPath("ports/items",r,n),this}removePort(t,e={}){return this.removePortAt(this.getPortIndex(t),e)}removePortAt(t,e={}){if(t>=0){const n=[...this.ports.items];n.splice(t,1),e.rewrite=!0,this.setPropByPath("ports/items",n,e)}return this}removePorts(t,e){let n;if(Array.isArray(t)){if(n=e||{},t.length){n.rewrite=!0;const s=[...this.ports.items].filter(o=>!t.some(a=>{const l=typeof a=="string"?a:a.id;return o.id===l}));this.setPropByPath("ports/items",s,n)}}else n=t||{},n.rewrite=!0,this.setPropByPath("ports/items",[],n);return this}getParsedPorts(){return this.port.getPorts()}getParsedGroups(){return this.port.groups}getPortsLayoutByGroup(t,e){return this.port.getPortsLayoutByGroup(t,e)}initPorts(){this.updatePortData(),this.on("change:ports",()=>{this.processRemovedPort(),this.updatePortData()})}processRemovedPort(){const t=this.ports,e={};t.items.forEach(o=>{o.id&&(e[o.id]=!0)});const n={};(this.store.getPrevious("ports")||{items:[]}).items.forEach(o=>{o.id&&!e[o.id]&&(n[o.id]=!0)});const s=this.model;s&&!fv(n)&&(s.getConnectedEdges(this,{incoming:!0}).forEach(l=>{const c=l.getTargetPortId();c&&n[c]&&l.remove()}),s.getConnectedEdges(this,{outgoing:!0}).forEach(l=>{const c=l.getSourcePortId();c&&n[c]&&l.remove()}))}validatePorts(){const t={},e=[];return this.ports.items.forEach(n=>{typeof n!="object"&&e.push(`Invalid port ${n}.`),n.id==null&&(n.id=this.generatePortId()),t[n.id]&&e.push("Duplicitied port id."),t[n.id]=!0}),e}generatePortId(){return Nd()}updatePortData(){const t=this.validatePorts();if(t.length>0)throw this.store.set("ports",this.store.getPrevious("ports")),new Error(t.join(" "));const e=this.port?this.port.getPorts():null;this.port=new F7(this.ports);const n=this.port.getPorts(),r=e?n.filter(o=>e.find(a=>a.id===o.id)?null:o):[...n],s=e?e.filter(o=>n.find(a=>a.id===o.id)?null:o):[];r.length>0&&this.notify("ports:added",{added:r,cell:this,node:this}),s.length>0&&this.notify("ports:removed",{removed:s,cell:this,node:this})}}Ie.defaults={angle:0,position:{x:0,y:0},size:{width:1,height:1}};(function(i){i.toStringTag=`X6.${i.name}`;function t(e){if(e==null)return!1;if(e instanceof i)return!0;const n=e[Symbol.toStringTag],r=e;return(n==null||n===i.toStringTag)&&typeof r.isNode=="function"&&typeof r.isEdge=="function"&&typeof r.prop=="function"&&typeof r.attr=="function"&&typeof r.size=="function"&&typeof r.position=="function"}i.isNode=t})(Ie||(Ie={}));(function(i){i.config({propHooks(t){var{ports:e}=t,n=Xu(t,["ports"]);return e&&(n.ports=Array.isArray(e)?{items:e}:e),n}})})(Ie||(Ie={}));(function(i){i.registry=Ke.create({type:"node",process(t,e){if(la.exist(t,!0))throw new Error(`Node with name '${t}' was registered by anthor Edge`);if(typeof e=="function")return e.config({shape:t}),e;let n=i;const{inherit:r}=e,s=Xu(e,["inherit"]);if(r)if(typeof r=="string"){const a=this.get(r);a==null?this.onNotFound(r,"inherited"):n=a}else n=r;s.constructorName==null&&(s.constructorName=t);const o=n.define.call(n,s);return o.config({shape:t}),o}}),la.setNodeRegistry(i.registry)})(Ie||(Ie={}));(function(i){let t=0;function e(s){return s?rp(s):(t+=1,`CustomNode${t}`)}function n(s){const{constructorName:o,overwrite:a}=s,l=Xu(s,["constructorName","overwrite"]),c=np(e(o||l.shape),this);return c.config(l),l.shape&&i.registry.register(l.shape,c,a),c}i.define=n;function r(s){const o=s.shape||"rect",a=i.registry.get(o);return a?new a(s):i.registry.onNotFound(o)}i.create=r})(Ie||(Ie={}));var L7=globalThis&&globalThis.__rest||function(i,t){var e={};for(var n in i)Object.prototype.hasOwnProperty.call(i,n)&&t.indexOf(n)<0&&(e[n]=i[n]);if(i!=null&&typeof Object.getOwnPropertySymbols=="function")for(var r=0,n=Object.getOwnPropertySymbols(i);r<n.length;r++)t.indexOf(n[r])<0&&Object.prototype.propertyIsEnumerable.call(i,n[r])&&(e[n[r]]=i[n[r]]);return e};class xn extends Ie{get label(){return this.getLabel()}set label(t){this.setLabel(t)}getLabel(){return this.getAttrByPath("text/text")}setLabel(t,e){return t==null?this.removeLabel():this.setAttrByPath("text/text",t,e),this}removeLabel(){return this.removeAttrByPath("text/text"),this}}(function(i){i.bodyAttr={fill:"#ffffff",stroke:"#333333",strokeWidth:2},i.labelAttr={fontSize:14,fill:"#000000",refX:.5,refY:.5,textAnchor:"middle",textVerticalAnchor:"middle",fontFamily:"Arial, helvetica, sans-serif"},i.config({attrs:{text:Object.assign({},i.labelAttr)},propHooks(t){const{label:e}=t,n=L7(t,["label"]);return e&&fa(n,"attrs/text/text",e),n}})})(xn||(xn={}));var I7=globalThis&&globalThis.__rest||function(i,t){var e={};for(var n in i)Object.prototype.hasOwnProperty.call(i,n)&&t.indexOf(n)<0&&(e[n]=i[n]);if(i!=null&&typeof Object.getOwnPropertySymbols=="function")for(var r=0,n=Object.getOwnPropertySymbols(i);r<n.length;r++)t.indexOf(n[r])<0&&Object.prototype.propertyIsEnumerable.call(i,n[r])&&(e[n[r]]=i[n[r]]);return e};function z7(i,t=!1){return`<g class="rotatable"><g class="scalable"><${i}/></g>${t?"":"<text/>"}</g>`}function vp(i){return`basic.${i}`}function Hl(i="xlink:href"){return e=>{const{imageUrl:n,imageWidth:r,imageHeight:s}=e,o=I7(e,["imageUrl","imageWidth","imageHeight"]);if(n!=null||r!=null||s!=null){const a=()=>{if(o.attrs){const l=o.attrs.image;n!=null&&(l[i]=n),r!=null&&(l.width=r),s!=null&&(l.height=s),o.attrs.image=l}};o.attrs?(o.attrs.image==null&&(o.attrs.image={}),a()):(o.attrs={image:{}},a())}return o}}function cr(i,t,e={}){const n=vp(i),r={constructorName:n,attrs:{".":{fill:"#ffffff",stroke:"none"},[i]:{fill:"#ffffff",stroke:"#000000"}}};return e.ignoreMarkup||(r.markup=z7(i,e.noText===!0)),(e.parent||xn).define(Ne(r,t,{shape:n}))}cr("rect",{attrs:{rect:{width:100,height:60}}});cr("circle",{width:60,height:60,attrs:{circle:{r:30,cx:30,cy:30}}});cr("ellipse",{width:60,height:40,attrs:{ellipse:{rx:30,ry:20,cx:30,cy:20}}});cr("polygon",{width:60,height:40,attrs:{text:{refY:null,refDy:16}}});cr("polyline",{width:60,height:40,attrs:{text:{refY:null,refDy:16}}});cr("image",{attrs:{text:{refY:null,refDy:16}},propHooks:Hl()});var j7=globalThis&&globalThis.__rest||function(i,t){var e={};for(var n in i)Object.prototype.hasOwnProperty.call(i,n)&&t.indexOf(n)<0&&(e[n]=i[n]);if(i!=null&&typeof Object.getOwnPropertySymbols=="function")for(var r=0,n=Object.getOwnPropertySymbols(i);r<n.length;r++)t.indexOf(n[r])<0&&Object.prototype.propertyIsEnumerable.call(i,n[r])&&(e[n[r]]=i[n[r]]);return e};const S1=cr("path",{width:60,height:60,attrs:{text:{ref:"path",refY:null,refDy:16}},propHooks(i){const{d:t}=i,e=j7(i,["d"]);return t!=null&&fa(e,"attrs/path/d",t),e}});cr("rhombus",{d:"M 30 0 L 60 30 30 60 0 30 z",attrs:{text:{refY:.5,refDy:null}}},{parent:S1,ignoreMarkup:!0});cr("cylinder",{width:40,height:40,attrs:{path:{fill:"#FFFFFF",stroke:"#cbd2d7",strokeWidth:3,d:["M 0 10 C 10 5, 30 5, 40 10 C 30 15, 10 15, 0 10","L 0 20","C 10 25, 30 25, 40 20","L 40 10"].join(" ")},text:{refY:.7,refDy:null,fill:"#435460"}}},{parent:S1,ignoreMarkup:!0});var Yu=globalThis&&globalThis.__rest||function(i,t){var e={};for(var n in i)Object.prototype.hasOwnProperty.call(i,n)&&t.indexOf(n)<0&&(e[n]=i[n]);if(i!=null&&typeof Object.getOwnPropertySymbols=="function")for(var r=0,n=Object.getOwnPropertySymbols(i);r<n.length;r++)t.indexOf(n[r])<0&&Object.prototype.propertyIsEnumerable.call(i,n[r])&&(e[n[r]]=i[n[r]]);return e};class $e extends ie{constructor(t={}){super(t)}get[Symbol.toStringTag](){return $e.toStringTag}preprocess(t,e){const{source:n,sourceCell:r,sourcePort:s,sourcePoint:o,target:a,targetCell:l,targetPort:c,targetPoint:u}=t,f=Yu(t,["source","sourceCell","sourcePort","sourcePoint","target","targetCell","targetPort","targetPoint"]),p=b=>typeof b=="string"||typeof b=="number";if(n!=null)if(ie.isCell(n))f.source={cell:n.id};else if(p(n))f.source={cell:n};else if(N.isPoint(n))f.source=n.toJSON();else if(Array.isArray(n))f.source={x:n[0],y:n[1]};else{const b=n.cell;ie.isCell(b)?f.source=Object.assign(Object.assign({},n),{cell:b.id}):f.source=n}if(r!=null||s!=null){let b=f.source;if(r!=null){const v=p(r)?r:r.id;b?b.cell=v:b=f.source={cell:v}}s!=null&&b&&(b.port=s)}else o!=null&&(f.source=N.create(o).toJSON());if(a!=null)if(ie.isCell(a))f.target={cell:a.id};else if(p(a))f.target={cell:a};else if(N.isPoint(a))f.target=a.toJSON();else if(Array.isArray(a))f.target={x:a[0],y:a[1]};else{const b=a.cell;ie.isCell(b)?f.target=Object.assign(Object.assign({},a),{cell:b.id}):f.target=a}if(l!=null||c!=null){let b=f.target;if(l!=null){const v=p(l)?l:l.id;b?b.cell=v:b=f.target={cell:v}}c!=null&&b&&(b.port=c)}else u!=null&&(f.target=N.create(u).toJSON());return super.preprocess(f,e)}setup(){super.setup(),this.on("change:labels",t=>this.onLabelsChanged(t)),this.on("change:vertices",t=>this.onVertexsChanged(t))}isEdge(){return!0}disconnect(t={}){return this.store.set({source:{x:0,y:0},target:{x:0,y:0}},t),this}get source(){return this.getSource()}set source(t){this.setSource(t)}getSource(){return this.getTerminal("source")}getSourceCellId(){return this.source.cell}getSourcePortId(){return this.source.port}setSource(t,e,n={}){return this.setTerminal("source",t,e,n)}get target(){return this.getTarget()}set target(t){this.setTarget(t)}getTarget(){return this.getTerminal("target")}getTargetCellId(){return this.target.cell}getTargetPortId(){return this.target.port}setTarget(t,e,n={}){return this.setTerminal("target",t,e,n)}getTerminal(t){return Object.assign({},this.store.get(t))}setTerminal(t,e,n,r={}){if(ie.isCell(e))return this.store.set(t,Ne({},n,{cell:e.id}),r),this;const s=e;return N.isPoint(e)||s.x!=null&&s.y!=null?(this.store.set(t,Ne({},n,{x:s.x,y:s.y}),r),this):(this.store.set(t,Ye(e),r),this)}getSourcePoint(){return this.getTerminalPoint("source")}getTargetPoint(){return this.getTerminalPoint("target")}getTerminalPoint(t){const e=this[t];if(N.isPointLike(e))return N.create(e);const n=this.getTerminalCell(t);return n?n.getConnectionPoint(this,t):new N}getSourceCell(){return this.getTerminalCell("source")}getTargetCell(){return this.getTerminalCell("target")}getTerminalCell(t){if(this.model){const e=t==="source"?this.getSourceCellId():this.getTargetCellId();if(e)return this.model.getCell(e)}return null}getSourceNode(){return this.getTerminalNode("source")}getTargetNode(){return this.getTerminalNode("target")}getTerminalNode(t){let e=this;const n={};for(;e&&e.isEdge();){if(n[e.id])return null;n[e.id]=!0,e=e.getTerminalCell(t)}return e&&e.isNode()?e:null}get router(){return this.getRouter()}set router(t){t==null?this.removeRouter():this.setRouter(t)}getRouter(){return this.store.get("router")}setRouter(t,e,n){return typeof t=="object"?this.store.set("router",t,e):this.store.set("router",{name:t,args:e},n),this}removeRouter(t={}){return this.store.remove("router",t),this}get connector(){return this.getConnector()}set connector(t){t==null?this.removeConnector():this.setConnector(t)}getConnector(){return this.store.get("connector")}setConnector(t,e,n){return typeof t=="object"?this.store.set("connector",t,e):this.store.set("connector",{name:t,args:e},n),this}removeConnector(t={}){return this.store.remove("connector",t)}get strategy(){return this.getStrategy()}set strategy(t){t==null?this.removeStrategy():this.setStrategy(t)}getStrategy(){return this.store.get("strategy")}setStrategy(t,e,n){return typeof t=="object"?this.store.set("strategy",t,e):this.store.set("strategy",{name:t,args:e},n),this}removeStrategy(t={}){return this.store.remove("strategy",t)}getDefaultLabel(){const t=this.constructor,e=this.store.get("defaultLabel")||t.defaultLabel||{};return Ye(e)}get labels(){return this.getLabels()}set labels(t){this.setLabels(t)}getLabels(){return[...this.store.get("labels",[])].map(t=>this.parseLabel(t))}setLabels(t,e={}){return this.store.set("labels",Array.isArray(t)?t:[t],e),this}insertLabel(t,e,n={}){const r=this.getLabels(),s=r.length;let o=e!=null&&Number.isFinite(e)?e:s;return o<0&&(o=s+o+1),r.splice(o,0,this.parseLabel(t)),this.setLabels(r,n)}appendLabel(t,e={}){return this.insertLabel(t,-1,e)}getLabelAt(t){const e=this.getLabels();return t!=null&&Number.isFinite(t)?this.parseLabel(e[t]):null}setLabelAt(t,e,n={}){if(t!=null&&Number.isFinite(t)){const r=this.getLabels();r[t]=this.parseLabel(e),this.setLabels(r,n)}return this}removeLabelAt(t,e={}){const n=this.getLabels(),r=t!=null&&Number.isFinite(t)?t:-1,s=n.splice(r,1);return this.setLabels(n,e),s.length?s[0]:null}parseLabel(t){return typeof t=="string"?this.constructor.parseStringLabel(t):t}onLabelsChanged({previous:t,current:e}){const n=t&&e?e.filter(s=>t.find(o=>s===o||ji(s,o))?null:s):e?[...e]:[],r=t&&e?t.filter(s=>e.find(o=>s===o||ji(s,o))?null:s):t?[...t]:[];n.length>0&&this.notify("labels:added",{added:n,cell:this,edge:this}),r.length>0&&this.notify("labels:removed",{removed:r,cell:this,edge:this})}get vertexMarkup(){return this.getVertexMarkup()}set vertexMarkup(t){this.setVertexMarkup(t)}getDefaultVertexMarkup(){return this.store.get("defaultVertexMarkup")||he.getEdgeVertexMarkup()}getVertexMarkup(){return this.store.get("vertexMarkup")||this.getDefaultVertexMarkup()}setVertexMarkup(t,e={}){return this.store.set("vertexMarkup",he.clone(t),e),this}get vertices(){return this.getVertices()}set vertices(t){this.setVertices(t)}getVertices(){return[...this.store.get("vertices",[])]}setVertices(t,e={}){const n=Array.isArray(t)?t:[t];return this.store.set("vertices",n.map(r=>N.toJSON(r)),e),this}insertVertex(t,e,n={}){const r=this.getVertices(),s=r.length;let o=e!=null&&Number.isFinite(e)?e:s;return o<0&&(o=s+o+1),r.splice(o,0,N.toJSON(t)),this.setVertices(r,n)}appendVertex(t,e={}){return this.insertVertex(t,-1,e)}getVertexAt(t){return t!=null&&Number.isFinite(t)?this.getVertices()[t]:null}setVertexAt(t,e,n={}){if(t!=null&&Number.isFinite(t)){const r=this.getVertices();r[t]=e,this.setVertices(r,n)}return this}removeVertexAt(t,e={}){const n=this.getVertices(),r=t!=null&&Number.isFinite(t)?t:-1;return n.splice(r,1),this.setVertices(n,e)}onVertexsChanged({previous:t,current:e}){const n=t&&e?e.filter(s=>t.find(o=>N.equals(s,o))?null:s):e?[...e]:[],r=t&&e?t.filter(s=>e.find(o=>N.equals(s,o))?null:s):t?[...t]:[];n.length>0&&this.notify("vertexs:added",{added:n,cell:this,edge:this}),r.length>0&&this.notify("vertexs:removed",{removed:r,cell:this,edge:this})}getDefaultMarkup(){return this.store.get("defaultMarkup")||he.getEdgeMarkup()}getMarkup(){return super.getMarkup()||this.getDefaultMarkup()}get toolMarkup(){return this.getToolMarkup()}set toolMarkup(t){this.setToolMarkup(t)}getDefaultToolMarkup(){return this.store.get("defaultToolMarkup")||he.getEdgeToolMarkup()}getToolMarkup(){return this.store.get("toolMarkup")||this.getDefaultToolMarkup()}setToolMarkup(t,e={}){return this.store.set("toolMarkup",t,e),this}get doubleToolMarkup(){return this.getDoubleToolMarkup()}set doubleToolMarkup(t){this.setDoubleToolMarkup(t)}getDefaultDoubleToolMarkup(){return this.store.get("defaultDoubleToolMarkup")}getDoubleToolMarkup(){return this.store.get("doubleToolMarkup")||this.getDefaultDoubleToolMarkup()}setDoubleToolMarkup(t,e={}){return this.store.set("doubleToolMarkup",t,e),this}get arrowheadMarkup(){return this.getArrowheadMarkup()}set arrowheadMarkup(t){this.setArrowheadMarkup(t)}getDefaultArrowheadMarkup(){return this.store.get("defaultArrowheadMarkup")||he.getEdgeArrowheadMarkup()}getArrowheadMarkup(){return this.store.get("arrowheadMarkup")||this.getDefaultArrowheadMarkup()}setArrowheadMarkup(t,e={}){return this.store.set("arrowheadMarkup",t,e),this}translate(t,e,n={}){return n.translateBy=n.translateBy||this.id,n.tx=t,n.ty=e,this.applyToPoints(r=>({x:(r.x||0)+t,y:(r.y||0)+e}),n)}scale(t,e,n,r={}){return this.applyToPoints(s=>N.create(s).scale(t,e,n).toJSON(),r)}applyToPoints(t,e={}){const n={},r=this.getSource(),s=this.getTarget();N.isPointLike(r)&&(n.source=t(r)),N.isPointLike(s)&&(n.target=t(s));const o=this.getVertices();return o.length>0&&(n.vertices=o.map(t)),this.store.set(n,e),this}getBBox(){return this.getPolyline().bbox()}getConnectionPoint(){return this.getPolyline().pointAt(.5)}getPolyline(){const t=[this.getSourcePoint(),...this.getVertices().map(e=>N.create(e)),this.getTargetPoint()];return new ln(t)}updateParent(t){let e=null;const n=this.getSourceCell(),r=this.getTargetCell(),s=this.getParent();return n&&r&&(n===r||n.isDescendantOf(r)?e=r:r.isDescendantOf(n)?e=n:e=ie.getCommonAncestor(n,r)),s&&(!e||e.id!==s.id)&&s.unembed(this,t),e&&e.embed(this,t),e}hasLoop(t={}){const e=this.getSource(),n=this.getTarget(),r=e.cell,s=n.cell;if(!r||!s)return!1;let o=r===s;if(!o&&t.deep&&this._model){const a=this.getSourceCell(),l=this.getTargetCell();a&&l&&(o=a.isAncestorOf(l,t)||l.isAncestorOf(a,t))}return o}getFragmentAncestor(){const t=[this,this.getSourceNode(),this.getTargetNode()].filter(e=>e!=null);return this.getCommonAncestor(...t)}isFragmentDescendantOf(t){const e=this.getFragmentAncestor();return!!e&&(e.id===t.id||e.isDescendantOf(t))}}$e.defaults={};(function(i){function t(e,n){const r=e,s=n;return r.cell===s.cell?r.port===s.port||r.port==null&&s.port==null:!1}i.equalTerminals=t})($e||($e={}));(function(i){i.defaultLabel={markup:[{tagName:"rect",selector:"body"},{tagName:"text",selector:"label"}],attrs:{text:{fill:"#000",fontSize:14,textAnchor:"middle",textVerticalAnchor:"middle",pointerEvents:"none"},rect:{ref:"label",fill:"#fff",rx:3,ry:3,refWidth:1,refHeight:1,refX:0,refY:0}},position:{distance:.5}};function t(e){return{attrs:{label:{text:e}}}}i.parseStringLabel=t})($e||($e={}));(function(i){i.toStringTag=`X6.${i.name}`;function t(e){if(e==null)return!1;if(e instanceof i)return!0;const n=e[Symbol.toStringTag],r=e;return(n==null||n===i.toStringTag)&&typeof r.isNode=="function"&&typeof r.isEdge=="function"&&typeof r.prop=="function"&&typeof r.attr=="function"&&typeof r.disconnect=="function"&&typeof r.getSource=="function"&&typeof r.getTarget=="function"}i.isEdge=t})($e||($e={}));(function(i){i.registry=Ke.create({type:"edge",process(t,e){if(la.exist(t,!1))throw new Error(`Edge with name '${t}' was registered by anthor Node`);if(typeof e=="function")return e.config({shape:t}),e;let n=i;const{inherit:r="edge"}=e,s=Yu(e,["inherit"]);if(typeof r=="string"){const a=this.get(r||"edge");a==null&&r?this.onNotFound(r,"inherited"):n=a}else n=r;s.constructorName==null&&(s.constructorName=t);const o=n.define.call(n,s);return o.config({shape:t}),o}}),la.setEdgeRegistry(i.registry)})($e||($e={}));(function(i){let t=0;function e(s){return s?rp(s):(t+=1,`CustomEdge${t}`)}function n(s){const{constructorName:o,overwrite:a}=s,l=Yu(s,["constructorName","overwrite"]),c=np(e(o||l.shape),this);return c.config(l),l.shape&&i.registry.register(l.shape,c,a),c}i.define=n;function r(s){const o=s.shape||"edge",a=i.registry.get(o);return a?new a(s):i.registry.onNotFound(o)}i.create=r})($e||($e={}));(function(i){const t="basic.edge";i.config({shape:t,propHooks(e){const{label:n,vertices:r}=e,s=Yu(e,["label","vertices"]);if(n){s.labels==null&&(s.labels=[]);const o=typeof n=="string"?i.parseStringLabel(n):n;s.labels.push(o)}return r&&Array.isArray(r)&&(s.vertices=r.map(o=>N.create(o).toJSON())),s}}),i.registry.register(t,i)})($e||($e={}));var B7=globalThis&&globalThis.__rest||function(i,t){var e={};for(var n in i)Object.prototype.hasOwnProperty.call(i,n)&&t.indexOf(n)<0&&(e[n]=i[n]);if(i!=null&&typeof Object.getOwnPropertySymbols=="function")for(var r=0,n=Object.getOwnPropertySymbols(i);r<n.length;r++)t.indexOf(n[r])<0&&Object.prototype.propertyIsEnumerable.call(i,n[r])&&(e[n[r]]=i[n[r]]);return e};class Sr extends Re{constructor(){super(...arguments),this.POINT_ROUNDING=2,this.markerCache={}}get[Symbol.toStringTag](){return Sr.toStringTag}getContainerClassName(){return[super.getContainerClassName(),this.prefixClassName("edge")].join(" ")}get sourceBBox(){const t=this.sourceView;if(!t){const n=this.cell.getSource();return new ht(n.x,n.y)}const e=this.sourceMagnet;return t.isEdgeElement(e)?new ht(this.sourceAnchor.x,this.sourceAnchor.y):t.getBBoxOfElement(e||t.container)}get targetBBox(){const t=this.targetView;if(!t){const n=this.cell.getTarget();return new ht(n.x,n.y)}const e=this.targetMagnet;return t.isEdgeElement(e)?new ht(this.targetAnchor.x,this.targetAnchor.y):t.getBBoxOfElement(e||t.container)}isEdgeView(){return!0}confirmUpdate(t,e={}){let n=t;if(this.hasAction(n,"source")){if(!this.updateTerminalProperties("source"))return n;n=this.removeAction(n,"source")}if(this.hasAction(n,"target")){if(!this.updateTerminalProperties("target"))return n;n=this.removeAction(n,"target")}const r=this.graph,s=this.sourceView,o=this.targetView;return r&&(s&&!r.renderer.isViewMounted(s)||o&&!r.renderer.isViewMounted(o))?n:this.hasAction(n,"render")?(this.render(),n=this.removeAction(n,["render","update","vertices","labels","tools","widget"]),n):(n=this.handleAction(n,"vertices",()=>this.renderVertexMarkers()),n=this.handleAction(n,"update",()=>this.update(null,e)),n=this.handleAction(n,"labels",()=>this.onLabelsChange(e)),n=this.handleAction(n,"tools",()=>{this.renderTools(),this.updateToolsPosition()}),n=this.handleAction(n,"widget",()=>this.renderExternalTools()),n)}onLabelsChange(t={}){this.shouldRerenderLabels(t)?this.renderLabels():this.updateLabels(),this.updateLabelPositions()}shouldRerenderLabels(t={}){const e=this.cell.previous("labels");if(e==null)return!0;if("propertyPathArray"in t&&"propertyValue"in t){const n=t.propertyPathArray||[],r=n.length;if(r>1){const s=n[1];if(e[s]){if(r===2)return typeof t.propertyValue=="object"&&Da(t.propertyValue,"markup");if(n[2]!=="markup")return!1}}}return!0}render(){return this.empty(),this.containers={},this.renderMarkup(),this.renderLabels(),this.update(),this.renderExternalTools(),this}renderMarkup(){const t=this.cell.markup;if(t)return typeof t=="string"?this.renderStringMarkup(t):this.renderJSONMarkup(t);throw new TypeError("Invalid edge markup.")}renderJSONMarkup(t){const e=this.parseJSONMarkup(t,this.container);this.selectors=e.selectors,this.container.append(e.fragment)}renderStringMarkup(t){const e=this.containers,n=St.createVectors(t);n.forEach(r=>{const s=r.attr("class");s&&(e[$f(s)]=r.node)}),this.renderTools(),this.renderVertexMarkers(),this.renderArrowheadMarkers(),bl(this.container,n.map(r=>r.node))}renderLabels(){const t=this.cell,e=t.getLabels(),n=e.length;let r=this.containers.labels;if(this.labelCache={},this.labelSelectors={},n<=0)return r&&r.parentNode&&r.parentNode.removeChild(r),this;r?this.empty(r):(r=Qn("g"),this.addClass(this.prefixClassName("edge-labels"),r),this.containers.labels=r);for(let s=0,o=e.length;s<o;s+=1){const a=e[s],l=this.normalizeLabelMarkup(this.parseLabelMarkup(a.markup));let c,u;if(l)c=l.node,u=l.selectors;else{const f=t.getDefaultLabel(),p=this.normalizeLabelMarkup(this.parseLabelMarkup(f.markup));c=p.node,u=p.selectors}c.setAttribute("data-index",`${s}`),r.appendChild(c);const h=this.rootSelector;if(u[h])throw new Error("Ambiguous label root selector.");u[h]=c,this.labelCache[s]=c,this.labelSelectors[s]=u}return r.parentNode==null&&this.container.appendChild(r),this.updateLabels(),this.customizeLabels(),this}parseLabelMarkup(t){return t?typeof t=="string"?this.parseLabelStringMarkup(t):this.parseJSONMarkup(t):null}parseLabelStringMarkup(t){const e=St.createVectors(t),n=document.createDocumentFragment();for(let r=0,s=e.length;r<s;r+=1){const o=e[r].node;n.appendChild(o)}return{fragment:n,selectors:{}}}normalizeLabelMarkup(t){if(t==null)return;const e=t.fragment;if(!(e instanceof DocumentFragment)||!e.hasChildNodes())throw new Error("Invalid label markup.");let n;const r=e.childNodes;return r.length>1||r[0].nodeName.toUpperCase()!=="G"?n=St.create("g").append(e):n=St.create(r[0]),n.addClass(this.prefixClassName("edge-label")),{node:n.node,selectors:t.selectors}}updateLabels(){if(this.containers.labels){const t=this.cell,e=t.labels,n=this.can("edgeLabelMovable"),r=t.getDefaultLabel();for(let s=0,o=e.length;s<o;s+=1){const a=this.labelCache[s],l=this.labelSelectors[s];a.setAttribute("cursor",n?"move":"default");const c=e[s],u=Ne({},r.attrs,c.attrs);this.updateAttrs(a,u,{selectors:l,rootBBox:c.size?ht.fromSize(c.size):void 0})}}}mergeLabelAttrs(t,e,n){if(e===null)return null;if(e===void 0)return n===null?null:n===void 0?void 0:t?n:Ne({},n);if(t)return Ne({},n,e)}customizeLabels(){if(this.containers.labels){const t=this.cell,e=t.labels;for(let n=0,r=e.length;n<r;n+=1){const s=e[n],o=this.labelCache[n],a=this.labelSelectors[n];this.graph.hook.onEdgeLabelRendered({edge:t,label:s,container:o,selectors:a})}}}renderTools(){const t=this.containers.tools;if(t==null)return this;const e=this.cell.toolMarkup,n=this.$(t).empty();if(he.isStringMarkup(e)){let r=Mo(e);const s=St.create(r());if(n.append(s.node),this.toolCache=s.node,this.options.doubleTools){let o;const a=this.cell.doubleToolMarkup;he.isStringMarkup(a)?(r=Mo(a),o=St.create(r())):o=s.clone(),n.append(o.node),this.tool2Cache=o.node}}return this}renderExternalTools(){const t=this.cell.getTools();return this.addTools(t),this}renderVertexMarkers(){const t=this.containers.vertices;if(t==null)return this;const e=this.cell.vertexMarkup,n=this.$(t).empty();if(he.isStringMarkup(e)){const r=Mo(e);this.cell.getVertices().forEach((s,o)=>{n.append(St.create(r(Object.assign({index:o},s))).node)})}return this}renderArrowheadMarkers(){const t=this.containers.arrowheads;if(t==null)return this;const e=this.cell.arrowheadMarkup,n=this.$(t).empty();if(he.isStringMarkup(e)){const r=Mo(e),s=St.create(r({end:"source"})).node,o=St.create(r({end:"target"})).node;this.containers.sourceArrowhead=s,this.containers.targetArrowhead=o,n.append(s,o)}return this}update(t,e={}){this.cleanCache(),this.updateConnection(e);const n=this.cell.getAttrs();return n!=null&&this.updateAttrs(this.container,n,{attrs:t===n?null:t,selectors:this.selectors}),this.updateConnectionPath(),this.updateLabelPositions(),this.updateToolsPosition(),this.updateArrowheadMarkers(),this.updateTools(e),this}removeRedundantLinearVertices(t={}){const e=this.cell,n=e.getVertices(),r=[this.sourceAnchor,...n,this.targetAnchor],s=r.length,o=new ln(r);o.simplify({threshold:.01});const a=o.points.map(c=>c.toJSON()),l=a.length;return s===l?0:(e.setVertices(a.slice(1,l-1),t),s-l)}updateConnectionPath(){const t=this.containers;if(t.connection){const e=this.getConnectionPathData();t.connection.setAttribute("d",e)}if(t.connectionWrap){const e=this.getConnectionPathData();t.connectionWrap.setAttribute("d",e)}t.sourceMarker&&t.targetMarker&&this.translateAndAutoOrientArrows(t.sourceMarker,t.targetMarker)}getTerminalView(t){switch(t){case"source":return this.sourceView||null;case"target":return this.targetView||null;default:throw new Error(`Unknown terminal type '${t}'`)}}getTerminalAnchor(t){switch(t){case"source":return N.create(this.sourceAnchor);case"target":return N.create(this.targetAnchor);default:throw new Error(`Unknown terminal type '${t}'`)}}getTerminalConnectionPoint(t){switch(t){case"source":return N.create(this.sourcePoint);case"target":return N.create(this.targetPoint);default:throw new Error(`Unknown terminal type '${t}'`)}}getTerminalMagnet(t,e={}){switch(t){case"source":{if(e.raw)return this.sourceMagnet;const n=this.sourceView;return n?this.sourceMagnet||n.container:null}case"target":{if(e.raw)return this.targetMagnet;const n=this.targetView;return n?this.targetMagnet||n.container:null}default:throw new Error(`Unknown terminal type '${t}'`)}}updateConnection(t={}){const e=this.cell;if(t.translateBy&&e.isFragmentDescendantOf(t.translateBy)){const n=t.tx||0,r=t.ty||0;this.routePoints=new ln(this.routePoints).translate(n,r).points,this.translateConnectionPoints(n,r),this.path.translate(n,r)}else{const n=e.getVertices(),r=this.findAnchors(n);this.sourceAnchor=r.source,this.targetAnchor=r.target,this.routePoints=this.findRoutePoints(n);const s=this.findConnectionPoints(this.routePoints,this.sourceAnchor,this.targetAnchor);this.sourcePoint=s.source,this.targetPoint=s.target;const o=this.findMarkerPoints(this.routePoints,this.sourcePoint,this.targetPoint);this.path=this.findPath(this.routePoints,o.source||this.sourcePoint,o.target||this.targetPoint)}this.cleanCache()}findAnchors(t){const e=this.cell,n=e.source,r=e.target,s=t[0],o=t[t.length-1];return r.priority&&!n.priority?this.findAnchorsOrdered("target",o,"source",s):this.findAnchorsOrdered("source",s,"target",o)}findAnchorsOrdered(t,e,n,r){let s,o;const a=this.cell,l=a[t],c=a[n],u=this.getTerminalView(t),h=this.getTerminalView(n),f=this.getTerminalMagnet(t),p=this.getTerminalMagnet(n);if(u){let b;e?b=N.create(e):h?b=p:b=N.create(c),s=this.getAnchor(l.anchor,u,f,b,t)}else s=N.create(l);if(h){const b=N.create(r||s);o=this.getAnchor(c.anchor,h,p,b,n)}else o=N.isPointLike(c)?N.create(c):new N;return{[t]:s,[n]:o}}getAnchor(t,e,n,r,s){const o=e.isEdgeElement(n),a=this.graph.options.connecting;let l=typeof t=="string"?{name:t}:t;if(!l){const h=o?(s==="source"?a.sourceEdgeAnchor:a.targetEdgeAnchor)||a.edgeAnchor:(s==="source"?a.sourceAnchor:a.targetAnchor)||a.anchor;l=typeof h=="string"?{name:h}:h}if(!l)throw new Error("Anchor should be specified.");let c;const u=l.name;if(o){const h=oa.registry.get(u);if(typeof h!="function")return oa.registry.onNotFound(u);c=xt(h,this,e,n,r,l.args||{},s)}else{const h=sa.registry.get(u);if(typeof h!="function")return sa.registry.onNotFound(u);c=xt(h,this,e,n,r,l.args||{},s)}return c?c.round(this.POINT_ROUNDING):new N}findRoutePoints(t=[]){const e=this.graph.options.connecting.router||Xr.presets.normal,n=this.cell.getRouter()||e;let r;if(typeof n=="function")r=xt(n,this,t,{},this);else{const s=typeof n=="string"?n:n.name,o=typeof n=="string"?{}:n.args||{},a=s?Xr.registry.get(s):Xr.presets.normal;if(typeof a!="function")return Xr.registry.onNotFound(s);r=xt(a,this,t,o,this)}return r==null?t.map(s=>N.create(s)):r.map(s=>N.create(s))}findConnectionPoints(t,e,n){const r=this.cell,s=this.graph.options.connecting,o=r.getSource(),a=r.getTarget(),l=this.sourceView,c=this.targetView,u=t[0],h=t[t.length-1];let f;if(l&&!l.isEdgeElement(this.sourceMagnet)){const b=this.sourceMagnet||l.container,v=u||n,C=new At(v,e),x=o.connectionPoint||s.sourceConnectionPoint||s.connectionPoint;f=this.getConnectionPoint(x,l,b,C,"source")}else f=e;let p;if(c&&!c.isEdgeElement(this.targetMagnet)){const b=this.targetMagnet||c.container,v=a.connectionPoint||s.targetConnectionPoint||s.connectionPoint,C=h||e,x=new At(C,n);p=this.getConnectionPoint(v,c,b,x,"target")}else p=n;return{source:f,target:p}}getConnectionPoint(t,e,n,r,s){const o=r.end;if(t==null)return o;const a=typeof t=="string"?t:t.name,l=typeof t=="string"?{}:t.args,c=aa.registry.get(a);if(typeof c!="function")return aa.registry.onNotFound(a);const u=xt(c,this,r,e,n,l||{},s);return u?u.round(this.POINT_ROUNDING):o}updateMarkerAttr(t){const e=this.cell.getAttrs(),n=`.${t}-marker`,r=e&&e[n];r&&this.updateAttrs(this.container,{},{attrs:{[n]:r},selectors:this.selectors})}findMarkerPoints(t,e,n){const r=f=>{const p=this.cell.getAttrs(),b=Object.keys(p);for(let v=0,C=b.length;v<C;v+=1){const x=p[b[v]];if(x[`${f}Marker`]||x[`${f}-marker`]){const S=x.strokeWidth||x["stroke-width"];if(S)return parseFloat(S);break}}return null},s=t[0],o=t[t.length-1],a=this.containers.sourceMarker,l=this.containers.targetMarker,c=this.markerCache;let u,h;if(a){if(this.updateMarkerAttr("source"),c.sourceBBox=c.sourceBBox||Cn(a),c.sourceBBox.width>0){const f=Ur(a);u=e.clone().move(s||n,c.sourceBBox.width*f.sx*-1)}}else{const f=r("source");f&&(u=e.clone().move(s||n,-f))}if(l){if(this.updateMarkerAttr("target"),c.targetBBox=c.targetBBox||Cn(l),c.targetBBox.width>0){const f=Ur(l);h=n.clone().move(o||e,c.targetBBox.width*f.sx*-1)}}else{const f=r("target");f&&(h=n.clone().move(o||e,-f))}return c.sourcePoint=u||e.clone(),c.targetPoint=h||n.clone(),{source:u,target:h}}findPath(t,e,n){const r=this.cell.getConnector()||this.graph.options.connecting.connector;let s,o,a;if(typeof r=="string"?s=r:(s=r.name,o=r.args),s){const c=Vs.registry.get(s);if(typeof c!="function")return Vs.registry.onNotFound(s);a=c}else a=Vs.presets.normal;const l=xt(a,this,e,n,t,Object.assign(Object.assign({},o),{raw:!0}),this);return typeof l=="string"?Nt.parse(l):l}translateConnectionPoints(t,e){const n=this.markerCache;n.sourcePoint&&n.sourcePoint.translate(t,e),n.targetPoint&&n.targetPoint.translate(t,e),this.sourcePoint.translate(t,e),this.targetPoint.translate(t,e),this.sourceAnchor.translate(t,e),this.targetAnchor.translate(t,e)}updateLabelPositions(){if(this.containers.labels==null)return this;if(!this.path)return this;const e=this.cell,n=e.getLabels();if(n.length===0)return this;const r=e.getDefaultLabel(),s=this.normalizeLabelPosition(r.position);for(let o=0,a=n.length;o<a;o+=1){const l=n[o],c=this.normalizeLabelPosition(l.position),u=Ne({},s,c),h=this.getLabelTransformationMatrix(u);this.labelCache[o].setAttribute("transform",uo(h))}return this}updateToolsPosition(){if(this.containers.tools==null)return this;let t="",e=this.options.toolsOffset;const n=this.getConnectionLength();if(n!=null){n<this.options.shortLength&&(t="scale(.5)",e/=2);let r=this.getPointAtLength(e);if(r!=null&&be(this.toolCache,"transform",`translate(${r.x},${r.y}) ${t}`),this.options.doubleTools&&n>=this.options.longLength){const s=this.options.doubleToolsOffset||e;r=this.getPointAtLength(n-s),r!=null&&be(this.tool2Cache,"transform",`translate(${r.x},${r.y}) ${t}`),be(this.tool2Cache,"visibility","visible")}else this.options.doubleTools&&be(this.tool2Cache,"visibility","hidden")}return this}updateArrowheadMarkers(){const t=this.containers.arrowheads;if(t==null)return this;if(t.style.display==="none")return this;const e=this.containers.sourceArrowhead,n=this.containers.targetArrowhead;if(e&&n){const s=(this.getConnectionLength()||0)<this.options.shortLength?.5:1;Ur(e,s),Ur(n,s),this.translateAndAutoOrientArrows(e,n)}return this}updateTerminalProperties(t){const e=this.cell,n=this.graph,r=e[t],s=r&&r.cell,o=`${t}View`;if(!s)return this[o]=null,this.updateTerminalMagnet(t),!0;const a=n.getCellById(s);if(!a)throw new Error(`Edge's ${t} node with id "${s}" not exists`);const l=a.findView(n);return l?(this[o]=l,this.updateTerminalMagnet(t),!0):!1}updateTerminalMagnet(t){const e=`${t}Magnet`,n=this.getTerminalView(t);if(n){let r=n.getMagnetFromEdgeTerminal(this.cell[t]);r===n.container&&(r=null),this[e]=r}else this[e]=null}translateAndAutoOrientArrows(t,e){const n=this.routePoints;t&&Ud(t,this.sourcePoint,n[0]||this.targetPoint,this.graph.view.stage),e&&Ud(e,this.targetPoint,n[n.length-1]||this.sourcePoint,this.graph.view.stage)}getLabelPositionAngle(t){const e=this.cell.getLabelAt(t);return e&&e.position&&typeof e.position=="object"&&e.position.angle||0}getLabelPositionArgs(t){const e=this.cell.getLabelAt(t);if(e&&e.position&&typeof e.position=="object")return e.position.options}getDefaultLabelPositionArgs(){const t=this.cell.getDefaultLabel();if(t&&t.position&&typeof t.position=="object")return t.position.options}mergeLabelPositionArgs(t,e){return t===null?null:t===void 0?e===null?null:e:Ne({},e,t)}addLabel(t,e,n,r){let s,o,a=0,l;typeof t!="number"?(s=t.x,o=t.y,typeof e=="number"?(a=e,l=n):l=e):(s=t,o=e,typeof n=="number"?(a=n,l=r):l=n);const c=this.getDefaultLabelPositionArgs(),u=l,h=this.mergeLabelPositionArgs(u,c),f={position:this.getLabelPosition(s,o,a,h)},p=-1;return this.cell.insertLabel(f,p,l),p}addVertex(t,e,n){const r=typeof t!="number",s=r?t.x:t,o=r?t.y:e,a=r?e:n,l={x:s,y:o},c=this.getVertexIndex(s,o);return this.cell.insertVertex(l,c,a),c}sendToken(t,e,n){let r,s,o,a,l="linear";typeof e=="object"?(r=e.duration,s=e.reversed===!0,o=e.selector,e.rotate===!1?a="":e.rotate===!0?a="auto":e.rotate!=null&&(a=`${e.rotate}`),e.timing&&(l=e.timing)):(r=e,s=!1,o=null),r=r||1e3;const c={dur:`${r}ms`,repeatCount:"1",calcMode:l,fill:"freeze"};if(a&&(c.rotate=a),s&&(c.keyPoints="1;0",c.keyTimes="0;1"),typeof e=="object"){const x=B7(e,["duration","reversed","selector","rotate","timing"]);Object.keys(x).forEach(S=>{c[S]=x[S]})}let u;if(typeof o=="string"?u=this.findOne(o,this.container,this.selectors):u=this.containers.connection?this.containers.connection:this.container.querySelector("path"),!(u instanceof SVGPathElement))throw new Error("Token animation requires a valid connection path.");const h=typeof t=="string"?this.findOne(t):t;if(h==null)throw new Error("Token animation requires a valid token element.");const f=h.parentNode,p=()=>{f||ir(h)},b=St.create(h);f||b.appendTo(this.graph.view.stage);const v=c.complete;c.complete=x=>{p(),n&&n(),v&&v(x)};const C=b.animateAlongPath(c,u);return()=>{p(),C()}}getConnection(){return this.path!=null?this.path.clone():null}getConnectionPathData(){if(this.path==null)return"";const t=this.cache.pathCache;return Da(t,"data")||(t.data=this.path.serialize()),t.data||""}getConnectionSubdivisions(){if(this.path==null)return null;const t=this.cache.pathCache;return Da(t,"segmentSubdivisions")||(t.segmentSubdivisions=this.path.getSegmentSubdivisions()),t.segmentSubdivisions}getConnectionLength(){if(this.path==null)return 0;const t=this.cache.pathCache;return Da(t,"length")||(t.length=this.path.length({segmentSubdivisions:this.getConnectionSubdivisions()})),t.length}getPointAtLength(t){return this.path==null?null:this.path.pointAtLength(t,{segmentSubdivisions:this.getConnectionSubdivisions()})}getPointAtRatio(t){return this.path==null?null:(Ri(t)&&(t=parseFloat(t)/100),this.path.pointAt(t,{segmentSubdivisions:this.getConnectionSubdivisions()}))}getTangentAtLength(t){return this.path==null?null:this.path.tangentAtLength(t,{segmentSubdivisions:this.getConnectionSubdivisions()})}getTangentAtRatio(t){return this.path==null?null:this.path.tangentAt(t,{segmentSubdivisions:this.getConnectionSubdivisions()})}getClosestPoint(t){return this.path==null?null:this.path.closestPoint(t,{segmentSubdivisions:this.getConnectionSubdivisions()})}getClosestPointLength(t){return this.path==null?null:this.path.closestPointLength(t,{segmentSubdivisions:this.getConnectionSubdivisions()})}getClosestPointRatio(t){return this.path==null?null:this.path.closestPointNormalizedLength(t,{segmentSubdivisions:this.getConnectionSubdivisions()})}getLabelPosition(t,e,n,r){const s={distance:0};let o=0,a;typeof n=="number"?(o=n,a=r):a=n,a!=null&&(s.options=a);const l=a&&a.absoluteOffset,c=!(a&&a.absoluteDistance),u=a&&a.absoluteDistance&&a.reverseDistance,h=this.path,f={segmentSubdivisions:this.getConnectionSubdivisions()},p=new N(t,e),b=h.closestPointT(p,f),v=this.getConnectionLength()||0;let C=h.lengthAtT(b,f);c&&(C=v>0?C/v:0),u&&(C=-1*(v-C)||1),s.distance=C;let x;l||(x=h.tangentAtT(b));let S;if(x)S=x.pointOffset(p);else{const E=h.pointAtT(b),O=p.diff(E);S={x:O.x,y:O.y}}return s.offset=S,s.angle=o,s}normalizeLabelPosition(t){return typeof t=="number"?{distance:t}:t}getLabelTransformationMatrix(t){const e=this.normalizeLabelPosition(t),n=e.options||{},r=e.angle||0,s=e.distance,o=s>0&&s<=1;let a=0;const l={x:0,y:0},c=e.offset;c&&(typeof c=="number"?a=c:(c.x!=null&&(l.x=c.x),c.y!=null&&(l.y=c.y)));const u=l.x!==0||l.y!==0||a===0,h=n.keepGradient,f=n.ensureLegibility,p=this.path,b={segmentSubdivisions:this.getConnectionSubdivisions()},v=o?s*this.getConnectionLength():s,C=p.tangentAtLength(v,b);let x,S=r;if(C){if(u)x=C.start,x.translate(l);else{const E=C.clone();E.rotate(-90,C.start),E.setLength(a),x=E.end}h&&(S=C.angle()+r,f&&(S=re.normalize((S+90)%180-90)))}else x=p.start,u&&x.translate(l);return wn().translate(x.x,x.y).rotate(S)}getLabelCoordinates(t){const e=this.getLabelTransformationMatrix(t);return new N(e.e,e.f)}getVertexIndex(t,e){const r=this.cell.getVertices(),s=this.getClosestPointLength(new N(t,e));let o=0;if(s!=null)for(const a=r.length;o<a;o+=1){const l=r[o],c=this.getClosestPointLength(l);if(c!=null&&s<c)break}return o}getEventArgs(t,e,n){const r=this,s=r.cell,o=s;return e==null||n==null?{e:t,view:r,edge:s,cell:o}:{e:t,x:e,y:n,view:r,edge:s,cell:o}}notifyUnhandledMouseDown(t,e,n){this.notify("edge:unhandled:mousedown",{e:t,x:e,y:n,view:this,cell:this.cell,edge:this.cell})}notifyMouseDown(t,e,n){super.onMouseDown(t,e,n),this.notify("edge:mousedown",this.getEventArgs(t,e,n))}notifyMouseMove(t,e,n){super.onMouseMove(t,e,n),this.notify("edge:mousemove",this.getEventArgs(t,e,n))}notifyMouseUp(t,e,n){super.onMouseUp(t,e,n),this.notify("edge:mouseup",this.getEventArgs(t,e,n))}onClick(t,e,n){super.onClick(t,e,n),this.notify("edge:click",this.getEventArgs(t,e,n))}onDblClick(t,e,n){super.onDblClick(t,e,n),this.notify("edge:dblclick",this.getEventArgs(t,e,n))}onContextMenu(t,e,n){super.onContextMenu(t,e,n),this.notify("edge:contextmenu",this.getEventArgs(t,e,n))}onMouseDown(t,e,n){switch(this.notifyMouseDown(t,e,n),t.target.getAttribute("class")){case"vertex":{this.startVertexDragging(t,e,n);return}case"vertex-remove":case"vertex-remove-area":{this.handleVertexRemoving(t,e,n);return}case"connection":case"connection-wrap":{this.handleVertexAdding(t,e,n);return}case"arrowhead":{this.startArrowheadDragging(t,e,n);return}case"source-marker":case"target-marker":{this.notifyUnhandledMouseDown(t,e,n);return}}this.startEdgeDragging(t,e,n)}onMouseMove(t,e,n){const r=this.getEventData(t);switch(r.action){case"drag-vertex":{this.dragVertex(t,e,n);break}case"drag-label":{this.dragLabel(t,e,n);break}case"drag-arrowhead":{this.dragArrowhead(t,e,n);break}case"drag-edge":{this.dragEdge(t,e,n);break}}return this.notifyMouseMove(t,e,n),r}onMouseUp(t,e,n){const r=this.getEventData(t);switch(r.action){case"drag-vertex":{this.stopVertexDragging(t,e,n);break}case"drag-label":{this.stopLabelDragging(t,e,n);break}case"drag-arrowhead":{this.stopArrowheadDragging(t,e,n);break}case"drag-edge":{this.stopEdgeDragging(t,e,n);break}}return this.notifyMouseUp(t,e,n),this.checkMouseleave(t),r}onMouseOver(t){super.onMouseOver(t),this.notify("edge:mouseover",this.getEventArgs(t))}onMouseOut(t){super.onMouseOut(t),this.notify("edge:mouseout",this.getEventArgs(t))}onMouseEnter(t){super.onMouseEnter(t),this.notify("edge:mouseenter",this.getEventArgs(t))}onMouseLeave(t){super.onMouseLeave(t),this.notify("edge:mouseleave",this.getEventArgs(t))}onMouseWheel(t,e,n,r){super.onMouseWheel(t,e,n,r),this.notify("edge:mousewheel",Object.assign({delta:r},this.getEventArgs(t,e,n)))}onCustomEvent(t,e,n,r){if(py(t.target,"edge-tool",this.container)){if(t.stopPropagation(),this.can("useEdgeTools")){if(e==="edge:remove"){this.cell.remove({ui:!0});return}this.notify("edge:customevent",Object.assign({name:e},this.getEventArgs(t,n,r)))}this.notifyMouseDown(t,n,r)}else this.notify("edge:customevent",Object.assign({name:e},this.getEventArgs(t,n,r))),super.onCustomEvent(t,e,n,r)}onLabelMouseDown(t,e,n){this.notifyMouseDown(t,e,n),this.startLabelDragging(t,e,n),this.getEventData(t).stopPropagation&&t.stopPropagation()}startEdgeDragging(t,e,n){if(!this.can("edgeMovable")){this.notifyUnhandledMouseDown(t,e,n);return}this.setEventData(t,{x:e,y:n,moving:!1,action:"drag-edge"})}dragEdge(t,e,n){const r=this.getEventData(t);r.moving||(r.moving=!0,this.addClass("edge-moving"),this.notify("edge:move",{e:t,x:e,y:n,view:this,cell:this.cell,edge:this.cell})),this.cell.translate(e-r.x,n-r.y,{ui:!0}),this.setEventData(t,{x:e,y:n}),this.notify("edge:moving",{e:t,x:e,y:n,view:this,cell:this.cell,edge:this.cell})}stopEdgeDragging(t,e,n){const r=this.getEventData(t);r.moving&&(this.removeClass("edge-moving"),this.notify("edge:moved",{e:t,x:e,y:n,view:this,cell:this.cell,edge:this.cell})),r.moving=!1}prepareArrowheadDragging(t,e){const n=this.getTerminalMagnet(t),r={action:"drag-arrowhead",x:e.x,y:e.y,isNewEdge:e.isNewEdge===!0,terminalType:t,initialMagnet:n,initialTerminal:Gs(this.cell[t]),fallbackAction:e.fallbackAction||"revert",getValidateConnectionArgs:this.createValidateConnectionArgs(t),options:e.options};return this.beforeArrowheadDragging(r),r}createValidateConnectionArgs(t){const e=[];e[4]=t,e[5]=this;let n,r=0,s=0;t==="source"?(r=2,n="target"):(s=2,n="source");const o=this.cell[n],a=o.cell;if(a){let l;const c=e[r]=this.graph.renderer.findViewByCell(a);c&&(l=c.getMagnetFromEdgeTerminal(o),l===c.container&&(l=void 0)),e[r+1]=l}return(l,c)=>(e[s]=l,e[s+1]=l.container===c?void 0:c,e)}beforeArrowheadDragging(t){t.zIndex=this.cell.zIndex,this.cell.toFront();const e=this.container.style;t.pointerEvents=e.pointerEvents,e.pointerEvents="none",this.graph.options.connecting.highlight&&this.highlightAvailableMagnets(t)}afterArrowheadDragging(t){t.zIndex!=null&&(this.cell.setZIndex(t.zIndex,{ui:!0}),t.zIndex=null);const e=this.container;e.style.pointerEvents=t.pointerEvents||"",this.graph.options.connecting.highlight&&this.unhighlightAvailableMagnets(t)}arrowheadDragging(t,e,n,r){r.x=e,r.y=n,r.currentTarget!==t&&(r.currentMagnet&&r.currentView&&r.currentView.unhighlight(r.currentMagnet,{type:"magnetAdsorbed"}),r.currentView=this.graph.renderer.findViewByElem(t),r.currentView?(r.currentMagnet=r.currentView.findMagnet(t),r.currentMagnet&&this.graph.hook.validateConnection(...r.getValidateConnectionArgs(r.currentView,r.currentMagnet),r.currentView.getEdgeTerminal(r.currentMagnet,e,n,this.cell,r.terminalType))?r.currentView.highlight(r.currentMagnet,{type:"magnetAdsorbed"}):r.currentMagnet=null):r.currentMagnet=null),r.currentTarget=t,this.cell.prop(r.terminalType,{x:e,y:n},Object.assign(Object.assign({},r.options),{ui:!0}))}arrowheadDragged(t,e,n){const r=t.currentView,s=t.currentMagnet;if(!s||!r)return;r.unhighlight(s,{type:"magnetAdsorbed"});const o=t.terminalType,a=r.getEdgeTerminal(s,e,n,this.cell,o);this.cell.setTerminal(o,a,{ui:!0})}snapArrowhead(t,e,n){const r=this.graph,s=r.options.connecting.snap,o=typeof s=="object"&&s.radius||50,a=r.renderer.findViewsInArea({x:t-o,y:e-o,width:2*o,height:2*o}),l=n.closestView||null,c=n.closestMagnet||null;n.closestView=null,n.closestMagnet=null;let u,h=Number.MAX_SAFE_INTEGER;const f=new N(t,e);a.forEach(S=>{S.container.getAttribute("magnet")!=="false"&&(u=S.cell.getBBox().getCenter().distance(f),u<o&&u<h&&(c===S.container||r.hook.validateConnection(...n.getValidateConnectionArgs(S,null),S.getEdgeTerminal(S.container,t,e,this.cell,n.terminalType)))&&(h=u,n.closestView=S,n.closestMagnet=S.container)),S.container.querySelectorAll("[magnet]").forEach(E=>{if(E.getAttribute("magnet")!=="false"){const O=S.getBBoxOfElement(E);u=f.distance(O.getCenter()),u<o&&u<h&&(c===E||r.hook.validateConnection(...n.getValidateConnectionArgs(S,E),S.getEdgeTerminal(E,t,e,this.cell,n.terminalType)))&&(h=u,n.closestView=S,n.closestMagnet=E)}})});let p;const b=n.terminalType,v=n.closestView,C=n.closestMagnet,x=c!==C;if(l&&x&&l.unhighlight(c,{type:"magnetAdsorbed"}),v){if(!x)return;v.highlight(C,{type:"magnetAdsorbed"}),p=v.getEdgeTerminal(C,t,e,this.cell,b)}else p={x:t,y:e};this.cell.setTerminal(b,p,{},Object.assign(Object.assign({},n.options),{ui:!0}))}snapArrowheadEnd(t){const e=t.closestView,n=t.closestMagnet;e&&n&&(e.unhighlight(n,{type:"magnetAdsorbed"}),t.currentMagnet=e.findMagnet(n)),t.closestView=null,t.closestMagnet=null}finishEmbedding(t){this.graph.options.embedding.enabled&&this.cell.updateParent()&&(t.zIndex=null)}fallbackConnection(t){switch(t.fallbackAction){case"remove":this.cell.remove({ui:!0});break;case"revert":default:this.cell.prop(t.terminalType,t.initialTerminal,{ui:!0});break}}notifyConnectionEvent(t,e){const n=t.terminalType,r=t.initialTerminal,s=this.cell[n];if(s&&!$e.equalTerminals(r,s)){const a=this.graph,l=r,c=l.cell?a.getCellById(l.cell):null,u=l.port,h=c?a.findViewByCell(c):null,f=c||t.isNewEdge?null:N.create(r).toJSON(),p=s,b=p.cell?a.getCellById(p.cell):null,v=p.port,C=b?a.findViewByCell(b):null,x=b?null:N.create(s).toJSON();this.notify("edge:connected",{e,previousCell:c,previousPort:u,previousView:h,previousPoint:f,currentCell:b,currentView:C,currentPort:v,currentPoint:x,previousMagnet:t.initialMagnet,currentMagnet:t.currentMagnet,edge:this.cell,view:this,type:n,isNew:t.isNewEdge})}}highlightAvailableMagnets(t){const e=this.graph,n=e.model.getCells();t.marked={};for(let r=0,s=n.length;r<s;r+=1){const o=e.renderer.findViewByCell(n[r]);if(!o)continue;const a=Array.prototype.slice.call(o.container.querySelectorAll("[magnet]"));o.container.getAttribute("magnet")!=="false"&&a.push(o.container);const l=a.filter(c=>e.hook.validateConnection(...t.getValidateConnectionArgs(o,c),o.getEdgeTerminal(c,t.x,t.y,this.cell,t.terminalType)));if(l.length>0){for(let c=0,u=l.length;c<u;c+=1)o.highlight(l[c],{type:"magnetAvailable"});o.highlight(null,{type:"nodeAvailable"}),t.marked[o.cell.id]=l}}}unhighlightAvailableMagnets(t){const e=t.marked||{};Object.keys(e).forEach(n=>{const r=this.graph.renderer.findViewByCell(n);r&&(e[n].forEach(o=>{r.unhighlight(o,{type:"magnetAvailable"})}),r.unhighlight(null,{type:"nodeAvailable"}))}),t.marked=null}startArrowheadDragging(t,e,n){if(!this.can("arrowheadMovable")){this.notifyUnhandledMouseDown(t,e,n);return}const s=t.target.getAttribute("data-terminal"),o=this.prepareArrowheadDragging(s,{x:e,y:n});this.setEventData(t,o)}dragArrowhead(t,e,n){const r=this.getEventData(t);this.graph.options.connecting.snap?this.snapArrowhead(e,n,r):this.arrowheadDragging(this.getEventTarget(t),e,n,r)}stopArrowheadDragging(t,e,n){const r=this.graph,s=this.getEventData(t);r.options.connecting.snap?this.snapArrowheadEnd(s):this.arrowheadDragged(s,e,n),r.hook.validateEdge(this.cell,s.terminalType,s.initialTerminal)?(this.finishEmbedding(s),this.notifyConnectionEvent(s,t)):this.fallbackConnection(s),this.afterArrowheadDragging(s)}startLabelDragging(t,e,n){if(this.can("edgeLabelMovable")){const r=t.currentTarget,s=parseInt(r.getAttribute("data-index"),10),o=this.getLabelPositionAngle(s),a=this.getLabelPositionArgs(s),l=this.getDefaultLabelPositionArgs(),c=this.mergeLabelPositionArgs(a,l);this.setEventData(t,{index:s,positionAngle:o,positionArgs:c,stopPropagation:!0,action:"drag-label"})}else this.setEventData(t,{stopPropagation:!0});this.graph.view.delegateDragEvents(t,this)}dragLabel(t,e,n){const r=this.getEventData(t),s=this.cell.getLabelAt(r.index),o=Ne({},s,{position:this.getLabelPosition(e,n,r.positionAngle,r.positionArgs)});this.cell.setLabelAt(r.index,o)}stopLabelDragging(t,e,n){}handleVertexAdding(t,e,n){if(!this.can("vertexAddable")){this.notifyUnhandledMouseDown(t,e,n);return}const r=this.addVertex({x:e,y:n},{ui:!0});this.setEventData(t,{index:r,action:"drag-vertex"})}handleVertexRemoving(t,e,n){if(!this.can("vertexDeletable")){this.notifyUnhandledMouseDown(t,e,n);return}const r=t.target,s=parseInt(r.getAttribute("idx"),10);this.cell.removeVertexAt(s)}startVertexDragging(t,e,n){if(!this.can("vertexMovable")){this.notifyUnhandledMouseDown(t,e,n);return}const r=t.target,s=parseInt(r.getAttribute("idx"),10);this.setEventData(t,{index:s,action:"drag-vertex"})}dragVertex(t,e,n){const r=this.getEventData(t);this.cell.setVertexAt(r.index,{x:e,y:n},{ui:!0})}stopVertexDragging(t,e,n){}}(function(i){i.toStringTag=`X6.${i.name}`;function t(e){if(e==null)return!1;if(e instanceof i)return!0;const n=e[Symbol.toStringTag],r=e;return(n==null||n===i.toStringTag)&&typeof r.isNodeView=="function"&&typeof r.isEdgeView=="function"&&typeof r.confirmUpdate=="function"&&typeof r.update=="function"&&typeof r.getConnection=="function"}i.isEdgeView=t})(Sr||(Sr={}));Sr.config({isSvgElement:!0,priority:1,bootstrap:["render","source","target"],actions:{view:["render"],markup:["render"],attrs:["update"],source:["source","update"],target:["target","update"],router:["update"],connector:["update"],labels:["labels"],defaultLabel:["labels"],vertices:["vertices","update"],vertexMarkup:["vertices"],toolMarkup:["tools"],tools:["widget"]},shortLength:105,longLength:155,toolsOffset:40,doubleTools:!1,doubleToolsOffset:65,sampleInterval:50});Sr.registry.register("edge",Sr,!0);class Vn extends Re{constructor(){super(...arguments),this.scalableNode=null,this.rotatableNode=null,this.scalableSelector="scalable",this.rotatableSelector="rotatable",this.defaultPortMarkup=he.getPortMarkup(),this.defaultPortLabelMarkup=he.getPortLabelMarkup(),this.defaultPortContainerMarkup=he.getPortContainerMarkup(),this.portsCache={}}get[Symbol.toStringTag](){return Vn.toStringTag}getContainerClassName(){const t=[super.getContainerClassName(),this.prefixClassName("node")];return this.can("nodeMovable")||t.push(this.prefixClassName("node-immovable")),t.join(" ")}updateClassName(t){const e=t.target;if(e.hasAttribute("magnet")){const n=this.prefixClassName("port-unconnectable");this.can("magnetConnectable")?Ci(e,n):me(e,n)}else{const n=this.prefixClassName("node-immovable");this.can("nodeMovable")?this.removeClass(n):this.addClass(n)}}isNodeView(){return!0}confirmUpdate(t,e={}){let n=t;return this.hasAction(n,"ports")&&(this.removePorts(),this.cleanPortsCache()),this.hasAction(n,"render")?(this.render(),n=this.removeAction(n,["render","update","resize","translate","rotate","ports","tools"])):(n=this.handleAction(n,"resize",()=>this.resize(e),"update"),n=this.handleAction(n,"update",()=>this.update(),"ports"),n=this.handleAction(n,"translate",()=>this.translate()),n=this.handleAction(n,"rotate",()=>this.rotate()),n=this.handleAction(n,"ports",()=>this.renderPorts()),n=this.handleAction(n,"tools",()=>this.renderTools())),n}update(t){this.cleanCache(),this.removePorts();const e=this.cell,n=e.getSize(),r=e.getAttrs();this.updateAttrs(this.container,r,{attrs:t===r?null:t,rootBBox:new ht(0,0,n.width,n.height),selectors:this.selectors,scalableNode:this.scalableNode,rotatableNode:this.rotatableNode}),this.renderPorts()}renderMarkup(){const t=this.cell.markup;if(t)return typeof t=="string"?this.renderStringMarkup(t):this.renderJSONMarkup(t);throw new TypeError("Invalid node markup.")}renderJSONMarkup(t){const e=this.parseJSONMarkup(t,this.container),n=r=>Array.isArray(r)?r[0]:r;this.selectors=e.selectors,this.rotatableNode=n(this.selectors[this.rotatableSelector]),this.scalableNode=n(this.selectors[this.scalableSelector]),this.container.appendChild(e.fragment)}renderStringMarkup(t){bl(this.container,St.toNodes(St.createVectors(t))),this.rotatableNode=Fd(this.container,`.${this.rotatableSelector}`),this.scalableNode=Fd(this.container,`.${this.scalableSelector}`),this.selectors={},this.rootSelector&&(this.selectors[this.rootSelector]=this.container)}render(){return this.empty(),this.renderMarkup(),this.scalableNode&&this.update(),this.resize(),this.rotatableNode?(this.rotate(),this.translate()):this.updateTransform(),this.renderTools(),this}resize(t={}){if(this.scalableNode)return this.updateSize(t);this.cell.getAngle()&&this.rotate(),this.update()}translate(){if(this.rotatableNode)return this.updateTranslation();this.updateTransform()}rotate(){if(this.rotatableNode){this.updateRotation(),this.update();return}this.updateTransform()}getTranslationString(){const t=this.cell.getPosition();return`translate(${t.x},${t.y})`}getRotationString(){const t=this.cell.getAngle();if(t){const e=this.cell.getSize();return`rotate(${t},${e.width/2},${e.height/2})`}}updateTransform(){let t=this.getTranslationString();const e=this.getRotationString();e&&(t+=` ${e}`),this.container.setAttribute("transform",t)}updateRotation(){if(this.rotatableNode!=null){const t=this.getRotationString();t!=null?this.rotatableNode.setAttribute("transform",t):this.rotatableNode.removeAttribute("transform")}}updateTranslation(){this.container.setAttribute("transform",this.getTranslationString())}updateSize(t={}){const e=this.cell,n=e.getSize(),r=e.getAngle(),s=this.scalableNode;let o=!1;s.getElementsByTagName("path").length>0&&(o=!0);const a=Cn(s,{recursive:o}),l=n.width/(a.width||1),c=n.height/(a.height||1);s.setAttribute("transform",`scale(${l},${c})`);const u=this.rotatableNode;if(u!=null){const h=u.getAttribute("transform");if(h){u.setAttribute("transform",`${h} rotate(${-r},${n.width/2},${n.height/2})`);const f=Cn(s,{target:this.graph.view.stage});e.prop("position",{x:f.x,y:f.y},Object.assign({updated:!0},t)),this.translate(),this.rotate()}}this.update()}findPortElem(t,e){const n=t?this.portsCache[t]:null;if(!n)return null;const r=n.portContentElement,s=n.portContentSelectors||{};return this.findOne(e,r,s)}initializePorts(){this.cleanPortsCache()}refreshPorts(){this.removePorts(),this.cleanPortsCache(),this.renderPorts()}cleanPortsCache(){this.portsCache={}}removePorts(){Object.keys(this.portsCache).forEach(t=>{const e=this.portsCache[t];ir(e.portElement)})}renderPorts(){const t=this.getPortsContainer(),e=[];t.childNodes.forEach(s=>{e.push(s)});const n=C5(this.cell.getParsedPorts(),"zIndex"),r="auto";n[r]&&n[r].forEach(s=>{const o=this.getPortElement(s);t.append(o),e.push(o)}),Object.keys(n).forEach(s=>{if(s!==r){const o=parseInt(s,10);this.appendPorts(n[s],o,e)}}),this.updatePorts()}getPortsContainer(){return this.rotatableNode||this.container}appendPorts(t,e,n){const r=t.map(s=>this.getPortElement(s));n[e]||e<0?dp(n[Math.max(e,0)],r):bl(this.getPortsContainer(),r)}getPortElement(t){const e=this.portsCache[t.id];return e?e.portElement:this.createPortElement(t)}createPortElement(t){let e=he.renderMarkup(this.getPortContainerMarkup());const n=e.elem;if(n==null)throw new Error("Invalid port container markup.");e=he.renderMarkup(this.getPortMarkup(t));const r=e.elem,s=e.selectors;if(r==null)throw new Error("Invalid port markup.");this.setAttrs({port:t.id,"port-group":t.group},r),e=he.renderMarkup(this.getPortLabelMarkup(t.label));const o=e.elem,a=e.selectors;if(o==null)throw new Error("Invalid port label markup.");let l;if(s&&a){for(const c in a)if(s[c]&&c!==this.rootSelector)throw new Error("Selectors within port must be unique.");l=Object.assign(Object.assign({},s),a)}else l=s||a;return me(n,"x6-port"),me(r,"x6-port-body"),me(o,"x6-port-label"),n.appendChild(r),n.appendChild(o),this.portsCache[t.id]={portElement:n,portSelectors:l,portLabelElement:o,portLabelSelectors:a,portContentElement:r,portContentSelectors:s},this.graph.hook.onPortRendered({port:t,node:this.cell,container:n,selectors:l,labelContainer:o,labelSelectors:a,contentContainer:r,contentSelectors:s}),n}updatePorts(){this.updatePortGroup();const t=this.cell.getParsedGroups();Object.keys(t).forEach(e=>this.updatePortGroup(e))}updatePortGroup(t){const e=ht.fromSize(this.cell.getSize()),n=this.cell.getPortsLayoutByGroup(t,e);for(let r=0,s=n.length;r<s;r+=1){const o=n[r],a=o.portId,l=this.portsCache[a]||{},c=o.portLayout;if(this.applyPortTransform(l.portElement,c),o.portAttrs!=null){const h={selectors:l.portSelectors||{}};o.portSize&&(h.rootBBox=ht.fromSize(o.portSize)),this.updateAttrs(l.portElement,o.portAttrs,h)}const u=o.labelLayout;if(u&&(this.applyPortTransform(l.portLabelElement,u,-(c.angle||0)),u.attrs)){const h={selectors:l.portLabelSelectors||{}};o.labelSize&&(h.rootBBox=ht.fromSize(o.labelSize)),this.updateAttrs(l.portLabelElement,u.attrs,h)}}}applyPortTransform(t,e,n=0){const r=e.angle,s=e.position,o=wn().rotate(n).translate(s.x||0,s.y||0).rotate(r||0);Zo(t,o,{absolute:!0})}getPortContainerMarkup(){return this.cell.getPortContainerMarkup()||this.defaultPortContainerMarkup}getPortMarkup(t){return t.markup||this.cell.portMarkup||this.defaultPortMarkup}getPortLabelMarkup(t){return t.markup||this.cell.portLabelMarkup||this.defaultPortLabelMarkup}getEventArgs(t,e,n){const r=this,s=r.cell,o=s;return e==null||n==null?{e:t,view:r,node:s,cell:o}:{e:t,x:e,y:n,view:r,node:s,cell:o}}notifyMouseDown(t,e,n){super.onMouseDown(t,e,n),this.notify("node:mousedown",this.getEventArgs(t,e,n))}notifyMouseMove(t,e,n){super.onMouseMove(t,e,n),this.notify("node:mousemove",this.getEventArgs(t,e,n))}notifyMouseUp(t,e,n){super.onMouseUp(t,e,n),this.notify("node:mouseup",this.getEventArgs(t,e,n))}onClick(t,e,n){super.onClick(t,e,n),this.notify("node:click",this.getEventArgs(t,e,n))}onDblClick(t,e,n){super.onDblClick(t,e,n),this.notify("node:dblclick",this.getEventArgs(t,e,n))}onContextMenu(t,e,n){super.onContextMenu(t,e,n),this.notify("node:contextmenu",this.getEventArgs(t,e,n))}onMouseDown(t,e,n){this.isPropagationStopped(t)||(this.notifyMouseDown(t,e,n),this.startNodeDragging(t,e,n))}onMouseMove(t,e,n){const r=this.getEventData(t),s=r.action;if(s==="magnet")this.dragMagnet(t,e,n);else{if(s==="move"){const a=r.targetView||this;a.dragNode(t,e,n),a.notify("node:moving",{e:t,x:e,y:n,view:a,cell:a.cell,node:a.cell})}this.notifyMouseMove(t,e,n)}this.setEventData(t,r)}onMouseUp(t,e,n){const r=this.getEventData(t),s=r.action;s==="magnet"?this.stopMagnetDragging(t,e,n):(this.notifyMouseUp(t,e,n),s==="move"&&(r.targetView||this).stopNodeDragging(t,e,n));const o=r.targetMagnet;o&&this.onMagnetClick(t,o,e,n),this.checkMouseleave(t)}onMouseOver(t){super.onMouseOver(t),this.notify("node:mouseover",this.getEventArgs(t))}onMouseOut(t){super.onMouseOut(t),this.notify("node:mouseout",this.getEventArgs(t))}onMouseEnter(t){this.updateClassName(t),super.onMouseEnter(t),this.notify("node:mouseenter",this.getEventArgs(t))}onMouseLeave(t){super.onMouseLeave(t),this.notify("node:mouseleave",this.getEventArgs(t))}onMouseWheel(t,e,n,r){super.onMouseWheel(t,e,n,r),this.notify("node:mousewheel",Object.assign({delta:r},this.getEventArgs(t,e,n)))}onMagnetClick(t,e,n,r){this.graph.view.getMouseMovedCount(t)>this.graph.options.clickThreshold||this.notify("node:magnet:click",Object.assign({magnet:e},this.getEventArgs(t,n,r)))}onMagnetDblClick(t,e,n,r){this.notify("node:magnet:dblclick",Object.assign({magnet:e},this.getEventArgs(t,n,r)))}onMagnetContextMenu(t,e,n,r){this.notify("node:magnet:contextmenu",Object.assign({magnet:e},this.getEventArgs(t,n,r)))}onMagnetMouseDown(t,e,n,r){this.startMagnetDragging(t,n,r)}onCustomEvent(t,e,n,r){this.notify("node:customevent",Object.assign({name:e},this.getEventArgs(t,n,r))),super.onCustomEvent(t,e,n,r)}prepareEmbedding(t){const n=this.getEventData(t).cell||this.cell,r=this.graph.findViewByCell(n),s=this.graph.snapToGrid(t.clientX,t.clientY);this.notify("node:embed",{e:t,node:n,view:r,cell:n,x:s.x,y:s.y,currentParent:n.getParent()})}processEmbedding(t,e){const n=e.cell||this.cell,r=e.graph||this.graph,s=r.options.embedding,o=s.findParent;let a=typeof o=="function"?xt(o,r,{view:this,node:this.cell}).filter(f=>ie.isCell(f)&&this.cell.id!==f.id&&!f.isDescendantOf(this.cell)):r.model.getNodesUnderNode(n,{by:o});s.frontOnly&&(a=a.slice(-1)),a=a.filter(f=>f.visible);let l=null;const c=e.candidateEmbedView,u=s.validate;for(let f=a.length-1;f>=0;f-=1){const p=a[f];if(c&&c.cell.id===p.id){l=c;break}else{const b=p.findView(r);if(xt(u,r,{child:this.cell,parent:b.cell,childView:this,parentView:b})){l=b;break}}}this.clearEmbedding(e),l&&l.highlight(null,{type:"embedding"}),e.candidateEmbedView=l;const h=r.snapToGrid(t.clientX,t.clientY);this.notify("node:embedding",{e:t,cell:n,node:n,view:r.findViewByCell(n),x:h.x,y:h.y,currentParent:n.getParent(),candidateParent:l?l.cell:null})}clearEmbedding(t){const e=t.candidateEmbedView;e&&(e.unhighlight(null,{type:"embedding"}),t.candidateEmbedView=null)}finalizeEmbedding(t,e){const n=e.cell||this.cell,r=e.graph||this.graph,s=r.findViewByCell(n),o=n.getParent(),a=e.candidateEmbedView;a?(a.unhighlight(null,{type:"embedding"}),e.candidateEmbedView=null,(o==null||o.id!==a.cell.id)&&a.cell.insertChild(n,void 0,{ui:!0})):o&&o.unembed(n,{ui:!0}),r.model.getConnectedEdges(n,{deep:!0}).forEach(c=>{c.updateParent({ui:!0})});const l=r.snapToGrid(t.clientX,t.clientY);s&&s.notify("node:embedded",{e:t,cell:n,x:l.x,y:l.y,node:n,view:r.findViewByCell(n),previousParent:o,currentParent:n.getParent()})}getDelegatedView(){let t=this.cell,e=this;for(;e&&!t.isEdge();){if(!t.hasParent()||e.can("stopDelegateOnDragging"))return e;t=t.getParent(),e=this.graph.renderer.findViewByCell(t)}return null}startMagnetDragging(t,e,n){if(!this.can("magnetConnectable"))return;t.stopPropagation();const r=t.currentTarget,s=this.graph;this.setEventData(t,{targetMagnet:r}),s.hook.validateMagnet(this,r,t)?(s.options.magnetThreshold<=0&&this.startConnectting(t,r,e,n),this.setEventData(t,{action:"magnet"}),this.stopPropagation(t)):this.onMouseDown(t,e,n),s.view.delegateDragEvents(t,this)}startConnectting(t,e,n,r){this.graph.model.startBatch("add-edge");const s=this.createEdgeFromMagnet(e,n,r);s.notifyMouseDown(t,n,r),s.setEventData(t,s.prepareArrowheadDragging("target",{x:n,y:r,isNewEdge:!0,fallbackAction:"remove"})),this.setEventData(t,{edgeView:s})}createEdgeFromMagnet(t,e,n){const r=this.graph,s=r.model,o=r.hook.getDefaultEdge(this,t);return o.setSource(Object.assign(Object.assign({},o.getSource()),this.getEdgeTerminal(t,e,n,o,"source"))),o.setTarget(Object.assign(Object.assign({},o.getTarget()),{x:e,y:n})),o.addTo(s,{async:!1,ui:!0}),o.findView(r)}dragMagnet(t,e,n){const r=this.getEventData(t),s=r.edgeView;if(s)s.onMouseMove(t,e,n),this.autoScrollGraph(t.clientX,t.clientY);else{const o=this.graph,a=o.options.magnetThreshold,l=this.getEventTarget(t),c=r.targetMagnet;if(a==="onleave"){if(c===l||c.contains(l))return}else if(o.view.getMouseMovedCount(t)<=a)return;this.startConnectting(t,c,e,n)}}stopMagnetDragging(t,e,n){const s=this.eventData(t).edgeView;s&&(s.onMouseUp(t,e,n),this.graph.model.stopBatch("add-edge"))}notifyUnhandledMouseDown(t,e,n){this.notify("node:unhandled:mousedown",{e:t,x:e,y:n,view:this,cell:this.cell,node:this.cell})}notifyNodeMove(t,e,n,r,s){let o=[s];const a=this.graph.selection.widget;if(a&&a.options.movable){const l=this.graph.getSelectedCells();l.includes(s)&&(o=l.filter(c=>c.isNode()))}o.forEach(l=>{this.notify(t,{e,x:n,y:r,cell:l,node:l,view:l.findView(this.graph)})})}startNodeDragging(t,e,n){const r=this.getDelegatedView();if(r==null||!r.can("nodeMovable"))return this.notifyUnhandledMouseDown(t,e,n);this.setEventData(t,{targetView:r,action:"move"});const s=N.create(r.cell.getPosition());r.setEventData(t,{moving:!1,offset:s.diff(e,n),restrict:this.graph.hook.getRestrictArea(r)})}dragNode(t,e,n){const r=this.cell,s=this.graph,o=s.getGridSize(),a=this.getEventData(t),l=a.offset,c=a.restrict;a.moving||(a.moving=!0,this.addClass("node-moving"),this.notifyNodeMove("node:move",t,e,n,this.cell)),this.autoScrollGraph(t.clientX,t.clientY);const u=tn.snapToGrid(e+l.x,o),h=tn.snapToGrid(n+l.y,o);r.setPosition(u,h,{restrict:c,deep:!0,ui:!0}),s.options.embedding.enabled&&(a.embedding||(this.prepareEmbedding(t),a.embedding=!0),this.processEmbedding(t,a))}stopNodeDragging(t,e,n){const r=this.getEventData(t);r.embedding&&this.finalizeEmbedding(t,r),r.moving&&(this.removeClass("node-moving"),this.notifyNodeMove("node:moved",t,e,n,this.cell)),r.moving=!1,r.embedding=!1}autoScrollGraph(t,e){const n=this.graph.scroller.widget;n&&n.autoScroll(t,e)}}(function(i){i.toStringTag=`X6.${i.name}`;function t(e){if(e==null)return!1;if(e instanceof i)return!0;const n=e[Symbol.toStringTag],r=e;return(n==null||n===i.toStringTag)&&typeof r.isNodeView=="function"&&typeof r.isEdgeView=="function"&&typeof r.confirmUpdate=="function"&&typeof r.update=="function"&&typeof r.findPortElem=="function"&&typeof r.resize=="function"&&typeof r.rotate=="function"&&typeof r.translate=="function"}i.isNodeView=t})(Vn||(Vn={}));Vn.config({isSvgElement:!0,priority:0,bootstrap:["render"],actions:{view:["render"],markup:["render"],attrs:["update"],size:["resize","ports","tools"],angle:["rotate","tools"],position:["translate","tools"],ports:["ports"],tools:["tools"]}});Vn.registry.register("node",Vn,!0);const E1=vp("text");class U2 extends cr("text",{view:E1,attrs:{text:{fontSize:18,fill:"#000000",stroke:null,refX:.5,refY:.5}}},{noText:!0}){}(function(i){class t extends Vn{confirmUpdate(n,r={}){let s=super.confirmUpdate(n,r);return this.hasAction(s,"scale")&&(this.resize(),s=this.removeAction(s,"scale")),s}}i.View=t,t.config({actions:{attrs:["scale"]}}),Vn.registry.register(E1,t)})(U2||(U2={}));class A1 extends Pn{constructor(t,e={}){super(),this.length=0,this.comparator=e.comparator||"zIndex",this.clean(),t&&this.reset(t,{silent:!0})}toJSON(){return this.cells.map(t=>t.toJSON())}add(t,e,n){let r,s;typeof e=="number"?(r=e,s=Object.assign({merge:!1},n)):(r=this.length,s=Object.assign({merge:!1},e)),r>this.length&&(r=this.length),r<0&&(r+=this.length+1);const o=Array.isArray(t)?t:[t],a=this.comparator&&typeof e!="number"&&s.sort!==!1,l=this.comparator||null;let c=!1;const u=[],h=[];return o.forEach(f=>{const p=this.get(f);p?s.merge&&!f.isSameStore(p)&&(p.setProp(f.getProp(),n),h.push(p),a&&!c&&(l==null||typeof l=="function"?c=p.hasChanged():typeof l=="string"?c=p.hasChanged(l):c=l.some(b=>p.hasChanged(b)))):(u.push(f),this.reference(f))}),u.length&&(a&&(c=!0),this.cells.splice(r,0,...u),this.length=this.cells.length),c&&this.sort({silent:!0}),s.silent||(u.forEach((f,p)=>{const b={cell:f,index:r+p,options:s};this.trigger("added",b),s.dryrun||f.notify("added",Object.assign({},b))}),c&&this.trigger("sorted"),(u.length||h.length)&&this.trigger("updated",{added:u,merged:h,removed:[],options:s})),this}remove(t,e={}){const n=Array.isArray(t)?t:[t],r=this.removeCells(n,e);return!e.silent&&r.length>0&&this.trigger("updated",{options:e,removed:r,added:[],merged:[]}),Array.isArray(t)?r:r[0]}removeCells(t,e){const n=[];for(let r=0;r<t.length;r+=1){const s=this.get(t[r]);if(s==null)continue;const o=this.cells.indexOf(s);this.cells.splice(o,1),this.length-=1,delete this.map[s.id],n.push(s),this.unreference(s),e.dryrun||s.remove(),e.silent||(this.trigger("removed",{cell:s,index:o,options:e}),e.dryrun||s.notify("removed",{cell:s,index:o,options:e}))}return n}reset(t,e={}){const n=this.cells.slice();if(n.forEach(r=>this.unreference(r)),this.clean(),this.add(t,Object.assign({silent:!0},e)),!e.silent){const r=this.cells.slice();this.trigger("reseted",{options:e,previous:n,current:r});const s=[],o=[];r.forEach(a=>{n.some(c=>c.id===a.id)||s.push(a)}),n.forEach(a=>{r.some(c=>c.id===a.id)||o.push(a)}),this.trigger("updated",{options:e,added:s,removed:o,merged:[]})}return this}push(t,e){return this.add(t,this.length,e)}pop(t){const e=this.at(this.length-1);return this.remove(e,t)}unshift(t,e){return this.add(t,0,e)}shift(t){const e=this.at(0);return this.remove(e,t)}get(t){if(t==null)return null;const e=typeof t=="string"||typeof t=="number"?t:t.id;return this.map[e]||null}has(t){return this.get(t)!=null}at(t){return t<0&&(t+=this.length),this.cells[t]||null}first(){return this.at(0)}last(){return this.at(-1)}indexOf(t){return this.cells.indexOf(t)}toArray(){return this.cells.slice()}sort(t={}){return this.comparator!=null&&(this.cells=Rf(this.cells,this.comparator),t.silent||this.trigger("sorted")),this}clone(){const t=this.constructor;return new t(this.cells.slice(),{comparator:this.comparator})}reference(t){this.map[t.id]=t,t.on("*",this.notifyCellEvent,this)}unreference(t){t.off("*",this.notifyCellEvent,this),delete this.map[t.id]}notifyCellEvent(t,e){const n=e.cell;this.trigger(`cell:${t}`,e),n&&(n.isNode()?this.trigger(`node:${t}`,Object.assign(Object.assign({},e),{node:n})):n.isEdge()&&this.trigger(`edge:${t}`,Object.assign(Object.assign({},e),{edge:n})))}clean(){this.length=0,this.cells=[],this.map={}}}class An extends Pn{constructor(t=[]){super(),this.batches={},this.addings=new WeakMap,this.nodes={},this.edges={},this.outgoings={},this.incomings={},this.collection=new A1(t),this.setup()}get[Symbol.toStringTag](){return An.toStringTag}notify(t,e){this.trigger(t,e);const n=this.graph;return n&&(t==="sorted"||t==="reseted"||t==="updated"?n.trigger(`model:${t}`,e):n.trigger(t,e)),this}setup(){const t=this.collection;t.on("sorted",()=>this.notify("sorted",null)),t.on("updated",e=>this.notify("updated",e)),t.on("cell:change:zIndex",()=>this.sortOnChangeZ()),t.on("added",({cell:e})=>{this.onCellAdded(e)}),t.on("removed",e=>{const n=e.cell;this.onCellRemoved(n,e.options),this.notify("cell:removed",e),n.isNode()?this.notify("node:removed",Object.assign(Object.assign({},e),{node:n})):n.isEdge()&&this.notify("edge:removed",Object.assign(Object.assign({},e),{edge:n}))}),t.on("reseted",e=>{this.onReset(e.current),this.notify("reseted",e)}),t.on("edge:change:source",({edge:e})=>this.onEdgeTerminalChanged(e,"source")),t.on("edge:change:target",({edge:e})=>{this.onEdgeTerminalChanged(e,"target")})}sortOnChangeZ(){this.collection.sort()}onCellAdded(t){const e=t.id;t.isEdge()?(t.updateParent(),this.edges[e]=!0,this.onEdgeTerminalChanged(t,"source"),this.onEdgeTerminalChanged(t,"target")):this.nodes[e]=!0}onCellRemoved(t,e){const n=t.id;if(t.isEdge()){delete this.edges[n];const r=t.getSource(),s=t.getTarget();if(r&&r.cell){const o=this.outgoings[r.cell],a=o?o.indexOf(n):-1;a>=0&&(o.splice(a,1),o.length===0&&delete this.outgoings[r.cell])}if(s&&s.cell){const o=this.incomings[s.cell],a=o?o.indexOf(n):-1;a>=0&&(o.splice(a,1),o.length===0&&delete this.incomings[s.cell])}}else delete this.nodes[n];e.clear||(e.disconnectEdges?this.disconnectConnectedEdges(t,e):this.removeConnectedEdges(t,e)),t.model===this&&(t.model=null)}onReset(t){this.nodes={},this.edges={},this.outgoings={},this.incomings={},t.forEach(e=>this.onCellAdded(e))}onEdgeTerminalChanged(t,e){const n=e==="source"?this.outgoings:this.incomings,r=t.previous(e);if(r&&r.cell){const o=n[r.cell],a=o?o.indexOf(t.id):-1;a>=0&&(o.splice(a,1),o.length===0&&delete n[r.cell])}const s=t.getTerminal(e);if(s&&s.cell){const o=n[s.cell]||[];o.indexOf(t.id)===-1&&o.push(t.id),n[s.cell]=o}}prepareCell(t,e){return!t.model&&(!e||!e.dryrun)&&(t.model=this),t.zIndex==null&&t.setZIndex(this.getMaxZIndex()+1,{silent:!0}),t}resetCells(t,e={}){return t.map(n=>this.prepareCell(n,Object.assign(Object.assign({},e),{dryrun:!0}))),this.collection.reset(t,e),t.map(n=>this.prepareCell(n,{options:e})),this}clear(t={}){const e=this.getCells();if(e.length===0)return this;const n=Object.assign(Object.assign({},t),{clear:!0});return this.batchUpdate("clear",()=>{const r=e.sort((s,o)=>{const a=s.isEdge()?1:2,l=o.isEdge()?1:2;return a-l});for(;r.length>0;){const s=r.shift();s&&s.remove(n)}},n),this}addNode(t,e={}){const n=Ie.isNode(t)?t:this.createNode(t);return this.addCell(n,e),n}createNode(t){return Ie.create(t)}addEdge(t,e={}){const n=$e.isEdge(t)?t:this.createEdge(t);return this.addCell(n,e),n}createEdge(t){return $e.create(t)}addCell(t,e={}){return Array.isArray(t)?this.addCells(t,e):(!this.collection.has(t)&&!this.addings.has(t)&&(this.addings.set(t,!0),this.collection.add(this.prepareCell(t,e),e),t.eachChild(n=>this.addCell(n,e)),this.addings.delete(t)),this)}addCells(t,e={}){const n=t.length;if(n===0)return this;const r=Object.assign(Object.assign({},e),{position:n-1,maxPosition:n-1});return this.startBatch("add",Object.assign(Object.assign({},r),{cells:t})),t.forEach(s=>{this.addCell(s,r),r.position-=1}),this.stopBatch("add",Object.assign(Object.assign({},r),{cells:t})),this}removeCell(t,e={}){const n=typeof t=="string"?this.getCell(t):t;return n&&this.has(n)?this.collection.remove(n,e):null}updateCellId(t,e){this.startBatch("update",{id:e}),t.prop("id",e);const n=t.clone({keepId:!0});return this.addCell(n),this.getConnectedEdges(t).forEach(s=>{const o=s.getSourceCell(),a=s.getTargetCell();o===t&&s.setSource(Object.assign(Object.assign({},s.getSource()),{cell:e})),a===t&&s.setTarget(Object.assign(Object.assign({},s.getTarget()),{cell:e}))}),this.removeCell(t),this.stopBatch("update",{id:e}),n}removeCells(t,e={}){return t.length?this.batchUpdate("remove",()=>t.map(n=>this.removeCell(n,e))):[]}removeConnectedEdges(t,e={}){const n=this.getConnectedEdges(t);return n.forEach(r=>{r.remove(e)}),n}disconnectConnectedEdges(t,e={}){const n=typeof t=="string"?t:t.id;this.getConnectedEdges(t).forEach(r=>{const s=r.getSourceCell(),o=r.getTargetCell();s&&s.id===n&&r.setSource({x:0,y:0},e),o&&o.id===n&&r.setTarget({x:0,y:0},e)})}has(t){return this.collection.has(t)}total(){return this.collection.length}indexOf(t){return this.collection.indexOf(t)}getCell(t){return this.collection.get(t)}getCells(){return this.collection.toArray()}getFirstCell(){return this.collection.first()}getLastCell(){return this.collection.last()}getMinZIndex(){const t=this.collection.first();return t&&t.getZIndex()||0}getMaxZIndex(){const t=this.collection.last();return t&&t.getZIndex()||0}getCellsFromCache(t){return t?Object.keys(t).map(e=>this.getCell(e)).filter(e=>e!=null):[]}getNodes(){return this.getCellsFromCache(this.nodes)}getEdges(){return this.getCellsFromCache(this.edges)}getOutgoingEdges(t){const e=typeof t=="string"?t:t.id,n=this.outgoings[e];return n?n.map(r=>this.getCell(r)).filter(r=>r&&r.isEdge()):null}getIncomingEdges(t){const e=typeof t=="string"?t:t.id,n=this.incomings[e];return n?n.map(r=>this.getCell(r)).filter(r=>r&&r.isEdge()):null}getConnectedEdges(t,e={}){const n=[],r=typeof t=="string"?this.getCell(t):t;if(r==null)return n;const s={},o=e.indirect;let a=e.incoming,l=e.outgoing;a==null&&l==null&&(a=l=!0);const c=(u,h)=>{const f=h?this.getOutgoingEdges(u):this.getIncomingEdges(u);if(f!=null&&f.forEach(p=>{s[p.id]||(n.push(p),s[p.id]=!0,o&&(a&&c(p,!1),l&&c(p,!0)))}),o&&u.isEdge()){const p=h?u.getTargetCell():u.getSourceCell();p&&p.isEdge()&&(s[p.id]||(n.push(p),c(p,h)))}};if(l&&c(r,!0),a&&c(r,!1),e.deep){const u=r.getDescendants({deep:!0}),h={};u.forEach(p=>{p.isNode()&&(h[p.id]=!0)});const f=(p,b)=>{const v=b?this.getOutgoingEdges(p.id):this.getIncomingEdges(p.id);v!=null&&v.forEach(C=>{if(!s[C.id]){const x=C.getSourceCell(),S=C.getTargetCell();if(!e.enclosed&&x&&h[x.id]&&S&&h[S.id])return;n.push(C),s[C.id]=!0}})};u.forEach(p=>{p.isEdge()||(l&&f(p,!0),a&&f(p,!1))})}return n}isBoundary(t,e){const n=typeof t=="string"?this.getCell(t):t,r=e?this.getIncomingEdges(n):this.getOutgoingEdges(n);return r==null||r.length===0}getBoundaryNodes(t){const e=[];return Object.keys(this.nodes).forEach(n=>{if(this.isBoundary(n,t)){const r=this.getCell(n);r&&e.push(r)}}),e}getRoots(){return this.getBoundaryNodes(!0)}getLeafs(){return this.getBoundaryNodes(!1)}isRoot(t){return this.isBoundary(t,!0)}isLeaf(t){return this.isBoundary(t,!1)}getNeighbors(t,e={}){let n=e.incoming,r=e.outgoing;n==null&&r==null&&(n=r=!0);const o=this.getConnectedEdges(t,e).reduce((a,l)=>{const c=l.hasLoop(e),u=l.getSourceCell(),h=l.getTargetCell();return n&&u&&u.isNode()&&!a[u.id]&&(c||u!==t&&(!e.deep||!u.isDescendantOf(t)))&&(a[u.id]=u),r&&h&&h.isNode()&&!a[h.id]&&(c||h!==t&&(!e.deep||!h.isDescendantOf(t)))&&(a[h.id]=h),a},{});if(t.isEdge()){if(n){const a=t.getSourceCell();a&&a.isNode()&&!o[a.id]&&(o[a.id]=a)}if(r){const a=t.getTargetCell();a&&a.isNode()&&!o[a.id]&&(o[a.id]=a)}}return Object.keys(o).map(a=>o[a])}isNeighbor(t,e,n={}){let r=n.incoming,s=n.outgoing;return r==null&&s==null&&(r=s=!0),this.getConnectedEdges(t,n).some(o=>{const a=o.getSourceCell(),l=o.getTargetCell();return!!(r&&a&&a.id===e.id||s&&l&&l.id===e.id)})}getSuccessors(t,e={}){const n=[];return this.search(t,(r,s)=>{r!==t&&this.matchDistance(s,e.distance)&&n.push(r)},Object.assign(Object.assign({},e),{outgoing:!0})),n}isSuccessor(t,e,n={}){let r=!1;return this.search(t,(s,o)=>{if(s===e&&s!==t&&this.matchDistance(o,n.distance))return r=!0,!1},Object.assign(Object.assign({},n),{outgoing:!0})),r}getPredecessors(t,e={}){const n=[];return this.search(t,(r,s)=>{r!==t&&this.matchDistance(s,e.distance)&&n.push(r)},Object.assign(Object.assign({},e),{incoming:!0})),n}isPredecessor(t,e,n={}){let r=!1;return this.search(t,(s,o)=>{if(s===e&&s!==t&&this.matchDistance(o,n.distance))return r=!0,!1},Object.assign(Object.assign({},n),{incoming:!0})),r}matchDistance(t,e){return e==null?!0:typeof e=="function"?e(t):Array.isArray(e)&&e.includes(t)?!0:t===e}getCommonAncestor(...t){const e=[];return t.forEach(n=>{n&&(Array.isArray(n)?e.push(...n):e.push(n))}),ie.getCommonAncestor(...e)}getSubGraph(t,e={}){const n=[],r={},s=[],o=[],a=l=>{r[l.id]||(n.push(l),r[l.id]=l,l.isEdge()&&o.push(l),l.isNode()&&s.push(l))};return t.forEach(l=>{a(l),e.deep&&l.getDescendants({deep:!0}).forEach(u=>a(u))}),o.forEach(l=>{const c=l.getSourceCell(),u=l.getTargetCell();c&&!r[c.id]&&(n.push(c),r[c.id]=c,c.isNode()&&s.push(c)),u&&!r[u.id]&&(n.push(u),r[u.id]=u,u.isNode()&&s.push(u))}),s.forEach(l=>{this.getConnectedEdges(l,e).forEach(u=>{const h=u.getSourceCell(),f=u.getTargetCell();!r[u.id]&&h&&r[h.id]&&f&&r[f.id]&&(n.push(u),r[u.id]=u)})}),n}cloneSubGraph(t,e={}){const n=this.getSubGraph(t,e);return this.cloneCells(n)}cloneCells(t){return ie.cloneCells(t)}getNodesFromPoint(t,e){const n=typeof t=="number"?{x:t,y:e||0}:t;return this.getNodes().filter(r=>r.getBBox().containsPoint(n))}getNodesInArea(t,e,n,r,s){const o=typeof t=="number"?new ht(t,e,n,r):ht.create(t),a=typeof t=="number"?s:e,l=a&&a.strict;return this.getNodes().filter(c=>{const u=c.getBBox();return l?o.containsRect(u):o.isIntersectWithRect(u)})}getEdgesInArea(t,e,n,r,s){const o=typeof t=="number"?new ht(t,e,n,r):ht.create(t),a=typeof t=="number"?s:e,l=a&&a.strict;return this.getEdges().filter(c=>{const u=c.getBBox();return u.width===0?u.inflate(1,0):u.height===0&&u.inflate(0,1),l?o.containsRect(u):o.isIntersectWithRect(u)})}getNodesUnderNode(t,e={}){const n=t.getBBox();return(e.by==null||e.by==="bbox"?this.getNodesInArea(n):this.getNodesFromPoint(n[e.by])).filter(s=>t.id!==s.id&&!s.isDescendantOf(t))}getAllCellsBBox(){return this.getCellsBBox(this.getCells())}getCellsBBox(t,e={}){return ie.getCellsBBox(t,e)}search(t,e,n={}){n.breadthFirst?this.breadthFirstSearch(t,e,n):this.depthFirstSearch(t,e,n)}breadthFirstSearch(t,e,n={}){const r=[],s={},o={};for(r.push(t),o[t.id]=0;r.length>0;){const a=r.shift();if(a==null||s[a.id]||(s[a.id]=!0,xt(e,this,a,o[a.id])===!1))continue;this.getNeighbors(a,n).forEach(c=>{o[c.id]=o[a.id]+1,r.push(c)})}}depthFirstSearch(t,e,n={}){const r=[],s={},o={};for(r.push(t),o[t.id]=0;r.length>0;){const a=r.pop();if(a==null||s[a.id]||(s[a.id]=!0,xt(e,this,a,o[a.id])===!1))continue;const l=this.getNeighbors(a,n),c=r.length;l.forEach(u=>{o[u.id]=o[a.id]+1,r.splice(c,0,u)})}}getShortestPath(t,e,n={}){const r={};this.getEdges().forEach(c=>{const u=c.getSourceCellId(),h=c.getTargetCellId();u&&h&&(r[u]||(r[u]=[]),r[h]||(r[h]=[]),r[u].push(h),n.directed||r[h].push(u))});const s=typeof t=="string"?t:t.id,o=Yd.run(r,s,n.weight),a=[];let l=typeof e=="string"?e:e.id;for(o[l]&&a.push(l);l=o[l];)a.unshift(l);return a}translate(t,e,n){return this.getCells().filter(r=>!r.hasParent()).forEach(r=>r.translate(t,e,n)),this}resize(t,e,n){return this.resizeCells(t,e,this.getCells(),n)}resizeCells(t,e,n,r={}){const s=this.getCellsBBox(n);if(s){const o=Math.max(t/s.width,0),a=Math.max(e/s.height,0),l=s.getOrigin();n.forEach(c=>c.scale(o,a,l,r))}return this}toJSON(t={}){return An.toJSON(this.getCells(),t)}parseJSON(t){return An.fromJSON(t)}fromJSON(t,e={}){const n=this.parseJSON(t);return this.resetCells(n,e),this}startBatch(t,e={}){return this.batches[t]=(this.batches[t]||0)+1,this.notify("batch:start",{name:t,data:e}),this}stopBatch(t,e={}){return this.batches[t]=(this.batches[t]||0)-1,this.notify("batch:stop",{name:t,data:e}),this}batchUpdate(t,e,n={}){this.startBatch(t,n);const r=e();return this.stopBatch(t,n),r}hasActiveBatch(t=Object.keys(this.batches)){return(Array.isArray(t)?t:[t]).some(n=>this.batches[n]>0)}}(function(i){i.toStringTag=`X6.${i.name}`;function t(e){if(e==null)return!1;if(e instanceof i)return!0;const n=e[Symbol.toStringTag],r=e;return(n==null||n===i.toStringTag)&&typeof r.addNode=="function"&&typeof r.addEdge=="function"&&r.collection!=null}i.isModel=t})(An||(An={}));(function(i){function t(n,r={}){return{cells:n.map(s=>s.toJSON(r))}}i.toJSON=t;function e(n){const r=[];return Array.isArray(n)?r.push(...n):(n.cells&&r.push(...n.cells),n.nodes&&n.nodes.forEach(s=>{s.shape==null&&(s.shape="rect"),r.push(s)}),n.edges&&n.edges.forEach(s=>{s.shape==null&&(s.shape="edge"),r.push(s)})),r.map(s=>{const o=s.shape;if(o){if(Ie.registry.exist(o))return Ie.create(s);if($e.registry.exist(o))return $e.create(s)}throw new Error("The `shape` should be specified when creating a node/edge instance")})}i.fromJSON=e})(An||(An={}));const Ji=".text-block-content",kc=vp("text-block");class ou extends Ie{get content(){return this.getContent()}set content(t){this.setContent(t)}getContent(){return this.store.get("content","")}setContent(t,e={}){this.store.set("content",t,e)}setup(){super.setup(),this.store.on("change:*",t=>{const e=t.key;e==="content"?this.updateContent(this.getContent()):e==="size"&&this.updateSize(this.getSize())}),this.updateSize(this.getSize()),this.updateContent(this.getContent())}updateSize(t){Qe.SUPPORT_FOREIGNOBJECT&&this.setAttrs({foreignObject:Object.assign({},t),[Ji]:{style:Object.assign({},t)}})}updateContent(t){Qe.SUPPORT_FOREIGNOBJECT?this.setAttrs({[Ji]:{html:t?uy(t):""}}):this.setAttrs({[Ji]:{text:t}})}}(function(i){i.config({type:kc,view:kc,markup:['<g class="rotatable">','<g class="scalable"><rect/></g>',Qe.SUPPORT_FOREIGNOBJECT?["<foreignObject>",'<body xmlns="http://www.w3.org/1999/xhtml">',`<div class="${Ji.substr(1)}" />`,"</body>","</foreignObject>"].join(""):`<text class="${Ji.substr(1)}"/>`,"</g>"].join(""),attrs:{".":{fill:"#ffffff",stroke:"none"},rect:{fill:"#ffffff",stroke:"#000000",width:80,height:100},text:{fill:"#000000",fontSize:14,fontFamily:"Arial, helvetica, sans-serif"},body:{style:{background:"transparent",position:"static",margin:0,padding:0}},foreignObject:{style:{overflow:"hidden"}},[Ji]:{refX:.5,refY:.5,yAlign:"middle",xAlign:"middle",style:{textAlign:"center",verticalAlign:"middle",display:"table-cell",padding:"0 5px",margin:0}}}}),Ie.registry.register(kc,i)})(ou||(ou={}));(function(i){const t="content";class e extends Vn{confirmUpdate(r,s={}){let o=super.confirmUpdate(r,s);return this.hasAction(o,t)&&(this.updateContent(),o=this.removeAction(o,t)),o}update(r){if(Qe.SUPPORT_FOREIGNOBJECT)super.update(r);else{const s=this.cell,o=Object.assign({},r||s.getAttrs());delete o[Ji],super.update(o),(!r||Da(r,Ji))&&this.updateContent(r)}}updateContent(r){if(Qe.SUPPORT_FOREIGNOBJECT)super.update(r);else{const s=this.cell,o=(r||s.getAttrs())[Ji],a=Sy(s.getContent(),s.getSize(),o,{svgDocument:this.graph.view.svg}),l={[Ji]:Ne({},o,{text:a})};super.update(l)}}}i.View=e,function(n){n.config({bootstrap:["render",t],actions:Qe.SUPPORT_FOREIGNOBJECT?{}:{size:t,content:t}}),Vn.registry.register(kc,n)}(e=i.View||(i.View={}))})(ou||(ou={}));xn.define({shape:"empty"});function R7(i,t="body"){return[{tagName:i,selector:t},{tagName:"text",selector:"label"}]}function Pr(i,t,e={}){const n={constructorName:i,markup:R7(i,e.selector),attrs:{[i]:Object.assign({},xn.bodyAttr)}};return(e.parent||xn).define(Ne(n,t,{shape:i}))}Pr("rect",{attrs:{body:{refWidth:"100%",refHeight:"100%"}}});Ie.define({shape:"rect-headered",markup:[{tagName:"rect",selector:"body"},{tagName:"rect",selector:"header"},{tagName:"text",selector:"headerText"},{tagName:"text",selector:"bodyText"}],attrs:{body:Object.assign(Object.assign({},xn.bodyAttr),{refWidth:"100%",refHeight:"100%"}),header:Object.assign(Object.assign({},xn.bodyAttr),{refWidth:"100%",height:30,stroke:"#000000"}),headerText:Object.assign(Object.assign({},xn.labelAttr),{refX:"50%",refY:15,fontSize:16}),bodyText:Object.assign(Object.assign({},xn.labelAttr),{refY2:15})}});Pr("circle",{attrs:{body:{refCx:"50%",refCy:"50%",refR:"50%"}}});const Wh=10;xn.define({shape:"cylinder",overwrite:!0,markup:[{tagName:"path",selector:"body"},{tagName:"ellipse",selector:"top"},{tagName:"text",selector:"label"}],attrs:{body:Object.assign(Object.assign({},xn.bodyAttr),{lateral:Wh}),top:Object.assign(Object.assign({},xn.bodyAttr),{refCx:"50%",refRx:"50%",cy:Wh,ry:Wh})},attrHooks:{lateral:{set(i,{refBBox:t}){const e=Ri(i);e&&(i=parseFloat(i)/100);const n=t.x,r=t.y,s=t.width,o=t.height,a=s/2,l=e?o*i:i,c=.551784,u=c*a,h=c*l,f=n,p=n+s/2,b=n+s,v=r+l,C=v-l,x=r+o-l,S=r+o;return{d:["M",f,v,"L",f,x,"C",n,x+h,p-u,S,p,S,"C",p+u,S,b,x+h,b,x,"L",b,v,"C",b,v-h,p+u,C,p,C,"C",p-u,C,f,v-h,f,v,"Z"].join(" ")}}}},knob:{enabled:!0,position({node:i}){const t=i.attr("body/lateral");return{x:0,y:t}},onMouseMove({node:i,data:t,deltaY:e}){if(e!==0){const n=i.getBBox(),r=i.attr("body/lateral");t.round==null&&(t.round=r);const s=0,o=n.height/2,a=zn(t.round+e,s,o);a!==r&&i.attr({body:{lateral:a},top:{cy:a,ry:a}})}}}});Pr("ellipse",{attrs:{body:{refCx:"50%",refCy:"50%",refRx:"50%",refRy:"50%"}}});var V7=globalThis&&globalThis.__rest||function(i,t){var e={};for(var n in i)Object.prototype.hasOwnProperty.call(i,n)&&t.indexOf(n)<0&&(e[n]=i[n]);if(i!=null&&typeof Object.getOwnPropertySymbols=="function")for(var r=0,n=Object.getOwnPropertySymbols(i);r<n.length;r++)t.indexOf(n[r])<0&&Object.prototype.propertyIsEnumerable.call(i,n[r])&&(e[n[r]]=i[n[r]]);return e};class ca extends xn{get points(){return this.getPoints()}set points(t){this.setPoints(t)}getPoints(){return this.getAttrByPath("body/refPoints")}setPoints(t,e){return t==null?this.removePoints():this.setAttrByPath("body/refPoints",ca.pointsToString(t),e),this}removePoints(){return this.removeAttrByPath("body/refPoints"),this}}(function(i){function t(e){return typeof e=="string"?e:e.map(n=>Array.isArray(n)?n.join(","):N.isPointLike(n)?`${n.x}, ${n.y}`:"").join(" ")}i.pointsToString=t,i.config({propHooks(e){const{points:n}=e,r=V7(e,["points"]);if(n){const s=t(n);s&&fa(r,"attrs/body/refPoints",s)}return r}})})(ca||(ca={}));Pr("polygon",{},{parent:ca});Pr("polyline",{},{parent:ca});var H7=globalThis&&globalThis.__rest||function(i,t){var e={};for(var n in i)Object.prototype.hasOwnProperty.call(i,n)&&t.indexOf(n)<0&&(e[n]=i[n]);if(i!=null&&typeof Object.getOwnPropertySymbols=="function")for(var r=0,n=Object.getOwnPropertySymbols(i);r<n.length;r++)t.indexOf(n[r])<0&&Object.prototype.propertyIsEnumerable.call(i,n[r])&&(e[n[r]]=i[n[r]]);return e};xn.define({shape:"path",markup:[{tagName:"rect",selector:"bg"},{tagName:"path",selector:"body"},{tagName:"text",selector:"label"}],attrs:{bg:{refWidth:"100%",refHeight:"100%",fill:"none",stroke:"none",pointerEvents:"all"},body:{fill:"none",stroke:"#000",strokeWidth:2}},propHooks(i){const{path:t}=i,e=H7(i,["path"]);return t&&fa(e,"attrs/body/refD",t),e}});var G7=globalThis&&globalThis.__rest||function(i,t){var e={};for(var n in i)Object.prototype.hasOwnProperty.call(i,n)&&t.indexOf(n)<0&&(e[n]=i[n]);if(i!=null&&typeof Object.getOwnPropertySymbols=="function")for(var r=0,n=Object.getOwnPropertySymbols(i);r<n.length;r++)t.indexOf(n[r])<0&&Object.prototype.propertyIsEnumerable.call(i,n[r])&&(e[n[r]]=i[n[r]]);return e};xn.define({shape:"text-block",markup:[{tagName:"rect",selector:"body"},Qe.SUPPORT_FOREIGNOBJECT?{tagName:"foreignObject",selector:"foreignObject",children:[{tagName:"div",ns:an.xhtml,selector:"label",style:{width:"100%",height:"100%",position:"static",backgroundColor:"transparent",textAlign:"center",margin:0,padding:"0px 5px",boxSizing:"border-box",display:"flex",alignItems:"center",justifyContent:"center"}}]}:{tagName:"text",selector:"label",attrs:{textAnchor:"middle"}}],attrs:{body:Object.assign(Object.assign({},xn.bodyAttr),{refWidth:"100%",refHeight:"100%"}),foreignObject:{refWidth:"100%",refHeight:"100%"},label:{style:{fontSize:14}}},propHooks(i){const{text:t}=i,e=G7(i,["text"]);return t&&fa(e,"attrs/label/text",t),e},attrHooks:{text:{set(i,{cell:t,view:e,refBBox:n,elem:r,attrs:s}){if(r instanceof HTMLElement)r.textContent=i;else{const o=s.style||{},a={text:i,width:-5,height:"100%"},l=Object.assign({textVerticalAnchor:"middle"},o),c=rr.presets.textWrap;return xt(c.set,this,a,{cell:t,view:e,elem:r,refBBox:n,attrs:l}),{fill:o.color||null}}},position(i,{refBBox:t,elem:e}){if(e instanceof SVGElement)return t.getCenter()}}}});Pr("image",{attrs:{image:{refWidth:"100%",refHeight:"100%"}},propHooks:Hl()},{selector:"image"});Pr("image-bordered",{markup:[{tagName:"rect",selector:"background",attrs:{stroke:"none"}},{tagName:"image",selector:"image"},{tagName:"rect",selector:"border",attrs:{fill:"none"}},{tagName:"text",selector:"label"}],attrs:{background:{refWidth:-1,refHeight:-1,x:.5,y:.5,fill:"#ffffff"},border:{refWidth:"100%",refHeight:"100%",stroke:"#333333",strokeWidth:2},image:{refWidth:-1,refHeight:-1,x:.5,y:.5}},propHooks:Hl()});Pr("image-embedded",{markup:[{tagName:"rect",selector:"body"},{tagName:"image",selector:"image"},{tagName:"text",selector:"label"}],attrs:{body:{refWidth:"100%",refHeight:"100%",stroke:"#333333",fill:"#FFFFFF",strokeWidth:2},image:{refWidth:"30%",refHeight:-20,x:10,y:10,preserveAspectRatio:"xMidYMin"}},propHooks:Hl()});Pr("image-inscribed",{propHooks:Hl(),markup:[{tagName:"ellipse",selector:"background"},{tagName:"image",selector:"image"},{tagName:"ellipse",selector:"border",attrs:{fill:"none"}},{tagName:"text",selector:"label"}],attrs:{border:{refRx:"50%",refRy:"50%",refCx:"50%",refCy:"50%",stroke:"#333333",strokeWidth:2},background:{refRx:"50%",refRy:"50%",refCx:"50%",refCy:"50%",fill:"#ffffff"},image:{refWidth:"68%",refHeight:"68%",refX:"16%",refY:"16%",preserveAspectRatio:"xMidYMid"}}});const yp=$e.define({shape:"edge",markup:[{tagName:"path",selector:"wrap",groupSelector:"lines",attrs:{fill:"none",cursor:"pointer",stroke:"transparent",strokeLinecap:"round"}},{tagName:"path",selector:"line",groupSelector:"lines",attrs:{fill:"none",pointerEvents:"none"}}],attrs:{lines:{connection:!0,strokeLinejoin:"round"},wrap:{strokeWidth:10},line:{stroke:"#333",strokeWidth:2,targetMarker:"classic"}}});$e.define({shape:"shadow-edge",markup:[{tagName:"path",selector:"shadow",attrs:{fill:"none"}},{tagName:"path",selector:"line",attrs:{fill:"none",cursor:"pointer"}}],attrs:{line:{connection:!0,stroke:"#FF0000",strokeWidth:20,strokeLinejoin:"round",targetMarker:{name:"path",stroke:"none",d:"M 0 -10 -10 0 0 10 z",offsetX:-5},sourceMarker:{name:"path",stroke:"none",d:"M -10 -10 0 0 -10 10 0 10 0 -10 z",offsetX:-5}},shadow:{connection:!0,refX:3,refY:6,stroke:"#000000",strokeOpacity:.2,strokeWidth:20,strokeLinejoin:"round",targetMarker:{name:"path",d:"M 0 -10 -10 0 0 10 z",stroke:"none",offsetX:-5},sourceMarker:{name:"path",stroke:"none",d:"M -10 -10 0 0 -10 10 0 10 0 -10 z",offsetX:-5}}}});$e.define({shape:"double-edge",markup:[{tagName:"path",selector:"outline",attrs:{fill:"none"}},{tagName:"path",selector:"line",attrs:{fill:"none",cursor:"pointer"}}],attrs:{line:{connection:!0,stroke:"#dddddd",strokeWidth:4,strokeLinejoin:"round",targetMarker:{tagName:"path",stroke:"#000000",d:"M 10 -3 10 -10 -2 0 10 10 10 3"}},outline:{connection:!0,stroke:"#000000",strokeWidth:6,strokeLinejoin:"round"}}});class or extends xn{get html(){return this.getHTML()}set html(t){this.setHTML(t)}getHTML(){return this.store.get("html")}setHTML(t,e={}){return t==null?this.removeHTML(e):this.store.set("html",t,e),this}removeHTML(t={}){return this.store.remove("html",t)}}(function(i){class t extends Vn{init(){super.init(),this.cell.on("change:*",()=>{this.graph.hook.shouldUpdateHTMLComponent(this.cell)&&this.renderHTMLComponent()})}confirmUpdate(n){const r=super.confirmUpdate(n);return this.handleAction(r,t.action,()=>this.renderHTMLComponent())}renderHTMLComponent(){const n=this.selectors.foContent;if(n){const r=this.$(n).empty(),s=this.graph.hook.getHTMLComponent(this.cell);s&&(typeof s=="string"?r.html(s):r.append(s))}}}i.View=t,function(e){e.action="html",e.config({bootstrap:[e.action],actions:{html:e.action}}),Vn.registry.register("html-view",e)}(t=i.View||(i.View={}))})(or||(or={}));(function(i){i.config({view:"html-view",markup:[{tagName:"rect",selector:"body"},Object.assign({},he.getForeignObjectMarkup()),{tagName:"text",selector:"label"}],attrs:{body:{fill:"none",stroke:"none",refWidth:"100%",refHeight:"100%"},fo:{refWidth:"100%",refHeight:"100%"}}}),Ie.registry.register("html",i)})(or||(or={}));(function(i){i.componentRegistry=Ke.create({type:"html componnet"})})(or||(or={}));var q7=globalThis&&globalThis.__decorate||function(i,t,e,n){var r=arguments.length,s=r<3?t:n===null?n=Object.getOwnPropertyDescriptor(t,e):n,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")s=Reflect.decorate(i,t,e,n);else for(var a=i.length-1;a>=0;a--)(o=i[a])&&(s=(r<3?o(s):r>3?o(t,e,s):o(t,e))||s);return r>3&&s&&Object.defineProperty(t,e,s),s};class Ml extends s1{constructor(t){super(),this.delay=10,this.throttle=2,this.threshold=5,this.changeCount=0,this.timestamp=0,this.options=Object.assign(Object.assign({},Ml.defaultOptions),t),this.graph.model.on("cell:change:*",this.onModelChanged,this)}get graph(){return this.options.graph}onModelChanged(){if(this.disabled)return;const e=(new Date().getTime()-this.timestamp)/1e3;e>this.delay||this.changeCount>=this.threshold&&e>this.throttle?(this.save(),this.reset()):this.changeCount+=1}save(){this.trigger("save")}reset(){this.changeCount=0,this.timestamp=new Date().getTime()}dispose(){this.graph.model.off("cell:change:*",this.onModelChanged,this)}}q7([s1.dispose()],Ml.prototype,"dispose",null);(function(i){i.defaultOptions={delay:10,throttle:2,threshold:5}})(Ml||(Ml={}));class Ee extends Vi{constructor(t){super(),this.graph=t,this.init()}get options(){return this.graph.options}get model(){return this.graph.model}get view(){return this.graph.view}init(){}}var U7=globalThis&&globalThis.__decorate||function(i,t,e,n){var r=arguments.length,s=r<3?t:n===null?n=Object.getOwnPropertyDescriptor(t,e):n,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")s=Reflect.decorate(i,t,e,n);else for(var a=i.length-1;a>=0;a--)(o=i[a])&&(s=(r<3?o(s):r>3?o(t,e,s):o(t,e))||s);return r>3&&s&&Object.defineProperty(t,e,s),s};class Hi extends se{constructor(t){super(),this.graph=t;const{selectors:e,fragment:n}=he.parseJSONMarkup(Hi.markup);this.background=e.background,this.grid=e.grid,this.svg=e.svg,this.defs=e.defs,this.viewport=e.viewport,this.primer=e.primer,this.stage=e.stage,this.decorator=e.decorator,this.overlay=e.overlay,this.container=this.options.container,this.restore=Hi.snapshoot(this.container),this.$(this.container).addClass(this.prefixClassName("graph")).append(n),this.delegateEvents()}get model(){return this.graph.model}get options(){return this.graph.options}delegateEvents(){const t=this.constructor;return super.delegateEvents(t.events),this}guard(t,e){return t.type==="mousedown"&&t.button===2||this.options.guard&&this.options.guard(t,e)?!0:t.data&&t.data.guarded!==void 0?t.data.guarded:!(e&&e.cell&&ie.isCell(e.cell)||this.svg===t.target||this.container===t.target||Je.contains(this.svg,t.target))}findView(t){return this.graph.renderer.findViewByElem(t)}onDblClick(t){this.options.preventDefaultDblClick&&t.preventDefault();const e=this.normalizeEvent(t),n=this.findView(e.target);if(this.guard(e,n))return;const r=this.graph.snapToGrid(e.clientX,e.clientY);n?n.onDblClick(e,r.x,r.y):this.graph.trigger("blank:dblclick",{e,x:r.x,y:r.y})}onClick(t){if(this.getMouseMovedCount(t)<=this.options.clickThreshold){const e=this.normalizeEvent(t),n=this.findView(e.target);if(this.guard(e,n))return;const r=this.graph.snapToGrid(e.clientX,e.clientY);n?n.onClick(e,r.x,r.y):this.graph.trigger("blank:click",{e,x:r.x,y:r.y})}}onContextMenu(t){this.options.preventDefaultContextMenu&&t.preventDefault();const e=this.normalizeEvent(t),n=this.findView(e.target);if(this.guard(e,n))return;const r=this.graph.snapToGrid(e.clientX,e.clientY);n?n.onContextMenu(e,r.x,r.y):this.graph.trigger("blank:contextmenu",{e,x:r.x,y:r.y})}delegateDragEvents(t,e){t.data==null&&(t.data={}),this.setEventData(t,{currentView:e||null,mouseMovedCount:0,startPosition:{x:t.clientX,y:t.clientY}});const n=this.constructor;this.delegateDocumentEvents(n.documentEvents,t.data),this.undelegateEvents()}getMouseMovedCount(t){return this.getEventData(t).mouseMovedCount||0}onMouseDown(t){const e=this.normalizeEvent(t),n=this.findView(e.target);if(this.guard(e,n))return;this.options.preventDefaultMouseDown&&e.preventDefault();const r=this.graph.snapToGrid(e.clientX,e.clientY);n?n.onMouseDown(e,r.x,r.y):(this.options.preventDefaultBlankAction&&e.preventDefault(),this.graph.trigger("blank:mousedown",{e,x:r.x,y:r.y})),this.delegateDragEvents(e,n)}onMouseMove(t){const e=this.getEventData(t),n=e.startPosition;if(n&&n.x===t.clientX&&n.y===t.clientY||(e.mouseMovedCount==null&&(e.mouseMovedCount=0),e.mouseMovedCount+=1,e.mouseMovedCount<=this.options.moveThreshold))return;const s=this.normalizeEvent(t),o=this.graph.snapToGrid(s.clientX,s.clientY),a=e.currentView;a?a.onMouseMove(s,o.x,o.y):this.graph.trigger("blank:mousemove",{e:s,x:o.x,y:o.y}),this.setEventData(s,e)}onMouseUp(t){this.undelegateDocumentEvents();const e=this.normalizeEvent(t),n=this.graph.snapToGrid(e.clientX,e.clientY),s=this.getEventData(t).currentView;s?s.onMouseUp(e,n.x,n.y):this.graph.trigger("blank:mouseup",{e,x:n.x,y:n.y}),t.isPropagationStopped()||this.onClick(Je.Event(t,{type:"click",data:t.data})),t.stopImmediatePropagation(),this.delegateEvents()}onMouseOver(t){const e=this.normalizeEvent(t),n=this.findView(e.target);if(!this.guard(e,n))if(n)n.onMouseOver(e);else{if(this.container===e.target)return;this.graph.trigger("blank:mouseover",{e})}}onMouseOut(t){const e=this.normalizeEvent(t),n=this.findView(e.target);if(!this.guard(e,n))if(n)n.onMouseOut(e);else{if(this.container===e.target)return;this.graph.trigger("blank:mouseout",{e})}}onMouseEnter(t){const e=this.normalizeEvent(t),n=this.findView(e.target);if(this.guard(e,n))return;const r=this.graph.renderer.findViewByElem(e.relatedTarget);if(n){if(r===n)return;n.onMouseEnter(e)}else{if(r)return;this.graph.trigger("graph:mouseenter",{e})}}onMouseLeave(t){const e=this.normalizeEvent(t),n=this.findView(e.target);if(this.guard(e,n))return;const r=this.graph.renderer.findViewByElem(e.relatedTarget);if(n){if(r===n)return;n.onMouseLeave(e)}else{if(r)return;this.graph.trigger("graph:mouseleave",{e})}}onMouseWheel(t){const e=this.normalizeEvent(t),n=this.findView(e.target);if(this.guard(e,n))return;const r=e.originalEvent,s=this.graph.snapToGrid(r.clientX,r.clientY),o=Math.max(-1,Math.min(1,r.wheelDelta||-r.detail));n?n.onMouseWheel(e,s.x,s.y,o):this.graph.trigger("blank:mousewheel",{e,delta:o,x:s.x,y:s.y})}onCustomEvent(t){const e=t.currentTarget,n=e.getAttribute("event")||e.getAttribute("data-event");if(n){const r=this.findView(e);if(r){const s=this.normalizeEvent(t);if(this.guard(s,r))return;const o=this.graph.snapToGrid(s.clientX,s.clientY);r.onCustomEvent(s,n,o.x,o.y)}}}handleMagnetEvent(t,e){const n=t.currentTarget,r=n.getAttribute("magnet");if(r&&r.toLowerCase()!=="false"){const s=this.findView(n);if(s){const o=this.normalizeEvent(t);if(this.guard(o,s))return;const a=this.graph.snapToGrid(o.clientX,o.clientY);xt(e,this.graph,s,o,n,a.x,a.y)}}}onMagnetMouseDown(t){this.handleMagnetEvent(t,(e,n,r,s,o)=>{e.onMagnetMouseDown(n,r,s,o)})}onMagnetDblClick(t){this.handleMagnetEvent(t,(e,n,r,s,o)=>{e.onMagnetDblClick(n,r,s,o)})}onMagnetContextMenu(t){this.options.preventDefaultContextMenu&&t.preventDefault(),this.handleMagnetEvent(t,(e,n,r,s,o)=>{e.onMagnetContextMenu(n,r,s,o)})}onLabelMouseDown(t){const e=t.currentTarget,n=this.findView(e);if(n){const r=this.normalizeEvent(t);if(this.guard(r,n))return;const s=this.graph.snapToGrid(r.clientX,r.clientY);n.onLabelMouseDown(r,s.x,s.y)}}onImageDragStart(){return!1}dispose(){this.undelegateEvents(),this.undelegateDocumentEvents(),this.restore(),this.restore=()=>{}}}U7([se.dispose()],Hi.prototype,"dispose",null);(function(i){const t=`${sr.prefixCls}-graph`;i.markup=[{ns:an.xhtml,tagName:"div",selector:"background",className:`${t}-background`},{ns:an.xhtml,tagName:"div",selector:"grid",className:`${t}-grid`},{ns:an.svg,tagName:"svg",selector:"svg",className:`${t}-svg`,attrs:{width:"100%",height:"100%","xmlns:xlink":an.xlink},children:[{tagName:"defs",selector:"defs"},{tagName:"g",selector:"viewport",className:`${t}-svg-viewport`,children:[{tagName:"g",selector:"primer",className:`${t}-svg-primer`},{tagName:"g",selector:"stage",className:`${t}-svg-stage`},{tagName:"g",selector:"decorator",className:`${t}-svg-decorator`},{tagName:"g",selector:"overlay",className:`${t}-svg-overlay`}]}]}];function e(n){const r=n.cloneNode();return n.childNodes.forEach(s=>r.appendChild(s)),()=>{for(hp(n);n.attributes.length>0;)n.removeAttribute(n.attributes[0].name);for(let s=0,o=r.attributes.length;s<o;s+=1){const a=r.attributes[s];n.setAttribute(a.name,a.value)}r.childNodes.forEach(s=>n.appendChild(s))}}i.snapshoot=e})(Hi||(Hi={}));(function(i){const t=sr.prefixCls;i.events={dblclick:"onDblClick",contextmenu:"onContextMenu",touchstart:"onMouseDown",mousedown:"onMouseDown",mouseover:"onMouseOver",mouseout:"onMouseOut",mouseenter:"onMouseEnter",mouseleave:"onMouseLeave",mousewheel:"onMouseWheel",DOMMouseScroll:"onMouseWheel",[`mouseenter  .${t}-cell`]:"onMouseEnter",[`mouseleave  .${t}-cell`]:"onMouseLeave",[`mouseenter  .${t}-cell-tools`]:"onMouseEnter",[`mouseleave  .${t}-cell-tools`]:"onMouseLeave",[`mousedown   .${t}-cell [event]`]:"onCustomEvent",[`touchstart  .${t}-cell [event]`]:"onCustomEvent",[`mousedown   .${t}-cell [data-event]`]:"onCustomEvent",[`touchstart  .${t}-cell [data-event]`]:"onCustomEvent",[`dblclick    .${t}-cell [magnet]`]:"onMagnetDblClick",[`contextmenu .${t}-cell [magnet]`]:"onMagnetContextMenu",[`mousedown   .${t}-cell [magnet]`]:"onMagnetMouseDown",[`touchstart  .${t}-cell [magnet]`]:"onMagnetMouseDown",[`dblclick    .${t}-cell [data-magnet]`]:"onMagnetDblClick",[`contextmenu .${t}-cell [data-magnet]`]:"onMagnetContextMenu",[`mousedown   .${t}-cell [data-magnet]`]:"onMagnetMouseDown",[`touchstart  .${t}-cell [data-magnet]`]:"onMagnetMouseDown",[`dragstart   .${t}-cell image`]:"onImageDragStart",[`mousedown   .${t}-edge .${t}-edge-label`]:"onLabelMouseDown",[`touchstart  .${t}-edge .${t}-edge-label`]:"onLabelMouseDown"},i.documentEvents={mousemove:"onMouseMove",touchmove:"onMouseMove",mouseup:"onMouseUp",touchend:"onMouseUp",touchcancel:"onMouseUp"}})(Hi||(Hi={}));var Pi;(function(i){function t(e,n){return(r,s,o)=>{const a=o.value;o.value=function(...l){if(this.scroller.widget==null){const u=`Shoule enable scroller to use method '${s}'`;if(e!==!1)throw console.error(u),new Error(u);return n!==!1&&console.warn(u),this}return a.call(this,...l)}}}i.checkScroller=t})(Pi||(Pi={}));const W7=`.x6-graph {
  position: relative;
  outline: none;
}
.x6-graph-background,
.x6-graph-grid,
.x6-graph-svg {
  position: absolute;
  top: 0;
  right: 0;
  bottom: 0;
  left: 0;
}
.x6-graph-background-stage,
.x6-graph-grid-stage,
.x6-graph-svg-stage {
  user-select: none;
}
.x6-graph.x6-graph-pannable {
  cursor: grab;
  cursor: -moz-grab;
  cursor: -webkit-grab;
}
.x6-graph.x6-graph-panning {
  cursor: grabbing;
  cursor: -moz-grabbing;
  cursor: -webkit-grabbing;
  user-select: none;
}
.x6-node {
  cursor: move;
  /* stylelint-disable-next-line */
}
.x6-node.x6-node-immovable {
  cursor: default;
}
.x6-node * {
  -webkit-user-drag: none;
}
.x6-node .scalable * {
  vector-effect: non-scaling-stroke;
}
.x6-node [magnet='true'] {
  cursor: crosshair;
  transition: opacity 0.3s;
}
.x6-node [magnet='true']:hover {
  opacity: 0.7;
}
.x6-node foreignObject {
  display: block;
  overflow: visible;
  background-color: transparent;
}
.x6-node foreignObject > body {
  position: static;
  width: 100%;
  height: 100%;
  margin: 0;
  padding: 0;
  overflow: visible;
  background-color: transparent;
}
.x6-edge .source-marker,
.x6-edge .target-marker {
  vector-effect: non-scaling-stroke;
}
.x6-edge .connection {
  stroke-linejoin: round;
  fill: none;
}
.x6-edge .connection-wrap {
  cursor: move;
  opacity: 0;
  fill: none;
  stroke: #000;
  stroke-width: 15;
  stroke-linecap: round;
  stroke-linejoin: round;
}
.x6-edge .connection-wrap:hover {
  opacity: 0.4;
  stroke-opacity: 0.4;
}
.x6-edge .vertices {
  cursor: move;
  opacity: 0;
}
.x6-edge .vertices .vertex {
  fill: #1abc9c;
}
.x6-edge .vertices .vertex :hover {
  fill: #34495e;
  stroke: none;
}
.x6-edge .vertices .vertex-remove {
  cursor: pointer;
  fill: #fff;
}
.x6-edge .vertices .vertex-remove-area {
  cursor: pointer;
  opacity: 0.1;
}
.x6-edge .vertices .vertex-group:hover .vertex-remove-area {
  opacity: 1;
}
.x6-edge .arrowheads {
  cursor: move;
  opacity: 0;
}
.x6-edge .arrowheads .arrowhead {
  fill: #1abc9c;
}
.x6-edge .arrowheads .arrowhead :hover {
  fill: #f39c12;
  stroke: none;
}
.x6-edge .tools {
  cursor: pointer;
  opacity: 0;
}
.x6-edge .tools .tool-options {
  display: none;
}
.x6-edge .tools .tool-remove circle {
  fill: #f00;
}
.x6-edge .tools .tool-remove path {
  fill: #fff;
}
.x6-edge:hover .vertices,
.x6-edge:hover .arrowheads,
.x6-edge:hover .tools {
  opacity: 1;
}
.x6-highlight-opacity {
  opacity: 0.3;
}
@keyframes halo-pie-visibility {
  0% {
    visibility: hidden;
  }
  100% {
    visibility: visible;
  }
}
@keyframes halo-pie-opening {
  0% {
    transform: scale(0.4) rotate(-20deg);
  }
  100% {
    transform: scale(1) rotate(0);
  }
}
.x6-widget-handle {
  position: absolute;
  width: 20px;
  height: 20px;
  background-color: transparent;
  background-repeat: no-repeat;
  background-position: 0 0;
  background-size: 20px 20px;
  cursor: pointer;
  user-select: none;
  pointer-events: auto;
  -webkit-user-drag: none;
  user-drag: none;
  /* stylelint-disable-line */
}
.x6-widget-handle.hidden {
  display: none;
}
.x6-widget-handle-selected {
  background-color: rgba(0, 0, 0, 0.1);
  border-radius: 3px;
}
.x6-widget-handle-remove {
  background-image: url('data:image/svg+xml;charset=utf8,%3C%3Fxml%20version%3D%221.0%22%20encoding%3D%22utf-8%22%3F%3E%3C!DOCTYPE%20svg%20PUBLIC%20%22-%2F%2FW3C%2F%2FDTD%20SVG%201.1%2F%2FEN%22%20%22http%3A%2F%2Fwww.w3.org%2FGraphics%2FSVG%2F1.1%2FDTD%2Fsvg11.dtd%22%3E%3Csvg%20version%3D%221.1%22%20id%3D%22Layer_1%22%20xmlns%3D%22http%3A%2F%2Fwww.w3.org%2F2000%2Fsvg%22%20xmlns%3Axlink%3D%22http%3A%2F%2Fwww.w3.org%2F1999%2Fxlink%22%20x%3D%220px%22%20y%3D%220px%22%20width%3D%2218.75px%22%20height%3D%2218.75px%22%20viewBox%3D%220%200%2018.75%2018.75%22%20enable-background%3D%22new%200%200%2018.75%2018.75%22%20xml%3Aspace%3D%22preserve%22%3E%3Cg%3E%3Cpath%20fill%3D%22%236A6C8A%22%20d%3D%22M15.386%2C3.365c-3.315-3.314-8.707-3.313-12.021%2C0c-3.314%2C3.315-3.314%2C8.706%2C0%2C12.02%20c3.314%2C3.314%2C8.707%2C3.314%2C12.021%2C0S18.699%2C6.68%2C15.386%2C3.365L15.386%2C3.365z%20M4.152%2C14.598C1.273%2C11.719%2C1.273%2C7.035%2C4.153%2C4.154%20c2.88-2.88%2C7.563-2.88%2C10.443%2C0c2.881%2C2.88%2C2.881%2C7.562%2C0%2C10.443C11.716%2C17.477%2C7.032%2C17.477%2C4.152%2C14.598L4.152%2C14.598z%22%2F%3E%3Cpath%20fill%3D%22%236A6C8A%22%20d%3D%22M12.157%2C11.371L7.38%2C6.593C7.162%2C6.375%2C6.809%2C6.375%2C6.592%2C6.592c-0.218%2C0.219-0.218%2C0.572%2C0%2C0.79%20l4.776%2C4.776c0.218%2C0.219%2C0.571%2C0.219%2C0.79%2C0C12.375%2C11.941%2C12.375%2C11.588%2C12.157%2C11.371L12.157%2C11.371z%22%2F%3E%3Cpath%20fill%3D%22%236A6C8A%22%20d%3D%22M11.369%2C6.593l-4.777%2C4.778c-0.217%2C0.217-0.217%2C0.568%2C0%2C0.787c0.219%2C0.219%2C0.571%2C0.217%2C0.788%2C0l4.777-4.777%20c0.218-0.218%2C0.218-0.571%2C0.001-0.789C11.939%2C6.375%2C11.587%2C6.375%2C11.369%2C6.593L11.369%2C6.593z%22%2F%3E%3C%2Fg%3E%3C%2Fsvg%3E%20');
  cursor: pointer;
}
.x6-widget-handle-remove:hover {
  background-image: url('data:image/svg+xml;charset=utf8,%3C%3Fxml%20version%3D%221.0%22%20encoding%3D%22utf-8%22%3F%3E%3C!DOCTYPE%20svg%20PUBLIC%20%22-%2F%2FW3C%2F%2FDTD%20SVG%201.1%2F%2FEN%22%20%22http%3A%2F%2Fwww.w3.org%2FGraphics%2FSVG%2F1.1%2FDTD%2Fsvg11.dtd%22%3E%3Csvg%20version%3D%221.1%22%20id%3D%22Layer_1%22%20xmlns%3D%22http%3A%2F%2Fwww.w3.org%2F2000%2Fsvg%22%20xmlns%3Axlink%3D%22http%3A%2F%2Fwww.w3.org%2F1999%2Fxlink%22%20x%3D%220px%22%20y%3D%220px%22%20width%3D%2218.75px%22%20height%3D%2218.75px%22%20viewBox%3D%220%200%2018.75%2018.75%22%20enable-background%3D%22new%200%200%2018.75%2018.75%22%20xml%3Aspace%3D%22preserve%22%3E%3Cg%3E%3Cpath%20fill%3D%22%236A6C8A%22%20d%3D%22M15.386%2C3.365c-3.315-3.314-8.707-3.313-12.021%2C0c-3.314%2C3.315-3.314%2C8.706%2C0%2C12.02%20c3.314%2C3.314%2C8.707%2C3.314%2C12.021%2C0S18.699%2C6.68%2C15.386%2C3.365L15.386%2C3.365z%22%2F%3E%3Cpath%20fill%3D%22%23FFFFFF%22%20d%3D%22M12.157%2C11.371L7.38%2C6.593C7.162%2C6.375%2C6.809%2C6.375%2C6.592%2C6.592c-0.218%2C0.219-0.218%2C0.572%2C0%2C0.79%20l4.776%2C4.776c0.218%2C0.219%2C0.571%2C0.219%2C0.79%2C0C12.375%2C11.941%2C12.375%2C11.588%2C12.157%2C11.371L12.157%2C11.371z%22%2F%3E%3Cpath%20fill%3D%22%23FFFFFF%22%20d%3D%22M11.369%2C6.593l-4.777%2C4.778c-0.217%2C0.217-0.217%2C0.568%2C0%2C0.787c0.219%2C0.219%2C0.571%2C0.217%2C0.788%2C0l4.777-4.777%20c0.218-0.218%2C0.218-0.571%2C0.001-0.789C11.939%2C6.375%2C11.587%2C6.375%2C11.369%2C6.593L11.369%2C6.593z%22%2F%3E%3C%2Fg%3E%3C%2Fsvg%3E%20');
}
.x6-widget-handle-rotate {
  background-image: url('data:image/svg+xml;charset=utf8,%3C%3Fxml%20version%3D%221.0%22%20encoding%3D%22utf-8%22%3F%3E%3C!DOCTYPE%20svg%20PUBLIC%20%22-%2F%2FW3C%2F%2FDTD%20SVG%201.1%2F%2FEN%22%20%22http%3A%2F%2Fwww.w3.org%2FGraphics%2FSVG%2F1.1%2FDTD%2Fsvg11.dtd%22%3E%3Csvg%20version%3D%221.1%22%20id%3D%22Layer_1%22%20xmlns%3D%22http%3A%2F%2Fwww.w3.org%2F2000%2Fsvg%22%20xmlns%3Axlink%3D%22http%3A%2F%2Fwww.w3.org%2F1999%2Fxlink%22%20x%3D%220px%22%20y%3D%220px%22%20width%3D%2218.75px%22%20height%3D%2218.75px%22%20viewBox%3D%220%200%2018.75%2018.75%22%20enable-background%3D%22new%200%200%2018.75%2018.75%22%20xml%3Aspace%3D%22preserve%22%3E%3Cpath%20fill%3D%22%236A6C8A%22%20d%3D%22M9.374%2C17.592c-4.176%2C0-7.57-3.401-7.57-7.575c0-4.175%2C3.395-7.574%2C7.57-7.574c0.28%2C0%2C0.56%2C0.018%2C0.837%2C0.05%20V1.268c0-0.158%2C0.099-0.3%2C0.239-0.36c0.151-0.058%2C0.315-0.026%2C0.428%2C0.086l2.683%2C2.688c0.152%2C0.154%2C0.152%2C0.399%2C0%2C0.553l-2.68%2C2.693%20c-0.115%2C0.112-0.279%2C0.147-0.431%2C0.087c-0.141-0.063-0.239-0.205-0.239-0.361V5.296C9.934%2C5.243%2C9.654%2C5.22%2C9.374%2C5.22%20c-2.646%2C0-4.796%2C2.152-4.796%2C4.797s2.154%2C4.798%2C4.796%2C4.798c2.645%2C0%2C4.798-2.153%2C4.798-4.798c0-0.214%2C0.174-0.391%2C0.391-0.391h1.991%20c0.217%2C0%2C0.394%2C0.177%2C0.394%2C0.391C16.947%2C14.19%2C13.549%2C17.592%2C9.374%2C17.592L9.374%2C17.592z%20M9.374%2C17.592%22%2F%3E%3C%2Fsvg%3E%20');
  cursor: move;
}
.x6-widget-handle-rotate:hover {
  background-image: url('data:image/svg+xml;charset=utf8,%3C%3Fxml%20version%3D%221.0%22%20encoding%3D%22utf-8%22%3F%3E%3C!DOCTYPE%20svg%20PUBLIC%20%22-%2F%2FW3C%2F%2FDTD%20SVG%201.1%2F%2FEN%22%20%22http%3A%2F%2Fwww.w3.org%2FGraphics%2FSVG%2F1.1%2FDTD%2Fsvg11.dtd%22%3E%3Csvg%20version%3D%221.1%22%20id%3D%22Layer_1%22%20xmlns%3D%22http%3A%2F%2Fwww.w3.org%2F2000%2Fsvg%22%20xmlns%3Axlink%3D%22http%3A%2F%2Fwww.w3.org%2F1999%2Fxlink%22%20x%3D%220px%22%20y%3D%220px%22%20width%3D%2218.75px%22%20height%3D%2218.75px%22%20viewBox%3D%220%200%2018.75%2018.75%22%20enable-background%3D%22new%200%200%2018.75%2018.75%22%20xml%3Aspace%3D%22preserve%22%3E%3Cpath%20fill%3D%22%23FD6EB6%22%20d%3D%22M9.374%2C17.592c-4.176%2C0-7.57-3.401-7.57-7.575c0-4.175%2C3.395-7.574%2C7.57-7.574c0.28%2C0%2C0.56%2C0.018%2C0.837%2C0.05%20V1.268c0-0.158%2C0.099-0.3%2C0.239-0.36c0.151-0.058%2C0.315-0.026%2C0.428%2C0.086l2.683%2C2.688c0.152%2C0.154%2C0.152%2C0.399%2C0%2C0.553l-2.68%2C2.693%20c-0.115%2C0.112-0.279%2C0.147-0.431%2C0.087c-0.141-0.063-0.239-0.205-0.239-0.361V5.296C9.934%2C5.243%2C9.654%2C5.22%2C9.374%2C5.22%20c-2.646%2C0-4.796%2C2.152-4.796%2C4.797s2.154%2C4.798%2C4.796%2C4.798c2.645%2C0%2C4.798-2.153%2C4.798-4.798c0-0.214%2C0.174-0.391%2C0.391-0.391h1.991%20c0.217%2C0%2C0.394%2C0.177%2C0.394%2C0.391C16.947%2C14.19%2C13.549%2C17.592%2C9.374%2C17.592L9.374%2C17.592z%20M9.374%2C17.592%22%2F%3E%3C%2Fsvg%3E%20');
}
.x6-widget-handle-resize {
  background-image: url('data:image/svg+xml;charset=utf8,%3C%3Fxml%20version%3D%221.0%22%20%3F%3E%3Csvg%20height%3D%2224px%22%20version%3D%221.1%22%20viewBox%3D%220%200%2024%2024%22%20width%3D%2224px%22%20xmlns%3D%22http%3A%2F%2Fwww.w3.org%2F2000%2Fsvg%22%20xmlns%3Asketch%3D%22http%3A%2F%2Fwww.bohemiancoding.com%2Fsketch%2Fns%22%20xmlns%3Axlink%3D%22http%3A%2F%2Fwww.w3.org%2F1999%2Fxlink%22%3E%3Ctitle%2F%3E%3Cdesc%2F%3E%3Cdefs%2F%3E%3Cg%20fill%3D%22none%22%20fill-rule%3D%22evenodd%22%20id%3D%22miu%22%20stroke%3D%22none%22%20stroke-width%3D%221%22%3E%3Cg%20id%3D%22Artboard-1%22%20transform%3D%22translate(-251.000000%2C%20-443.000000)%22%3E%3Cg%20id%3D%22slice%22%20transform%3D%22translate(215.000000%2C%20119.000000)%22%2F%3E%3Cpath%20d%3D%22M252%2C448%20L256%2C448%20L256%2C444%20L252%2C444%20L252%2C448%20Z%20M257%2C448%20L269%2C448%20L269%2C446%20L257%2C446%20L257%2C448%20Z%20M257%2C464%20L269%2C464%20L269%2C462%20L257%2C462%20L257%2C464%20Z%20M270%2C444%20L270%2C448%20L274%2C448%20L274%2C444%20L270%2C444%20Z%20M252%2C462%20L252%2C466%20L256%2C466%20L256%2C462%20L252%2C462%20Z%20M270%2C462%20L270%2C466%20L274%2C466%20L274%2C462%20L270%2C462%20Z%20M254%2C461%20L256%2C461%20L256%2C449%20L254%2C449%20L254%2C461%20Z%20M270%2C461%20L272%2C461%20L272%2C449%20L270%2C449%20L270%2C461%20Z%22%20fill%3D%22%236A6C8A%22%20id%3D%22editor-crop-glyph%22%2F%3E%3C%2Fg%3E%3C%2Fg%3E%3C%2Fsvg%3E');
  cursor: se-resize;
}
.x6-widget-handle-resize:hover {
  background-image: url('data:image/svg+xml;charset=utf8,%3C%3Fxml%20version%3D%221.0%22%20%3F%3E%3Csvg%20height%3D%2224px%22%20version%3D%221.1%22%20viewBox%3D%220%200%2024%2024%22%20width%3D%2224px%22%20xmlns%3D%22http%3A%2F%2Fwww.w3.org%2F2000%2Fsvg%22%20xmlns%3Asketch%3D%22http%3A%2F%2Fwww.bohemiancoding.com%2Fsketch%2Fns%22%20xmlns%3Axlink%3D%22http%3A%2F%2Fwww.w3.org%2F1999%2Fxlink%22%3E%3Ctitle%2F%3E%3Cdesc%2F%3E%3Cdefs%2F%3E%3Cg%20fill%3D%22none%22%20fill-rule%3D%22evenodd%22%20id%3D%22miu%22%20stroke%3D%22none%22%20stroke-width%3D%221%22%3E%3Cg%20id%3D%22Artboard-1%22%20transform%3D%22translate(-251.000000%2C%20-443.000000)%22%3E%3Cg%20id%3D%22slice%22%20transform%3D%22translate(215.000000%2C%20119.000000)%22%2F%3E%3Cpath%20d%3D%22M252%2C448%20L256%2C448%20L256%2C444%20L252%2C444%20L252%2C448%20Z%20M257%2C448%20L269%2C448%20L269%2C446%20L257%2C446%20L257%2C448%20Z%20M257%2C464%20L269%2C464%20L269%2C462%20L257%2C462%20L257%2C464%20Z%20M270%2C444%20L270%2C448%20L274%2C448%20L274%2C444%20L270%2C444%20Z%20M252%2C462%20L252%2C466%20L256%2C466%20L256%2C462%20L252%2C462%20Z%20M270%2C462%20L270%2C466%20L274%2C466%20L274%2C462%20L270%2C462%20Z%20M254%2C461%20L256%2C461%20L256%2C449%20L254%2C449%20L254%2C461%20Z%20M270%2C461%20L272%2C461%20L272%2C449%20L270%2C449%20L270%2C461%20Z%22%20fill%3D%22%23FD6EB6%22%20id%3D%22editor-crop-glyph%22%2F%3E%3C%2Fg%3E%3C%2Fg%3E%3C%2Fsvg%3E');
}
.x6-widget-handle-clone {
  background-image: url('data:image/svg+xml;charset=utf8,%3C%3Fxml%20version%3D%221.0%22%20encoding%3D%22utf-8%22%3F%3E%3C!DOCTYPE%20svg%20PUBLIC%20%22-%2F%2FW3C%2F%2FDTD%20SVG%201.1%2F%2FEN%22%20%22http%3A%2F%2Fwww.w3.org%2FGraphics%2FSVG%2F1.1%2FDTD%2Fsvg11.dtd%22%3E%3Csvg%20version%3D%221.1%22%20id%3D%22Layer_1%22%20xmlns%3D%22http%3A%2F%2Fwww.w3.org%2F2000%2Fsvg%22%20xmlns%3Axlink%3D%22http%3A%2F%2Fwww.w3.org%2F1999%2Fxlink%22%20x%3D%220px%22%20y%3D%220px%22%20width%3D%2218.75px%22%20height%3D%2218.75px%22%20viewBox%3D%220%200%2018.75%2018.75%22%20enable-background%3D%22new%200%200%2018.75%2018.75%22%20xml%3Aspace%3D%22preserve%22%3E%3Cg%3E%3Cpath%20fill%3D%22%236A6C8A%22%20d%3D%22M12.852%2C0.875h-9.27c-0.853%2C0-1.547%2C0.694-1.547%2C1.547v10.816h1.547V2.422h9.27V0.875z%20M15.172%2C3.965h-8.5%20c-0.849%2C0-1.547%2C0.698-1.547%2C1.547v10.816c0%2C0.849%2C0.698%2C1.547%2C1.547%2C1.547h8.5c0.85%2C0%2C1.543-0.698%2C1.543-1.547V5.512%20C16.715%2C4.663%2C16.021%2C3.965%2C15.172%2C3.965L15.172%2C3.965z%20M15.172%2C16.328h-8.5V5.512h8.5V16.328z%22%2F%3E%3C%2Fg%3E%3C%2Fsvg%3E%20');
  cursor: move;
}
.x6-widget-handle-clone:hover {
  background-image: url('data:image/svg+xml;charset=utf8,%3C%3Fxml%20version%3D%221.0%22%20encoding%3D%22utf-8%22%3F%3E%3C!DOCTYPE%20svg%20PUBLIC%20%22-%2F%2FW3C%2F%2FDTD%20SVG%201.1%2F%2FEN%22%20%22http%3A%2F%2Fwww.w3.org%2FGraphics%2FSVG%2F1.1%2FDTD%2Fsvg11.dtd%22%3E%3Csvg%20version%3D%221.1%22%20id%3D%22Layer_1%22%20xmlns%3D%22http%3A%2F%2Fwww.w3.org%2F2000%2Fsvg%22%20xmlns%3Axlink%3D%22http%3A%2F%2Fwww.w3.org%2F1999%2Fxlink%22%20x%3D%220px%22%20y%3D%220px%22%20width%3D%2218.75px%22%20height%3D%2218.75px%22%20viewBox%3D%220%200%2018.75%2018.75%22%20enable-background%3D%22new%200%200%2018.75%2018.75%22%20xml%3Aspace%3D%22preserve%22%3E%3Cg%3E%3Cpath%20fill%3D%22%23FD6EB6%22%20d%3D%22M12.852%2C0.875h-9.27c-0.853%2C0-1.547%2C0.694-1.547%2C1.547v10.816h1.547V2.422h9.27V0.875z%20M15.172%2C3.965h-8.5%20c-0.849%2C0-1.547%2C0.698-1.547%2C1.547v10.816c0%2C0.849%2C0.698%2C1.547%2C1.547%2C1.547h8.5c0.849%2C0%2C1.543-0.698%2C1.543-1.547V5.512%20C16.715%2C4.663%2C16.021%2C3.965%2C15.172%2C3.965L15.172%2C3.965z%20M15.172%2C16.328h-8.5V5.512h8.5V16.328z%20M15.172%2C16.328%22%2F%3E%3C%2Fg%3E%3C%2Fsvg%3E%20');
}
.x6-widget-handle-link {
  background-image: url('data:image/svg+xml;charset=utf8,%3C%3Fxml%20version%3D%221.0%22%20encoding%3D%22utf-8%22%3F%3E%3C!DOCTYPE%20svg%20PUBLIC%20%22-%2F%2FW3C%2F%2FDTD%20SVG%201.1%2F%2FEN%22%20%22http%3A%2F%2Fwww.w3.org%2FGraphics%2FSVG%2F1.1%2FDTD%2Fsvg11.dtd%22%3E%3Csvg%20version%3D%221.1%22%20id%3D%22Layer_1%22%20xmlns%3D%22http%3A%2F%2Fwww.w3.org%2F2000%2Fsvg%22%20xmlns%3Axlink%3D%22http%3A%2F%2Fwww.w3.org%2F1999%2Fxlink%22%20x%3D%220px%22%20y%3D%220px%22%20width%3D%2218.75px%22%20height%3D%2218.75px%22%20viewBox%3D%220%200%2018.75%2018.75%22%20enable-background%3D%22new%200%200%2018.75%2018.75%22%20xml%3Aspace%3D%22preserve%22%3E%3Cpath%20fill%3D%22%236A6C8A%22%20d%3D%22M9.884%2C9.838c0.54-0.551%2C1.005-0.955%2C1.384-1.201c0.463-0.308%2C0.749-0.352%2C0.887-0.352h1.34v1.367%20c0%2C0.104%2C0.061%2C0.2%2C0.154%2C0.242s0.204%2C0.027%2C0.284-0.038l3.168-2.669c0.06-0.051%2C0.096-0.125%2C0.096-0.203S17.16%2C6.83%2C17.101%2C6.781%20l-3.168-2.677c-0.08-0.067-0.19-0.081-0.284-0.038c-0.094%2C0.045-0.154%2C0.139-0.154%2C0.242v1.414h-1.343%20c-1.24%2C0.014-2.215%2C0.67-2.927%2C1.242c-0.797%2C0.65-1.533%2C1.447-2.245%2C2.217c-0.361%2C0.391-0.7%2C0.759-1.044%2C1.1%20c-0.541%2C0.549-1.011%2C0.951-1.395%2C1.199c-0.354%2C0.231-0.678%2C0.357-0.921%2C0.357h-1.8c-0.146%2C0-0.266%2C0.12-0.266%2C0.265v2.029%20c0%2C0.148%2C0.12%2C0.268%2C0.266%2C0.268h1.8l0%2C0c1.255-0.014%2C2.239-0.667%2C2.958-1.24c0.82-0.661%2C1.572-1.475%2C2.297-2.256%20C9.225%2C10.524%2C9.555%2C10.169%2C9.884%2C9.838z%22%2F%3E%3C%2Fsvg%3E%20');
  cursor: move;
  cursor: -moz-grabbing;
  cursor: -webkit-grabbing;
}
.x6-widget-handle-link:hover {
  background-image: url('data:image/svg+xml;charset=utf8,%3C%3Fxml%20version%3D%221.0%22%20encoding%3D%22utf-8%22%3F%3E%3C!DOCTYPE%20svg%20PUBLIC%20%22-%2F%2FW3C%2F%2FDTD%20SVG%201.1%2F%2FEN%22%20%22http%3A%2F%2Fwww.w3.org%2FGraphics%2FSVG%2F1.1%2FDTD%2Fsvg11.dtd%22%3E%3Csvg%20version%3D%221.1%22%20id%3D%22Layer_1%22%20xmlns%3D%22http%3A%2F%2Fwww.w3.org%2F2000%2Fsvg%22%20xmlns%3Axlink%3D%22http%3A%2F%2Fwww.w3.org%2F1999%2Fxlink%22%20x%3D%220px%22%20y%3D%220px%22%20width%3D%2218.75px%22%20height%3D%2218.75px%22%20viewBox%3D%220%200%2018.75%2018.75%22%20enable-background%3D%22new%200%200%2018.75%2018.75%22%20xml%3Aspace%3D%22preserve%22%3E%3Cpath%20fill%3D%22%23FD6EB6%22%20d%3D%22M9.884%2C9.838c0.54-0.551%2C1.005-0.955%2C1.384-1.201c0.463-0.308%2C0.749-0.352%2C0.887-0.352h1.34v1.367%20c0%2C0.104%2C0.061%2C0.2%2C0.154%2C0.242s0.204%2C0.027%2C0.284-0.038l3.168-2.669c0.06-0.051%2C0.096-0.125%2C0.096-0.203S17.16%2C6.83%2C17.101%2C6.781%20l-3.168-2.677c-0.08-0.067-0.19-0.081-0.284-0.038c-0.094%2C0.045-0.154%2C0.139-0.154%2C0.242v1.414h-1.343%20c-1.24%2C0.014-2.215%2C0.67-2.927%2C1.242c-0.797%2C0.65-1.533%2C1.447-2.245%2C2.217c-0.361%2C0.391-0.7%2C0.759-1.044%2C1.1%20c-0.541%2C0.549-1.011%2C0.951-1.395%2C1.199c-0.354%2C0.231-0.678%2C0.357-0.921%2C0.357h-1.8c-0.146%2C0-0.266%2C0.12-0.266%2C0.265v2.029%20c0%2C0.148%2C0.12%2C0.268%2C0.266%2C0.268h1.8l0%2C0c1.255-0.014%2C2.239-0.667%2C2.958-1.24c0.82-0.661%2C1.572-1.475%2C2.297-2.256%20C9.225%2C10.524%2C9.555%2C10.169%2C9.884%2C9.838z%22%2F%3E%3C%2Fsvg%3E%20');
}
.x6-widget-handle-fork {
  background-image: url('data:image/svg+xml;charset=utf8,%3C%3Fxml%20version%3D%221.0%22%20encoding%3D%22utf-8%22%3F%3E%3C!DOCTYPE%20svg%20PUBLIC%20%22-%2F%2FW3C%2F%2FDTD%20SVG%201.1%2F%2FEN%22%20%22http%3A%2F%2Fwww.w3.org%2FGraphics%2FSVG%2F1.1%2FDTD%2Fsvg11.dtd%22%3E%3Csvg%20version%3D%221.1%22%20id%3D%22Layer_1%22%20xmlns%3D%22http%3A%2F%2Fwww.w3.org%2F2000%2Fsvg%22%20xmlns%3Axlink%3D%22http%3A%2F%2Fwww.w3.org%2F1999%2Fxlink%22%20x%3D%220px%22%20y%3D%220px%22%20width%3D%2218.75px%22%20height%3D%2218.75px%22%20viewBox%3D%220%200%2018.75%2018.75%22%20enable-background%3D%22new%200%200%2018.75%2018.75%22%20xml%3Aspace%3D%22preserve%22%3E%3Cg%3E%3Cg%3E%3Cpath%20fill-rule%3D%22evenodd%22%20clip-rule%3D%22evenodd%22%20fill%3D%22%236A6C8A%22%20d%3D%22M13.307%2C11.593c-0.69%2C0-1.299%2C0.33-1.693%2C0.835l-4.136-2.387%20C7.552%2C9.82%2C7.602%2C9.589%2C7.602%2C9.344c0-0.25-0.051-0.487-0.129-0.71l4.097-2.364c0.393%2C0.536%2C1.022%2C0.888%2C1.737%2C0.888%20c1.193%2C0%2C2.16-0.967%2C2.16-2.159s-0.967-2.159-2.16-2.159c-1.191%2C0-2.158%2C0.967-2.158%2C2.159c0%2C0.076%2C0.014%2C0.149%2C0.021%2C0.223%20L6.848%2C7.716C6.469%2C7.39%2C5.982%2C7.185%2C5.442%2C7.185c-1.191%2C0-2.158%2C0.967-2.158%2C2.159s0.967%2C2.159%2C2.158%2C2.159%20c0.545%2C0%2C1.037-0.208%2C1.417-0.541l4.319%2C2.493c-0.014%2C0.098-0.029%2C0.194-0.029%2C0.296c0%2C1.193%2C0.967%2C2.159%2C2.158%2C2.159%20c1.193%2C0%2C2.16-0.966%2C2.16-2.159C15.467%2C12.559%2C14.5%2C11.593%2C13.307%2C11.593z%22%2F%3E%3C%2Fg%3E%3C%2Fg%3E%3C%2Fsvg%3E%20');
  cursor: move;
}
.x6-widget-handle-fork:hover {
  background-image: url('data:image/svg+xml;charset=utf8,%3C%3Fxml%20version%3D%221.0%22%20encoding%3D%22utf-8%22%3F%3E%3C!DOCTYPE%20svg%20PUBLIC%20%22-%2F%2FW3C%2F%2FDTD%20SVG%201.1%2F%2FEN%22%20%22http%3A%2F%2Fwww.w3.org%2FGraphics%2FSVG%2F1.1%2FDTD%2Fsvg11.dtd%22%3E%3Csvg%20version%3D%221.1%22%20id%3D%22Layer_1%22%20xmlns%3D%22http%3A%2F%2Fwww.w3.org%2F2000%2Fsvg%22%20xmlns%3Axlink%3D%22http%3A%2F%2Fwww.w3.org%2F1999%2Fxlink%22%20x%3D%220px%22%20y%3D%220px%22%20width%3D%2218.75px%22%20height%3D%2218.75px%22%20viewBox%3D%220%200%2018.75%2018.75%22%20enable-background%3D%22new%200%200%2018.75%2018.75%22%20xml%3Aspace%3D%22preserve%22%3E%3Cg%3E%3Cg%3E%3Cpath%20fill-rule%3D%22evenodd%22%20clip-rule%3D%22evenodd%22%20fill%3D%22%23FD6EB6%22%20d%3D%22M13.307%2C11.593c-0.69%2C0-1.299%2C0.33-1.693%2C0.835l-4.136-2.387%20c0.075-0.22%2C0.125-0.452%2C0.125-0.697c0-0.25-0.051-0.487-0.129-0.71l4.097-2.365c0.394%2C0.536%2C1.022%2C0.888%2C1.737%2C0.888%20c1.193%2C0%2C2.16-0.967%2C2.16-2.159s-0.967-2.159-2.16-2.159c-1.191%2C0-2.158%2C0.967-2.158%2C2.159c0%2C0.076%2C0.015%2C0.148%2C0.022%2C0.223%20L6.848%2C7.716C6.469%2C7.39%2C5.981%2C7.185%2C5.442%2C7.185c-1.191%2C0-2.158%2C0.967-2.158%2C2.159s0.967%2C2.159%2C2.158%2C2.159%20c0.545%2C0%2C1.037-0.208%2C1.417-0.541l4.319%2C2.493c-0.013%2C0.098-0.029%2C0.194-0.029%2C0.296c0%2C1.193%2C0.967%2C2.159%2C2.158%2C2.159%20c1.193%2C0%2C2.16-0.966%2C2.16-2.159C15.467%2C12.559%2C14.5%2C11.593%2C13.307%2C11.593z%22%2F%3E%3C%2Fg%3E%3C%2Fg%3E%3C%2Fsvg%3E%20');
}
.x6-widget-handle-unlink {
  background-image: url('data:image/svg+xml;charset=utf8,%3C%3Fxml%20version%3D%221.0%22%20encoding%3D%22utf-8%22%3F%3E%3C!DOCTYPE%20svg%20PUBLIC%20%22-%2F%2FW3C%2F%2FDTD%20SVG%201.1%2F%2FEN%22%20%22http%3A%2F%2Fwww.w3.org%2FGraphics%2FSVG%2F1.1%2FDTD%2Fsvg11.dtd%22%3E%3Csvg%20version%3D%221.1%22%20id%3D%22Layer_1%22%20xmlns%3D%22http%3A%2F%2Fwww.w3.org%2F2000%2Fsvg%22%20xmlns%3Axlink%3D%22http%3A%2F%2Fwww.w3.org%2F1999%2Fxlink%22%20x%3D%220px%22%20y%3D%220px%22%20width%3D%2218.75px%22%20height%3D%2218.75px%22%20viewBox%3D%220%200%2018.75%2018.75%22%20enable-background%3D%22new%200%200%2018.75%2018.75%22%20xml%3Aspace%3D%22preserve%22%3E%3Cg%3E%3Cg%3E%3Cpath%20fill%3D%22%236A6C8A%22%20d%3D%22M12.285%2C9.711l-2.104-0.302L9.243%2C8.568L6.669%2C7.095C6.948%2C6.6%2C6.995%2C6.026%2C6.845%2C5.474%20c-0.191-0.698-0.695-1.36-1.438-1.786C4.068%2C2.922%2C2.464%2C3.214%2C1.82%2C4.338C1.536%2C4.836%2C1.489%2C5.414%2C1.64%2C5.97%20c0.189%2C0.698%2C0.694%2C1.36%2C1.438%2C1.787c0.328%2C0.187%2C0.67%2C0.31%2C1.01%2C0.372c0.002%2C0%2C0.006%2C0.002%2C0.008%2C0.004%20c0.027%2C0.004%2C0.057%2C0.009%2C0.088%2C0.011c2.12%2C0.316%2C3.203%2C0.915%2C3.73%2C1.337c-0.527%2C0.424-1.61%2C1.021-3.731%2C1.339%20c-0.029%2C0.003-0.058%2C0.007-0.087%2C0.012c-0.002%2C0.002-0.004%2C0.002-0.007%2C0.003c-0.341%2C0.062-0.684%2C0.187-1.013%2C0.374%20c-0.74%2C0.425-1.246%2C1.089-1.437%2C1.787c-0.149%2C0.555-0.105%2C1.133%2C0.181%2C1.632c0.011%2C0.018%2C0.021%2C0.033%2C0.033%2C0.049l0.883%2C0.783%20c0.765%2C0.366%2C1.775%2C0.328%2C2.67-0.184c0.744-0.425%2C1.248-1.088%2C1.439-1.786c0.148-0.552%2C0.104-1.126-0.176-1.62l2.573-1.473%20c0.573%2C0.287%2C2.299%2C1.292%2C2.299%2C1.292s3.602%2C1.445%2C4.241%2C1.812c0.773%2C0.191%2C0.566-0.151%2C0.566-0.151L12.285%2C9.711z%20M5.571%2C6.482%20C5.279%2C6.993%2C4.425%2C7.076%2C3.705%2C6.664C3.282%2C6.424%2C2.966%2C6.039%2C2.856%2C5.64C2.81%2C5.464%2C2.778%2C5.203%2C2.917%2C4.963%20c0.291-0.51%2C1.146-0.593%2C1.866-0.182C5.21%2C5.027%2C5.521%2C5.4%2C5.632%2C5.807C5.679%2C5.98%2C5.708%2C6.242%2C5.571%2C6.482z%20M5.632%2C13.159%20c-0.111%2C0.406-0.422%2C0.778-0.848%2C1.025c-0.719%2C0.409-1.576%2C0.327-1.867-0.184c-0.137-0.239-0.106-0.499-0.06-0.676%20c0.108-0.398%2C0.426-0.781%2C0.847-1.022c0.72-0.412%2C1.574-0.329%2C1.866%2C0.181C5.708%2C12.723%2C5.679%2C12.983%2C5.632%2C13.159z%20M16.181%2C5.139%20c-0.448%2C0.258-4.435%2C1.9-4.435%2C1.9s-1.556%2C0.855-2.104%2C1.13l0.937%2C0.843l2.057-0.229l4.11-3.638%20C16.745%2C5.146%2C17.013%2C4.664%2C16.181%2C5.139z%22%2F%3E%3C%2Fg%3E%3C%2Fg%3E%3C%2Fsvg%3E%20');
}
.x6-widget-handle-unlink:hover {
  background-image: url('data:image/svg+xml;charset=utf8,%3C%3Fxml%20version%3D%221.0%22%20encoding%3D%22utf-8%22%3F%3E%3C!DOCTYPE%20svg%20PUBLIC%20%22-%2F%2FW3C%2F%2FDTD%20SVG%201.1%2F%2FEN%22%20%22http%3A%2F%2Fwww.w3.org%2FGraphics%2FSVG%2F1.1%2FDTD%2Fsvg11.dtd%22%3E%3Csvg%20version%3D%221.1%22%20id%3D%22Layer_1%22%20xmlns%3D%22http%3A%2F%2Fwww.w3.org%2F2000%2Fsvg%22%20xmlns%3Axlink%3D%22http%3A%2F%2Fwww.w3.org%2F1999%2Fxlink%22%20x%3D%220px%22%20y%3D%220px%22%20width%3D%2218.75px%22%20height%3D%2218.75px%22%20viewBox%3D%220%200%2018.75%2018.75%22%20enable-background%3D%22new%200%200%2018.75%2018.75%22%20xml%3Aspace%3D%22preserve%22%3E%3Cg%3E%3Cg%3E%3Cpath%20fill%3D%22%23FD6EB6%22%20d%3D%22M12.285%2C9.711l-2.104-0.302L9.243%2C8.568L6.669%2C7.095C6.948%2C6.6%2C6.995%2C6.026%2C6.845%2C5.474%20c-0.191-0.698-0.695-1.36-1.438-1.786C4.068%2C2.922%2C2.464%2C3.214%2C1.82%2C4.338C1.536%2C4.836%2C1.489%2C5.414%2C1.64%2C5.97%20c0.189%2C0.698%2C0.694%2C1.36%2C1.438%2C1.787c0.328%2C0.187%2C0.67%2C0.31%2C1.01%2C0.372c0.002%2C0%2C0.006%2C0.002%2C0.008%2C0.004%20c0.027%2C0.004%2C0.057%2C0.009%2C0.088%2C0.011c2.12%2C0.316%2C3.203%2C0.915%2C3.73%2C1.337c-0.527%2C0.424-1.61%2C1.021-3.731%2C1.339%20c-0.029%2C0.003-0.058%2C0.007-0.087%2C0.012c-0.002%2C0.002-0.004%2C0.002-0.007%2C0.003c-0.341%2C0.062-0.684%2C0.187-1.013%2C0.374%20c-0.74%2C0.425-1.246%2C1.089-1.437%2C1.787c-0.149%2C0.555-0.105%2C1.133%2C0.181%2C1.632c0.011%2C0.018%2C0.021%2C0.033%2C0.033%2C0.049l0.883%2C0.783%20c0.765%2C0.366%2C1.775%2C0.328%2C2.67-0.184c0.744-0.425%2C1.248-1.088%2C1.439-1.786c0.148-0.552%2C0.104-1.126-0.176-1.62l2.573-1.473%20c0.573%2C0.287%2C2.299%2C1.292%2C2.299%2C1.292s3.602%2C1.445%2C4.241%2C1.812c0.773%2C0.191%2C0.566-0.151%2C0.566-0.151L12.285%2C9.711z%20M5.571%2C6.482%20C5.279%2C6.993%2C4.425%2C7.076%2C3.705%2C6.664C3.282%2C6.424%2C2.966%2C6.039%2C2.856%2C5.64C2.81%2C5.464%2C2.778%2C5.203%2C2.917%2C4.963%20c0.291-0.51%2C1.146-0.593%2C1.866-0.182C5.21%2C5.027%2C5.521%2C5.4%2C5.632%2C5.807C5.679%2C5.98%2C5.708%2C6.242%2C5.571%2C6.482z%20M5.632%2C13.159%20c-0.111%2C0.406-0.422%2C0.778-0.848%2C1.025c-0.719%2C0.409-1.576%2C0.327-1.867-0.184c-0.137-0.239-0.106-0.499-0.06-0.676%20c0.108-0.398%2C0.426-0.781%2C0.847-1.022c0.72-0.412%2C1.574-0.329%2C1.866%2C0.181C5.708%2C12.723%2C5.679%2C12.983%2C5.632%2C13.159z%20M16.181%2C5.139%20c-0.448%2C0.258-4.435%2C1.9-4.435%2C1.9s-1.556%2C0.855-2.104%2C1.13l0.937%2C0.843l2.057-0.229l4.11-3.638%20C16.745%2C5.146%2C17.013%2C4.664%2C16.181%2C5.139z%22%2F%3E%3C%2Fg%3E%3C%2Fg%3E%3C%2Fsvg%3E%20');
}
.x6-widget-handle-direction {
  background-image: url("data:image/svg+xml;charset=UTF-8,%3C%3Fxml%20version%3D%221.0%22%20%3F%3E%3C!DOCTYPE%20svg%20%20PUBLIC%20'-%2F%2FW3C%2F%2FDTD%20SVG%201.1%2F%2FEN'%20%20'http%3A%2F%2Fwww.w3.org%2FGraphics%2FSVG%2F1.1%2FDTD%2Fsvg11.dtd'%3E%3Csvg%20id%3D%22Layer_1%22%20style%3D%22enable-background%3Anew%200%200%20512%20512%3B%22%20version%3D%221.1%22%20viewBox%3D%220%200%20512%20512%22%20xml%3Aspace%3D%22preserve%22%20xmlns%3D%22http%3A%2F%2Fwww.w3.org%2F2000%2Fsvg%22%20xmlns%3Axlink%3D%22http%3A%2F%2Fwww.w3.org%2F1999%2Fxlink%22%3E%3Cstyle%20type%3D%22text%2Fcss%22%3E%0A%09.st0%7Bfill%3A%236A6C8A%3Bstroke%3A%236A6C8A%3Bstroke-width%3A30%7D%0A%09.dot%7Bfill%3A%236A6C8A%3B%7D%0A%3C%2Fstyle%3E%3Cg%3E%3Cg%20id%3D%22XMLID_475_%22%3E%0A%3Cpath%20class%3D%22dot%22%20d%3D%22M133.1%2C277.1c1.8%2C0%2C3.7-0.6%2C5.4-1.7c4.1-3%2C5-8.7%2C2-12.8c-3-4.1-8.7-5-12.8-2c0%2C0%2C0%2C0%2C0%2C0%20%20%20%20%20c-4.1%2C3-5%2C8.7-2%2C12.8C127.5%2C275.8%2C130.3%2C277.1%2C133.1%2C277.1z%22%20id%3D%22XMLID_489_%22%2F%3E%0A%3Cpath%20class%3D%22dot%22%20d%3D%22M138.5%2C359.6c-4.1-3-9.8-2.1-12.8%2C2c-3%2C4.1-2.1%2C9.8%2C2%2C12.8c1.6%2C1.2%2C3.5%2C1.7%2C5.4%2C1.7%20%20%20%20%20c2.8%2C0%2C5.6-1.3%2C7.4-3.7C143.5%2C368.3%2C142.6%2C362.6%2C138.5%2C359.6z%22%20id%3D%22XMLID_726_%22%2F%3E%0A%3Cpath%20class%3D%22dot%22%20d%3D%22M108.1%2C327.7c-4.8%2C1.6-7.4%2C6.7-5.9%2C11.5c1.3%2C3.9%2C4.8%2C6.3%2C8.7%2C6.3c0.9%2C0%2C1.9-0.1%2C2.8-0.4%20%20%20%20%20c4.8-1.6%2C7.4-6.7%2C5.9-11.5C118%2C328.8%2C112.9%2C326.2%2C108.1%2C327.7z%22%20id%3D%22XMLID_776_%22%2F%3E%0A%3Cpath%20class%3D%22dot%22%20d%3D%22M108.1%2C307.3c0.9%2C0.3%2C1.9%2C0.4%2C2.8%2C0.4c3.8%2C0%2C7.4-2.4%2C8.7-6.3c1.6-4.8-1.1-9.9-5.9-11.5%20%20%20%20%20c-4.8-1.6-9.9%2C1.1-11.5%2C5.9C100.7%2C300.6%2C103.3%2C305.7%2C108.1%2C307.3z%22%20id%3D%22XMLID_777_%22%2F%3E%0A%3Cpath%20class%3D%22dot%22%20d%3D%22M169.2%2C265.4c2.4%2C0%2C4.7-1%2C6.5-2.6c1.7-1.7%2C2.7-4.1%2C2.7-6.5c0-2.4-1-4.8-2.7-6.5%20%20%20%20%20c-1.7-1.7-4.1-2.7-6.5-2.7s-4.7%2C1-6.5%2C2.7c-1.7%2C1.7-2.7%2C4-2.7%2C6.5c0%2C2.4%2C1%2C4.7%2C2.7%2C6.5C164.4%2C264.4%2C166.8%2C265.4%2C169.2%2C265.4z%22%20id%3D%22XMLID_797_%22%2F%3E%0A%3Cpath%20class%3D%22dot%22%20d%3D%22M247.7%2C256.3c0-5-4.1-9.1-9.1-9.1c-5%2C0-9.1%2C4.1-9.1%2C9.1c0%2C5%2C4.1%2C9.1%2C9.1%2C9.1%20%20%20%20%20C243.7%2C265.4%2C247.7%2C261.3%2C247.7%2C256.3z%22%20id%3D%22XMLID_798_%22%2F%3E%0A%3Cpath%20class%3D%22dot%22%20d%3D%22M213%2C256.3c0-5-4.1-9.1-9.1-9.1c-5%2C0-9.1%2C4.1-9.1%2C9.1c0%2C5%2C4.1%2C9.1%2C9.1%2C9.1%20%20%20%20%20C208.9%2C265.4%2C213%2C261.3%2C213%2C256.3z%22%20id%3D%22XMLID_799_%22%2F%3E%0A%3Cpath%20class%3D%22dot%22%20d%3D%22M317.2%2C256.3c0-5-4.1-9.1-9.1-9.1c-5%2C0-9.1%2C4.1-9.1%2C9.1c0%2C5%2C4.1%2C9.1%2C9.1%2C9.1%20%20%20%20%20C313.1%2C265.4%2C317.2%2C261.3%2C317.2%2C256.3z%22%20id%3D%22XMLID_800_%22%2F%3E%0A%3Cpath%20class%3D%22dot%22%20d%3D%22M282.5%2C256.3c0-5-4.1-9.1-9.1-9.1s-9.1%2C4.1-9.1%2C9.1c0%2C5%2C4.1%2C9.1%2C9.1%2C9.1%20%20%20%20%20S282.5%2C261.3%2C282.5%2C256.3z%22%20id%3D%22XMLID_801_%22%2F%3E%0A%3Cpath%20class%3D%22dot%22%20d%3D%22M401.1%2C185.2c0.9%2C0%2C1.9-0.1%2C2.8-0.5c4.8-1.6%2C7.4-6.7%2C5.9-11.5c-1.6-4.8-6.7-7.4-11.5-5.8%20%20%20%20%20c-4.8%2C1.6-7.4%2C6.7-5.8%2C11.5C393.6%2C182.8%2C397.2%2C185.2%2C401.1%2C185.2z%22%20id%3D%22XMLID_802_%22%2F%3E%0A%3Cpath%20class%3D%22dot%22%20d%3D%22M403.9%2C205.2c-4.8-1.6-9.9%2C1-11.5%2C5.9l0%2C0c-1.6%2C4.8%2C1.1%2C9.9%2C5.9%2C11.5%20%20%20%20%20c0.9%2C0.3%2C1.9%2C0.5%2C2.8%2C0.5c3.9%2C0%2C7.4-2.5%2C8.7-6.3c0%2C0%2C0%2C0%2C0%2C0C411.3%2C211.9%2C408.7%2C206.8%2C403.9%2C205.2z%22%20id%3D%22XMLID_803_%22%2F%3E%0A%3Cpath%20class%3D%22dot%22%20d%3D%22M373.5%2C237.2L373.5%2C237.2c-4.1%2C3-5%2C8.7-2%2C12.8c1.8%2C2.4%2C4.6%2C3.7%2C7.4%2C3.7%20%20%20%20%20c1.8%2C0%2C3.7-0.6%2C5.4-1.8c4.1-3%2C4.9-8.7%2C2-12.8C383.3%2C235.1%2C377.6%2C234.2%2C373.5%2C237.2z%22%20id%3D%22XMLID_804_%22%2F%3E%0A%3Cpath%20class%3D%22dot%22%20d%3D%22M373.5%2C152.9c1.6%2C1.2%2C3.5%2C1.8%2C5.4%2C1.8c2.8%2C0%2C5.6-1.3%2C7.4-3.8c3-4.1%2C2.1-9.8-2-12.7%20%20%20%20%20c-4.1-3-9.8-2.1-12.7%2C2C368.5%2C144.2%2C369.4%2C149.9%2C373.5%2C152.9z%22%20id%3D%22XMLID_805_%22%2F%3E%0A%3Cpath%20class%3D%22dot%22%20d%3D%22M342.8%2C247.1c-2.4%2C0-4.8%2C1-6.5%2C2.7c-1.7%2C1.7-2.7%2C4-2.7%2C6.5c0%2C2.4%2C1%2C4.7%2C2.7%2C6.4%20%20%20%20%20c1.7%2C1.7%2C4%2C2.7%2C6.5%2C2.7c2.4%2C0%2C4.7-1%2C6.5-2.7c1.7-1.7%2C2.7-4%2C2.7-6.4c0-2.4-1-4.8-2.7-6.5C347.6%2C248.1%2C345.2%2C247.1%2C342.8%2C247.1z%22%20id%3D%22XMLID_806_%22%2F%3E%0A%3Cpath%20class%3D%22st0%22%20d%3D%22M342.8%2C124.7H206.6l36.4-36.4c3.6-3.6%2C3.6-9.3%2C0-12.9c-3.6-3.6-9.3-3.6-12.9%2C0l-51.5%2C51.5%20%20%20%20%20c-1.9%2C1.9-2.8%2C4.4-2.7%2C6.9c-0.1%2C2.5%2C0.7%2C5%2C2.7%2C6.9l51.5%2C51.5c1.8%2C1.8%2C4.1%2C2.7%2C6.5%2C2.7c2.3%2C0%2C4.7-0.9%2C6.5-2.7%20%20%20%20%20c3.6-3.6%2C3.6-9.3%2C0-12.9l-36.4-36.4h136.1c0%2C0%2C0.1%2C0%2C0.1%2C0c0.6%2C0%2C1.2-0.1%2C1.8-0.2c0.2%2C0%2C0.4-0.1%2C0.6-0.1c0.1%2C0%2C0.2%2C0%2C0.3-0.1%20%20%20%20%20c3.2-1%2C5.6-3.6%2C6.3-6.9c0.1-0.6%2C0.2-1.2%2C0.2-1.8c0-0.6-0.1-1.2-0.2-1.8C351%2C127.8%2C347.3%2C124.7%2C342.8%2C124.7z%22%20id%3D%22XMLID_807_%22%2F%3E%0A%3Cpath%20class%3D%22st0%22%20d%3D%22M322.1%2C371.3l-51.5-51.5c-3.6-3.6-9.3-3.6-12.9%2C0c-3.6%2C3.6-3.6%2C9.3%2C0%2C12.9l36.9%2C36.9H169.2%20%20%20%20%20c-2.8%2C0-5.4%2C1.3-7%2C3.3c-0.1%2C0.1-0.2%2C0.2-0.3%2C0.4c-0.1%2C0.1-0.2%2C0.2-0.2%2C0.3c-0.1%2C0.1-0.1%2C0.2-0.2%2C0.4c-0.1%2C0.1-0.2%2C0.3-0.2%2C0.4%20%20%20%20%20c0%2C0.1-0.1%2C0.2-0.1%2C0.2c-0.1%2C0.2-0.2%2C0.4-0.3%2C0.6c0%2C0%2C0%2C0%2C0%2C0.1c-0.4%2C1.1-0.7%2C2.2-0.7%2C3.4c0%2C1.5%2C0.4%2C2.9%2C1%2C4.2c0%2C0%2C0%2C0.1%2C0.1%2C0.1%20%20%20%20%20c0.1%2C0.1%2C0.1%2C0.2%2C0.2%2C0.3c0.4%2C0.7%2C0.9%2C1.3%2C1.4%2C1.8c0.4%2C0.4%2C0.7%2C0.7%2C1.2%2C1c0.1%2C0.1%2C0.1%2C0.1%2C0.2%2C0.2c0%2C0%2C0.1%2C0%2C0.1%2C0.1%20%20%20%20%20c1.4%2C0.9%2C3.1%2C1.5%2C5%2C1.5h124.4l-36%2C36c-3.6%2C3.6-3.6%2C9.3%2C0%2C12.9c1.8%2C1.8%2C4.1%2C2.7%2C6.5%2C2.7c2.3%2C0%2C4.7-0.9%2C6.5-2.7l51.5-51.5%20%20%20%20%20c1.9-1.9%2C2.8-4.4%2C2.7-6.9C324.8%2C375.7%2C324%2C373.2%2C322.1%2C371.3z%22%20id%3D%22XMLID_808_%22%2F%3E%3C%2Fg%3E%3C%2Fg%3E%3C%2Fsvg%3E");
}
.x6-widget-handle-direction:hover {
  background-image: url("data:image/svg+xml;charset=UTF-8,%3C%3Fxml%20version%3D%221.0%22%20%3F%3E%3C!DOCTYPE%20svg%20%20PUBLIC%20'-%2F%2FW3C%2F%2FDTD%20SVG%201.1%2F%2FEN'%20%20'http%3A%2F%2Fwww.w3.org%2FGraphics%2FSVG%2F1.1%2FDTD%2Fsvg11.dtd'%3E%3Csvg%20id%3D%22Layer_1%22%20style%3D%22enable-background%3Anew%200%200%20512%20512%3B%22%20version%3D%221.1%22%20viewBox%3D%220%200%20512%20512%22%20xml%3Aspace%3D%22preserve%22%20xmlns%3D%22http%3A%2F%2Fwww.w3.org%2F2000%2Fsvg%22%20xmlns%3Axlink%3D%22http%3A%2F%2Fwww.w3.org%2F1999%2Fxlink%22%3E%3Cstyle%20type%3D%22text%2Fcss%22%3E%0A%09.st0%7Bfill%3A%23FD6EB6%3Bstroke%3A%23FD6EB6%3Bstroke-width%3A30%7D%0A%09.dot%7Bfill%3A%23FD6EB6%3B%7D%0A%3C%2Fstyle%3E%3Cg%3E%3Cg%20id%3D%22XMLID_475_%22%3E%0A%3Cpath%20class%3D%22dot%22%20d%3D%22M133.1%2C277.1c1.8%2C0%2C3.7-0.6%2C5.4-1.7c4.1-3%2C5-8.7%2C2-12.8c-3-4.1-8.7-5-12.8-2c0%2C0%2C0%2C0%2C0%2C0%20%20%20%20%20c-4.1%2C3-5%2C8.7-2%2C12.8C127.5%2C275.8%2C130.3%2C277.1%2C133.1%2C277.1z%22%20id%3D%22XMLID_489_%22%2F%3E%0A%3Cpath%20class%3D%22dot%22%20d%3D%22M138.5%2C359.6c-4.1-3-9.8-2.1-12.8%2C2c-3%2C4.1-2.1%2C9.8%2C2%2C12.8c1.6%2C1.2%2C3.5%2C1.7%2C5.4%2C1.7%20%20%20%20%20c2.8%2C0%2C5.6-1.3%2C7.4-3.7C143.5%2C368.3%2C142.6%2C362.6%2C138.5%2C359.6z%22%20id%3D%22XMLID_726_%22%2F%3E%0A%3Cpath%20class%3D%22dot%22%20d%3D%22M108.1%2C327.7c-4.8%2C1.6-7.4%2C6.7-5.9%2C11.5c1.3%2C3.9%2C4.8%2C6.3%2C8.7%2C6.3c0.9%2C0%2C1.9-0.1%2C2.8-0.4%20%20%20%20%20c4.8-1.6%2C7.4-6.7%2C5.9-11.5C118%2C328.8%2C112.9%2C326.2%2C108.1%2C327.7z%22%20id%3D%22XMLID_776_%22%2F%3E%0A%3Cpath%20class%3D%22dot%22%20d%3D%22M108.1%2C307.3c0.9%2C0.3%2C1.9%2C0.4%2C2.8%2C0.4c3.8%2C0%2C7.4-2.4%2C8.7-6.3c1.6-4.8-1.1-9.9-5.9-11.5%20%20%20%20%20c-4.8-1.6-9.9%2C1.1-11.5%2C5.9C100.7%2C300.6%2C103.3%2C305.7%2C108.1%2C307.3z%22%20id%3D%22XMLID_777_%22%2F%3E%0A%3Cpath%20class%3D%22dot%22%20d%3D%22M169.2%2C265.4c2.4%2C0%2C4.7-1%2C6.5-2.6c1.7-1.7%2C2.7-4.1%2C2.7-6.5c0-2.4-1-4.8-2.7-6.5%20%20%20%20%20c-1.7-1.7-4.1-2.7-6.5-2.7s-4.7%2C1-6.5%2C2.7c-1.7%2C1.7-2.7%2C4-2.7%2C6.5c0%2C2.4%2C1%2C4.7%2C2.7%2C6.5C164.4%2C264.4%2C166.8%2C265.4%2C169.2%2C265.4z%22%20id%3D%22XMLID_797_%22%2F%3E%0A%3Cpath%20class%3D%22dot%22%20d%3D%22M247.7%2C256.3c0-5-4.1-9.1-9.1-9.1c-5%2C0-9.1%2C4.1-9.1%2C9.1c0%2C5%2C4.1%2C9.1%2C9.1%2C9.1%20%20%20%20%20C243.7%2C265.4%2C247.7%2C261.3%2C247.7%2C256.3z%22%20id%3D%22XMLID_798_%22%2F%3E%0A%3Cpath%20class%3D%22dot%22%20d%3D%22M213%2C256.3c0-5-4.1-9.1-9.1-9.1c-5%2C0-9.1%2C4.1-9.1%2C9.1c0%2C5%2C4.1%2C9.1%2C9.1%2C9.1%20%20%20%20%20C208.9%2C265.4%2C213%2C261.3%2C213%2C256.3z%22%20id%3D%22XMLID_799_%22%2F%3E%0A%3Cpath%20class%3D%22dot%22%20d%3D%22M317.2%2C256.3c0-5-4.1-9.1-9.1-9.1c-5%2C0-9.1%2C4.1-9.1%2C9.1c0%2C5%2C4.1%2C9.1%2C9.1%2C9.1%20%20%20%20%20C313.1%2C265.4%2C317.2%2C261.3%2C317.2%2C256.3z%22%20id%3D%22XMLID_800_%22%2F%3E%0A%3Cpath%20class%3D%22dot%22%20d%3D%22M282.5%2C256.3c0-5-4.1-9.1-9.1-9.1s-9.1%2C4.1-9.1%2C9.1c0%2C5%2C4.1%2C9.1%2C9.1%2C9.1%20%20%20%20%20S282.5%2C261.3%2C282.5%2C256.3z%22%20id%3D%22XMLID_801_%22%2F%3E%0A%3Cpath%20class%3D%22dot%22%20d%3D%22M401.1%2C185.2c0.9%2C0%2C1.9-0.1%2C2.8-0.5c4.8-1.6%2C7.4-6.7%2C5.9-11.5c-1.6-4.8-6.7-7.4-11.5-5.8%20%20%20%20%20c-4.8%2C1.6-7.4%2C6.7-5.8%2C11.5C393.6%2C182.8%2C397.2%2C185.2%2C401.1%2C185.2z%22%20id%3D%22XMLID_802_%22%2F%3E%0A%3Cpath%20class%3D%22dot%22%20d%3D%22M403.9%2C205.2c-4.8-1.6-9.9%2C1-11.5%2C5.9l0%2C0c-1.6%2C4.8%2C1.1%2C9.9%2C5.9%2C11.5%20%20%20%20%20c0.9%2C0.3%2C1.9%2C0.5%2C2.8%2C0.5c3.9%2C0%2C7.4-2.5%2C8.7-6.3c0%2C0%2C0%2C0%2C0%2C0C411.3%2C211.9%2C408.7%2C206.8%2C403.9%2C205.2z%22%20id%3D%22XMLID_803_%22%2F%3E%0A%3Cpath%20class%3D%22dot%22%20d%3D%22M373.5%2C237.2L373.5%2C237.2c-4.1%2C3-5%2C8.7-2%2C12.8c1.8%2C2.4%2C4.6%2C3.7%2C7.4%2C3.7%20%20%20%20%20c1.8%2C0%2C3.7-0.6%2C5.4-1.8c4.1-3%2C4.9-8.7%2C2-12.8C383.3%2C235.1%2C377.6%2C234.2%2C373.5%2C237.2z%22%20id%3D%22XMLID_804_%22%2F%3E%0A%3Cpath%20class%3D%22dot%22%20d%3D%22M373.5%2C152.9c1.6%2C1.2%2C3.5%2C1.8%2C5.4%2C1.8c2.8%2C0%2C5.6-1.3%2C7.4-3.8c3-4.1%2C2.1-9.8-2-12.7%20%20%20%20%20c-4.1-3-9.8-2.1-12.7%2C2C368.5%2C144.2%2C369.4%2C149.9%2C373.5%2C152.9z%22%20id%3D%22XMLID_805_%22%2F%3E%0A%3Cpath%20class%3D%22dot%22%20d%3D%22M342.8%2C247.1c-2.4%2C0-4.8%2C1-6.5%2C2.7c-1.7%2C1.7-2.7%2C4-2.7%2C6.5c0%2C2.4%2C1%2C4.7%2C2.7%2C6.4%20%20%20%20%20c1.7%2C1.7%2C4%2C2.7%2C6.5%2C2.7c2.4%2C0%2C4.7-1%2C6.5-2.7c1.7-1.7%2C2.7-4%2C2.7-6.4c0-2.4-1-4.8-2.7-6.5C347.6%2C248.1%2C345.2%2C247.1%2C342.8%2C247.1z%22%20id%3D%22XMLID_806_%22%2F%3E%0A%3Cpath%20class%3D%22st0%22%20d%3D%22M342.8%2C124.7H206.6l36.4-36.4c3.6-3.6%2C3.6-9.3%2C0-12.9c-3.6-3.6-9.3-3.6-12.9%2C0l-51.5%2C51.5%20%20%20%20%20c-1.9%2C1.9-2.8%2C4.4-2.7%2C6.9c-0.1%2C2.5%2C0.7%2C5%2C2.7%2C6.9l51.5%2C51.5c1.8%2C1.8%2C4.1%2C2.7%2C6.5%2C2.7c2.3%2C0%2C4.7-0.9%2C6.5-2.7%20%20%20%20%20c3.6-3.6%2C3.6-9.3%2C0-12.9l-36.4-36.4h136.1c0%2C0%2C0.1%2C0%2C0.1%2C0c0.6%2C0%2C1.2-0.1%2C1.8-0.2c0.2%2C0%2C0.4-0.1%2C0.6-0.1c0.1%2C0%2C0.2%2C0%2C0.3-0.1%20%20%20%20%20c3.2-1%2C5.6-3.6%2C6.3-6.9c0.1-0.6%2C0.2-1.2%2C0.2-1.8c0-0.6-0.1-1.2-0.2-1.8C351%2C127.8%2C347.3%2C124.7%2C342.8%2C124.7z%22%20id%3D%22XMLID_807_%22%2F%3E%0A%3Cpath%20class%3D%22st0%22%20d%3D%22M322.1%2C371.3l-51.5-51.5c-3.6-3.6-9.3-3.6-12.9%2C0c-3.6%2C3.6-3.6%2C9.3%2C0%2C12.9l36.9%2C36.9H169.2%20%20%20%20%20c-2.8%2C0-5.4%2C1.3-7%2C3.3c-0.1%2C0.1-0.2%2C0.2-0.3%2C0.4c-0.1%2C0.1-0.2%2C0.2-0.2%2C0.3c-0.1%2C0.1-0.1%2C0.2-0.2%2C0.4c-0.1%2C0.1-0.2%2C0.3-0.2%2C0.4%20%20%20%20%20c0%2C0.1-0.1%2C0.2-0.1%2C0.2c-0.1%2C0.2-0.2%2C0.4-0.3%2C0.6c0%2C0%2C0%2C0%2C0%2C0.1c-0.4%2C1.1-0.7%2C2.2-0.7%2C3.4c0%2C1.5%2C0.4%2C2.9%2C1%2C4.2c0%2C0%2C0%2C0.1%2C0.1%2C0.1%20%20%20%20%20c0.1%2C0.1%2C0.1%2C0.2%2C0.2%2C0.3c0.4%2C0.7%2C0.9%2C1.3%2C1.4%2C1.8c0.4%2C0.4%2C0.7%2C0.7%2C1.2%2C1c0.1%2C0.1%2C0.1%2C0.1%2C0.2%2C0.2c0%2C0%2C0.1%2C0%2C0.1%2C0.1%20%20%20%20%20c1.4%2C0.9%2C3.1%2C1.5%2C5%2C1.5h124.4l-36%2C36c-3.6%2C3.6-3.6%2C9.3%2C0%2C12.9c1.8%2C1.8%2C4.1%2C2.7%2C6.5%2C2.7c2.3%2C0%2C4.7-0.9%2C6.5-2.7l51.5-51.5%20%20%20%20%20c1.9-1.9%2C2.8-4.4%2C2.7-6.9C324.8%2C375.7%2C324%2C373.2%2C322.1%2C371.3z%22%20id%3D%22XMLID_808_%22%2F%3E%3C%2Fg%3E%3C%2Fg%3E%3C%2Fsvg%3E");
}
.x6-widget-handle-surround .x6-widget-handle-animate .x6-widget-handle {
  transition: background-size 80ms, width 80ms, height 80ms, top 150ms, left 150ms, bottom 150ms, right 150ms;
}
.x6-widget-handle-surround .x6-widget-handle-pos-se {
  right: -25px;
  bottom: -25px;
}
.x6-widget-handle-surround .x6-widget-handle-pos-nw {
  top: -21px;
  left: -25px;
}
.x6-widget-handle-surround .x6-widget-handle-pos-n {
  top: -22px;
  left: 50%;
  margin-left: -10px;
}
.x6-widget-handle-surround .x6-widget-handle-pos-e {
  top: -webkit-calc(40%);
  top: calc(50% - 10px);
  right: -25px;
}
.x6-widget-handle-surround .x6-widget-handle-pos-ne {
  top: -21px;
  right: -25px;
}
.x6-widget-handle-surround .x6-widget-handle-pos-w {
  top: 50%;
  left: -25px;
  margin-top: -10px;
}
.x6-widget-handle-surround .x6-widget-handle-pos-sw {
  bottom: -25px;
  left: -25px;
}
.x6-widget-handle-surround .x6-widget-handle-pos-s {
  bottom: -24px;
  left: 50%;
  margin-left: -10px;
}
.x6-widget-handle-surround .x6-widget-handle-small .x6-widget-handle {
  width: 15px;
  height: 15px;
  font-size: 15px;
  background-size: 15px 15px;
}
.x6-widget-handle-surround .x6-widget-handle-small .x6-widget-handle-pos-se {
  right: -19px;
  bottom: -19px;
}
.x6-widget-handle-surround .x6-widget-handle-small .x6-widget-handle-pos-nw {
  top: -19px;
  left: -19px;
}
.x6-widget-handle-surround .x6-widget-handle-small .x6-widget-handle-pos-n {
  top: -19px;
  margin-left: -7.5px;
}
.x6-widget-handle-surround .x6-widget-handle-small .x6-widget-handle-pos-e {
  top: -webkit-calc(42%);
  top: calc(50% - 8px);
  right: -19px;
}
.x6-widget-handle-surround .x6-widget-handle-small .x6-widget-handle-pos-ne {
  top: -19px;
  right: -19px;
}
.x6-widget-handle-surround .x6-widget-handle-small .x6-widget-handle-pos-w {
  left: -19px;
  margin-top: -8px;
}
.x6-widget-handle-surround .x6-widget-handle-small .x6-widget-handle-pos-sw {
  bottom: -19px;
  left: -19px;
}
.x6-widget-handle-surround .x6-widget-handle-small .x6-widget-handle-pos-s {
  bottom: -19px;
  margin-left: -7.5px;
}
.x6-widget-handle-surround .x6-widget-handle-tiny .x6-widget-handle {
  width: 10px;
  height: 10px;
  font-size: 10px;
  background-size: 10px 10px;
}
.x6-widget-handle-surround .x6-widget-handle-tiny .x6-widget-handle-pos-se {
  right: -15px;
  bottom: -13px;
}
.x6-widget-handle-surround .x6-widget-handle-tiny .x6-widget-handle-pos-nw {
  top: -13px;
  left: -15px;
}
.x6-widget-handle-surround .x6-widget-handle-tiny .x6-widget-handle-pos-n {
  top: -13px;
  margin-left: -5px;
}
.x6-widget-handle-surround .x6-widget-handle-tiny .x6-widget-handle-pos-e {
  top: -webkit-calc(45%);
  top: calc(50% - 5px);
  right: -15px;
}
.x6-widget-handle-surround .x6-widget-handle-tiny .x6-widget-handle-pos-ne {
  top: -13px;
  right: -15px;
}
.x6-widget-handle-surround .x6-widget-handle-tiny .x6-widget-handle-pos-w {
  left: -15px;
  margin-top: -5px;
}
.x6-widget-handle-surround .x6-widget-handle-tiny .x6-widget-handle-pos-sw {
  bottom: -13px;
  left: -15px;
}
.x6-widget-handle-surround .x6-widget-handle-tiny .x6-widget-handle-pos-s {
  bottom: -13px;
  margin-left: -5px;
}
.x6-widget-handle-toolbar {
  position: absolute;
  top: -50px;
  display: table-row;
  padding: 7px 5px;
}
.x6-widget-handle-toolbar::after {
  position: absolute;
  top: 100%;
  left: 10px;
  width: 0;
  height: 0;
  margin-top: 4px;
  border-right: 10px solid transparent;
  border-left: 10px solid transparent;
  content: '';
}
.x6-widget-handle-toolbar .x6-widget-handle {
  position: relative;
  display: table-cell;
  min-width: 20px;
  margin: 0 2px;
  background-position: 3px 3px;
  background-size: 16px 16px;
}
.x6-widget-handle-toolbar .x6-widget-handle::after {
  position: absolute;
  bottom: -11px;
  width: 100%;
  content: '';
}
.x6-widget-handle-pie {
  position: absolute;
  top: -webkit-calc(0%);
  top: calc(50% - 50px);
  right: -50px;
  z-index: 1;
  display: none;
  width: 100px;
  height: 100px;
  margin: -2px -2px 0 0;
  border-radius: 50%;
  cursor: default;
  pointer-events: visiblePainted;
}
.x6-widget-handle-pie .x6-widget-handle {
  width: 1px;
  height: auto;
  pointer-events: visiblePainted;
}
.x6-widget-handle-pie-slice-svg {
  width: 100%;
  height: 100%;
  overflow: visible !important;
}
.x6-widget-handle-pie-slice-img,
.x6-widget-handle-pie-slice-txt {
  display: none;
  pointer-events: none;
}
.x6-widget-handle-pie[data-pie-toggle-position='e'] {
  top: calc(50% - 50px);
  right: -50px;
  left: auto;
}
.x6-widget-handle-pie[data-pie-toggle-position='w'] {
  top: calc(50% - 50px);
  right: auto;
  left: -52px;
}
.x6-widget-handle-pie[data-pie-toggle-position='n'] {
  top: -50px;
  right: auto;
  bottom: auto;
  left: calc(50% - 52px);
}
.x6-widget-handle-pie[data-pie-toggle-position='s'] {
  top: auto;
  right: auto;
  bottom: -52px;
  left: calc(50% - 52px);
}
.x6-widget-handle-pie-opened {
  display: block;
  animation: halo-pie-visibility 0.1s, halo-pie-opening 0.1s;
  animation-timing-function: step-end, ease;
  animation-delay: 0s, 0.1s;
}
.x6-widget-handle-pie-toggle {
  position: absolute;
  top: -webkit-calc(35%);
  top: calc(50% - 15px);
  right: -15px;
  z-index: 2;
  display: block;
  box-sizing: border-box;
  width: 30px;
  height: 30px;
  background-repeat: no-repeat;
  background-position: center;
  background-size: 20px 20px;
  border-radius: 50%;
  cursor: pointer;
  user-select: none;
  pointer-events: visiblePainted;
  -webkit-user-drag: none;
  user-drag: none;
  /* stylelint-disable-line */
}
.x6-widget-handle-pie-toggle-pos-e {
  top: -webkit-calc(35%);
  top: calc(50% - 15px);
  right: -15px;
  bottom: auto;
  left: auto;
}
.x6-widget-handle-pie-toggle-pos-w {
  top: -webkit-calc(35%);
  top: calc(50% - 15px);
  right: auto;
  bottom: auto;
  left: -15px;
}
.x6-widget-handle-pie-toggle-pos-n {
  top: -15px;
  right: auto;
  bottom: auto;
  left: -webkit-calc(35%);
  left: calc(50% - 15px);
}
.x6-widget-handle-pie-toggle-pos-s {
  top: auto;
  right: auto;
  bottom: -15px;
  left: -webkit-calc(35%);
  left: calc(50% - 15px);
}
.x6-widget-handle-pie-toggle-opened {
  transition: 0.1s background-image;
}
.x6-widget-handle-toolbar {
  position: static;
  display: inline-block;
  margin-top: -50px;
  margin-left: 45px;
  white-space: nowrap;
  vertical-align: top;
  background-color: #f5f5f5;
  border-bottom: 3px solid #333;
  border-radius: 5px;
  box-shadow: 0 1px 2px #222;
}
.x6-widget-handle-toolbar::after {
  top: -12px;
  left: 55px;
  margin-top: 0;
  border-top: 6px solid #333;
  border-right: 10px solid transparent;
  border-left: 10px solid transparent;
}
.x6-widget-handle-toolbar .x6-widget-handle {
  display: inline-block;
  vertical-align: top;
}
.x6-widget-handle-toolbar .x6-widget-handle:hover::after {
  border-bottom: 4px solid #fc6cb8;
}
.x6-widget-handle-toolbar .x6-widget-handle-rotate {
  position: absolute;
  top: 100%;
  right: 100%;
  margin-top: 3px;
  margin-right: 6px;
}
.x6-widget-handle-toolbar .x6-widget-handle-remove:hover::after,
.x6-widget-handle-toolbar .x6-widget-handle-rotate:hover::after {
  border-bottom: none;
}
.x6-widget-handle-toolbar .x6-widget-handle + .x6-widget-handle {
  margin-left: 4px;
}
.x6-widget-handle-pie {
  box-sizing: content-box;
  background-color: #f5f5f5;
  border: 2px solid #404040;
}
.x6-widget-handle-pie-slice {
  fill: transparent;
  stroke: #e9e9e9;
  stroke-width: 1;
}
.x6-widget-handle-pie-slice:hover {
  fill: #fff;
}
.x6-widget-handle-pie-slice-img {
  display: block;
}
.x6-widget-handle-selected .x6-widget-handle-pie-slice {
  fill: #fff;
}
.x6-widget-handle-pie-toggle {
  background-color: #f6f6f6;
  background-image: url('data:image/svg+xml;charset=utf8,%3C%3Fxml%20version%3D%221.0%22%20%3F%3E%3C!DOCTYPE%20svg%20PUBLIC%20%22-%2F%2FW3C%2F%2FDTD%20SVG%201.1%2F%2FEN%22%20%22http%3A%2F%2Fwww.w3.org%2FGraphics%2FSVG%2F1.1%2FDTD%2Fsvg11.dtd%22%3E%3Csvg%20height%3D%2216px%22%20id%3D%22Layer_1%22%20style%3D%22enable-background%3Anew%200%200%2016%2016%3B%22%20version%3D%221.1%22%20viewBox%3D%220%200%2016%2016%22%20width%3D%2216px%22%20xml%3Aspace%3D%22preserve%22%20xmlns%3D%22http%3A%2F%2Fwww.w3.org%2F2000%2Fsvg%22%20xmlns%3Axlink%3D%22http%3A%2F%2Fwww.w3.org%2F1999%2Fxlink%22%3E%3Cpath%20fill%3D%22%236A6C8A%22%20d%3D%22M15%2C6h-5V1c0-0.55-0.45-1-1-1H7C6.45%2C0%2C6%2C0.45%2C6%2C1v5H1C0.45%2C6%2C0%2C6.45%2C0%2C7v2c0%2C0.55%2C0.45%2C1%2C1%2C1h5v5c0%2C0.55%2C0.45%2C1%2C1%2C1h2%20c0.55%2C0%2C1-0.45%2C1-1v-5h5c0.55%2C0%2C1-0.45%2C1-1V7C16%2C6.45%2C15.55%2C6%2C15%2C6z%22%2F%3E%3C%2Fsvg%3E');
  background-size: 16px 16px;
  border: 2px solid #3b425f;
}
.x6-widget-handle-pie-toggle:hover {
  background-color: #fff;
  background-image: url('data:image/svg+xml;charset=utf8,%3C%3Fxml%20version%3D%221.0%22%20%3F%3E%3C!DOCTYPE%20svg%20PUBLIC%20%22-%2F%2FW3C%2F%2FDTD%20SVG%201.1%2F%2FEN%22%20%22http%3A%2F%2Fwww.w3.org%2FGraphics%2FSVG%2F1.1%2FDTD%2Fsvg11.dtd%22%3E%3Csvg%20height%3D%2216px%22%20id%3D%22Layer_1%22%20style%3D%22enable-background%3Anew%200%200%2016%2016%3B%22%20version%3D%221.1%22%20viewBox%3D%220%200%2016%2016%22%20width%3D%2216px%22%20xml%3Aspace%3D%22preserve%22%20xmlns%3D%22http%3A%2F%2Fwww.w3.org%2F2000%2Fsvg%22%20xmlns%3Axlink%3D%22http%3A%2F%2Fwww.w3.org%2F1999%2Fxlink%22%3E%3Cpath%20fill%3D%22%23FD6EB6%22%20d%3D%22M15%2C6h-5V1c0-0.55-0.45-1-1-1H7C6.45%2C0%2C6%2C0.45%2C6%2C1v5H1C0.45%2C6%2C0%2C6.45%2C0%2C7v2c0%2C0.55%2C0.45%2C1%2C1%2C1h5v5c0%2C0.55%2C0.45%2C1%2C1%2C1h2%20c0.55%2C0%2C1-0.45%2C1-1v-5h5c0.55%2C0%2C1-0.45%2C1-1V7C16%2C6.45%2C15.55%2C6%2C15%2C6z%22%2F%3E%3C%2Fsvg%3E');
  border-color: #fd6eb6;
}
.x6-widget-handle-pie-toggle-opened {
  background-image: url('data:image/svg+xml;charset=utf8,%3C%3Fxml%20version%3D%221.0%22%20encoding%3D%22UTF-8%22%20standalone%3D%22no%22%3F%3E%3Csvg%20xmlns%3Adc%3D%22http%3A%2F%2Fpurl.org%2Fdc%2Felements%2F1.1%2F%22%20xmlns%3Acc%3D%22http%3A%2F%2Fcreativecommons.org%2Fns%23%22%20xmlns%3Ardf%3D%22http%3A%2F%2Fwww.w3.org%2F1999%2F02%2F22-rdf-syntax-ns%23%22%20xmlns%3Asvg%3D%22http%3A%2F%2Fwww.w3.org%2F2000%2Fsvg%22%20xmlns%3D%22http%3A%2F%2Fwww.w3.org%2F2000%2Fsvg%22%20version%3D%221.1%22%20width%3D%2216%22%20height%3D%2216%22%20viewBox%3D%220%200%2016%2016%22%20id%3D%22Layer_1%22%20xml%3Aspace%3D%22preserve%22%3E%3Cmetadata%20id%3D%22metadata9%22%3E%3Crdf%3ARDF%3E%3Ccc%3AWork%20rdf%3Aabout%3D%22%22%3E%3Cdc%3Aformat%3Eimage%2Fsvg%2Bxml%3C%2Fdc%3Aformat%3E%3Cdc%3Atype%20rdf%3Aresource%3D%22http%3A%2F%2Fpurl.org%2Fdc%2Fdcmitype%2FStillImage%22%20%2F%3E%3Cdc%3Atitle%3E%3C%2Fdc%3Atitle%3E%3C%2Fcc%3AWork%3E%3C%2Frdf%3ARDF%3E%3C%2Fmetadata%3E%3Cdefs%20id%3D%22defs7%22%20%2F%3E%3Cpath%20d%3D%22M%2015%2C6%2010%2C6%20C%201.0301983%2C6.00505%2015.002631%2C6.011353%206%2C6%20L%201%2C6%20C%200.45%2C6%200%2C6.45%200%2C7%20l%200%2C2%20c%200%2C0.55%200.45%2C1%201%2C1%20l%205%2C0%20c%208.988585%2C-0.019732%20-5.02893401%2C-0.018728%204%2C0%20l%205%2C0%20c%200.55%2C0%201%2C-0.45%201%2C-1%20L%2016%2C7%20C%2016%2C6.45%2015.55%2C6%2015%2C6%20z%22%20id%3D%22path3%22%20style%3D%22fill%3A%236a6c8a%22%20%2F%3E%3C%2Fsvg%3E');
}
.x6-widget-handle-pie-toggle-opened:hover {
  background-image: url('data:image/svg+xml;charset=utf8,%3C%3Fxml%20version%3D%221.0%22%20encoding%3D%22UTF-8%22%20standalone%3D%22no%22%3F%3E%3Csvg%20xmlns%3Adc%3D%22http%3A%2F%2Fpurl.org%2Fdc%2Felements%2F1.1%2F%22%20xmlns%3Acc%3D%22http%3A%2F%2Fcreativecommons.org%2Fns%23%22%20xmlns%3Ardf%3D%22http%3A%2F%2Fwww.w3.org%2F1999%2F02%2F22-rdf-syntax-ns%23%22%20xmlns%3Asvg%3D%22http%3A%2F%2Fwww.w3.org%2F2000%2Fsvg%22%20xmlns%3D%22http%3A%2F%2Fwww.w3.org%2F2000%2Fsvg%22%20version%3D%221.1%22%20width%3D%2216%22%20height%3D%2216%22%20viewBox%3D%220%200%2016%2016%22%20id%3D%22Layer_1%22%20xml%3Aspace%3D%22preserve%22%3E%3Cmetadata%20id%3D%22metadata9%22%3E%3Crdf%3ARDF%3E%3Ccc%3AWork%20rdf%3Aabout%3D%22%22%3E%3Cdc%3Aformat%3Eimage%2Fsvg%2Bxml%3C%2Fdc%3Aformat%3E%3Cdc%3Atype%20rdf%3Aresource%3D%22http%3A%2F%2Fpurl.org%2Fdc%2Fdcmitype%2FStillImage%22%20%2F%3E%3Cdc%3Atitle%3E%3C%2Fdc%3Atitle%3E%3C%2Fcc%3AWork%3E%3C%2Frdf%3ARDF%3E%3C%2Fmetadata%3E%3Cdefs%20id%3D%22defs7%22%20%2F%3E%3Cpath%20d%3D%22M%2015%2C6%2010%2C6%20C%201.0301983%2C6.00505%2015.002631%2C6.011353%206%2C6%20L%201%2C6%20C%200.45%2C6%200%2C6.45%200%2C7%20l%200%2C2%20c%200%2C0.55%200.45%2C1%201%2C1%20l%205%2C0%20c%208.988585%2C-0.019732%20-5.02893401%2C-0.018728%204%2C0%20l%205%2C0%20c%200.55%2C0%201%2C-0.45%201%2C-1%20L%2016%2C7%20C%2016%2C6.45%2015.55%2C6%2015%2C6%20z%22%20id%3D%22path3%22%20style%3D%22fill%3A%23FD6EB6%22%20%2F%3E%3C%2Fsvg%3E');
}
.x6-widget-dnd {
  position: absolute;
  top: -10000px;
  left: -10000px;
  z-index: 999999;
  display: none;
  cursor: move;
  opacity: 0.7;
  pointer-events: 'cursor';
}
.x6-widget-dnd.dragging {
  display: inline-block;
}
.x6-widget-dnd.dragging * {
  pointer-events: none !important;
}
.x6-widget-dnd .x6-graph {
  background: transparent;
  box-shadow: none;
}
.x6-widget-halo {
  position: absolute;
  pointer-events: none;
}
.x6-widget-halo-content {
  position: absolute;
  top: 100%;
  padding: 6px;
  font-size: 10px;
  line-height: 14px;
  text-align: center;
  border-radius: 6px;
}
.x6-widget-halo-handles + .x6-widget-halo-content {
  right: -20px;
  left: -20px;
  margin-top: 30px;
}
.x6-widget-halo-handles.x6-widget-handle-small + .x6-widget-halo-content {
  margin-top: 25px;
}
.x6-widget-halo-handles.x6-widget-handle-small + .x6-widget-halo-content {
  margin-top: 20px;
}
.x6-widget-halo-handles.x6-widget-handle-pie + .x6-widget-halo-content {
  right: 0;
  left: 0;
  margin-top: 10px;
}
.x6-widget-halo-content {
  color: #fff;
  background-color: #6a6b8a;
}
.x6-widget-halo.type-node .x6-widget-handle-toolbar .x6-widget-handle-remove {
  position: absolute;
  right: 100%;
  bottom: 100%;
  margin-right: 6px;
  margin-bottom: 3px;
}
.x6-widget-halo.type-edge .x6-widget-handle-surround .x6-widget-handle-remove {
  background-color: #fff;
  border-radius: 50%;
}
.x6-widget-halo.type-edge .x6-widget-handle-toolbar {
  margin-top: -60px;
  margin-left: -18px;
}
.x6-widget-halo.type-edge .x6-widget-handle-toolbar::after {
  top: -22px;
  left: -9px;
}
.x6-widget-minimap {
  position: relative;
  display: table-cell;
  box-sizing: border-box;
  overflow: hidden;
  text-align: center;
  vertical-align: middle;
  background-color: #fff;
  user-select: none;
}
.x6-widget-minimap .x6-graph {
  display: inline-block;
  box-shadow: 0 0 4px 0 #eee;
  cursor: pointer;
}
.x6-widget-minimap .x6-graph > svg {
  pointer-events: none;
  shape-rendering: optimizeSpeed;
}
.x6-widget-minimap .x6-graph .x6-node * {
  /* stylelint-disable-next-line */
  vector-effect: initial;
}
.x6-widget-minimap-viewport {
  position: absolute;
  box-sizing: content-box !important;
  margin: -2px 0 0 -2px;
  border: 2px solid #31d0c6;
  cursor: move;
}
.x6-widget-minimap-viewport-zoom {
  position: absolute;
  right: 0;
  bottom: 0;
  box-sizing: border-box;
  width: 12px;
  height: 12px;
  margin: 0 -6px -6px 0;
  background-color: #fff;
  border: 2px solid #31d0c6;
  border-radius: 50%;
  cursor: nwse-resize;
}
.x6-graph-scroller {
  position: relative;
  box-sizing: border-box;
  overflow: scroll;
  outline: none;
}
.x6-graph-scroller-content {
  position: relative;
}
.x6-graph-scroller-background {
  position: absolute;
  top: 0;
  right: 0;
  bottom: 0;
  left: 0;
}
.x6-graph-scroller .x6-graph {
  position: absolute;
  display: inline-block;
  margin: 0;
  box-shadow: none;
}
.x6-graph-scroller .x6-graph > svg {
  display: block;
}
.x6-graph-scroller.x6-graph-scroller-paged .x6-graph {
  box-shadow: 0 0 4px 0 #eee;
}
.x6-graph-scroller.x6-graph-scroller-pannable[data-panning='false'] {
  cursor: grab;
  cursor: -moz-grab;
  cursor: -webkit-grab;
}
.x6-graph-scroller.x6-graph-scroller-pannable[data-panning='true'] {
  cursor: grabbing;
  cursor: -moz-grabbing;
  cursor: -webkit-grabbing;
  user-select: none;
}
.x6-graph-pagebreak {
  position: absolute;
  top: 0;
  right: 0;
  bottom: 0;
  left: 0;
}
.x6-graph-pagebreak-vertical {
  position: absolute;
  top: 0;
  bottom: 0;
  box-sizing: border-box;
  width: 1px;
  border-left: 1px dashed #bdbdbd;
}
.x6-graph-pagebreak-horizontal {
  position: absolute;
  right: 0;
  left: 0;
  box-sizing: border-box;
  height: 1px;
  border-top: 1px dashed #bdbdbd;
}
.x6-widget-selection {
  position: absolute;
  display: none;
  width: 0;
  height: 0;
  touch-action: none;
}
.x6-widget-selection-rubberband {
  display: block;
  overflow: visible;
  opacity: 0.3;
}
.x6-widget-selection-selected {
  display: block;
}
.x6-widget-selection-box {
  cursor: move;
}
.x6-widget-selection-inner[data-selection-length='0'],
.x6-widget-selection-inner[data-selection-length='1'] {
  display: none;
}
.x6-widget-selection-content {
  position: absolute;
  top: 100%;
  right: -20px;
  left: -20px;
  margin-top: 30px;
  padding: 6px;
  line-height: 14px;
  text-align: center;
  border-radius: 6px;
}
.x6-widget-selection-content:empty {
  display: none;
}
.x6-widget-selection-rubberband {
  background-color: #3498db;
  border: 2px solid #2980b9;
}
.x6-widget-selection-box {
  box-sizing: content-box !important;
  margin-top: -4px;
  margin-left: -4px;
  padding-right: 4px;
  padding-bottom: 4px;
  border: 2px dashed #feb663;
  box-shadow: 2px 2px 5px #d3d3d3;
}
.x6-widget-selection-inner {
  box-sizing: content-box !important;
  margin-top: -8px;
  margin-left: -8px;
  padding-right: 12px;
  padding-bottom: 12px;
  border: 2px solid #feb663;
  box-shadow: 2px 2px 5px #d3d3d3;
}
.x6-widget-selection-content {
  color: #fff;
  font-size: 10px;
  background-color: #6a6b8a;
}
.x6-widget-snapline {
  position: absolute;
  top: 0;
  right: 0;
  bottom: 0;
  left: 0;
  pointer-events: none;
}
.x6-widget-snapline-vertical,
.x6-widget-snapline-horizontal {
  position: absolute;
  opacity: 1;
  pointer-events: none;
}
.x6-widget-snapline-horizontal {
  border-bottom: 1px solid #2ecc71;
}
.x6-widget-snapline-vertical {
  border-right: 1px solid #2ecc71;
}
.x6-widget-stencil {
  position: absolute;
  top: 0;
  right: 0;
  bottom: 0;
  left: 0;
}
.x6-widget-stencil::after {
  position: absolute;
  top: 0;
  display: block;
  width: 100%;
  height: 20px;
  padding: 8px 0;
  line-height: 20px;
  text-align: center;
  opacity: 0;
  transition: top 0.1s linear, opacity 0.1s linear;
  content: ' ';
  pointer-events: none;
}
.x6-widget-stencil-content {
  position: absolute;
  top: 0;
  right: 0;
  bottom: 0;
  left: 0;
  height: auto;
  overflow-x: hidden;
  overflow-y: auto;
}
.x6-widget-stencil .x6-node [magnet]:not([magnet='passive']) {
  pointer-events: none;
}
.x6-widget-stencil-group {
  padding: 0;
  padding-bottom: 8px;
  overflow: hidden;
  user-select: none;
}
.x6-widget-stencil-group.collapsed {
  height: auto;
  padding-bottom: 0;
}
.x6-widget-stencil-group-title {
  position: relative;
  margin-top: 0;
  margin-bottom: 0;
  padding: 4px;
  cursor: pointer;
}
.x6-widget-stencil-title,
.x6-widget-stencil-group > .x6-widget-stencil-group-title {
  overflow: hidden;
  white-space: nowrap;
  text-overflow: ellipsis;
  user-select: none;
}
.x6-widget-stencil .unmatched {
  opacity: 0.3;
}
.x6-widget-stencil .x6-node.unmatched {
  display: none;
}
.x6-widget-stencil-group.unmatched {
  display: none;
}
.x6-widget-stencil-search-text {
  position: relative;
  z-index: 1;
  box-sizing: border-box;
  width: 100%;
  height: 30px;
  max-height: 30px;
  line-height: 30px;
  outline: 0;
}
.x6-widget-stencil.not-found::after {
  opacity: 1;
  content: attr(data-not-found-text);
}
.x6-widget-stencil.not-found.searchable::after {
  top: 30px;
}
.x6-widget-stencil.not-found.searchable.collapsable::after {
  top: 50px;
}
.x6-widget-stencil {
  color: #333;
  background: #f5f5f5;
}
.x6-widget-stencil-content {
  position: absolute;
}
.x6-widget-stencil.collapsable > .x6-widget-stencil-content {
  top: 32px;
}
.x6-widget-stencil.searchable > .x6-widget-stencil-content {
  top: 80px;
}
.x6-widget-stencil.not-found::after {
  position: absolute;
}
.x6-widget-stencil.not-found.searchable.collapsable::after {
  top: 80px;
}
.x6-widget-stencil.not-found.searchable::after {
  top: 60px;
}
.x6-widget-stencil-group {
  height: auto;
  margin-bottom: 1px;
  padding: 0;
  transition: none;
}
.x6-widget-stencil-group .x6-graph {
  background: transparent;
  box-shadow: none;
}
.x6-widget-stencil-group.collapsed {
  height: auto;
  max-height: 31px;
}
.x6-widget-stencil-title,
.x6-widget-stencil-group > .x6-widget-stencil-group-title {
  position: relative;
  left: 0;
  box-sizing: border-box;
  width: 100%;
  height: 32px;
  padding: 0 5px 0 8px;
  color: #666;
  font-weight: 700;
  font-size: 12px;
  line-height: 32px;
  cursor: default;
  transition: all 0.3;
}
.x6-widget-stencil-title:hover,
.x6-widget-stencil-group > .x6-widget-stencil-group-title:hover {
  color: #444;
}
.x6-widget-stencil-title {
  background: #e9e9e9;
}
.x6-widget-stencil-group > .x6-widget-stencil-group-title {
  background: #ededed;
}
.x6-widget-stencil.collapsable > .x6-widget-stencil-title,
.x6-widget-stencil-group.collapsable > .x6-widget-stencil-group-title {
  padding-left: 32px;
  cursor: pointer;
}
.x6-widget-stencil.collapsable > .x6-widget-stencil-title::before,
.x6-widget-stencil-group.collapsable > .x6-widget-stencil-group-title::before {
  position: absolute;
  top: 6px;
  left: 8px;
  display: block;
  width: 18px;
  height: 18px;
  margin: 0;
  padding: 0;
  background-color: transparent;
  background-repeat: no-repeat;
  background-position: 0 0;
  border: none;
  content: ' ';
}
.x6-widget-stencil.collapsable > .x6-widget-stencil-title::before,
.x6-widget-stencil-group.collapsable > .x6-widget-stencil-group-title::before {
  background-image: url('data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMTgiIGhlaWdodD0iMTgiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyI+PGcgZmlsbD0iIzAwMCIgZmlsbC1ydWxlPSJub256ZXJvIj48cGF0aCBkPSJNOS4zNzUuNUM0LjY4Ny41Ljg3NSA0LjMxMy44NzUgOWMwIDQuNjg4IDMuODEyIDguNSA4LjUgOC41IDQuNjg3IDAgOC41LTMuODEyIDguNS04LjUgMC00LjY4Ny0zLjgxMy04LjUtOC41LTguNXptMCAxNS44ODZDNS4zMDMgMTYuMzg2IDEuOTkgMTMuMDcyIDEuOTkgOXMzLjMxMi03LjM4NSA3LjM4NS03LjM4NVMxNi43NiA0LjkyOCAxNi43NiA5YzAgNC4wNzItMy4zMTMgNy4zODYtNy4zODUgNy4zODZ6Ii8+PHBhdGggZD0iTTEyLjc1MyA4LjQ0M0g1Ljk5N2EuNTU4LjU1OCAwIDAwMCAxLjExNmg2Ljc1NmEuNTU4LjU1OCAwIDAwMC0xLjExNnoiLz48L2c+PC9zdmc+');
  opacity: 0.4;
  transition: all 0.3s;
}
.x6-widget-stencil.collapsable > .x6-widget-stencil-title:hover::before,
.x6-widget-stencil-group.collapsable > .x6-widget-stencil-group-title:hover::before {
  opacity: 0.6;
}
.x6-widget-stencil.collapsable.collapsed > .x6-widget-stencil-title::before,
.x6-widget-stencil-group.collapsable.collapsed > .x6-widget-stencil-group-title::before {
  background-image: url('data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMTgiIGhlaWdodD0iMTgiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyI+PGcgZmlsbD0iIzAwMCIgZmlsbC1ydWxlPSJub256ZXJvIj48cGF0aCBkPSJNOS4zNzUuNUM0LjY4Ny41Ljg3NSA0LjMxMy44NzUgOWMwIDQuNjg4IDMuODEyIDguNSA4LjUgOC41IDQuNjg3IDAgOC41LTMuODEyIDguNS04LjUgMC00LjY4Ny0zLjgxMy04LjUtOC41LTguNXptMCAxNS44ODZDNS4zMDMgMTYuMzg2IDEuOTkgMTMuMDcyIDEuOTkgOXMzLjMxMi03LjM4NSA3LjM4NS03LjM4NVMxNi43NiA0LjkyOCAxNi43NiA5YzAgNC4wNzItMy4zMTMgNy4zODYtNy4zODUgNy4zODZ6Ii8+PHBhdGggZD0iTTEyLjc1MyA4LjQ0M0g1Ljk5N2EuNTU4LjU1OCAwIDAwMCAxLjExNmg2Ljc1NmEuNTU4LjU1OCAwIDAwMC0xLjExNnoiLz48cGF0aCBkPSJNOC44MTcgNS42MjN2Ni43NTZhLjU1OC41NTggMCAwMDEuMTE2IDBWNS42MjNhLjU1OC41NTggMCAxMC0xLjExNiAweiIvPjwvZz48L3N2Zz4=');
  opacity: 0.4;
}
.x6-widget-stencil.collapsable.collapsed > .x6-widget-stencil-title:hover::before,
.x6-widget-stencil-group.collapsable.collapsed > .x6-widget-stencil-group-title:hover::before {
  opacity: 0.6;
}
.x6-widget-stencil input[type='search'] {
  -webkit-appearance: textfield;
}
.x6-widget-stencil input[type='search']::-webkit-search-cancel-button,
.x6-widget-stencil input[type='search']::-webkit-search-decoration {
  -webkit-appearance: none;
}
.x6-widget-stencil-search-text {
  display: block;
  width: 90%;
  margin: 8px 5%;
  padding-left: 8px;
  color: #333;
  background: #fff;
  border: 1px solid #e9e9e9;
  border-radius: 12px;
  outline: 0;
}
.x6-widget-stencil-search-text:focus {
  outline: 0;
}
.x6-widget-stencil::after {
  color: #808080;
  font-weight: 600;
  font-size: 12px;
  background: 0 0;
}
.x6-widget-transform {
  position: absolute;
  box-sizing: content-box !important;
  margin: -5px 0 0 -5px;
  padding: 4px;
  border: 1px dashed #000;
  border-radius: 5px;
  user-select: none;
  pointer-events: none;
}
.x6-widget-transform > div {
  position: absolute;
  box-sizing: border-box;
  background-color: #fff;
  border: 1px solid #000;
  transition: background-color 0.2s;
  pointer-events: auto;
  -webkit-user-drag: none;
  user-drag: none;
  /* stylelint-disable-line */
}
.x6-widget-transform > div:hover {
  background-color: #d3d3d3;
}
.x6-widget-transform-cursor-n {
  cursor: n-resize;
}
.x6-widget-transform-cursor-s {
  cursor: s-resize;
}
.x6-widget-transform-cursor-e {
  cursor: e-resize;
}
.x6-widget-transform-cursor-w {
  cursor: w-resize;
}
.x6-widget-transform-cursor-ne {
  cursor: ne-resize;
}
.x6-widget-transform-cursor-nw {
  cursor: nw-resize;
}
.x6-widget-transform-cursor-se {
  cursor: se-resize;
}
.x6-widget-transform-cursor-sw {
  cursor: sw-resize;
}
.x6-widget-transform-resize {
  width: 10px;
  height: 10px;
  border-radius: 6px;
}
.x6-widget-transform-resize[data-position='top-left'] {
  top: -5px;
  left: -5px;
}
.x6-widget-transform-resize[data-position='top-right'] {
  top: -5px;
  right: -5px;
}
.x6-widget-transform-resize[data-position='bottom-left'] {
  bottom: -5px;
  left: -5px;
}
.x6-widget-transform-resize[data-position='bottom-right'] {
  right: -5px;
  bottom: -5px;
}
.x6-widget-transform-resize[data-position='top'] {
  top: -5px;
  left: 50%;
  margin-left: -5px;
}
.x6-widget-transform-resize[data-position='bottom'] {
  bottom: -5px;
  left: 50%;
  margin-left: -5px;
}
.x6-widget-transform-resize[data-position='left'] {
  top: 50%;
  left: -5px;
  margin-top: -5px;
}
.x6-widget-transform-resize[data-position='right'] {
  top: 50%;
  right: -5px;
  margin-top: -5px;
}
.x6-widget-transform.prevent-aspect-ratio .x6-widget-transform-resize[data-position='top'],
.x6-widget-transform.prevent-aspect-ratio .x6-widget-transform-resize[data-position='bottom'],
.x6-widget-transform.prevent-aspect-ratio .x6-widget-transform-resize[data-position='left'],
.x6-widget-transform.prevent-aspect-ratio .x6-widget-transform-resize[data-position='right'] {
  display: none;
}
.x6-widget-transform.no-orth-resize .x6-widget-transform-resize[data-position='bottom'],
.x6-widget-transform.no-orth-resize .x6-widget-transform-resize[data-position='left'],
.x6-widget-transform.no-orth-resize .x6-widget-transform-resize[data-position='right'],
.x6-widget-transform.no-orth-resize .x6-widget-transform-resize[data-position='top'] {
  display: none;
}
.x6-widget-transform.no-resize .x6-widget-transform-resize {
  display: none;
}
.x6-widget-transform-rotate {
  top: -20px;
  left: -20px;
  width: 12px;
  height: 12px;
  border-radius: 6px;
  cursor: crosshair;
}
.x6-widget-transform.no-rotate .x6-widget-transform-rotate {
  display: none;
}
.x6-widget-transform-active {
  border-color: transparent;
  pointer-events: all;
}
.x6-widget-transform-active > div {
  display: none;
}
.x6-widget-transform-active > .x6-widget-transform-active-handle {
  display: block;
  background-color: #808080;
}
.x6-widget-knob {
  position: absolute;
  box-sizing: border-box;
  width: 16px;
  height: 16px;
  margin-top: -8px;
  margin-left: -8px;
  cursor: pointer;
  user-select: none;
}
.x6-widget-knob::before,
.x6-widget-knob::after {
  position: absolute;
  transform: rotate(45deg);
  content: '';
}
.x6-widget-knob::before {
  top: 4px;
  left: 4px;
  box-sizing: border-box;
  width: 8px;
  height: 8px;
  background-color: #fff;
}
.x6-widget-knob::after {
  top: 5px;
  left: 5px;
  box-sizing: border-box;
  width: 6px;
  height: 6px;
  background-color: #fca000;
}
.x6-graph-print {
  position: relative;
}
.x6-graph-print .x6-graph-print-ready {
  display: none;
}
.x6-graph-print .x6-graph-print-preview {
  overflow: hidden !important;
  background: #fff !important;
}
@media print {
  html,
  html > body.x6-graph-printing {
    position: relative !important;
    width: 100% !important;
    height: 100% !important;
    margin: 0 !important;
    padding: 0 !important;
  }
  html > body.x6-graph-printing > * {
    display: none !important;
  }
  html > body.x6-graph-printing > .x6-graph-print {
    display: block !important;
  }
  .x6-graph-print {
    top: 0 !important;
    left: 0 !important;
    margin: 0 !important;
    padding: 0 !important;
    overflow: hidden !important;
    page-break-after: always;
    background: #fff !important;
  }
  .x6-graph-print .x6-graph-print-ready {
    display: none;
  }
}
.x6-cell-tool-editor {
  position: relative;
  display: inline-block;
  min-height: 1em;
  margin: 0;
  padding: 0;
  line-height: 1;
  white-space: normal;
  text-align: center;
  vertical-align: top;
  overflow-wrap: normal;
  outline: none;
  transform-origin: 0 0;
  -webkit-user-drag: none;
}
.x6-edge-tool-editor {
  border: 1px solid #275fc5;
  border-radius: 2px;
}
`;var X7=globalThis&&globalThis.__decorate||function(i,t,e,n){var r=arguments.length,s=r<3?t:n===null?n=Object.getOwnPropertyDescriptor(t,e):n,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")s=Reflect.decorate(i,t,e,n);else for(var a=i.length-1;a>=0;a--)(o=i[a])&&(s=(r<3?o(s):r>3?o(t,e,s):o(t,e))||s);return r>3&&s&&Object.defineProperty(t,e,s),s};class ns extends Ee{init(){ns.ensure()}dispose(){ns.clean()}}X7([ns.dispose()],ns.prototype,"dispose",null);(function(i){let t,e=0;function n(){if(e+=1,!(e>1)&&!Qe.isApplyingHMR()){t=document.createElement("style"),t.setAttribute("type","text/css"),t.textContent=W7;const s=document.querySelector("head");s&&s.insertBefore(t,s.firstChild)}}i.ensure=n;function r(){e-=1,!(e>0)&&(t&&t.parentNode&&t.parentNode.removeChild(t),t=null)}i.clean=r})(ns||(ns={}));var Y7=globalThis&&globalThis.__rest||function(i,t){var e={};for(var n in i)Object.prototype.hasOwnProperty.call(i,n)&&t.indexOf(n)<0&&(e[n]=i[n]);if(i!=null&&typeof Object.getOwnPropertySymbols=="function")for(var r=0,n=Object.getOwnPropertySymbols(i);r<n.length;r++)t.indexOf(n[r])<0&&Object.prototype.propertyIsEnumerable.call(i,n[r])&&(e[n[r]]=i[n[r]]);return e};class Ws{get handleClassName(){return Se.handle}get pie(){return Object.assign(Object.assign({},Ws.defaultPieOptions),this.handleOptions.pie)}initHandles(){if(this.handles=[],this.handleOptions.handles&&this.handleOptions.handles.forEach(t=>this.addHandle(t)),this.handleOptions.type==="pie"){if(this.pie.toggles){const t=Se.pieToggle;this.$pieToggles={},this.pie.toggles.forEach(e=>{const n=this.$("<div/>");this.applyAttrs(n,e.attrs),n.addClass(t).addClass(`${t}-pos-${e.position||"e"}`).attr("data-name",e.name).appendTo(this.container),this.$pieToggles[e.name]=n})}this.setPieIcons()}if(this.$handleContainer){const t=this.handleOptions.type||"surround";this.$handleContainer.addClass(Se.wrap).addClass(Se.animate).addClass(`${Se.handle}-${t}`)}this.delegateEvents({[`mousedown .${Se.handle}`]:"onHandleMouseDown",[`touchstart .${Se.handle}`]:"onHandleMouseDown",[`mousedown .${Se.pieToggle}`]:"onPieToggleMouseDown",[`touchstart .${Se.pieToggle}`]:"onPieToggleMouseDown"})}onHandleMouseDown(t){const e=this.$(t.currentTarget).closest(`.${Se.handle}`).attr("data-action");e&&(t.preventDefault(),t.stopPropagation(),this.setEventData(t,{action:e,clientX:t.clientX,clientY:t.clientY,startX:t.clientX,startY:t.clientY}),t.type==="mousedown"&&t.button===2?this.triggerHandleAction(e,"contextmenu",t):(this.triggerHandleAction(e,"mousedown",t),this.delegateDocumentEvents({mousemove:"onHandleMouseMove",touchmove:"onHandleMouseMove",mouseup:"onHandleMouseUp",touchend:"onHandleMouseUp",touchcancel:"onHandleMouseUp"},t.data)))}onHandleMouseMove(t){const n=this.getEventData(t).action;n&&this.triggerHandleAction(n,"mousemove",t)}onHandleMouseUp(t){const n=this.getEventData(t).action;n&&(this.triggerHandleAction(n,"mouseup",t),this.undelegateDocumentEvents())}triggerHandleAction(t,e,n,r){n.preventDefault(),n.stopPropagation();const s=this.normalizeEvent(n),o=this.getEventData(s),a=this.graph.snapToGrid(s.clientX,s.clientY),l=this.graph.snapToGrid(o.clientX,o.clientY),c=a.x-l.x,u=a.y-l.y;this.trigger(`action:${t}:${e}`,Object.assign({e:s,dx:c,dy:u,x:a.x,y:a.y,offsetX:n.clientX-o.startX,offsetY:n.clientY-o.startY},r)),o.clientX=n.clientX,o.clientY=n.clientY}onPieToggleMouseDown(t){t.stopPropagation();const e=this.$(t.target).closest(`.${Se.pieToggle}`).attr("data-name");this.isOpen(e)||this.isOpen()&&this.toggleState(),this.toggleState(e)}setPieIcons(){this.handleOptions.type==="pie"&&this.$handleContainer.find(`.${Se.handle}`).each((t,e)=>{const n=this.$(e),r=n.attr("data-action"),s=Se.pieSlice,o=this.getHandle(r);if(!o||!o.icon){const a=window.getComputedStyle(e,":before").getPropertyValue("content");if(a&&a!=="none"){const c=n.find(`.${s}-txt`);c.length&&St.create(c[0]).text(a.replace(/['"]/g,""))}const l=n.css("background-image");if(l){const c=l.match(/url\(['"]?([^'"]+)['"]?\)/);if(c){const u=c[1],h=n.find(`.${s}-img`);h.length>0&&St.create(h[0]).attr("xlink:href",u)}}}})}getHandleIdx(t){return this.handles.findIndex(e=>e.name===t)}hasHandle(t){return this.getHandleIdx(t)>=0}getHandle(t){return this.handles.find(e=>e.name===t)}renderHandle(t){const e=this.$("<div/>").addClass(`${Se.handle} ${Se.handle}-${t.name}`).attr("data-action",t.name).prop("draggable",!1);if(this.handleOptions.type==="pie"){const n=this.getHandleIdx(t.name),r=this.pie,s=r.outerRadius,o=r.innerRadius,a=(s+o)/2,l=new N(s,s),c=re.toRad(r.sliceAngle),u=n*c+re.toRad(r.startAngle),h=u+c,f=XN(o,s,u,h),p=St.create("svg").addClass(`${Se.pieSlice}-svg`),b=St.create("path").addClass(Se.pieSlice).attr("d",f).translate(s,s),v=N.fromPolar(a,-u-c/2,l).toJSON(),C=r.iconSize,x=St.create("image").attr(v).addClass(`${Se.pieSlice}-img`);v.y=v.y+C-2;const S=St.create("text",{"font-size":C}).attr(v).addClass(`${Se.pieSlice}-txt`);x.attr({width:C,height:C}),x.translate(-C/2,-C/2),S.translate(-C/2,-C/2),p.append([b,x,S]),e.append(p.node)}else e.addClass(`${Se.handle}-pos-${t.position}`),t.content&&(typeof t.content=="string"?e.html(t.content):e.append(t.content));return this.updateHandleIcon(e,t.icon),this.applyAttrs(e,t.attrs),e}addHandle(t){if(!this.hasHandle(t.name)){this.handles.push(t);const e=t.events;e&&Object.keys(e).forEach(n=>{const r=e[n],s=`action:${t.name}:${n}`;typeof r=="string"?this.on(s,this[r],this):this.on(s,r)}),this.$handleContainer&&this.$handleContainer.append(this.renderHandle(t))}return this}addHandles(t){return t.forEach(e=>this.addHandle(e)),this}removeHandles(){for(;this.handles.length;)this.removeHandle(this.handles[0].name);return this}removeHandle(t){const e=this.getHandleIdx(t),n=this.handles[e];return n&&(n.events&&Object.keys(n.events).forEach(r=>{this.off(`action:${t}:${r}`)}),this.getHandleElem(t).remove(),this.handles.splice(e,1)),this}changeHandle(t,e){const n=this.getHandle(t);return n&&(this.removeHandle(t),this.addHandle(Object.assign(Object.assign({},n),e))),this}toggleHandle(t,e){const n=this.getHandle(t);if(n){const r=this.getHandleElem(t),s=`${Se.handle}-selected`;e===void 0&&(e=!r.hasClass(s)),r.toggleClass(s,e);const o=e?n.iconSelected:n.icon;o&&this.updateHandleIcon(r,o)}return this}selectHandle(t){return this.toggleHandle(t,!0)}deselectHandle(t){return this.toggleHandle(t,!1)}deselectAllHandles(){return this.handles.forEach(t=>this.deselectHandle(t.name)),this}getHandleElem(t){return this.$handleContainer.find(`.${Se.handle}-${t}`)}updateHandleIcon(t,e){if(this.handleOptions.type==="pie"){const n=t.find(`.${Se.pieSliceImg}`);this.$(n[0]).attr("xlink:href",e||"")}else t.css("background-image",e?`url(${e})`:"")}isRendered(){return this.$handleContainer!=null}isOpen(t){return this.isRendered()?t?this.$pieToggles[t].hasClass(Se.pieToggleOpened):this.$handleContainer.hasClass(`${Se.pieOpended}`):!1}toggleState(t){if(this.isRendered()){const e=this.$handleContainer;if(Object.keys(this.$pieToggles).forEach(n=>{this.$pieToggles[n].removeClass(Se.pieToggleOpened)}),this.isOpen())this.trigger("pie:close",{name:t}),e.removeClass(Se.pieOpended);else{if(this.trigger("pie:open",{name:t}),t){const n=this.pie.toggles,r=n&&n.find(s=>s.name===t);r&&e.attr({"data-pie-toggle-name":r.name,"data-pie-toggle-position":r.position}),this.$pieToggles[t].addClass(Se.pieToggleOpened)}e.addClass(Se.pieOpended)}}}applyAttrs(t,e){if(e){const n=se.$(t);Object.keys(e).forEach(r=>{const s=n.find(r).addBack().filter(r),o=e[r],{class:a}=o,l=Y7(o,["class"]);a&&s.addClass(a),s.attr(l)})}}}(function(i){i.defaultPieOptions={innerRadius:20,outerRadius:50,sliceAngle:45,startAngle:0,iconSize:14,toggles:[{name:"default",position:"e"}]}})(Ws||(Ws={}));var Se;(function(i){i.handle=se.prototype.prefixClassName("widget-handle"),i.wrap=`${i.handle}-wrap`,i.animate=`${i.handle}-animate`,i.pieOpended=`${i.handle}-pie-opened`,i.pieToggle=`${i.handle}-pie-toggle`,i.pieToggleOpened=`${i.handle}-pie-toggle-opened`,i.pieSlice=`${i.handle}-pie-slice`,i.pieSliceImg=`${i.handle}-pie-slice-img`})(Se||(Se={}));var K7=globalThis&&globalThis.__decorate||function(i,t,e,n){var r=arguments.length,s=r<3?t:n===null?n=Object.getOwnPropertyDescriptor(t,e):n,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")s=Reflect.decorate(i,t,e,n);else for(var a=i.length-1;a>=0;a--)(o=i[a])&&(s=(r<3?o(s):r>3?o(t,e,s):o(t,e))||s);return r>3&&s&&Object.defineProperty(t,e,s),s},J7=globalThis&&globalThis.__rest||function(i,t){var e={};for(var n in i)Object.prototype.hasOwnProperty.call(i,n)&&t.indexOf(n)<0&&(e[n]=i[n]);if(i!=null&&typeof Object.getOwnPropertySymbols=="function")for(var r=0,n=Object.getOwnPropertySymbols(i);r<n.length;r++)t.indexOf(n[r])<0&&Object.prototype.propertyIsEnumerable.call(i,n[r])&&(e[n[r]]=i[n[r]]);return e};class Gl extends se{constructor(t){super();const e=t,{view:n,cell:r,node:s,edge:o,graph:a}=e,l=J7(e,["view","cell","node","edge","graph"]);n?(this.view=n,this.cell=n.cell,this.graph=n.graph,this.model=this.graph.model):(r||o||s)&&a&&(this.cell=s||o||r,this.view=a.renderer.findViewByCell(this.cell),this.graph=a,this.model=this.graph.model);const c=this.constructor;t.clearAll!==!1&&c.removeInstances(this.graph),c.register(this),this.init(l)}static ensureCache(){return this.instanceCache.has(this)||this.instanceCache.set(this,{}),this.instanceCache.get(this)}static register(t,e){e==null&&(e=t.graph);const n=this.ensureCache();let r=n[e.view.cid];r==null&&(r=n[e.view.cid]={}),r[t.cid]=t}static unregister(t,e){e==null&&(e=t.graph);const n=this.ensureCache();n[e.view.cid]&&delete n[e.view.cid][t.cid]}static removeInstances(t){const n=this.ensureCache()[t.view.cid];n&&Object.keys(n).forEach(r=>{const s=n[r];s&&s.remove()})}static getInstances(t){return this.ensureCache()[t.view.cid]||{}}init(t){}render(){return this}startListening(){this.options.clearOnBlankMouseDown!==!1&&this.graph.on("blank:mousedown",this.remove,this)}stopListening(){this.options.clearOnBlankMouseDown!==!1&&this.graph.off("blank:mousedown",this.remove,this)}remove(){return this.stopListening(),this.constructor.unregister(this),super.remove()}dispose(){this.remove()}}Gl.instanceCache=new WeakMap;K7([se.dispose()],Gl.prototype,"dispose",null);class W2 extends Gl{get node(){return this.cell}get metadata(){const t=this.cell.prop("knob");return Array.isArray(t)?this.options.index!=null?t[this.options.index]:null:t}init(t){this.options=Object.assign({},t),this.render(),this.startListening()}startListening(){this.delegateEvents({mousedown:"onMouseDown",touchstart:"onMouseDown"}),this.model.on("*",this.update,this),this.graph.on("scale",this.update,this),this.graph.on("translate",this.update,this),this.model.on("reseted",this.remove,this),this.node.on("removed",this.remove,this),this.view.on("node:resize:mousedown",this.onTransform,this),this.view.on("node:rotate:mousedown",this.onTransform,this),this.view.on("node:resize:mouseup",this.onTransformed,this),this.view.on("node:rotate:mouseup",this.onTransformed,this),this.view.on("cell:knob:mousedown",this.onKnobMouseDown,this),this.view.on("cell:knob:mouseup",this.onKnobMouseUp,this),super.startListening()}stopListening(){this.undelegateEvents(),this.model.off("*",this.update,this),this.graph.off("scale",this.update,this),this.graph.off("translate",this.update,this),this.model.off("reseted",this.remove,this),this.node.off("removed",this.remove,this),this.view.off("node:resize:mousedown",this.onTransform,this),this.view.off("node:rotate:mousedown",this.onTransform,this),this.view.off("node:resize:mouseup",this.onTransformed,this),this.view.off("node:rotate:mouseup",this.onTransformed,this),this.view.off("cell:knob:mousedown",this.onKnobMouseDown,this),this.view.off("cell:knob:mouseup",this.onKnobMouseUp,this),super.stopListening()}render(){return this.container=document.createElement("div"),me(this.container,this.prefixClassName("widget-knob")),this.options.className&&me(this.container,this.options.className),this.view.addClass(Ps.KNOB),this.graph.container.appendChild(this.container),this.update(),this}remove(){return this.view.removeClass(Ps.KNOB),super.remove()}update(){if(this.metadata){const{update:t,position:e}=this.metadata,n={knob:this,cell:this.cell,node:this.node};if(e){const r=e.call(this.graph,Object.assign({},n));if(r){const s=this.graph.matrix(),o=this.node.getBBox(),a=re.normalize(this.node.getAngle()),l=N.create(r);a!==0&&l.rotate(-a,{x:o.width/2,y:o.height/2}),l.translate(o).scale(s.a,s.d).translate(s.e,s.f),this.container.style.left=`${l.x}px`,this.container.style.top=`${l.y}px`}}t&&t.call(this.graph,Object.assign({},n))}}hide(){this.container.style.display="none"}show(){this.container.style.display=""}onTransform(){this.hide()}onTransformed(){this.show()}onKnobMouseDown({knob:t}){this.cid!==t.cid&&this.hide()}onKnobMouseUp(){this.show()}notify(t,e){if(this.view){const n=this.view.normalizeEvent(e),r=this.graph.snapToGrid(n.clientX,n.clientY);this.view.notify(`cell:${t}`,{e:n,view:this.view,node:this.node,cell:this.cell,x:r.x,y:r.y,knob:this}),this.cell.isNode()?this.view.notify(`node:${t}`,{e:n,view:this.view,node:this.node,cell:this.cell,x:r.x,y:r.y,knob:this}):this.cell.isEdge()&&this.view.notify(`edge:${t}`,{e:n,view:this.view,edge:this.cell,cell:this.cell,x:r.x,y:r.y,knob:this})}}onMouseDown(t){t.stopPropagation(),this.setEventData(t,{knobbing:!1,originX:t.clientX,originY:t.clientY,clientX:t.clientX,clientY:t.clientY}),this.graph.view.undelegateEvents(),this.delegateDocumentEvents(Ps.documentEvents,t.data),this.metadata&&this.metadata.onMouseDown&&this.metadata.onMouseDown.call(this.graph,{e:t,data:this.getEventData(t),knob:this,cell:this.cell,node:this.node}),this.notify("knob:mousedown",t)}onMouseMove(t){const e=this.getEventData(t),n=this.graph.findViewByCell(this.node);if(e.knobbing||(e.knobbing=!0,n&&(n.addClass(Ps.KNOBBING),this.notify("knob",t)),this.model.startBatch("knob",{cid:this.cid})),e.clientX=t.clientX,e.clientY=t.clientY,this.metadata&&this.metadata.onMouseMove){const r=this.graph.matrix(),s=(t.clientX-e.originX)/r.a,o=(t.clientY-e.originY)/r.d,a=this.node.getAngle(),l=new N(s,o).rotate(a);this.metadata.onMouseMove.call(this.graph,{e:t,data:e,deltaX:l.x,deltaY:l.y,knob:this,cell:this.cell,node:this.node})}this.notify("knobbing",t),this.notify("knob:mousemove",t)}onMouseUp(t){this.undelegateDocumentEvents(),this.graph.view.delegateEvents();const e=this.getEventData(t),n=this.graph.findViewByCell(this.node);e.knobbing&&(n&&n.removeClass(Ps.KNOBBING),this.metadata&&this.metadata.onMouseUp&&this.metadata.onMouseUp.call(this.graph,{e:t,data:e,knob:this,cell:this.cell,node:this.node}),this.model.stopBatch("knob",{cid:this.cid}),this.notify("knobbed",t)),this.notify("knob:mouseup",t)}}var Ps;(function(i){i.KNOB="has-widget-knob",i.KNOBBING="node-knobbing",i.documentEvents={mousemove:"onMouseMove",touchmove:"onMouseMove",mouseup:"onMouseUp",touchend:"onMouseUp"}})(Ps||(Ps={}));var Z7=globalThis&&globalThis.__decorate||function(i,t,e,n){var r=arguments.length,s=r<3?t:n===null?n=Object.getOwnPropertyDescriptor(t,e):n,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")s=Reflect.decorate(i,t,e,n);else for(var a=i.length-1;a>=0;a--)(o=i[a])&&(s=(r<3?o(s):r>3?o(t,e,s):o(t,e))||s);return r>3&&s&&Object.defineProperty(t,e,s),s},Ja;(function(i){i.root="widget-minimap",i.viewport=`${i.root}-viewport`,i.zoom=`${i.viewport}-zoom`})(Ja||(Ja={}));class M1 extends se{constructor(t){super(),this.options=Object.assign(Object.assign({},au.defaultOptions),t),this.updateViewport=Bf(this.updateViewport.bind(this),0),this.container=document.createElement("div"),this.$container=this.$(this.container).addClass(this.prefixClassName(Ja.root));const e=document.createElement("div");this.container.appendChild(e),this.$viewport=this.$("<div>").addClass(this.prefixClassName(Ja.viewport)),this.options.scalable&&(this.zoomHandle=this.$("<div>").addClass(this.prefixClassName(Ja.zoom)).appendTo(this.$viewport).get(0)),this.$container.append(this.$viewport).css({width:this.options.width,height:this.options.height,padding:this.options.padding}),this.options.container&&this.options.container.appendChild(this.container),this.sourceGraph=this.graph;const n=Object.assign(Object.assign({},this.options.graphOptions),{container:e,model:this.sourceGraph.model,frozen:!0,async:this.sourceGraph.isAsync(),interacting:!1,grid:!1,background:!1,rotating:!1,resizing:!1,embedding:!1,selecting:!1,snapline:!1,clipboard:!1,history:!1,scroller:!1});this.targetGraph=this.options.createGraph?this.options.createGraph(n):new ae(n),this.targetGraph.renderer.unfreeze(),this.updatePaper(this.sourceGraph.options.width,this.sourceGraph.options.height),this.startListening()}get graph(){return this.options.graph}get scroller(){return this.graph.scroller.widget}get graphContainer(){return this.scroller?this.scroller.container:this.graph.container}get $graphContainer(){return this.scroller?this.scroller.$container:this.$(this.graph.container)}startListening(){this.scroller?this.$graphContainer.on(`scroll${this.getEventNamespace()}`,this.updateViewport):(this.sourceGraph.on("translate",this.onTransform,this),this.sourceGraph.on("scale",this.onTransform,this),this.sourceGraph.on("model:updated",this.onModelUpdated,this)),this.sourceGraph.on("resize",this.updatePaper,this),this.delegateEvents({mousedown:"startAction",touchstart:"startAction",[`mousedown .${this.prefixClassName("graph")}`]:"scrollTo",[`touchstart .${this.prefixClassName("graph")}`]:"scrollTo"})}stopListening(){this.scroller?this.$graphContainer.off(this.getEventNamespace()):(this.sourceGraph.off("translate",this.onTransform,this),this.sourceGraph.off("scale",this.onTransform,this),this.sourceGraph.off("model:updated",this.onModelUpdated,this)),this.sourceGraph.off("resize",this.updatePaper,this),this.undelegateEvents()}onRemove(){this.targetGraph.view.remove(),this.stopListening(),this.targetGraph.dispose()}onTransform(t){(t.ui||this.targetGraphTransforming)&&this.updateViewport()}onModelUpdated(){this.targetGraph.zoomToFit()}updatePaper(t,e){let n,r;typeof t=="object"?(n=t.width,r=t.height):(n=t,r=e);const s=this.sourceGraph.options,o=this.sourceGraph.transform.getScale(),a=this.options.width-2*this.options.padding,l=this.options.height-2*this.options.padding;n/=o.sx,r/=o.sy,this.ratio=Math.min(a/n,l/r);const c=this.ratio,u=s.x*c/o.sx,h=s.y*c/o.sy;return n*=c,r*=c,this.targetGraph.resizeGraph(n,r),this.targetGraph.translate(u,h),this.scroller?this.targetGraph.scale(c,c):this.targetGraph.zoomToFit(),this.updateViewport(),this}updateViewport(){const t=this.sourceGraph.transform.getScale(),e=this.targetGraph.transform.getScale();let n=null;this.scroller?n=this.scroller.clientToLocalPoint(0,0):n=this.graph.graphToLocal(0,0);const r=this.$(this.targetGraph.container).position(),s=this.targetGraph.translate();s.ty=s.ty||0,this.geometry={top:r.top+n.y*e.sy+s.ty,left:r.left+n.x*e.sx+s.tx,width:this.$graphContainer.innerWidth()*e.sx/t.sx,height:this.$graphContainer.innerHeight()*e.sy/t.sy},this.$viewport.css(this.geometry)}startAction(t){const e=this.normalizeEvent(t),n=e.target===this.zoomHandle?"zooming":"panning",{tx:r,ty:s}=this.sourceGraph.translate(),o={action:n,clientX:e.clientX,clientY:e.clientY,scrollLeft:this.graphContainer.scrollLeft,scrollTop:this.graphContainer.scrollTop,zoom:this.sourceGraph.zoom(),scale:this.sourceGraph.transform.getScale(),geometry:this.geometry,translateX:r,translateY:s};this.targetGraphTransforming=!0,this.delegateDocumentEvents(au.documentEvents,o)}doAction(t){const e=this.normalizeEvent(t),n=e.clientX,r=e.clientY,s=e.data;switch(s.action){case"panning":{const o=this.sourceGraph.transform.getScale(),a=(n-s.clientX)*o.sx,l=(r-s.clientY)*o.sy;this.scroller?(this.graphContainer.scrollLeft=s.scrollLeft+a/this.ratio,this.graphContainer.scrollTop=s.scrollTop+l/this.ratio):this.sourceGraph.translate(s.translateX-a/this.ratio,s.translateY-l/this.ratio);break}case"zooming":{const o=s.scale,a=s.geometry,l=1+(s.clientX-n)/a.width/o.sx;s.frameId&&cancelAnimationFrame(s.frameId),s.frameId=requestAnimationFrame(()=>{this.sourceGraph.zoom(l*s.zoom,{absolute:!0,minScale:this.options.minScale,maxScale:this.options.maxScale})});break}}}stopAction(){this.undelegateDocumentEvents(),this.targetGraphTransforming=!1}scrollTo(t){const e=this.normalizeEvent(t);let n,r;const s=this.targetGraph.translate();if(s.ty=s.ty||0,e.offsetX==null){const l=this.$(this.targetGraph.container).offset();n=e.pageX-l.left,r=e.pageY-l.top}else n=e.offsetX,r=e.offsetY;const o=(n-s.tx)/this.ratio,a=(r-s.ty)/this.ratio;this.sourceGraph.centerPoint(o,a)}dispose(){this.remove()}}Z7([se.dispose()],M1.prototype,"dispose",null);var au;(function(i){i.defaultOptions={width:300,height:200,padding:10,scalable:!0,minScale:.01,maxScale:16,graphOptions:{},createGraph:t=>new ae(t)},i.documentEvents={mousemove:"doAction",touchmove:"doAction",mouseup:"stopAction",touchend:"stopAction"}})(au||(au={}));var Q7=globalThis&&globalThis.__decorate||function(i,t,e,n){var r=arguments.length,s=r<3?t:n===null?n=Object.getOwnPropertyDescriptor(t,e):n,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")s=Reflect.decorate(i,t,e,n);else for(var a=i.length-1;a>=0;a--)(o=i[a])&&(s=(r<3?o(s):r>3?o(t,e,s):o(t,e))||s);return r>3&&s&&Object.defineProperty(t,e,s),s},t9=globalThis&&globalThis.__rest||function(i,t){var e={};for(var n in i)Object.prototype.hasOwnProperty.call(i,n)&&t.indexOf(n)<0&&(e[n]=i[n]);if(i!=null&&typeof Object.getOwnPropertySymbols=="function")for(var r=0,n=Object.getOwnPropertySymbols(i);r<n.length;r++)t.indexOf(n[r])<0&&Object.prototype.propertyIsEnumerable.call(i,n[r])&&(e[n[r]]=i[n[r]]);return e};class O1 extends se{constructor(t){super();const{graph:e}=t,n=t9(t,["graph"]);this.graph=e,this.options=Object.assign({tolerance:10},n),this.render(),this.parseFilter(),this.disabled||this.startListening()}get model(){return this.graph.model}get containerClassName(){return this.prefixClassName("widget-snapline")}get verticalClassName(){return`${this.containerClassName}-vertical`}get horizontalClassName(){return`${this.containerClassName}-horizontal`}get disabled(){return this.options.enabled!==!0||this.graph.options.snapline.enabled!==!0}enable(){this.disabled&&(this.options.enabled=!0,this.graph.options.snapline.enabled=!0,this.startListening())}disable(){this.disabled||(this.options.enabled=!1,this.graph.options.snapline.enabled=!1,this.stopListening())}setFilter(t){this.options.filter=t,this.parseFilter()}render(){this.container=document.createElement("div"),this.$container=this.$(this.container),this.$horizontal=this.$(document.createElement("div")).addClass(this.horizontalClassName),this.$vertical=this.$(document.createElement("div")).addClass(this.verticalClassName),this.$container.hide().addClass(this.containerClassName).append([this.$horizontal,this.$vertical]),this.options.className&&this.$container.addClass(this.options.className)}startListening(){this.stopListening(),this.graph.on("node:mousedown",this.captureCursorOffset,this),this.graph.on("node:mousemove",this.snapOnMoving,this),this.model.on("batch:stop",this.onBatchStop,this),this.delegateDocumentEvents({mouseup:"hide",touchend:"hide"})}stopListening(){this.graph.off("node:mousedown",this.captureCursorOffset,this),this.graph.off("node:mousemove",this.snapOnMoving,this),this.model.off("batch:stop",this.onBatchStop,this),this.undelegateDocumentEvents()}parseFilter(){this.filterShapes={},this.filterCells={},this.filterFunction=null;const t=this.options.filter;Array.isArray(t)?t.forEach(e=>{typeof e=="string"?this.filterShapes[e]=!0:this.filterCells[e.id]=!0}):typeof t=="function"&&(this.filterFunction=t)}onBatchStop({name:t,data:e}){t==="resize"&&this.snapOnResizing(e.cell,e)}captureCursorOffset({view:t,x:e,y:n}){const r=t.getDelegatedView();if(r&&this.isNodeMovable(r)){const s=t.cell.getPosition();this.offset={x:e-s.x,y:n-s.y}}}isNodeMovable(t){return t&&t.cell.isNode()&&t.can("nodeMovable")}snapOnResizing(t,e){if(this.options.resizing&&!e.snapped&&e.ui&&e.direction&&e.trueDirection){const n=this.graph.renderer.findViewByCell(t);if(n&&n.cell.isNode()){const r=t.getBBox(),s=r.bbox(t.getAngle()),o=s.getTopLeft(),a=s.getBottomRight(),l=re.normalize(t.getAngle()),c=this.options.tolerance||0;let u,h,f,p,b,v;const C={vertical:0,horizontal:0},x=e.direction,S=e.trueDirection,E=e.relativeDirection;S.indexOf("right")!==-1?C.vertical=a.x:C.vertical=o.x,S.indexOf("bottom")!==-1?C.horizontal=a.y:C.horizontal=o.y,this.model.getNodes().some(R=>{if(this.isIgnored(t,R))return!1;const rt=R.getBBox().bbox(R.getAngle()),st=rt.getTopLeft(),j=rt.getBottomRight(),B={vertical:[st.x,j.x],horizontal:[st.y,j.y]},tt={};return Object.keys(B).forEach(bt=>{const Ot=bt,Gt=B[Ot].map(pt=>({position:pt,distance:Math.abs(pt-C[Ot])})).filter(pt=>pt.distance<=c);tt[Ot]=Rf(Gt,pt=>pt.distance)}),u==null&&tt.vertical.length>0&&(u=tt.vertical[0].position,h=Math.min(s.y,rt.y),f=Math.max(a.y,j.y)-h),p==null&&tt.horizontal.length>0&&(p=tt.horizontal[0].position,b=Math.min(s.x,rt.x),v=Math.max(a.x,j.x)-b),u!=null&&p!=null}),this.hide();let O=0,k=0;(p!=null||u!=null)&&(u!=null&&(O=S.indexOf("right")!==-1?u-a.x:o.x-u),p!=null&&(k=S.indexOf("bottom")!==-1?p-a.y:o.y-p));let m=0,T=0;if(l%90===0)l===90||l===270?(m=k,T=O):(m=O,T=k);else{const R=l>=0&&l<90?1:l>=90&&l<180?4:l>=180&&l<270?3:2;p!=null&&u!=null&&(O<k?(k=0,p=void 0):(O=0,u=void 0));const rt=re.toRad(l%90);O&&(m=R===3?O/Math.cos(rt):O/Math.sin(rt)),k&&(T=R===3?k/Math.cos(rt):k/Math.sin(rt));const st=R===1||R===3;switch(E){case"top":case"bottom":T=k?k/(st?Math.cos(rt):Math.sin(rt)):O/(st?Math.sin(rt):Math.cos(rt));break;case"left":case"right":m=O?O/(st?Math.cos(rt):Math.sin(rt)):k/(st?Math.sin(rt):Math.cos(rt));break}}switch(E){case"top":case"bottom":m=0;break;case"left":case"right":T=0;break}const D=this.graph.getGridSize();let z=Math.max(r.width+m,D),H=Math.max(r.height+T,D);e.minWidth&&e.minWidth>D&&(z=Math.max(z,e.minWidth)),e.minHeight&&e.minHeight>D&&(H=Math.max(H,e.minHeight)),e.maxWidth&&(z=Math.min(z,e.maxWidth)),e.maxHeight&&(H=Math.min(H,e.maxHeight)),e.preserveAspectRatio&&(T<m?H=z*(r.height/r.width):z=H*(r.width/r.height)),(z!==r.width||H!==r.height)&&(t.resize(z,H,{direction:x,relativeDirection:E,trueDirection:S,snapped:!0,snaplines:this.cid,restrict:this.graph.hook.getRestrictArea(n)}),f&&(f+=H-r.height),v&&(v+=z-r.width));const q=t.getBBox().bbox(l);u&&Math.abs(q.x-u)>1&&Math.abs(q.width+q.x-u)>1&&(u=void 0),p&&Math.abs(q.y-p)>1&&Math.abs(q.height+q.y-p)>1&&(p=void 0),this.update({verticalLeft:u,verticalTop:h,verticalHeight:f,horizontalTop:p,horizontalLeft:b,horizontalWidth:v})}}}snapOnMoving({view:t,e,x:n,y:r}){const s=t.getEventData(e).delegatedView||t;if(!this.isNodeMovable(s))return;const o=s.cell,a=o.getSize(),l=o.getPosition(),c=new ht(n-this.offset.x,r-this.offset.y,a.width,a.height),u=o.getAngle(),h=c.getCenter(),f=c.bbox(u),p=f.getTopLeft(),b=f.getBottomRight(),v=this.options.tolerance||0;let C,x,S,E,O,k,m=0,T=0;if(this.model.getNodes().some(D=>{if(this.isIgnored(o,D))return!1;const z=D.getBBox().bbox(D.getAngle()),H=z.getCenter(),q=z.getTopLeft(),R=z.getBottomRight();return C==null&&(Math.abs(H.x-h.x)<v?(C=H.x,m=.5):Math.abs(q.x-p.x)<v?(C=q.x,m=0):Math.abs(q.x-b.x)<v?(C=q.x,m=1):Math.abs(R.x-b.x)<v?(C=R.x,m=1):Math.abs(R.x-p.x)<v&&(C=R.x),C!=null&&(x=Math.min(f.y,z.y),S=Math.max(b.y,R.y)-x)),E==null&&(Math.abs(H.y-h.y)<v?(E=H.y,T=.5):Math.abs(q.y-p.y)<v?E=q.y:Math.abs(q.y-b.y)<v?(E=q.y,T=1):Math.abs(R.y-b.y)<v?(E=R.y,T=1):Math.abs(R.y-p.y)<v&&(E=R.y),E!=null&&(O=Math.min(f.x,z.x),k=Math.max(b.x,R.x)-O)),C!=null&&E!=null}),this.hide(),E!=null||C!=null){E!=null&&(f.y=E-T*f.height),C!=null&&(f.x=C-m*f.width);const D=f.getCenter(),z=D.x-c.width/2,H=D.y-c.height/2,q=z-l.x,R=H-l.y;(q!==0||R!==0)&&(o.translate(q,R,{snapped:!0,restrict:this.graph.hook.getRestrictArea(s)}),k&&(k+=q),S&&(S+=R)),this.update({verticalLeft:C,verticalTop:x,verticalHeight:S,horizontalTop:E,horizontalLeft:O,horizontalWidth:k})}}isIgnored(t,e){return e.id===t.id||e.isDescendantOf(t)||this.filterShapes[e.shape]||this.filterCells[e.id]||this.filterFunction&&xt(this.filterFunction,this.graph,e)}update(t){const e=this.graph.matrix(),n=e.a,r=e.d,s=e.e,o=e.f,a=this.options.sharp,l=this.graph.scroller.widget!=null;t.horizontalTop?this.$horizontal.css({top:t.horizontalTop*r+o,left:a?t.horizontalLeft*n+s:l?"-300%":0,width:a?t.horizontalWidth*n:l?"700%":"100%"}).show():this.$horizontal.hide(),t.verticalLeft?this.$vertical.css({left:t.verticalLeft*n+s,top:a?t.verticalTop*r+o:l?"-300%":0,height:a?t.verticalHeight*r:l?"700%":"100%"}).show():this.$vertical.hide(),this.show()}resetTimer(){this.timer&&(clearTimeout(this.timer),this.timer=null)}show(){return this.$container.show(),this.resetTimer(),this.container.parentNode==null&&this.graph.container.appendChild(this.container),this}hide(){this.$container.hide(),this.resetTimer();const t=this.options.clean,e=typeof t=="number"?t:t!==!1?3e3:0;return e>0&&(this.timer=window.setTimeout(()=>{this.unmount()},e)),this}onRemove(){this.stopListening(),this.hide()}dispose(){this.remove()}}Q7([se.dispose()],O1.prototype,"dispose",null);var e9=globalThis&&globalThis.__decorate||function(i,t,e,n){var r=arguments.length,s=r<3?t:n===null?n=Object.getOwnPropertyDescriptor(t,e):n,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")s=Reflect.decorate(i,t,e,n);else for(var a=i.length-1;a>=0;a--)(o=i[a])&&(s=(r<3?o(s):r>3?o(t,e,s):o(t,e))||s);return r>3&&s&&Object.defineProperty(t,e,s),s};class ge extends Ee{init(){this.resetUpdates(),this.startListening(),this.resetViews(this.model.getCells()),!this.isFrozen()&&this.isAsync()&&this.updateViewsAsync()}startListening(){this.model.on("sorted",this.onSortModel,this),this.model.on("reseted",this.onModelReseted,this),this.model.on("batch:stop",this.onBatchStop,this),this.model.on("cell:added",this.onCellAdded,this),this.model.on("cell:removed",this.onCellRemoved,this),this.model.on("cell:change:zIndex",this.onCellZIndexChanged,this),this.model.on("cell:change:visible",this.onCellVisibleChanged,this)}stopListening(){this.model.off("sorted",this.onSortModel,this),this.model.off("reseted",this.onModelReseted,this),this.model.off("batch:stop",this.onBatchStop,this),this.model.off("cell:added",this.onCellAdded,this),this.model.off("cell:removed",this.onCellRemoved,this),this.model.off("cell:change:zIndex",this.onCellZIndexChanged,this),this.model.off("cell:change:visible",this.onCellVisibleChanged,this)}resetUpdates(){this.updates={priorities:[{},{},{}],mounted:{},mountedCids:[],unmounted:{},unmountedCids:[],count:0,sort:!1,frozen:!1,freezeKey:null,animationId:null}}onSortModel(){this.model.hasActiveBatch(ge.SORT_DELAYING_BATCHES)||this.sortViews()}onModelReseted({options:t}){this.removeZPivots(),this.resetViews(this.model.getCells(),t)}onBatchStop({name:t,data:e}){if(this.isFrozen())return;const n=this.model;if(!this.isAsync()){const s=ge.UPDATE_DELAYING_BATCHES;s.includes(t)&&!n.hasActiveBatch(s)&&this.updateViews(e)}const r=ge.SORT_DELAYING_BATCHES;r.includes(t)&&!n.hasActiveBatch(r)&&this.sortViews()}onCellAdded({cell:t,options:e}){const n=e.position;this.isAsync()||typeof n!="number"?this.renderView(t,e):(e.maxPosition===n&&this.freeze({key:"addCells"}),this.renderView(t,e),n===0&&this.unfreeze({key:"addCells"}))}onCellRemoved({cell:t,options:e}){const n=this.findViewByCell(t);n&&this.requestViewUpdate(n,ge.FLAG_REMOVE,n.priority,e)}onCellZIndexChanged({cell:t,options:e}){if(this.options.sorting==="approx"){const n=this.findViewByCell(t);n&&this.requestViewUpdate(n,ge.FLAG_INSERT,n.priority,e)}}onCellVisibleChanged({cell:t,current:e,options:n}){e||this.processEdgeOnTerminalVisibleChanged(t,!1);const r=this.findViewByCell(t);!e&&r?this.removeView(t):e&&r==null&&this.renderView(t,n),e&&this.processEdgeOnTerminalVisibleChanged(t,!0)}processEdgeOnTerminalVisibleChanged(t,e){const n=(r,s)=>r.getSourceCellId()!==s.id?r.getSourceCell():r.getTargetCellId()!==s.id?r.getTargetCell():null;this.model.getConnectedEdges(t).forEach(r=>{const s=n(r,t);(s==null||s.isVisible())&&(e?r.show():r.hide())})}isEdgeTerminalVisible(t,e){const n=e==="source"?t.getSourceCellId():t.getTargetCellId(),r=n?this.model.getCell(n):null;return!(r&&!r.isVisible())}requestConnectedEdgesUpdate(t,e={}){if(Re.isCellView(t)){const n=t.cell,r=this.model.getConnectedEdges(n);for(let s=0,o=r.length;s<o;s+=1){const a=r[s],l=this.findViewByCell(a);if(!l)continue;const c=["update"];a.getTargetCell()===n&&c.push("target"),a.getSourceCell()===n&&c.push("source"),this.scheduleViewUpdate(l,l.getFlag(c),l.priority,e)}}}forcePostponedViewUpdate(t,e){if(!t||!Re.isCellView(t))return!1;const n=t.cell;if(n.isNode())return!1;const r=t;if(n.isEdge()&&(e&t.getFlag(["source","target"]))===0){let s=0;const o=this.findViewByCell(n.getSourceCell());o&&!this.isViewMounted(o)&&(s=this.dumpView(o),r.updateTerminalMagnet("source"));let a=0;const l=this.findViewByCell(n.getTargetCell());if(l&&!this.isViewMounted(l)&&(a=this.dumpView(l),r.updateTerminalMagnet("target")),s===0&&a===0)return!this.dumpView(r)}return!1}scheduleViewUpdate(t,e,n,r={}){const s=t.cid,o=this.updates;let a=o.priorities[n];a||(a=o.priorities[n]={});const l=a[s]||0;(l&e)!==e&&(l||(o.count+=1),e&ge.FLAG_REMOVE&&l&ge.FLAG_INSERT?a[s]^=ge.FLAG_INSERT:e&ge.FLAG_INSERT&&l&ge.FLAG_REMOVE&&(a[s]^=ge.FLAG_REMOVE),a[s]|=e,this.graph.hook.onViewUpdated(t,e,r))}requestViewUpdate(t,e,n,r={}){this.scheduleViewUpdate(t,e,n,r);const s=this.isAsync();if(this.isFrozen()||s&&r.async!==!1||this.model.hasActiveBatch(ge.UPDATE_DELAYING_BATCHES))return;const o=this.updateViews(r);s&&this.graph.trigger("render:done",{stats:o,options:r})}dumpView(t,e={}){if(t==null)return 0;const n=t.cid,s=this.updates.priorities[t.priority],o=this.registerMountedView(t)|s[n];return delete s[n],o?this.updateView(t,o,e):0}dumpViews(t={}){this.checkView(t),this.updateViews(t)}requireView(t,e={}){const n=this.findViewByCell(t);return n==null?null:(this.dumpView(n,e),n)}updateView(t,e,n={}){if(t==null)return 0;if(Re.isCellView(t)){if(e&ge.FLAG_REMOVE)return this.removeView(t.cell),0;e&ge.FLAG_INSERT&&(this.insertView(t),e^=ge.FLAG_INSERT)}return e?t.confirmUpdate(e,n):0}updateViews(t={}){let e,n=0,r=0,s=ge.MIN_PRIORITY;do e=this.updateViewsBatch(t),n+=1,r+=e.updatedCount,s=Math.min(e.priority,s);while(!e.empty);return{priority:s,batchCount:n,updatedCount:r}}updateViewsBatch(t={}){const e=this.updates,n=e.priorities,r=t.batchSize||ge.UPDATE_BATCH_SIZE;let s=!0,o=ge.MIN_PRIORITY,a=0,l=0,c=0,u=0,h=t.checkView||this.options.checkView;typeof h!="function"&&(h=null);t:for(let f=0,p=n.length;f<p;f+=1){const b=n[f];for(const v in b){if(c>=r){s=!1;break t}const C=se.views[v];if(!C){delete b[v];continue}let x=b[v];if((x&ge.FLAG_REMOVE)===0){const O=v in e.unmounted;if(h&&!xt(h,this.graph,{view:C,unmounted:O})){O||(this.registerUnmountedView(C),C.unmount()),e.unmounted[v]|=x,delete b[v],l+=1;continue}O&&(x|=ge.FLAG_INSERT,a+=1),x|=this.registerMountedView(C)}const S=C;let E=this.updateView(C,x,t);if(E>0){const O=S.cell;O&&O.isEdge()&&(S.hasAction(E,"source")&&!this.isEdgeTerminalVisible(O,"source")&&(E=S.removeAction(E,"source"),E|=ge.FLAG_REMOVE),S.hasAction(E,"target")&&!this.isEdgeTerminalVisible(O,"target")&&(E=S.removeAction(E,"target"),E|=ge.FLAG_REMOVE))}if(E>0&&(b[v]=E,!this.graph.hook.onViewPostponed(S,E,t)||b[v])){u+=1,s=!1;continue}o>f&&(o=f),c+=1,delete b[v]}}return{empty:s,priority:o,mountedCount:a,unmountedCount:l,updatedCount:c,postponedCount:u}}updateViewsAsync(t={},e={processed:0,priority:ge.MIN_PRIORITY}){const n=this.updates,r=n.animationId;if(r){if(Rd(r),e.processed===0){const f=t.before;typeof f=="function"&&xt(f,this.graph,this.graph)}const s=this.updateViewsBatch(t),o=this.checkViewImpl({checkView:t.checkView,mountedBatchSize:ge.MOUNT_BATCH_SIZE-s.mountedCount,unmountedBatchSize:ge.MOUNT_BATCH_SIZE-s.unmountedCount});let a=e.processed;const l=n.count,c=o.mountedCount,u=o.unmountedCount;s.updatedCount>0&&(a+=s.updatedCount+s.unmountedCount,e.priority=Math.min(s.priority,e.priority),s.empty&&c===0?(s.priority=e.priority,s.mountedCount+=c,s.unmountedCount+=u,this.graph.trigger("render:done",{stats:s,options:t}),e.processed=0,n.count=0):e.processed=a);const h=t.progress;if(l&&typeof h=="function"&&xt(h,this.graph,{total:l,done:s.empty,current:a}),n.animationId!==r)return}n.animationId=Bd(()=>{this.updateViewsAsync(t,e)})}registerMountedView(t){const e=t.cid,n=this.updates;if(e in n.mounted)return 0;n.mounted[e]=!0,n.mountedCids.push(e);const r=n.unmounted[e]||0;return delete n.unmounted[e],r}registerUnmountedView(t){const e=t.cid,n=this.updates;if(e in n.unmounted)return 0;n.unmounted[e]|=ge.FLAG_INSERT;const r=n.unmounted[e];return n.unmountedCids.push(e),delete n.mounted[e],r}isViewMounted(t){return t==null?!1:t.cid in this.updates.mounted}getMountedViews(){return Object.keys(this.updates.mounted).map(t=>Re.views[t])}getUnmountedViews(){return Object.keys(this.updates.unmounted).map(t=>Re.views[t])}checkMountedViews(t,e){let n=0;if(typeof t!="function")return n;const r=this.updates,s=r.mounted,o=r.mountedCids,a=e==null?o.length:Math.min(o.length,e);for(let l=0;l<a;l+=1){const c=o[l];if(!(c in s))continue;const u=Re.views[c];if(u==null)continue;if(xt(t,this.graph,{view:u,unmounted:!0})){o.push(c);continue}n+=1,this.registerUnmountedView(u)&&u.unmount()}return o.splice(0,a),n}checkUnmountedViews(t,e){let n=0;typeof t!="function"&&(t=null);const r=this.updates,s=r.unmounted,o=r.unmountedCids,a=e==null?o.length:Math.min(o.length,e);for(let l=0;l<a;l+=1){const c=o[l];if(!(c in s))continue;const u=Re.views[c];if(u==null)continue;if(t&&!xt(t,this.graph,{view:u,unmounted:!1})){o.push(c);continue}n+=1;const h=this.registerMountedView(u);h&&this.scheduleViewUpdate(u,h,u.priority,{mounting:!0})}return o.splice(0,a),n}checkViewImpl(t={mountedBatchSize:Number.MAX_SAFE_INTEGER,unmountedBatchSize:Number.MAX_SAFE_INTEGER}){const e=t.checkView||this.options.checkView,n=this.checkMountedViews(e,t.unmountedBatchSize);return{mountedCount:this.checkUnmountedViews(e,n>0?Math.min(this.updates.unmountedCids.length-n,t.mountedBatchSize):t.mountedBatchSize),unmountedCount:n}}checkView(t={}){return this.checkViewImpl(t)}isFrozen(){return!!this.options.frozen}freeze(t={}){const e=t.key,n=this.updates,r=this.options.frozen,s=n.freezeKey;if(e&&e!==s){if(r&&s)return;n.frozen=r,n.freezeKey=e}this.options.frozen=!0;const o=n.animationId;n.animationId=null,this.isAsync()&&o!=null&&Rd(o),this.graph.trigger("freeze",{key:e})}unfreeze(t={}){const e=t.key,n=this.updates,r=n.freezeKey;if(e&&r&&e!==r||(n.freezeKey=null,e&&e===r&&n.frozen))return;const s=()=>{this.options.frozen=n.frozen=!1,n.sort&&(this.sortViews(),n.sort=!1);const o=t.after;o&&xt(o,this.graph,this.graph),this.graph.trigger("unfreeze",{key:e})};if(this.isAsync()){this.freeze();const o=t.progress;this.updateViewsAsync(Object.assign(Object.assign({},t),{progress:({done:a,current:l,total:c})=>{o&&xt(o,this.graph,{done:a,current:l,total:c}),a&&s()}}))}else this.updateViews(t),s()}isAsync(){return!!this.options.async}setAsync(t){this.options.async=t}onRemove(){this.freeze(),this.removeViews()}resetViews(t=[],e={}){this.resetUpdates(),this.removeViews(),this.freeze({key:"reset"});for(let n=0,r=t.length;n<r;n+=1)this.renderView(t[n],e);this.unfreeze({key:"reset"}),this.sortViews()}removeView(t){const e=this.views[t.id];if(e){const n=e.cid,r=this.updates,s=r.mounted,o=r.unmounted;e.remove(),delete this.views[t.id],delete s[n],delete o[n]}return e}removeViews(){this.views&&Object.keys(this.views).forEach(t=>{const e=this.views[t];e&&this.removeView(e.cell)}),this.views={}}renderView(t,e={}){const n=t.id,r=this.views;let s=0,o=r[n];if(!!t.isVisible()&&!(t.isEdge()&&(!this.isEdgeTerminalVisible(t,"source")||!this.isEdgeTerminalVisible(t,"target")))){if(o)s=ge.FLAG_INSERT;else{const a=this.graph.hook.createCellView(t);a&&(o=r[t.id]=a,o.graph=this.graph,s=this.registerUnmountedView(o)|o.getBootstrapFlag())}o&&this.requestViewUpdate(o,s,o.priority,e)}}isExactSorting(){return this.options.sorting==="exact"}sortViews(){if(!!this.isExactSorting()){if(this.isFrozen()){this.updates.sort=!0;return}this.sortViewsExact()}}sortElements(t,e){const n=t.map(r=>{const s=r.parentNode,o=s.insertBefore(document.createTextNode(""),r.nextSibling);return a=>{if(s===a)throw new Error("You can't sort elements if any one is a descendant of another.");s.insertBefore(a,o),s.removeChild(o)}});t.sort(e).forEach((r,s)=>n[s](r))}sortViewsExact(){const t=this.view.$(this.view.stage).children("[data-cell-id]").toArray(),e=this.model;this.sortElements(t,(n,r)=>{const s=e.getCell(n.getAttribute("data-cell-id")||""),o=e.getCell(r.getAttribute("data-cell-id")||""),a=s.getZIndex()||0,l=o.getZIndex()||0;return a===l?0:a<l?-1:1})}addZPivot(t=0){this.zPivots==null&&(this.zPivots={});const e=this.zPivots;let n=e[t];if(n)return n;n=e[t]=document.createComment(`z-index:${t+1}`);let r=-1/0;for(const o in e){const a=+o;a<t&&a>r&&(r=a,t-1)}const s=this.view.stage;if(r!==-1/0){const o=e[r];s.insertBefore(n,o.nextSibling)}else s.insertBefore(n,s.firstChild);return n}removeZPivots(){this.zPivots&&Object.keys(this.zPivots).forEach(t=>{const e=this.zPivots[t];e&&e.parentNode&&e.parentNode.removeChild(e)}),this.zPivots={}}insertView(t){const e=this.view.stage;switch(this.options.sorting){case"approx":{const n=t.cell.getZIndex(),r=this.addZPivot(n);e.insertBefore(t.container,r);break}case"exact":default:e.appendChild(t.container);break}}findViewByCell(t){if(t==null)return null;const e=ie.isCell(t)?t.id:t;return this.views[e]}findViewByElem(t){if(t==null)return null;const e=typeof t=="string"?this.view.stage.querySelector(t):t instanceof Element?t:t[0];if(e){const n=this.view.findAttr("data-cell-id",e);if(n)return this.views[n]}return null}findViewsFromPoint(t){const e={x:t.x,y:t.y};return this.model.getCells().map(n=>this.findViewByCell(n)).filter(n=>n!=null?Cn(n.container,{target:this.view.stage}).containsPoint(e):!1)}findEdgeViewsInArea(t,e={}){const n=ht.create(t);return this.model.getEdges().map(r=>this.findViewByCell(r)).filter(r=>{if(r){const s=Cn(r.container,{target:this.view.stage});return s.width===0?s.inflate(1,0):s.height===0&&s.inflate(0,1),e.strict?n.containsRect(s):n.isIntersectWithRect(s)}return!1})}findViewsInArea(t,e={}){const n=ht.create(t);return this.model.getNodes().map(r=>this.findViewByCell(r)).filter(r=>{if(r){const s=Cn(r.container,{target:this.view.stage});return e.strict?n.containsRect(s):n.isIntersectWithRect(s)}return!1})}dispose(){this.resetUpdates(),this.stopListening()}}e9([Ee.dispose()],ge.prototype,"dispose",null);(function(i){i.FLAG_INSERT=1<<30,i.FLAG_REMOVE=1<<29,i.MOUNT_BATCH_SIZE=1e3,i.UPDATE_BATCH_SIZE=1e3,i.MIN_PRIORITY=2,i.SORT_DELAYING_BATCHES=["add","to-front","to-back"],i.UPDATE_DELAYING_BATCHES=["translate"]})(ge||(ge={}));var n9=globalThis&&globalThis.__decorate||function(i,t,e,n){var r=arguments.length,s=r<3?t:n===null?n=Object.getOwnPropertyDescriptor(t,e):n,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")s=Reflect.decorate(i,t,e,n);else for(var a=i.length-1;a>=0;a--)(o=i[a])&&(s=(r<3?o(s):r>3?o(t,e,s):o(t,e))||s);return r>3&&s&&Object.defineProperty(t,e,s),s};class Ku extends Ee{get elem(){return this.view.background}init(){this.startListening(),this.options.background&&this.draw(this.options.background)}startListening(){this.graph.on("scale",this.update,this),this.graph.on("translate",this.update,this)}stopListening(){this.graph.off("scale",this.update,this),this.graph.off("translate",this.update,this)}updateBackgroundImage(t={}){let e=t.size||"auto auto",n=t.position||"center";const r=this.graph.transform.getScale(),s=this.graph.translate();if(typeof n=="object"){const o=s.tx+r.sx*(n.x||0),a=s.ty+r.sy*(n.y||0);n=`${o}px ${a}px`}typeof e=="object"&&(e=ht.fromSize(e).scale(r.sx,r.sy),e=`${e.width}px ${e.height}px`),this.elem.style.backgroundSize=e,this.elem.style.backgroundPosition=n}drawBackgroundImage(t,e={}){if(!(t instanceof HTMLImageElement)){this.elem.style.backgroundImage="";return}const n=this.optionsCache;if(n&&n.image!==e.image)return;let r;const s=e.opacity,o=e.size;let a=e.repeat||"no-repeat";const l=xl.registry.get(a);if(typeof l=="function"){const u=e.quality||1;t.width*=u,t.height*=u;const h=l(t,e);if(!(h instanceof HTMLCanvasElement))throw new Error("Background pattern must return an HTML Canvas instance");r=h.toDataURL("image/png"),e.repeat&&a!==e.repeat?a=e.repeat:a="repeat",typeof o=="object"?(o.width*=h.width/t.width,o.height*=h.height/t.height):o===void 0&&(e.size={width:h.width/u,height:h.height/u})}else r=t.src,o===void 0&&(e.size={width:t.width,height:t.height});n!=null&&typeof e.size=="object"&&e.image===n.image&&e.repeat===n.repeat&&e.quality===n.quality&&(n.size=Gs(e.size));const c=this.elem.style;c.backgroundImage=`url(${r})`,c.backgroundRepeat=a,c.opacity=s==null||s>=1?"":`${s}`,this.updateBackgroundImage(e)}updateBackgroundColor(t){this.elem.style.backgroundColor=t||""}updateBackgroundOptions(t){this.graph.options.background=t}update(){this.optionsCache&&this.updateBackgroundImage(this.optionsCache)}draw(t){const e=t||{};if(this.updateBackgroundOptions(t),this.updateBackgroundColor(e.color),e.image){this.optionsCache=Gs(e);const n=document.createElement("img");n.onload=()=>this.drawBackgroundImage(n,t),n.setAttribute("crossorigin","anonymous"),n.src=e.image}else this.drawBackgroundImage(null),this.optionsCache=null}clear(){this.draw()}dispose(){this.clear(),this.stopListening()}}n9([Ee.dispose()],Ku.prototype,"dispose",null);var i9=globalThis&&globalThis.__decorate||function(i,t,e,n){var r=arguments.length,s=r<3?t:n===null?n=Object.getOwnPropertyDescriptor(t,e):n,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")s=Reflect.decorate(i,t,e,n);else for(var a=i.length-1;a>=0;a--)(o=i[a])&&(s=(r<3?o(s):r>3?o(t,e,s):o(t,e))||s);return r>3&&s&&Object.defineProperty(t,e,s),s},r9=globalThis&&globalThis.__rest||function(i,t){var e={};for(var n in i)Object.prototype.hasOwnProperty.call(i,n)&&t.indexOf(n)<0&&(e[n]=i[n]);if(i!=null&&typeof Object.getOwnPropertySymbols=="function")for(var r=0,n=Object.getOwnPropertySymbols(i);r<n.length;r++)t.indexOf(n[r])<0&&Object.prototype.propertyIsEnumerable.call(i,n[r])&&(e[n[r]]=i[n[r]]);return e};class ua extends se{constructor(t){super(),this.padding={left:0,top:0,right:0,bottom:0},this.options=yi.getOptions(t);const e=this.graph.transform.getScale();this.sx=e.sx,this.sy=e.sy;const n=this.options.width||this.graph.options.width,r=this.options.height||this.graph.options.height;this.container=document.createElement("div"),this.$container=this.$(this.container).addClass(this.prefixClassName(yi.containerClass)).css({width:n,height:r}),this.options.pageVisible&&this.$container.addClass(this.prefixClassName(yi.pagedClass)),this.options.className&&this.$container.addClass(this.options.className);const s=this.graph.container;s.parentNode&&this.$container.insertBefore(s);const o=s.getAttribute("style");if(o){const a={};o.split(";").forEach(c=>{const u=c.trim();if(u){const h=u.split(":");h.length&&(a[h[0].trim()]=h[1]?h[1].trim():"")}}),Object.keys(a).forEach(c=>{c==="width"||c==="height"||(s.style[c]="",this.container.style[c]=a[c])})}this.content=document.createElement("div"),this.$content=this.$(this.content).addClass(this.prefixClassName(yi.contentClass)).css({width:this.graph.options.width,height:this.graph.options.height}),this.background=document.createElement("div"),this.$background=this.$(this.background).addClass(this.prefixClassName(yi.backgroundClass)),this.$content.append(this.background),this.options.pageVisible||this.$content.append(this.graph.view.grid),this.$content.append(s),this.$content.appendTo(this.container),this.startListening(),this.options.pageVisible||this.graph.grid.update(),this.backgroundManager=new ua.Background(this),this.options.autoResize||this.update()}get graph(){return this.options.graph}get model(){return this.graph.model}startListening(){const t=this.graph,e=this.model;t.on("scale",this.onScale,this),t.on("resize",this.onResize,this),t.on("before:print",this.storeScrollPosition,this),t.on("before:export",this.storeScrollPosition,this),t.on("after:print",this.restoreScrollPosition,this),t.on("after:export",this.restoreScrollPosition,this),t.on("render:done",this.onRenderDone,this),t.on("unfreeze",this.onUpdate,this),e.on("reseted",this.onUpdate,this),e.on("cell:added",this.onUpdate,this),e.on("cell:removed",this.onUpdate,this),e.on("cell:changed",this.onUpdate,this),e.on("batch:stop",this.onBatchStop,this),this.delegateBackgroundEvents()}stopListening(){const t=this.graph,e=this.model;t.off("scale",this.onScale,this),t.off("resize",this.onResize,this),t.off("beforeprint",this.storeScrollPosition,this),t.off("beforeexport",this.storeScrollPosition,this),t.off("afterprint",this.restoreScrollPosition,this),t.off("afterexport",this.restoreScrollPosition,this),t.off("render:done",this.onRenderDone,this),t.off("unfreeze",this.onUpdate,this),e.off("reseted",this.onUpdate,this),e.off("cell:added",this.onUpdate,this),e.off("cell:removed",this.onUpdate,this),e.off("cell:changed",this.onUpdate,this),e.off("batch:stop",this.onBatchStop,this),this.undelegateBackgroundEvents()}enableAutoResize(){this.options.autoResize=!0}disableAutoResize(){this.options.autoResize=!1}onUpdate(){this.graph.isAsync()||!this.options.autoResize||this.update()}onBatchStop(t){this.graph.isAsync()||!this.options.autoResize||ge.UPDATE_DELAYING_BATCHES.includes(t.name)&&this.update()}delegateBackgroundEvents(t){const e=t||Hi.events;this.delegatedHandlers=Object.keys(e).reduce((n,r)=>{const s=e[r];if(r.indexOf(" ")===-1)if(typeof s=="function")n[r]=s;else{let o=this.graph.view[s];typeof o=="function"&&(o=o.bind(this.graph.view),n[r]=o)}return n},{}),this.onBackgroundEvent=this.onBackgroundEvent.bind(this),Object.keys(this.delegatedHandlers).forEach(n=>{this.delegateEvent(n,{guarded:!1},this.onBackgroundEvent)})}undelegateBackgroundEvents(){Object.keys(this.delegatedHandlers).forEach(t=>{this.undelegateEvent(t,this.onBackgroundEvent)})}onBackgroundEvent(t){let e=!1;const n=t.target;if(this.options.pageVisible)this.options.background?e=this.background===n:e=this.content===n;else{const r=this.graph.view;e=r.background===n||r.grid===n}if(e){const r=this.delegatedHandlers[t.type];typeof r=="function"&&r.apply(this.graph,arguments)}}onRenderDone({stats:t}){this.options.autoResize&&t.priority<2&&this.update()}onResize(){this.cachedCenterPoint&&(this.centerPoint(this.cachedCenterPoint.x,this.cachedCenterPoint.y),this.updatePageBreak())}onScale({sx:t,sy:e,ox:n,oy:r}){this.updateScale(t,e),(n||r)&&(this.centerPoint(n,r),this.updatePageBreak()),typeof(this.options.autoResizeOptions||this.options.fitTocontentOptions)=="function"&&this.update()}storeScrollPosition(){this.cachedScrollLeft=this.container.scrollLeft,this.cachedScrollTop=this.container.scrollTop}restoreScrollPosition(){this.container.scrollLeft=this.cachedScrollLeft,this.container.scrollTop=this.cachedScrollTop,this.cachedScrollLeft=null,this.cachedScrollTop=null}storeClientSize(){this.cachedClientSize={width:this.container.clientWidth,height:this.container.clientHeight}}restoreClientSize(){this.cachedClientSize=null}beforeManipulation(){(Qe.IS_IE||Qe.IS_EDGE)&&this.$container.css("visibility","hidden")}afterManipulation(){(Qe.IS_IE||Qe.IS_EDGE)&&this.$container.css("visibility","visible")}updatePageSize(t,e){t!=null&&(this.options.pageWidth=t),e!=null&&(this.options.pageHeight=e),this.updatePageBreak()}updatePageBreak(){if(this.pageBreak&&this.pageBreak.parentNode&&this.pageBreak.parentNode.removeChild(this.pageBreak),this.pageBreak=null,this.options.pageVisible&&this.options.pageBreak){const t=this.graph.options.width,e=this.graph.options.height,n=this.options.pageWidth*this.sx,r=this.options.pageHeight*this.sy;if(t>n||e>r){let s=!1;const o=document.createElement("div");for(let a=1,l=Math.floor(t/n);a<l;a+=1)this.$("<div/>").addClass(this.prefixClassName("graph-pagebreak-vertical")).css({left:a*n}).appendTo(o),s=!0;for(let a=1,l=Math.floor(e/r);a<l;a+=1)this.$("<div/>").addClass(this.prefixClassName("graph-pagebreak-horizontal")).css({top:a*r}).appendTo(o),s=!0;s&&(me(o,this.prefixClassName("graph-pagebreak")),this.$(this.graph.view.grid).after(o),this.pageBreak=o)}}}update(){const t=this.getClientSize();this.cachedCenterPoint=this.clientToLocalPoint(t.width/2,t.height/2);let e=this.options.autoResizeOptions||this.options.fitTocontentOptions;typeof e=="function"&&(e=xt(e,this,this));const n=Object.assign({gridWidth:this.options.pageWidth,gridHeight:this.options.pageHeight,allowNewOrigin:"negative"},e);this.graph.fitToContent(this.getFitToContentOptions(n))}getFitToContentOptions(t){const e=this.sx,n=this.sy;return t.gridWidth&&(t.gridWidth*=e),t.gridHeight&&(t.gridHeight*=n),t.minWidth&&(t.minWidth*=e),t.minHeight&&(t.minHeight*=n),typeof t.padding=="object"?t.padding={left:(t.padding.left||0)*e,right:(t.padding.right||0)*e,top:(t.padding.top||0)*n,bottom:(t.padding.bottom||0)*n}:typeof t.padding=="number"&&(t.padding*=e),this.options.autoResize||(t.contentArea=ht.create()),t}updateScale(t,e){const n=this.graph.options,r=t/this.sx,s=e/this.sy;this.sx=t,this.sy=e,this.graph.translate(n.x*r,n.y*s),this.graph.resizeGraph(n.width*r,n.height*s)}scrollbarPosition(t,e,n){if(t==null&&e==null)return{left:this.container.scrollLeft,top:this.container.scrollTop};const r={};return typeof t=="number"&&(r.scrollLeft=t),typeof e=="number"&&(r.scrollTop=e),n&&n.animation?this.$container.animate(r,n.animation):this.$container.prop(r),this}scrollToPoint(t,e,n){const r=this.getClientSize(),s=this.graph.matrix(),o={};return typeof t=="number"&&(o.scrollLeft=t-r.width/2+s.e+(this.padding.left||0)),typeof e=="number"&&(o.scrollTop=e-r.height/2+s.f+(this.padding.top||0)),n&&n.animation?this.$container.animate(o,n.animation):this.$container.prop(o),this}scrollToContent(t){const e=this.sx,n=this.sy,r=this.graph.getContentArea().getCenter();return this.scrollToPoint(r.x*e,r.y*n,t)}scrollToCell(t,e){const n=this.sx,r=this.sy,s=t.getBBox().getCenter();return this.scrollToPoint(s.x*n,s.y*r,e)}center(t){return this.centerPoint(t)}centerPoint(t,e,n){const r=this.graph.matrix(),s=r.a,o=r.d,a=-r.e,l=-r.f,c=a+this.graph.options.width,u=l+this.graph.options.height;let h;if(this.storeClientSize(),typeof t=="number"||typeof e=="number"){h=n;const k=this.getVisibleArea().getCenter();typeof t=="number"?t*=s:t=k.x,typeof e=="number"?e*=o:e=k.y}else h=t,t=(a+c)/2,e=(l+u)/2;if(h&&h.padding)return this.positionPoint({x:t,y:e},"50%","50%",h);const f=this.getPadding(),p=this.getClientSize(),b=p.width/2,v=p.height/2,C=b-f.left-t+a,x=b-f.right+t-c,S=v-f.top-e+l,E=v-f.bottom+e-u;this.addPadding(Math.max(C,0),Math.max(x,0),Math.max(S,0),Math.max(E,0));const O=this.scrollToPoint(t,e,h||void 0);return this.restoreClientSize(),O}centerContent(t){return this.positionContent("center",t)}centerCell(t,e){return this.positionCell(t,"center",e)}positionContent(t,e){const n=this.graph.getContentArea(e);return this.positionRect(n,t,e)}positionCell(t,e,n){const r=t.getBBox();return this.positionRect(r,e,n)}positionRect(t,e,n){const r=ht.create(t);switch(e){case"center":return this.positionPoint(r.getCenter(),"50%","50%",n);case"top":return this.positionPoint(r.getTopCenter(),"50%",0,n);case"top-right":return this.positionPoint(r.getTopRight(),"100%",0,n);case"right":return this.positionPoint(r.getRightMiddle(),"100%","50%",n);case"bottom-right":return this.positionPoint(r.getBottomRight(),"100%","100%",n);case"bottom":return this.positionPoint(r.getBottomCenter(),"50%","100%",n);case"bottom-left":return this.positionPoint(r.getBottomLeft(),0,"100%",n);case"left":return this.positionPoint(r.getLeftMiddle(),0,"50%",n);case"top-left":return this.positionPoint(r.getTopLeft(),0,0,n);default:return this}}positionPoint(t,e,n,r={}){const{padding:s}=r,o=r9(r,["padding"]),a=Zn(s),l=ht.fromSize(this.getClientSize()),c=l.clone().moveAndExpand({x:a.left,y:a.top,width:-a.right-a.left,height:-a.top-a.bottom});e=nr(e,Math.max(0,c.width)),e<0&&(e=c.width+e),n=nr(n,Math.max(0,c.height)),n<0&&(n=c.height+n);const u=c.getTopLeft().translate(e,n),h=l.getCenter().diff(u),f=this.zoom(),p=h.scale(1/f,1/f),b=N.create(t).translate(p);return this.centerPoint(b.x,b.y,o)}zoom(t,e){if(t==null)return this.sx;e=e||{};let n,r;const s=this.getClientSize(),o=this.clientToLocalPoint(s.width/2,s.height/2);let a=t,l=t;if(e.absolute||(a+=this.sx,l+=this.sy),e.scaleGrid&&(a=Math.round(a/e.scaleGrid)*e.scaleGrid,l=Math.round(l/e.scaleGrid)*e.scaleGrid),e.maxScale&&(a=Math.min(e.maxScale,a),l=Math.min(e.maxScale,l)),e.minScale&&(a=Math.max(e.minScale,a),l=Math.max(e.minScale,l)),a=this.graph.transform.clampScale(a),l=this.graph.transform.clampScale(l),e.center){const c=a/this.sx,u=l/this.sy;n=e.center.x-(e.center.x-o.x)/c,r=e.center.y-(e.center.y-o.y)/u}else n=o.x,r=o.y;return this.beforeManipulation(),this.graph.transform.scale(a,l),this.centerPoint(n,r),this.afterManipulation(),this}zoomToRect(t,e={}){const n=ht.create(t),r=this.graph;e.contentArea=n,e.viewportArea==null&&(e.viewportArea={x:r.options.x,y:r.options.y,width:this.$container.width(),height:this.$container.height()}),this.beforeManipulation(),r.transform.scaleContentToFitImpl(e,!1);const s=n.getCenter();return this.centerPoint(s.x,s.y),this.afterManipulation(),this}zoomToFit(t={}){return this.zoomToRect(this.graph.getContentArea(t),t)}transitionToPoint(t,e,n){typeof t=="object"?(n=e,e=t.y,t=t.x):e=e,n==null&&(n={});let r,s;const o=this.sx,a=Math.max(n.scale||o,1e-6),l=this.getClientSize(),c=new N(t,e),u=this.clientToLocalPoint(l.width/2,l.height/2);if(o===a){const f=u.diff(c).scale(o,o).round();r=`translate(${f.x}px,${f.y}px)`}else{const f=a/(o-a)*c.distance(u),p=u.clone().move(c,f),b=this.localToBackgroundPoint(p).round();r=`scale(${a/o})`,s=`${b.x}px ${b.y}px`}const h=n.onTransitionEnd;return this.$container.addClass(yi.transitionClassName),this.$content.off(yi.transitionEventName).on(yi.transitionEventName,f=>{this.syncTransition(a,{x:t,y:e}),typeof h=="function"&&xt(h,this,f.originalEvent)}).css({transform:r,transformOrigin:s,transition:"transform",transitionDuration:n.duration||"1s",transitionDelay:n.delay,transitionTimingFunction:n.timing}),this}syncTransition(t,e){return this.beforeManipulation(),this.graph.scale(t),this.removeTransition(),this.centerPoint(e.x,e.y),this.afterManipulation(),this}removeTransition(){return this.$container.removeClass(yi.transitionClassName),this.$content.off(yi.transitionEventName).css({transform:"",transformOrigin:"",transition:"",transitionDuration:"",transitionDelay:"",transitionTimingFunction:""}),this}transitionToRect(t,e={}){const n=ht.create(t),r=e.maxScale||1/0,s=e.minScale||Number.MIN_VALUE,o=e.scaleGrid||null,a=e.visibility||1,l=e.center?N.create(e.center):n.getCenter(),c=this.getClientSize(),u=c.width*a,h=c.height*a;let f=new ht(l.x-u/2,l.y-h/2,u,h).getMaxUniformScaleToFit(n,l);return f=Math.min(f,r),o&&(f=Math.floor(f/o)*o),f=Math.max(s,f),this.transitionToPoint(l,Object.assign({scale:f},e))}startPanning(t){const e=this.normalizeEvent(t);this.clientX=e.clientX,this.clientY=e.clientY,this.trigger("pan:start",{e}),this.$(document.body).on({"mousemove.panning touchmove.panning":this.pan.bind(this),"mouseup.panning touchend.panning":this.stopPanning.bind(this),"mouseleave.panning":this.stopPanning.bind(this)}),this.$(window).on("mouseup.panning",this.stopPanning.bind(this))}pan(t){const e=this.normalizeEvent(t),n=e.clientX-this.clientX,r=e.clientY-this.clientY;this.container.scrollTop-=r,this.container.scrollLeft-=n,this.clientX=e.clientX,this.clientY=e.clientY,this.trigger("panning",{e})}stopPanning(t){this.$(document.body).off(".panning"),this.$(window).off(".panning"),this.trigger("pan:stop",{e:t})}clientToLocalPoint(t,e){let n=typeof t=="object"?t.x:t,r=typeof t=="object"?t.y:e;const s=this.graph.matrix();return n+=this.container.scrollLeft-this.padding.left-s.e,r+=this.container.scrollTop-this.padding.top-s.f,new N(n/s.a,r/s.d)}localToBackgroundPoint(t,e){const n=typeof t=="object"?N.create(t):new N(t,e),r=this.graph.matrix(),s=this.padding;return gr(n,r).translate(s.left,s.top)}resize(t,e){let n=t!=null?t:this.container.offsetWidth,r=e!=null?e:this.container.offsetHeight;typeof n=="number"&&(n=Math.round(n)),typeof r=="number"&&(r=Math.round(r)),this.options.width=n,this.options.height=r,this.$container.css({width:n,height:r}),this.update()}getClientSize(){return this.cachedClientSize?this.cachedClientSize:{width:this.container.clientWidth,height:this.container.clientHeight}}autoScroll(t,e){const r=this.container,s=r.getBoundingClientRect();let o=0,a=0;return t<=s.left+10&&(o=-10),e<=s.top+10&&(a=-10),t>=s.right-10&&(o=10),e>=s.bottom-10&&(a=10),o!==0&&(r.scrollLeft+=o),a!==0&&(r.scrollTop+=a),{scrollerX:o,scrollerY:a}}addPadding(t,e,n,r){let s=this.getPadding();this.padding={left:Math.round(s.left+(t||0)),top:Math.round(s.top+(n||0)),bottom:Math.round(s.bottom+(r||0)),right:Math.round(s.right+(e||0))},s=this.padding,this.$content.css({width:s.left+this.graph.options.width+s.right,height:s.top+this.graph.options.height+s.bottom});const o=this.graph.container;return o.style.left=`${this.padding.left}px`,o.style.top=`${this.padding.top}px`,this}getPadding(){const t=this.options.padding;return Zn(typeof t=="function"?xt(t,this,this):t)}getVisibleArea(){const t=this.graph.matrix(),e=this.getClientSize(),n={x:this.container.scrollLeft||0,y:this.container.scrollTop||0,width:e.width,height:e.height},r=ci(n,t.inverse());return r.x-=(this.padding.left||0)/this.sx,r.y-=(this.padding.top||0)/this.sy,r}isCellVisible(t,e={}){const n=t.getBBox(),r=this.getVisibleArea();return e.strict?r.containsRect(n):r.isIntersectWithRect(n)}isPointVisible(t){return this.getVisibleArea().containsPoint(t)}lock(){return this.$container.css("overflow","hidden"),this}unlock(){return this.$container.css("overflow","scroll"),this}onRemove(){this.stopListening()}dispose(){this.$(this.graph.container).insertBefore(this.$container),this.remove()}}i9([se.dispose()],ua.prototype,"dispose",null);(function(i){class t extends Ku{constructor(n){super(n.graph),this.scroller=n,n.options.background&&this.draw(n.options.background)}get elem(){return this.scroller.background}init(){this.graph.on("scale",this.update,this),this.graph.on("translate",this.update,this)}updateBackgroundOptions(n){this.scroller.options.background=n}}i.Background=t})(ua||(ua={}));var yi;(function(i){i.containerClass="graph-scroller",i.panningClass=`${i.containerClass}-panning`,i.pannableClass=`${i.containerClass}-pannable`,i.pagedClass=`${i.containerClass}-paged`,i.contentClass=`${i.containerClass}-content`,i.backgroundClass=`${i.containerClass}-background`,i.transitionClassName="transition-in-progress",i.transitionEventName="transitionend.graph-scroller-transition",i.defaultOptions={padding(){const e=this.getClientSize(),n=Math.max(this.options.minVisibleWidth||0,1)||1,r=Math.max(this.options.minVisibleHeight||0,1)||1,s=Math.max(e.width-n,0),o=Math.max(e.height-r,0);return{left:s,top:o,right:s,bottom:o}},minVisibleWidth:50,minVisibleHeight:50,pageVisible:!1,pageBreak:!1,autoResize:!0};function t(e){const n=Ne({},i.defaultOptions,e);return n.pageWidth==null&&(n.pageWidth=e.graph.options.width),n.pageHeight==null&&(n.pageHeight=e.graph.options.height),n}i.getOptions=t})(yi||(yi={}));function on(i,t,e,n={}){if(e){const r=e.graph,s=r.view.normalizeEvent(t),o=r.snapToGrid(s.clientX,s.clientY);e.notify(i,Object.assign({e:s,view:e,node:e.cell,cell:e.cell,x:o.x,y:o.y},n))}}var s9=globalThis&&globalThis.__decorate||function(i,t,e,n){var r=arguments.length,s=r<3?t:n===null?n=Object.getOwnPropertyDescriptor(t,e):n,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")s=Reflect.decorate(i,t,e,n);else for(var a=i.length-1;a>=0;a--)(o=i[a])&&(s=(r<3?o(s):r>3?o(t,e,s):o(t,e))||s);return r>3&&s&&Object.defineProperty(t,e,s),s};class xp extends se{constructor(t){super(),this.options=Ne({},In.defaultOptions,t),this.options.model&&(this.options.collection=this.options.model.collection),this.options.collection?this.collection=this.options.collection:(this.collection=new A1([],{comparator:In.depthComparator}),this.options.collection=this.collection),this.boxCount=0,this.createContainer(),this.initHandles(),this.startListening()}get graph(){return this.options.graph}get boxClassName(){return this.prefixClassName(In.classNames.box)}get $boxes(){return this.$container.children(`.${this.boxClassName}`)}get handleOptions(){return this.options}startListening(){const t=this.graph,e=this.collection;this.delegateEvents({[`mousedown .${this.boxClassName}`]:"onSelectionBoxMouseDown",[`touchstart .${this.boxClassName}`]:"onSelectionBoxMouseDown"},!0),t.on("scale",this.onGraphTransformed,this),t.on("translate",this.onGraphTransformed,this),t.model.on("updated",this.onModelUpdated,this),e.on("added",this.onCellAdded,this),e.on("removed",this.onCellRemoved,this),e.on("reseted",this.onReseted,this),e.on("updated",this.onCollectionUpdated,this),e.on("node:change:position",this.onNodePositionChanged,this),e.on("cell:changed",this.onCellChanged,this)}stopListening(){const t=this.graph,e=this.collection;this.undelegateEvents(),t.off("scale",this.onGraphTransformed,this),t.off("translate",this.onGraphTransformed,this),t.model.off("updated",this.onModelUpdated,this),e.off("added",this.onCellAdded,this),e.off("removed",this.onCellRemoved,this),e.off("reseted",this.onReseted,this),e.off("updated",this.onCollectionUpdated,this),e.off("node:change:position",this.onNodePositionChanged,this),e.off("cell:changed",this.onCellChanged,this)}onRemove(){this.stopListening()}onGraphTransformed(){this.updateSelectionBoxes({async:!1})}onCellChanged(){this.updateSelectionBoxes()}onNodePositionChanged({node:t,options:e}){const{showNodeSelectionBox:n,pointerEvents:r}=this.options,{ui:s,selection:o}=e;let a=!this.translating;if(a=a&&(n!==!0||r==="none"),a=a&&s&&!o,a){this.translating=!0;const l=t.position(),c=t.previous("position"),u=l.x-c.x,h=l.y-c.y;(u!==0||h!==0)&&this.translateSelectedNodes(u,h,t,e),this.translating=!1}}onModelUpdated({removed:t}){t&&t.length&&this.unselect(t)}isEmpty(){return this.length<=0}isSelected(t){return this.collection.has(t)}get length(){return this.collection.length}get cells(){return this.collection.toArray()}select(t,e={}){e.dryrun=!0;const n=this.filter(Array.isArray(t)?t:[t]);return this.collection.add(n,e),this}unselect(t,e={}){return e.dryrun=!0,this.collection.remove(Array.isArray(t)?t:[t],e),this}reset(t,e={}){if(t){if(e.batch){const c=this.filter(Array.isArray(t)?t:[t]);return this.collection.reset(c,Object.assign(Object.assign({},e),{ui:!0})),this}const n=this.cells,r=this.filter(Array.isArray(t)?t:[t]),s={},o={};n.forEach(c=>s[c.id]=c),r.forEach(c=>o[c.id]=c);const a=[],l=[];return r.forEach(c=>{s[c.id]||a.push(c)}),n.forEach(c=>{o[c.id]||l.push(c)}),l.length&&this.unselect(l,Object.assign(Object.assign({},e),{ui:!0})),a.length&&this.select(a,Object.assign(Object.assign({},e),{ui:!0})),l.length===0&&a.length===0&&this.updateContainer(),this}return this.clean(e)}clean(t={}){return this.length&&(t.batch===!1?this.unselect(this.cells,t):this.collection.reset([],Object.assign(Object.assign({},t),{ui:!0}))),this}setFilter(t){this.options.filter=t}setContent(t){this.options.content=t}startSelecting(t){t=this.normalizeEvent(t),this.clean();let e,n;const r=this.graph.container;if(t.offsetX!=null&&t.offsetY!=null&&r.contains(t.target))e=t.offsetX,n=t.offsetY;else{const s=this.$(r).offset(),o=r.scrollLeft,a=r.scrollTop;e=t.clientX-s.left+window.pageXOffset+o,n=t.clientY-s.top+window.pageYOffset+a}this.$container.css({top:n,left:e,width:1,height:1}),this.setEventData(t,{action:"selecting",clientX:t.clientX,clientY:t.clientY,offsetX:e,offsetY:n,scrollerX:0,scrollerY:0}),this.delegateDocumentEvents(In.documentEvents,t.data)}filter(t){const e=this.options.filter;return Array.isArray(e)?t.filter(n=>!e.includes(n)&&!e.includes(n.shape)):typeof e=="function"?t.filter(n=>xt(e,this.graph,n)):t}stopSelecting(t){const e=this.graph,n=this.getEventData(t);switch(n.action){case"selecting":{let s=this.$container.width(),o=this.$container.height();const a=this.$container.offset(),l=e.pageToLocal(a.left,a.top),c=e.transform.getScale();s/=c.sx,o/=c.sy;const u=new ht(l.x,l.y,s,o),h=this.getCellViewsInArea(u).map(f=>f.cell);this.reset(h,{batch:!0}),this.hideRubberband();break}case"translating":{const s=e.snapToGrid(t.clientX,t.clientY);if(!this.options.following){const o=n;this.updateSelectedNodesPosition({dx:o.clientX-o.originX,dy:o.clientY-o.originY})}this.graph.model.stopBatch("move-selection"),this.notifyBoxEvent("box:mouseup",t,s.x,s.y);break}default:{this.clean();break}}}onMouseUp(t){this.getEventData(t).action&&(this.stopSelecting(t),this.undelegateDocumentEvents())}onSelectionBoxMouseDown(t){this.options.following||t.stopPropagation();const e=this.normalizeEvent(t);this.options.movable&&this.startTranslating(e);const n=this.getCellViewFromElem(e.target);this.setEventData(e,{activeView:n});const r=this.graph.snapToGrid(e.clientX,e.clientY);this.notifyBoxEvent("box:mousedown",e,r.x,r.y),this.delegateDocumentEvents(In.documentEvents,e.data)}startTranslating(t){this.graph.model.startBatch("move-selection");const e=this.graph.snapToGrid(t.clientX,t.clientY);this.setEventData(t,{action:"translating",clientX:e.x,clientY:e.y,originX:e.x,originY:e.y})}getSelectionOffset(t,e){let n=t.x-e.clientX,r=t.y-e.clientY;const s=this.graph.hook.getRestrictArea();if(s){const o=this.collection.toArray(),a=ie.getCellsBBox(o,{deep:!0})||ht.create(),l=s.x-a.x,c=s.y-a.y,u=s.x+s.width-(a.x+a.width),h=s.y+s.height-(a.y+a.height);if(n<l&&(n=l),r<c&&(r=c),u<n&&(n=u),h<r&&(r=h),!this.options.following){const f=t.x-e.originX,p=t.y-e.originY;n=f<=l||f>=u?0:n,r=p<=c||p>=h?0:r}}return{dx:n,dy:r}}updateSelectedNodesPosition(t){const{dx:e,dy:n}=t;if(e||n)if(this.translateSelectedNodes(e,n),this.boxesUpdated)this.collection.length>1&&this.updateSelectionBoxes();else{const r=this.graph.transform.getScale();this.$boxes.add(this.$selectionContainer).css({left:`+=${e*r.sx}`,top:`+=${n*r.sy}`})}}autoScrollGraph(t,e){const n=this.graph.scroller.widget;return n?n.autoScroll(t,e):{scrollerX:0,scrollerY:0}}adjustSelection(t){const e=this.normalizeEvent(t),n=this.getEventData(e);switch(n.action){case"selecting":{const s=n;s.moving!==!0&&(this.$container.appendTo(this.graph.container),this.showRubberband(),s.moving=!0);const{scrollerX:o,scrollerY:a}=this.autoScrollGraph(e.clientX,e.clientY);s.scrollerX+=o,s.scrollerY+=a;const l=e.clientX-s.clientX+s.scrollerX,c=e.clientY-s.clientY+s.scrollerY,u=parseInt(this.$container.css("left"),10),h=parseInt(this.$container.css("top"),10);this.$container.css({left:l<0?s.offsetX+l:u,top:c<0?s.offsetY+c:h,width:Math.abs(l),height:Math.abs(c)});break}case"translating":{const s=this.graph.snapToGrid(e.clientX,e.clientY),o=n,a=this.getSelectionOffset(s,o);this.options.following?this.updateSelectedNodesPosition(a):this.updateContainerPosition(a),a.dx&&(o.clientX=s.x),a.dy&&(o.clientY=s.y),this.notifyBoxEvent("box:mousemove",t,s.x,s.y);break}}this.boxesUpdated=!1}translateSelectedNodes(t,e,n,r){const s={},o=[];if(n&&(s[n.id]=!0),this.collection.toArray().forEach(a=>{a.getDescendants({deep:!0}).forEach(l=>{s[l.id]=!0})}),r&&r.translateBy){const a=this.graph.getCellById(r.translateBy);a&&(s[a.id]=!0,a.getDescendants({deep:!0}).forEach(l=>{s[l.id]=!0}),o.push(a))}this.collection.toArray().forEach(a=>{if(!s[a.id]){const l=Object.assign(Object.assign({},r),{selection:this.cid,exclude:o});a.translate(t,e,l),this.graph.model.getConnectedEdges(a).forEach(c=>{s[c.id]||(c.translate(t,e,l),s[c.id]=!0)})}})}getCellViewsInArea(t){const e=this.graph,n={strict:this.options.strict};let r=[];return this.options.rubberNode&&(this.options.useCellGeometry?r=r.concat(e.model.getNodesInArea(t,n).map(s=>e.renderer.findViewByCell(s)).filter(s=>s!=null)):r=r.concat(e.renderer.findViewsInArea(t,n))),this.options.rubberEdge&&(this.options.useCellGeometry?r=r.concat(e.model.getEdgesInArea(t,n).map(s=>e.renderer.findViewByCell(s)).filter(s=>s!=null)):r=r.concat(e.renderer.findEdgeViewsInArea(t,n))),r}notifyBoxEvent(t,e,n,r){const o=this.getEventData(e).activeView;this.trigger(t,{e,view:o,x:n,y:r,cell:o.cell})}getSelectedClassName(t){return this.prefixClassName(`${t.isNode()?"node":"edge"}-selected`)}addCellSelectedClassName(t){const e=this.graph.renderer.findViewByCell(t);e&&e.addClass(this.getSelectedClassName(t))}removeCellUnSelectedClassName(t){const e=this.graph.renderer.findViewByCell(t);e&&e.removeClass(this.getSelectedClassName(t))}destroySelectionBox(t){this.removeCellUnSelectedClassName(t),this.canShowSelectionBox(t)&&(this.$container.find(`[data-cell-id="${t.id}"]`).remove(),this.$boxes.length===0&&this.hide(),this.boxCount=Math.max(0,this.boxCount-1))}destroyAllSelectionBoxes(t){t.forEach(e=>this.removeCellUnSelectedClassName(e)),this.hide(),this.$boxes.remove(),this.boxCount=0}hide(){this.$container.removeClass(this.prefixClassName(In.classNames.rubberband)).removeClass(this.prefixClassName(In.classNames.selected))}showRubberband(){this.$container.addClass(this.prefixClassName(In.classNames.rubberband))}hideRubberband(){this.$container.removeClass(this.prefixClassName(In.classNames.rubberband))}showSelected(){this.$container.removeAttr("style").addClass(this.prefixClassName(In.classNames.selected))}createContainer(){this.container=document.createElement("div"),this.$container=this.$(this.container),this.$container.addClass(this.prefixClassName(In.classNames.root)),this.options.className&&this.$container.addClass(this.options.className),this.$selectionContainer=this.$("<div/>").addClass(this.prefixClassName(In.classNames.inner)),this.$selectionContent=this.$("<div/>").addClass(this.prefixClassName(In.classNames.content)),this.$selectionContainer.append(this.$selectionContent),this.$selectionContainer.attr("data-selection-length",this.collection.length),this.$container.prepend(this.$selectionContainer),this.$handleContainer=this.$selectionContainer}updateContainerPosition(t){(t.dx||t.dy)&&this.$selectionContainer.css({left:`+=${t.dx}`,top:`+=${t.dy}`})}updateContainer(){const t={x:1/0,y:1/0},e={x:0,y:0};this.collection.toArray().filter(s=>this.canShowSelectionBox(s)).forEach(s=>{const o=this.graph.renderer.findViewByCell(s);if(o){const a=o.getBBox({useCellGeometry:this.options.useCellGeometry});t.x=Math.min(t.x,a.x),t.y=Math.min(t.y,a.y),e.x=Math.max(e.x,a.x+a.width),e.y=Math.max(e.y,a.y+a.height)}}),this.$selectionContainer.css({position:"absolute",pointerEvents:"none",left:t.x,top:t.y,width:e.x-t.x,height:e.y-t.y}).attr("data-selection-length",this.collection.length);const r=this.options.content;if(r)if(typeof r=="function"){const s=xt(r,this.graph,this,this.$selectionContent[0]);s&&this.$selectionContent.html(s)}else this.$selectionContent.html(r);this.collection.length>0&&!this.container.parentNode?this.$container.appendTo(this.graph.container):this.collection.length<=0&&this.container.parentNode&&this.container.parentNode.removeChild(this.container)}canShowSelectionBox(t){return t.isNode()&&this.options.showNodeSelectionBox===!0||t.isEdge()&&this.options.showEdgeSelectionBox===!0}createSelectionBox(t){if(this.addCellSelectedClassName(t),this.canShowSelectionBox(t)){const e=this.graph.renderer.findViewByCell(t);if(e){const n=e.getBBox({useCellGeometry:this.options.useCellGeometry}),r=this.boxClassName;this.$("<div/>").addClass(r).addClass(`${r}-${t.isNode()?"node":"edge"}`).attr("data-cell-id",t.id).css({position:"absolute",left:n.x,top:n.y,width:n.width,height:n.height,pointerEvents:this.options.pointerEvents||"auto"}).appendTo(this.container),this.showSelected(),this.boxCount+=1}}}updateSelectionBoxes(t={}){this.collection.length>0&&(this.boxesUpdated=!0,this.graph.renderer.requestViewUpdate(this,1,2,t))}confirmUpdate(){return this.boxCount&&(this.hide(),this.$boxes.each((t,e)=>{const n=this.$(e).remove().attr("data-cell-id"),r=this.collection.get(n);r&&this.createSelectionBox(r)}),this.updateContainer()),0}getCellViewFromElem(t){const e=t.getAttribute("data-cell-id");if(e){const n=this.collection.get(e);if(n)return this.graph.renderer.findViewByCell(n)}return null}onCellRemoved({cell:t}){this.destroySelectionBox(t),this.updateContainer()}onReseted({previous:t,current:e}){this.destroyAllSelectionBoxes(t),e.forEach(n=>{this.listenCellRemoveEvent(n),this.createSelectionBox(n)}),this.updateContainer()}onCellAdded({cell:t}){this.listenCellRemoveEvent(t),this.createSelectionBox(t),this.updateContainer()}listenCellRemoveEvent(t){t.off("removed",this.onCellRemoved,this),t.on("removed",this.onCellRemoved,this)}onCollectionUpdated({added:t,removed:e,options:n}){t.forEach(s=>{this.trigger("cell:selected",{cell:s,options:n}),this.graph.trigger("cell:selected",{cell:s,options:n}),s.isNode()?(this.trigger("node:selected",{cell:s,options:n,node:s}),this.graph.trigger("node:selected",{cell:s,options:n,node:s})):s.isEdge()&&(this.trigger("edge:selected",{cell:s,options:n,edge:s}),this.graph.trigger("edge:selected",{cell:s,options:n,edge:s}))}),e.forEach(s=>{this.trigger("cell:unselected",{cell:s,options:n}),this.graph.trigger("cell:unselected",{cell:s,options:n}),s.isNode()?(this.trigger("node:unselected",{cell:s,options:n,node:s}),this.graph.trigger("node:unselected",{cell:s,options:n,node:s})):s.isEdge()&&(this.trigger("edge:unselected",{cell:s,options:n,edge:s}),this.graph.trigger("edge:unselected",{cell:s,options:n,edge:s}))});const r={added:t,removed:e,options:n,selected:this.cells};this.trigger("selection:changed",r),this.graph.trigger("selection:changed",r)}deleteSelectedCells(){const t=this.collection.toArray();this.clean(),this.graph.model.removeCells(t,{selection:this.cid})}startRotate({e:t}){const e=this.collection.toArray(),n=ie.getCellsBBox(e).getCenter(),r=this.graph.snapToGrid(t.clientX,t.clientY),s=e.reduce((o,a)=>(o[a.id]=re.normalize(a.getAngle()),o),{});this.setEventData(t,{center:n,angles:s,start:r.theta(n)})}doRotate({e:t}){const e=this.getEventData(t),n=this.graph.options.rotating.grid,r=typeof n=="function"?xt(n,this.graph,null):n,s=this.graph.snapToGrid(t.clientX,t.clientY),o=e.start-s.theta(e.center);e.rotated||(e.rotated=!0),Math.abs(o)>.001&&(this.collection.toArray().forEach(a=>{const l=tn.snapToGrid(e.angles[a.id]+o,r||15);a.rotate(l,{absolute:!0,center:e.center,selection:this.cid})}),this.updateSelectionBoxes())}stopRotate({e:t}){const e=this.getEventData(t);e.rotated&&(e.rotated=!1,this.collection.toArray().forEach(n=>{on("node:rotated",t,this.graph.findViewByCell(n))}))}startResize({e:t}){const e=this.graph.getGridSize(),n=this.collection.toArray(),r=ie.getCellsBBox(n),s=n.map(l=>l.getBBox()),o=s.reduce((l,c)=>c.width<l?c.width:l,1/0),a=s.reduce((l,c)=>c.height<l?c.height:l,1/0);this.setEventData(t,{bbox:r,cells:this.graph.model.getSubGraph(n),minWidth:e*r.width/o,minHeight:e*r.height/a})}doResize({e:t,dx:e,dy:n}){const r=this.eventData(t),s=r.bbox,o=s.width,a=s.height,l=Math.max(o+e,r.minWidth),c=Math.max(a+n,r.minHeight);r.resized||(r.resized=!0),(Math.abs(o-l)>.001||Math.abs(a-c)>.001)&&(this.graph.model.resizeCells(l,c,r.cells,{selection:this.cid}),s.width=l,s.height=c,this.updateSelectionBoxes())}stopResize({e:t}){const e=this.eventData(t);e.resized&&(e.resized=!1,this.collection.toArray().forEach(n=>{on("node:resized",t,this.graph.findViewByCell(n))}))}dispose(){this.clean(),this.remove()}}s9([se.dispose()],xp.prototype,"dispose",null);ay(xp,Ws);var In;(function(i){const t="widget-selection";i.classNames={root:t,inner:`${t}-inner`,box:`${t}-box`,content:`${t}-content`,rubberband:`${t}-rubberband`,selected:`${t}-selected`},i.documentEvents={mousemove:"adjustSelection",touchmove:"adjustSelection",mouseup:"onMouseUp",touchend:"onMouseUp",touchcancel:"onMouseUp"},i.defaultOptions={movable:!0,following:!0,strict:!1,useCellGeometry:!1,content(n){return Mo('<%= length %> node<%= length > 1 ? "s":"" %> selected.')({length:n.length})},handles:[{name:"remove",position:"nw",events:{mousedown:"deleteSelectedCells"}},{name:"rotate",position:"sw",events:{mousedown:"startRotate",mousemove:"doRotate",mouseup:"stopRotate"}},{name:"resize",position:"se",events:{mousedown:"startResize",mousemove:"doResize",mouseup:"stopResize"}}]};function e(n){return n.getAncestors().length}i.depthComparator=e})(In||(In={}));class X2 extends Gl{get node(){return this.cell}get containerClassName(){return this.prefixClassName("widget-transform")}get resizeClassName(){return`${this.containerClassName}-resize`}get rotateClassName(){return`${this.containerClassName}-rotate`}init(t){this.options=Object.assign(Object.assign({},pn.defaultOptions),t),this.render(),this.startListening()}startListening(){this.delegateEvents({[`mousedown .${this.resizeClassName}`]:"startResizing",[`touchstart .${this.resizeClassName}`]:"startResizing",[`mousedown .${this.rotateClassName}`]:"startRotating",[`touchstart .${this.rotateClassName}`]:"startRotating"}),this.model.on("*",this.update,this),this.graph.on("scale",this.update,this),this.graph.on("translate",this.update,this),this.node.on("removed",this.remove,this),this.model.on("reseted",this.remove,this),this.view.on("cell:knob:mousedown",this.onKnobMouseDown,this),this.view.on("cell:knob:mouseup",this.onKnobMouseUp,this),super.startListening()}stopListening(){this.undelegateEvents(),this.model.off("*",this.update,this),this.graph.off("scale",this.update,this),this.graph.off("translate",this.update,this),this.node.off("removed",this.remove,this),this.model.off("reseted",this.remove,this),this.view.off("cell:knob:mousedown",this.onKnobMouseDown,this),this.view.off("cell:knob:mouseup",this.onKnobMouseUp,this),super.stopListening()}renderHandles(){this.container=document.createElement("div"),this.$container=this.$(this.container);const t=this.$("<div/>").prop("draggable",!1),e=t.clone().addClass(this.rotateClassName),n=pn.POSITIONS.map(r=>t.clone().addClass(this.resizeClassName).attr("data-position",r));this.empty(),this.$container.append(n,e)}render(){return this.renderHandles(),this.view.addClass(pn.NODE_CLS),this.$container.addClass(this.containerClassName).toggleClass("no-orth-resize",this.options.preserveAspectRatio||!this.options.orthogonalResizing).toggleClass("no-resize",!this.options.resizable).toggleClass("no-rotate",!this.options.rotatable),this.options.className&&this.$container.addClass(this.options.className),this.graph.container.appendChild(this.container),this.update()}update(){const t=this.graph.matrix(),e=this.node.getBBox();e.x*=t.a,e.x+=t.e,e.y*=t.d,e.y+=t.f,e.width*=t.a,e.height*=t.d;const n=re.normalize(this.node.getAngle()),r=n!==0?`rotate(${n}deg)`:"";return this.$container.css({transform:r,width:e.width,height:e.height,left:e.x,top:e.y}),this.updateResizerDirections(),this}remove(){return this.view.removeClass(pn.NODE_CLS),super.remove()}onKnobMouseDown(){this.startHandle()}onKnobMouseUp(){this.stopHandle()}updateResizerDirections(){const t=re.normalize(this.node.getAngle()),e=Math.floor(t*(pn.DIRECTIONS.length/360));if(e!==this.prevShift){const n=pn.DIRECTIONS.slice(e).concat(pn.DIRECTIONS.slice(0,e)),r=s=>`${this.containerClassName}-cursor-${s}`;this.$container.find(`.${this.resizeClassName}`).removeClass(pn.DIRECTIONS.map(s=>r(s)).join(" ")).each((s,o)=>{this.$(o).addClass(r(n[s]))}),this.prevShift=e}}getTrueDirection(t){const e=re.normalize(this.node.getAngle());let n=pn.POSITIONS.indexOf(t);return n+=Math.floor(e*(pn.POSITIONS.length/360)),n%=pn.POSITIONS.length,pn.POSITIONS[n]}toValidResizeDirection(t){return{top:"top-left",bottom:"bottom-right",left:"bottom-left",right:"top-right"}[t]||t}startResizing(t){t.stopPropagation(),this.model.startBatch("resize",{cid:this.cid});const e=this.$(t.target).attr("data-position"),n=this.graph.findViewByCell(this.node);this.prepareResizing(t,e),this.startAction(t),on("node:resize:mousedown",t,n)}prepareResizing(t,e){const n=this.getTrueDirection(e);let r=0,s=0;e.split("-").forEach(c=>{r={left:-1,right:1}[c]||r,s={top:-1,bottom:1}[c]||s});const o=this.toValidResizeDirection(e),a={"top-right":"bottomLeft","top-left":"bottomRight","bottom-left":"topRight","bottom-right":"topLeft"}[o],l=re.normalize(this.node.getAngle());this.setEventData(t,{selector:a,direction:o,trueDirection:n,relativeDirection:e,angle:l,resizeX:r,resizeY:s,action:"resizing"})}startRotating(t){t.stopPropagation(),this.model.startBatch("rotate",{cid:this.cid});const e=this.graph.findViewByCell(this.node),n=this.node.getBBox().getCenter(),r=this.normalizeEvent(t),s=this.graph.snapToGrid(r.clientX,r.clientY);this.setEventData(t,{center:n,action:"rotating",angle:re.normalize(this.node.getAngle()),start:N.create(s).theta(n)}),this.startAction(t),on("node:rotate:mousedown",t,e)}onMouseMove(t){const e=this.graph.findViewByCell(this.node);let n=this.getEventData(t);if(n.action){const r=this.normalizeEvent(t);let s=r.clientX,o=r.clientY;const a=this.graph.scroller.widget,l=this.options.restrictedResizing;if(l===!0||typeof l=="number"){const p=l===!0?0:l,b=a?Math.max(p,8):p,v=this.graph.container.getBoundingClientRect();s=zn(s,v.left+b,v.right-b),o=zn(o,v.top+b,v.bottom-b)}else this.options.autoScrollOnResizing&&a&&a.autoScroll(s,o);const c=this.graph.snapToGrid(s,o),u=this.graph.getGridSize(),h=this.node,f=this.options;if(n.action==="resizing"){n=n,n.resized||(e&&(e.addClass("node-resizing"),on("node:resize",t,e)),n.resized=!0);const p=h.getBBox(),b=N.create(c).rotate(n.angle,p.getCenter()).diff(p[n.selector]);let v=n.resizeX?b.x*n.resizeX:p.width,C=n.resizeY?b.y*n.resizeY:p.height;const x=v,S=C;if(v=tn.snapToGrid(v,u),C=tn.snapToGrid(C,u),v=Math.max(v,f.minWidth||u),C=Math.max(C,f.minHeight||u),v=Math.min(v,f.maxWidth||1/0),C=Math.min(C,f.maxHeight||1/0),f.preserveAspectRatio){const O=p.width*C/p.height,k=p.height*v/p.width;v<O?C=k:v=O}const E=n.relativeDirection;if(f.allowReverse&&(x<=-v||S<=-C)){let O;E==="left"?x<=-v&&(O="right"):E==="right"?x<=-v&&(O="left"):E==="top"?S<=-C&&(O="bottom"):E==="bottom"?S<=-C&&(O="top"):E==="top-left"?x<=-v&&S<=-C?O="bottom-right":x<=-v?O="top-right":S<=-C&&(O="bottom-left"):E==="top-right"?x<=-v&&S<=-C?O="bottom-left":x<=-v?O="top-left":S<=-C&&(O="bottom-right"):E==="bottom-left"?x<=-v&&S<=-C?O="top-right":x<=-v?O="bottom-right":S<=-C&&(O="top-left"):E==="bottom-right"&&(x<=-v&&S<=-C?O="top-left":x<=-v?O="bottom-left":S<=-C&&(O="top-right"));const k=O;this.stopHandle();const m=this.$container.find(`.${this.resizeClassName}[data-position="${k}"]`);this.startHandle(m[0]),this.prepareResizing(t,k),this.onMouseMove(t)}if(p.width!==v||p.height!==C){const O={ui:!0,direction:n.direction,relativeDirection:n.relativeDirection,trueDirection:n.trueDirection,minWidth:f.minWidth,minHeight:f.minHeight,maxWidth:f.maxWidth,maxHeight:f.maxHeight,preserveAspectRatio:f.preserveAspectRatio===!0};h.resize(v,C,O),on("node:resizing",t,e)}on("node:resize:mousemove",t,e)}else if(n.action==="rotating"){n=n,n.rotated||(e&&(e.addClass("node-rotating"),on("node:rotate",t,e)),n.rotated=!0);const p=h.getAngle(),b=n.start-N.create(c).theta(n.center);let v=n.angle+b;f.rotateGrid&&(v=tn.snapToGrid(v,f.rotateGrid)),p!==v&&(h.rotate(v,{absolute:!0}),on("node:rotating",t,e)),on("node:rotate:mousemove",t,e)}}}onMouseUp(t){const e=this.graph.findViewByCell(this.node),n=this.getEventData(t);n.action&&(this.stopAction(t),this.model.stopBatch(n.action==="resizing"?"resize":"rotate",{cid:this.cid}),n.action==="resizing"?on("node:resize:mouseup",t,e):n.action==="rotating"&&on("node:rotate:mouseup",t,e))}startHandle(t){if(this.handle=t||null,this.$container.addClass(`${this.containerClassName}-active`),t){this.$(t).addClass(`${this.containerClassName}-active-handle`);const e=t.getAttribute("data-position");if(e){const n=pn.DIRECTIONS[pn.POSITIONS.indexOf(e)];this.$container.addClass(`${this.containerClassName}-cursor-${n}`)}}}stopHandle(){if(this.$container.removeClass(`${this.containerClassName}-active`),this.handle){this.$(this.handle).removeClass(`${this.containerClassName}-active-handle`);const t=this.handle.getAttribute("data-position");if(t){const e=pn.DIRECTIONS[pn.POSITIONS.indexOf(t)];this.$container.removeClass(`${this.containerClassName}-cursor-${e}`)}this.handle=null}}startAction(t){this.startHandle(t.target),this.graph.view.undelegateEvents(),this.delegateDocumentEvents(pn.documentEvents,t.data)}stopAction(t){this.stopHandle(),this.undelegateDocumentEvents(),this.graph.view.delegateEvents();const e=this.graph.findViewByCell(this.node),n=this.getEventData(t);e&&(e.removeClass(`node-${n.action}`),n.action==="resizing"&&n.resized?on("node:resized",t,e):n.action==="rotating"&&n.rotated&&on("node:rotated",t,e))}}var pn;(function(i){i.NODE_CLS="has-widget-transform",i.DIRECTIONS=["nw","n","ne","e","se","s","sw","w"],i.POSITIONS=["top-left","top","top-right","right","bottom-right","bottom","bottom-left","left"],i.documentEvents={mousemove:"onMouseMove",touchmove:"onMouseMove",mouseup:"onMouseUp",touchend:"onMouseUp"},i.defaultOptions={minWidth:0,minHeight:0,maxWidth:1/0,maxHeight:1/0,rotateGrid:15,rotatable:!0,preserveAspectRatio:!1,orthogonalResizing:!0,restrictedResizing:!1,autoScrollOnResizing:!0,allowReverse:!0}})(pn||(pn={}));var o9=globalThis&&globalThis.__rest||function(i,t){var e={};for(var n in i)Object.prototype.hasOwnProperty.call(i,n)&&t.indexOf(n)<0&&(e[n]=i[n]);if(i!=null&&typeof Object.getOwnPropertySymbols=="function")for(var r=0,n=Object.getOwnPropertySymbols(i);r<n.length;r++)t.indexOf(n[r])<0&&Object.prototype.propertyIsEnumerable.call(i,n[r])&&(e[n[r]]=i[n[r]]);return e},Ii;(function(i){function t(e,n,r){const s={};return Object.keys(r||{}).forEach(o=>{const a=r[o];s[o]=typeof a=="function"?a.call(e,n):a}),s}i.parseOptionGroup=t})(Ii||(Ii={}));(function(i){function t(e){const{grid:n,panning:r,selecting:s,embedding:o,snapline:a,resizing:l,rotating:c,knob:u,clipboard:h,history:f,scroller:p,minimap:b,keyboard:v,mousewheel:C}=e,x=o9(e,["grid","panning","selecting","embedding","snapline","resizing","rotating","knob","clipboard","history","scroller","minimap","keyboard","mousewheel"]),S=e.container;if(S!=null)x.width==null&&(x.width=S.clientWidth),x.height==null&&(x.height=S.clientHeight);else throw new Error("Ensure the container of the graph is specified and valid");const E=Ne({},i.defaults,x),O={size:10,visible:!1};return typeof n=="number"?E.grid={size:n,visible:!1}:typeof n=="boolean"?E.grid=Object.assign(Object.assign({},O),{visible:n}):E.grid=Object.assign(Object.assign({},O),n),["panning","selecting","embedding","snapline","resizing","rotating","knob","clipboard","history","scroller","minimap","keyboard","mousewheel"].forEach(m=>{const T=e[m];typeof T=="boolean"?E[m].enabled=T:E[m]=Object.assign(Object.assign({},E[m]),T)}),E.background&&E.scroller.enabled&&E.scroller.background==null&&(E.scroller.background=E.background,delete E.background),E}i.get=t})(Ii||(Ii={}));(function(i){i.defaults={x:0,y:0,grid:{size:10,visible:!1},scaling:{min:.01,max:16},background:!1,highlighting:{default:{name:"stroke",args:{padding:3}},nodeAvailable:{name:"className",args:{className:tn.prefix("available-node")}},magnetAvailable:{name:"className",args:{className:tn.prefix("available-magnet")}}},connecting:{snap:!1,multi:!0,dangling:!0,allowLoop:!0,allowNode:!0,allowEdge:!1,allowPort:!0,highlight:!1,anchor:"center",edgeAnchor:"ratio",connectionPoint:"boundary",strategy:null,router:"normal",connector:"normal",validateConnection({type:t,sourceView:e,targetView:n}){return(t==="target"?n:e)!=null},createEdge(){return new yp}},transforming:{clearAll:!0,clearOnBlankMouseDown:!0},resizing:{enabled:!1,minWidth:0,minHeight:0,maxWidth:Number.MAX_SAFE_INTEGER,maxHeight:Number.MAX_SAFE_INTEGER,orthogonal:!0,restricted:!1,autoScroll:!0,preserveAspectRatio:!1,allowReverse:!0},rotating:{enabled:!1,grid:15},translating:{restrict:!1},knob:{enabled:!1,clearAll:!0,clearOnBlankMouseDown:!0},embedding:{enabled:!1,findParent:"bbox",frontOnly:!0,validate:()=>!0},selecting:{enabled:!1,rubberband:!1,rubberNode:!0,rubberEdge:!1,pointerEvents:"auto",multiple:!0,movable:!0,strict:!1,useCellGeometry:!1,selectCellOnMoved:!1,selectNodeOnMoved:!1,selectEdgeOnMoved:!1,content:null,handles:null},panning:{enabled:!1,eventTypes:["leftMouseDown"]},snapline:{enabled:!1},clipboard:{enabled:!1},history:{enabled:!1},scroller:{enabled:!1},keyboard:{enabled:!1},mousewheel:{enabled:!1,factor:1.2,zoomAtMousePosition:!0},async:!1,frozen:!1,sorting:"exact",moveThreshold:0,clickThreshold:0,magnetThreshold:0,preventDefaultDblClick:!0,preventDefaultMouseDown:!1,preventDefaultContextMenu:!0,preventDefaultBlankAction:!0,interacting:{edgeLabelMovable:!1},guard:()=>!1}})(Ii||(Ii={}));var Y2=globalThis&&globalThis.__rest||function(i,t){var e={};for(var n in i)Object.prototype.hasOwnProperty.call(i,n)&&t.indexOf(n)<0&&(e[n]=i[n]);if(i!=null&&typeof Object.getOwnPropertySymbols=="function")for(var r=0,n=Object.getOwnPropertySymbols(i);r<n.length;r++)t.indexOf(n[r])<0&&Object.prototype.propertyIsEnumerable.call(i,n[r])&&(e[n[r]]=i[n[r]]);return e};class T1 extends Ee{get cid(){return this.graph.view.cid}get svg(){return this.view.svg}get defs(){return this.view.defs}isDefined(t){return this.svg.getElementById(t)!=null}filter(t){let e=t.id;const n=t.name;if(e||(e=`filter-${n}-${this.cid}-${Vh(JSON.stringify(t))}`),!this.isDefined(e)){const r=Qo.registry.get(n);if(r==null)return Qo.registry.onNotFound(n);const s=r(t.args||{}),o=Object.assign(Object.assign({x:-1,y:-1,width:3,height:3,filterUnits:"objectBoundingBox"},t.attrs),{id:e});St.create(he.sanitize(s),o).appendTo(this.defs)}return e}gradient(t){let e=t.id;const n=t.type;if(e||(e=`gradient-${n}-${this.cid}-${Vh(JSON.stringify(t))}`),!this.isDefined(e)){const s=t.stops.map(l=>{const c=l.opacity!=null&&Number.isFinite(l.opacity)?l.opacity:1;return`<stop offset="${l.offset}" stop-color="${l.color}" stop-opacity="${c}"/>`}),o=`<${n}>${s.join("")}</${n}>`,a=Object.assign({id:e},t.attrs);St.create(o,a).appendTo(this.defs)}return e}marker(t){const{id:e,refX:n,refY:r,markerUnits:s,markerOrient:o,tagName:a,children:l}=t,c=Y2(t,["id","refX","refY","markerUnits","markerOrient","tagName","children"]);let u=e;if(u||(u=`marker-${this.cid}-${Vh(JSON.stringify(t))}`),!this.isDefined(u)){a!=="path"&&delete c.d;const h=St.create("marker",{refX:n,refY:r,id:u,overflow:"visible",orient:o!=null?o:"auto",markerUnits:s||"userSpaceOnUse"},l?l.map(f=>{var{tagName:p}=f,b=Y2(f,["tagName"]);return St.create(`${p}`||"path",vl(Object.assign(Object.assign({},c),b)))}):[St.create(a||"path",vl(c))]);this.defs.appendChild(h.node)}return u}remove(t){const e=this.svg.getElementById(t);e&&e.parentNode&&e.parentNode.removeChild(e)}}var a9=globalThis&&globalThis.__decorate||function(i,t,e,n){var r=arguments.length,s=r<3?t:n===null?n=Object.getOwnPropertyDescriptor(t,e):n,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")s=Reflect.decorate(i,t,e,n);else for(var a=i.length-1;a>=0;a--)(o=i[a])&&(s=(r<3?o(s):r>3?o(t,e,s):o(t,e))||s);return r>3&&s&&Object.defineProperty(t,e,s),s},l9=globalThis&&globalThis.__rest||function(i,t){var e={};for(var n in i)Object.prototype.hasOwnProperty.call(i,n)&&t.indexOf(n)<0&&(e[n]=i[n]);if(i!=null&&typeof Object.getOwnPropertySymbols=="function")for(var r=0,n=Object.getOwnPropertySymbols(i);r<n.length;r++)t.indexOf(n[r])<0&&Object.prototype.propertyIsEnumerable.call(i,n[r])&&(e[n[r]]=i[n[r]]);return e};class Cp extends Ee{get elem(){return this.view.grid}get grid(){return this.options.grid}init(){this.startListening(),this.draw(this.grid)}startListening(){this.graph.on("scale",this.update,this),this.graph.on("translate",this.update,this)}stopListening(){this.graph.off("scale",this.update,this),this.graph.off("translate",this.update,this)}setVisible(t){this.grid.visible!==t&&(this.grid.visible=t,this.update())}getGridSize(){return this.grid.size}setGridSize(t){this.grid.size=Math.max(t,1),this.update()}show(){this.setVisible(!0),this.update()}hide(){this.setVisible(!1),this.update()}clear(){this.elem.style.backgroundImage=""}draw(t){this.clear(),this.instance=null,Object.assign(this.grid,t),this.patterns=this.resolveGrid(t),this.update()}update(t={}){const e=this.grid.size;if(e<=1||!this.grid.visible)return this.clear();const n=this.graph.matrix(),r=this.getInstance(),s=Array.isArray(t)?t:[t];this.patterns.forEach((l,c)=>{const u=`pattern_${c}`,h=n.a||1,f=n.d||1,{update:p,markup:b}=l,v=l9(l,["update","markup"]),C=Object.assign(Object.assign(Object.assign({},v),s[c]),{sx:h,sy:f,ox:n.e||0,oy:n.f||0,width:e*h,height:e*f});r.has(u)||r.add(u,St.create("pattern",{id:u,patternUnits:"userSpaceOnUse"},St.createVectors(b)).node);const x=r.get(u);typeof p=="function"&&p(x.childNodes[0],C);let S=C.ox%C.width;S<0&&(S+=C.width);let E=C.oy%C.height;E<0&&(E+=C.height),be(x,{x:S,y:E,width:C.width,height:C.height})});const o=new XMLSerializer().serializeToString(r.root),a=`url(data:image/svg+xml;base64,${btoa(o)})`;this.elem.style.backgroundImage=a}getInstance(){return this.instance||(this.instance=new Wr),this.instance}resolveGrid(t){if(!t)return[];const e=t.type;if(e==null)return[Object.assign(Object.assign({},Wr.presets.dot),t.args)];const n=Wr.registry.get(e);if(n){let r=t.args||[];return Array.isArray(r)||(r=[r]),Array.isArray(n)?n.map((s,o)=>Object.assign(Object.assign({},s),r[o])):[Object.assign(Object.assign({},n),r[0])]}return Wr.registry.onNotFound(e)}dispose(){this.stopListening(),this.clear()}}a9([Ee.dispose()],Cp.prototype,"dispose",null);class P1 extends Ee{getClientMatrix(){return wn(this.view.stage.getScreenCTM())}getClientOffset(){const t=this.view.svg.getBoundingClientRect();return new N(t.left,t.top)}getPageOffset(){return this.getClientOffset().translate(window.scrollX,window.scrollY)}snapToGrid(t,e){return(typeof t=="number"?this.clientToLocalPoint(t,e):this.clientToLocalPoint(t.x,t.y)).snapToGrid(this.graph.getGridSize())}localToGraphPoint(t,e){const n=N.create(t,e);return gr(n,this.graph.matrix())}localToClientPoint(t,e){const n=N.create(t,e);return gr(n,this.getClientMatrix())}localToPagePoint(t,e){return(typeof t=="number"?this.localToGraphPoint(t,e):this.localToGraphPoint(t)).translate(this.getPageOffset())}localToGraphRect(t,e,n,r){const s=ht.create(t,e,n,r);return ci(s,this.graph.matrix())}localToClientRect(t,e,n,r){const s=ht.create(t,e,n,r);return ci(s,this.getClientMatrix())}localToPageRect(t,e,n,r){return(typeof t=="number"?this.localToGraphRect(t,e,n,r):this.localToGraphRect(t)).translate(this.getPageOffset())}graphToLocalPoint(t,e){const n=N.create(t,e);return gr(n,this.graph.matrix().inverse())}clientToLocalPoint(t,e){const n=N.create(t,e);return gr(n,this.getClientMatrix().inverse())}clientToGraphPoint(t,e){const n=N.create(t,e);return gr(n,this.graph.matrix().multiply(this.getClientMatrix().inverse()))}pageToLocalPoint(t,e){const r=N.create(t,e).diff(this.getPageOffset());return this.graphToLocalPoint(r)}graphToLocalRect(t,e,n,r){const s=ht.create(t,e,n,r);return ci(s,this.graph.matrix().inverse())}clientToLocalRect(t,e,n,r){const s=ht.create(t,e,n,r);return ci(s,this.getClientMatrix().inverse())}clientToGraphRect(t,e,n,r){const s=ht.create(t,e,n,r);return ci(s,this.graph.matrix().multiply(this.getClientMatrix().inverse()))}pageToLocalRect(t,e,n,r){const s=ht.create(t,e,n,r),o=this.getPageOffset();return s.x-=o.x,s.y-=o.y,this.graphToLocalRect(s)}}var c9=globalThis&&globalThis.__decorate||function(i,t,e,n){var r=arguments.length,s=r<3?t:n===null?n=Object.getOwnPropertyDescriptor(t,e):n,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")s=Reflect.decorate(i,t,e,n);else for(var a=i.length-1;a>=0;a--)(o=i[a])&&(s=(r<3?o(s):r>3?o(t,e,s):o(t,e))||s);return r>3&&s&&Object.defineProperty(t,e,s),s};class wp extends Ee{constructor(){super(...arguments),this.widget=this.graph.hook.createSnapline()}dispose(){this.widget.dispose()}}c9([Ee.dispose()],wp.prototype,"dispose",null);var Xs;(function(i){function t(r){const s=[],o=[];return Array.isArray(r)?s.push(...r):r.split("|").forEach(a=>{a.indexOf("&")===-1?s.push(a):o.push(...a.split("&"))}),{or:s,and:o}}i.parse=t;function e(r,s){if(r!=null&&s!=null){const o=t(r),a=t(s),l=o.or.sort(),c=a.or.sort(),u=o.and.sort(),h=a.and.sort(),f=(p,b)=>p.length===b.length&&(p.length===0||p.every((v,C)=>v===b[C]));return f(l,c)&&f(u,h)}return r==null&&s==null}i.equals=e;function n(r,s,o){if(s==null||Array.isArray(s)&&s.length===0)return o?r.altKey!==!0&&r.ctrlKey!==!0&&r.metaKey!==!0&&r.shiftKey!==!0:!0;const{or:a,and:l}=t(s),c=u=>{const h=`${u.toLowerCase()}Key`;return r[h]===!0};return a.some(u=>c(u))&&l.every(u=>c(u))}i.isMatch=n})(Xs||(Xs={}));var u9=globalThis&&globalThis.__decorate||function(i,t,e,n){var r=arguments.length,s=r<3?t:n===null?n=Object.getOwnPropertyDescriptor(t,e):n,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")s=Reflect.decorate(i,t,e,n);else for(var a=i.length-1;a>=0;a--)(o=i[a])&&(s=(r<3?o(s):r>3?o(t,e,s):o(t,e))||s);return r>3&&s&&Object.defineProperty(t,e,s),s};class Sp extends Ee{get widgetOptions(){return this.options.scroller}get pannable(){return this.widgetOptions?typeof this.widgetOptions.pannable=="object"?this.widgetOptions.pannable.enabled:!!this.widgetOptions.pannable:!1}init(){this.widget=this.graph.hook.createScroller(),this.startListening(),this.updateClassName(),this.widget&&this.widget.center()}startListening(){let t=[];const e=this.widgetOptions.pannable;typeof e=="object"?t=e.eventTypes||[]:t=["leftMouseDown"],t.includes("leftMouseDown")&&(this.graph.on("blank:mousedown",this.preparePanning,this),this.graph.on("node:unhandled:mousedown",this.preparePanning,this),this.graph.on("edge:unhandled:mousedown",this.preparePanning,this)),t.includes("rightMouseDown")&&(this.onRightMouseDown=this.onRightMouseDown.bind(this),this.view.$(this.widget.container).on("mousedown",this.onRightMouseDown))}stopListening(){let t=[];const e=this.widgetOptions.pannable;typeof e=="object"?t=e.eventTypes||[]:t=["leftMouseDown"],t.includes("leftMouseDown")&&(this.graph.off("blank:mousedown",this.preparePanning,this),this.graph.off("node:unhandled:mousedown",this.preparePanning,this),this.graph.off("edge:unhandled:mousedown",this.preparePanning,this)),t.includes("rightMouseDown")&&this.view.$(this.widget.container).off("mousedown",this.onRightMouseDown)}onRightMouseDown(t){t.button===2&&this.allowPanning(t,!0)&&this.widget&&(this.updateClassName(!0),this.widget.startPanning(t),this.widget.once("pan:stop",()=>this.updateClassName(!1)))}preparePanning({e:t}){this.widget&&(this.allowPanning(t,!0)||this.allowPanning(t)&&!this.graph.selection.allowRubberband(t,!0))&&(this.updateClassName(!0),this.widget.startPanning(t),this.widget.once("pan:stop",()=>this.updateClassName(!1)))}allowPanning(t,e){return this.widget&&this.pannable&&Xs.isMatch(t,this.widgetOptions.modifiers,e)&&this.graph.hook.allowPanning(t)}updateClassName(t){if(this.widget==null)return;const e=this.widget.container,n=this.view.prefixClassName("graph-scroller-pannable");this.pannable?(me(e,n),e.dataset.panning=(!!t).toString()):Ci(e,n)}enablePanning(){this.pannable||(this.widgetOptions.pannable=!0,this.updateClassName())}disablePanning(){this.pannable&&(this.widgetOptions.pannable=!1,this.updateClassName())}lock(){this.widget&&this.widget.lock()}unlock(){this.widget&&this.widget.unlock()}update(){this.widget&&this.widget.update()}enableAutoResize(){this.widget&&this.widget.enableAutoResize()}disableAutoResize(){this.widget&&this.widget.disableAutoResize()}resize(t,e){this.widget&&this.widget.resize(t,e)}dispose(){this.widget&&this.widget.dispose(),this.stopListening()}}u9([Ee.dispose()],Sp.prototype,"dispose",null);var h9=globalThis&&globalThis.__decorate||function(i,t,e,n){var r=arguments.length,s=r<3?t:n===null?n=Object.getOwnPropertyDescriptor(t,e):n,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")s=Reflect.decorate(i,t,e,n);else for(var a=i.length-1;a>=0;a--)(o=i[a])&&(s=(r<3?o(s):r>3?o(t,e,s):o(t,e))||s);return r>3&&s&&Object.defineProperty(t,e,s),s},d9=globalThis&&globalThis.__rest||function(i,t){var e={};for(var n in i)Object.prototype.hasOwnProperty.call(i,n)&&t.indexOf(n)<0&&(e[n]=i[n]);if(i!=null&&typeof Object.getOwnPropertySymbols=="function")for(var r=0,n=Object.getOwnPropertySymbols(i);r<n.length;r++)t.indexOf(n[r])<0&&Object.prototype.propertyIsEnumerable.call(i,n[r])&&(e[n[r]]=i[n[r]]);return e};class Ep extends Ee{get commonOptions(){const t=this.instanceOptions;return d9(t,["enabled"])}get instanceOptions(){return this.options.clipboard}get cells(){return this.widget.cells}get disabled(){return this.instanceOptions.enabled!==!0}init(){this.widget=this.graph.hook.createClipboard(),this.widget.deserialize(this.instanceOptions)}enable(){this.disabled&&(this.instanceOptions.enabled=!0)}disable(){this.disabled||(this.instanceOptions.enabled=!1)}copy(t,e={}){this.disabled||this.widget.copy(t,this.graph,Object.assign(Object.assign({},this.commonOptions),e))}cut(t,e={}){this.disabled||this.widget.cut(t,this.graph,Object.assign(Object.assign({},this.commonOptions),e))}paste(t={},e=this.graph){return this.disabled?[]:this.widget.paste(e,Object.assign(Object.assign({},this.commonOptions),t))}clean(t){(!this.disabled||t)&&this.widget.clean()}isEmpty(){return this.widget.isEmpty()}dispose(){this.clean(!0)}}h9([Ee.dispose()],Ep.prototype,"dispose",null);var f9=globalThis&&globalThis.__decorate||function(i,t,e,n){var r=arguments.length,s=r<3?t:n===null?n=Object.getOwnPropertyDescriptor(t,e):n,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")s=Reflect.decorate(i,t,e,n);else for(var a=i.length-1;a>=0;a--)(o=i[a])&&(s=(r<3?o(s):r>3?o(t,e,s):o(t,e))||s);return r>3&&s&&Object.defineProperty(t,e,s),s};class lu extends Ee{constructor(){super(...arguments),this.highlights={}}init(){this.startListening()}startListening(){this.graph.on("cell:highlight",this.onCellHighlight,this),this.graph.on("cell:unhighlight",this.onCellUnhighlight,this)}stopListening(){this.graph.off("cell:highlight",this.onCellHighlight,this),this.graph.off("cell:unhighlight",this.onCellUnhighlight,this)}onCellHighlight({view:t,magnet:e,options:n={}}){const r=this.resolveHighlighter(n);if(!r)return;const s=this.getHighlighterId(e,r);if(!this.highlights[s]){const o=r.highlighter;o.highlight(t,e,Object.assign({},r.args)),this.highlights[s]={cellView:t,magnet:e,highlighter:o,args:r.args}}}onCellUnhighlight({magnet:t,options:e={}}){const n=this.resolveHighlighter(e);if(!n)return;const r=this.getHighlighterId(t,n);this.unhighlight(r)}resolveHighlighter(t){const e=this.options;let n=t.highlighter;if(n==null){const a=t.type;n=a&&e.highlighting[a]||e.highlighting.default}if(n==null)return null;const r=typeof n=="string"?{name:n}:n,s=r.name,o=vr.registry.get(s);return o==null?vr.registry.onNotFound(s):(vr.check(s,o),{name:s,highlighter:o,args:r.args||{}})}getHighlighterId(t,e){return Ru(t),e.name+t.id+JSON.stringify(e.args)}unhighlight(t){const e=this.highlights[t];e&&(e.highlighter.unhighlight(e.cellView,e.magnet,e.args),delete this.highlights[t])}dispose(){Object.keys(this.highlights).forEach(t=>this.unhighlight(t)),this.stopListening()}}f9([lu.dispose()],lu.prototype,"dispose",null);var p9=globalThis&&globalThis.__decorate||function(i,t,e,n){var r=arguments.length,s=r<3?t:n===null?n=Object.getOwnPropertyDescriptor(t,e):n,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")s=Reflect.decorate(i,t,e,n);else for(var a=i.length-1;a>=0;a--)(o=i[a])&&(s=(r<3?o(s):r>3?o(t,e,s):o(t,e))||s);return r>3&&s&&Object.defineProperty(t,e,s),s};class cu extends Ee{constructor(){super(...arguments),this.widgets=new Map}get container(){return this.graph.view.container}get viewport(){return this.graph.view.viewport}get isSelectionEnabled(){return this.options.selecting.enabled===!0}init(){this.startListening(),this.resize()}startListening(){this.graph.on("node:mouseup",this.onNodeMouseUp,this),this.graph.on("node:selected",this.onNodeSelected,this),this.graph.on("node:unselected",this.onNodeUnSelected,this)}stopListening(){this.graph.off("node:mouseup",this.onNodeMouseUp,this),this.graph.off("node:selected",this.onNodeSelected,this),this.graph.off("node:unselected",this.onNodeUnSelected,this)}onNodeMouseUp({node:t}){if(!this.isSelectionEnabled){const e=this.graph.hook.createTransform(t,{clearAll:!0});e&&this.widgets.set(t,e)}}onNodeSelected({node:t}){if(this.isSelectionEnabled){const e=this.graph.hook.createTransform(t,{clearAll:!1});e&&this.widgets.set(t,e)}}onNodeUnSelected({node:t}){if(this.isSelectionEnabled){const e=this.widgets.get(t);e&&e.dispose(),this.widgets.delete(t)}}getMatrix(){const t=this.viewport.getAttribute("transform");return t!==this.viewportTransformString&&(this.viewportMatrix=this.viewport.getCTM(),this.viewportTransformString=t),wn(this.viewportMatrix)}setMatrix(t){const e=wn(t),n=uo(e);this.viewport.setAttribute("transform",n),this.viewportMatrix=e,this.viewportTransformString=n}resize(t,e){let n=t===void 0?this.options.width:t,r=e===void 0?this.options.height:e;this.options.width=n,this.options.height=r,typeof n=="number"&&(n=Math.round(n)),typeof r=="number"&&(r=Math.round(r)),this.container.style.width=n==null?"":`${n}px`,this.container.style.height=r==null?"":`${r}px`;const s=this.getComputedSize();return this.graph.trigger("resize",Object.assign({},s)),this}getComputedSize(){let t=this.options.width,e=this.options.height;return $0(t)||(t=this.container.clientWidth),$0(e)||(e=this.container.clientHeight),{width:t,height:e}}getScale(){return QN(this.getMatrix())}scale(t,e=t,n=0,r=0,s={}){if(t=this.clampScale(t),e=this.clampScale(e),n||r){const a=this.getTranslation(),l=a.tx-n*(t-1),c=a.ty-r*(e-1);(l!==a.tx||c!==a.ty)&&this.translate(l,c)}const o=this.getMatrix();return o.a=t,o.d=e,this.setMatrix(o),this.graph.trigger("scale",Object.assign({sx:t,sy:e,ox:n,oy:r},s)),this}clampScale(t){const e=this.graph.options.scaling;return zn(t,e.min||.01,e.max||16)}getZoom(){return this.getScale().sx}zoom(t,e){e=e||{};let n=t,r=t;const s=this.getScale(),o=this.getComputedSize();let a=o.width/2,l=o.height/2;if(e.absolute||(n+=s.sx,r+=s.sy),e.scaleGrid&&(n=Math.round(n/e.scaleGrid)*e.scaleGrid,r=Math.round(r/e.scaleGrid)*e.scaleGrid),e.maxScale&&(n=Math.min(e.maxScale,n),r=Math.min(e.maxScale,r)),e.minScale&&(n=Math.max(e.minScale,n),r=Math.max(e.minScale,r)),e.center&&(a=e.center.x,l=e.center.y),n=this.clampScale(n),r=this.clampScale(r),a||l){const c=this.getTranslation(),u=a-(a-c.tx)*(n/s.sx),h=l-(l-c.ty)*(r/s.sy);(u!==c.tx||h!==c.ty)&&this.translate(u,h,{ui:e.ui})}return this.scale(n,r,0,0,{ui:e.ui}),this}getRotation(){return t$(this.getMatrix())}rotate(t,e,n){if(e==null||n==null){const s=Cn(this.graph.view.stage);e=s.width/2,n=s.height/2}const r=this.getMatrix().translate(e,n).rotate(t).translate(-e,-n);return this.setMatrix(r),this}getTranslation(){return e$(this.getMatrix())}translate(t,e,n={}){const r=this.getMatrix();r.e=t||0,r.f=e||0,this.setMatrix(r);const s=this.getTranslation();return this.options.x=s.tx,this.options.y=s.ty,this.graph.trigger("translate",Object.assign(Object.assign({},s),n)),this}setOrigin(t,e){return this.translate(t||0,e||0)}fitToContent(t,e,n,r){if(typeof t=="object"){const E=t;t=E.gridWidth||1,e=E.gridHeight||1,n=E.padding||0,r=E}else t=t||1,e=e||1,n=n||0,r==null&&(r={});const s=Zn(n),o=r.border||0,a=r.contentArea?ht.create(r.contentArea):this.getContentArea(r);o>0&&a.inflate(o);const l=this.getScale(),c=this.getTranslation(),u=l.sx,h=l.sy;a.x*=u,a.y*=h,a.width*=u,a.height*=h;let f=Math.max(Math.ceil((a.width+a.x)/t),1)*t,p=Math.max(Math.ceil((a.height+a.y)/e),1)*e,b=0,v=0;(r.allowNewOrigin==="negative"&&a.x<0||r.allowNewOrigin==="positive"&&a.x>=0||r.allowNewOrigin==="any")&&(b=Math.ceil(-a.x/t)*t,b+=s.left,f+=b),(r.allowNewOrigin==="negative"&&a.y<0||r.allowNewOrigin==="positive"&&a.y>=0||r.allowNewOrigin==="any")&&(v=Math.ceil(-a.y/e)*e,v+=s.top,p+=v),f+=s.right,p+=s.bottom,f=Math.max(f,r.minWidth||0),p=Math.max(p,r.minHeight||0),f=Math.min(f,r.maxWidth||Number.MAX_SAFE_INTEGER),p=Math.min(p,r.maxHeight||Number.MAX_SAFE_INTEGER);const C=this.getComputedSize(),x=f!==C.width||p!==C.height;return(b!==c.tx||v!==c.ty)&&this.translate(b,v),x&&this.resize(f,p),new ht(-b/u,-v/h,f/u,p/h)}scaleContentToFit(t={}){this.scaleContentToFitImpl(t)}scaleContentToFitImpl(t={},e=!0){let n,r;if(t.contentArea){const x=t.contentArea;n=this.graph.localToGraph(x),r=N.create(x)}else n=this.getContentBBox(t),r=this.graph.graphToLocal(n);if(!n.width||!n.height)return;const s=Zn(t.padding),o=t.minScale||0,a=t.maxScale||Number.MAX_SAFE_INTEGER,l=t.minScaleX||o,c=t.maxScaleX||a,u=t.minScaleY||o,h=t.maxScaleY||a;let f;if(t.viewportArea)f=t.viewportArea;else{const x=this.getComputedSize(),S=this.getTranslation();f={x:S.tx,y:S.ty,width:x.width,height:x.height}}f=ht.create(f).moveAndExpand({x:s.left,y:s.top,width:-s.left-s.right,height:-s.top-s.bottom});const p=this.getScale();let b=f.width/n.width*p.sx,v=f.height/n.height*p.sy;t.preserveAspectRatio!==!1&&(b=v=Math.min(b,v));const C=t.scaleGrid;if(C&&(b=C*Math.floor(b/C),v=C*Math.floor(v/C)),b=zn(b,l,c),v=zn(v,u,h),this.scale(b,v),e){const x=this.options,S=f.x-r.x*b-x.x,E=f.y-r.y*v-x.y;this.translate(S,E)}}getContentArea(t={}){return t.useCellGeometry?this.model.getAllCellsBBox()||new ht:Cn(this.graph.view.stage)}getContentBBox(t={}){return this.graph.localToGraph(this.getContentArea(t))}getGraphArea(){const t=ht.fromSize(this.getComputedSize());return this.graph.graphToLocal(t)}zoomToRect(t,e={}){const n=ht.create(t),r=this.graph;e.contentArea=n,e.viewportArea==null&&(e.viewportArea={x:r.options.x,y:r.options.y,width:this.options.width,height:this.options.height}),this.scaleContentToFitImpl(e,!1);const s=n.getCenter();return this.centerPoint(s.x,s.y),this}zoomToFit(t={}){return this.zoomToRect(this.getContentArea(t),t)}centerPoint(t,e){const n=this.getComputedSize(),r=this.getScale(),s=this.getTranslation(),o=n.width/2,a=n.height/2;t=typeof t=="number"?t:o,e=typeof e=="number"?e:a,t=o-t*r.sx,e=a-e*r.sy,(s.tx!==t||s.ty!==e)&&this.translate(t,e)}centerContent(t){const n=this.graph.getContentArea(t).getCenter();this.centerPoint(n.x,n.y)}centerCell(t){return this.positionCell(t,"center")}positionPoint(t,e,n){const r=this.getComputedSize();e=nr(e,Math.max(0,r.width)),e<0&&(e=r.width+e),n=nr(n,Math.max(0,r.height)),n<0&&(n=r.height+n);const s=this.getTranslation(),o=this.getScale(),a=e-t.x*o.sx,l=n-t.y*o.sy;(s.tx!==a||s.ty!==l)&&this.translate(a,l)}positionRect(t,e){const n=ht.create(t);switch(e){case"center":return this.positionPoint(n.getCenter(),"50%","50%");case"top":return this.positionPoint(n.getTopCenter(),"50%",0);case"top-right":return this.positionPoint(n.getTopRight(),"100%",0);case"right":return this.positionPoint(n.getRightMiddle(),"100%","50%");case"bottom-right":return this.positionPoint(n.getBottomRight(),"100%","100%");case"bottom":return this.positionPoint(n.getBottomCenter(),"50%","100%");case"bottom-left":return this.positionPoint(n.getBottomLeft(),0,"100%");case"left":return this.positionPoint(n.getLeftMiddle(),0,"50%");case"top-left":return this.positionPoint(n.getTopLeft(),0,0);default:return this}}positionCell(t,e){const n=t.getBBox();return this.positionRect(n,e)}positionContent(t,e){const n=this.graph.getContentArea(e);return this.positionRect(n,t)}dispose(){this.widgets.forEach(t=>t.dispose()),this.widgets.clear(),this.stopListening()}}p9([cu.dispose()],cu.prototype,"dispose",null);var g9=globalThis&&globalThis.__decorate||function(i,t,e,n){var r=arguments.length,s=r<3?t:n===null?n=Object.getOwnPropertyDescriptor(t,e):n,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")s=Reflect.decorate(i,t,e,n);else for(var a=i.length-1;a>=0;a--)(o=i[a])&&(s=(r<3?o(s):r>3?o(t,e,s):o(t,e))||s);return r>3&&s&&Object.defineProperty(t,e,s),s};class Ap extends Ee{constructor(){super(...arguments),this.movedMap=new WeakMap,this.unselectMap=new WeakMap}get widgetOptions(){return this.options.selecting}get rubberbandDisabled(){return this.widgetOptions.enabled!==!0||this.widgetOptions.rubberband!==!0}get disabled(){return this.widgetOptions.enabled!==!0}get length(){return this.widget.length}get cells(){return this.widget.cells}init(){this.widget=this.graph.hook.createSelection(),this.startListening()}startListening(){this.graph.on("blank:mousedown",this.onBlankMouseDown,this),this.graph.on("blank:click",this.onBlankClick,this),this.graph.on("cell:mousemove",this.onCellMouseMove,this),this.graph.on("cell:mouseup",this.onCellMouseUp,this),this.widget.on("box:mousedown",this.onBoxMouseDown,this)}stopListening(){this.graph.off("blank:mousedown",this.onBlankMouseDown,this),this.graph.off("blank:click",this.onBlankClick,this),this.graph.off("cell:mousemove",this.onCellMouseMove,this),this.graph.off("cell:mouseup",this.onCellMouseUp,this),this.widget.off("box:mousedown",this.onBoxMouseDown,this)}onBlankMouseDown({e:t}){(this.allowRubberband(t,!0)||this.allowRubberband(t)&&!this.graph.scroller.allowPanning(t,!0)&&!this.graph.panning.allowPanning(t,!0))&&this.startRubberband(t)}onBlankClick(){this.clean()}allowRubberband(t,e){return!this.rubberbandDisabled&&Xs.isMatch(t,this.widgetOptions.modifiers,e)&&this.graph.hook.allowRubberband(t)}onCellMouseMove({cell:t}){this.movedMap.set(t,!0)}onCellMouseUp({e:t,cell:e}){const n=this.widgetOptions;let r=this.disabled;!r&&this.movedMap.has(e)&&(r=n.selectCellOnMoved===!1,r||(r=n.selectNodeOnMoved===!1&&e.isNode()),r||(r=n.selectEdgeOnMoved===!1&&e.isEdge())),r||(n.multiple===!1||!t.ctrlKey&&!t.metaKey?this.reset(e):this.unselectMap.has(e)?this.unselectMap.delete(e):this.isSelected(e)?this.unselect(e):this.select(e)),this.movedMap.delete(e)}onBoxMouseDown({e:t,cell:e}){this.disabled||this.widgetOptions.multiple!==!1&&(t.ctrlKey||t.metaKey)&&(this.unselect(e),this.unselectMap.set(e,!0))}isEmpty(){return this.length<=0}isSelected(t){return this.widget.isSelected(t)}getCells(t){return(Array.isArray(t)?t:[t]).map(e=>typeof e=="string"?this.graph.getCellById(e):e).filter(e=>e!=null)}select(t,e={}){const n=this.getCells(t);return n.length&&(this.isMultiple()?this.widget.select(n,e):this.reset(n.slice(0,1),e)),this}unselect(t,e={}){return this.widget.unselect(this.getCells(t),e),this}reset(t,e={}){return this.widget.reset(t?this.getCells(t):[],e),this}clean(t={}){return this.widget.clean(t),this}enable(){return this.disabled&&(this.widgetOptions.enabled=!0),this}disable(){return this.disabled||(this.widgetOptions.enabled=!1),this}startRubberband(t){return this.rubberbandDisabled||this.widget.startSelecting(t),this}enableRubberband(){return this.rubberbandDisabled&&(this.widgetOptions.rubberband=!0),this}disableRubberband(){return this.rubberbandDisabled||(this.widgetOptions.rubberband=!1),this}isMultiple(){return this.widgetOptions.multiple!==!1}enableMultiple(){return this.widgetOptions.multiple=!0,this}disableMultiple(){return this.widgetOptions.multiple=!1,this}setModifiers(t){return this.widgetOptions.modifiers=t,this}setContent(t){return this.widget.setContent(t),this}setFilter(t){return this.widget.setFilter(t),this}dispose(){this.stopListening(),this.widget.dispose()}}g9([Ee.dispose()],Ap.prototype,"dispose",null);var k1=globalThis&&globalThis.__decorate||function(i,t,e,n){var r=arguments.length,s=r<3?t:n===null?n=Object.getOwnPropertyDescriptor(t,e):n,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")s=Reflect.decorate(i,t,e,n);else for(var a=i.length-1;a>=0;a--)(o=i[a])&&(s=(r<3?o(s):r>3?o(t,e,s):o(t,e))||s);return r>3&&s&&Object.defineProperty(t,e,s),s},m9=globalThis&&globalThis.__rest||function(i,t){var e={};for(var n in i)Object.prototype.hasOwnProperty.call(i,n)&&t.indexOf(n)<0&&(e[n]=i[n]);if(i!=null&&typeof Object.getOwnPropertySymbols=="function")for(var r=0,n=Object.getOwnPropertySymbols(i);r<n.length;r++)t.indexOf(n[r])<0&&Object.prototype.propertyIsEnumerable.call(i,n[r])&&(e[n[r]]=i[n[r]]);return e};class Ys extends Pn{constructor(t){super(),this.batchCommands=null,this.batchLevel=0,this.lastBatchIndex=-1,this.freezed=!1,this.handlers=[],this.graph=t.graph,this.model=t.graph.model,this.options=We.getOptions(t),this.validator=new Ys.Validator({history:this,cancelInvalid:this.options.cancelInvalid}),this.clean(),this.startListening()}get disabled(){return this.options.enabled!==!0}enable(){this.disabled&&(this.options.enabled=!0)}disable(){this.disabled||(this.options.enabled=!1)}undo(t={}){if(!this.disabled){const e=this.undoStack.pop();e&&(this.revertCommand(e,t),this.redoStack.push(e),this.notify("undo",e,t))}return this}redo(t={}){if(!this.disabled){const e=this.redoStack.pop();e&&(this.applyCommand(e,t),this.undoStack.push(e),this.notify("redo",e,t))}return this}cancel(t={}){if(!this.disabled){const e=this.undoStack.pop();e&&(this.revertCommand(e,t),this.redoStack=[],this.notify("cancel",e,t))}return this}clean(t={}){return this.undoStack=[],this.redoStack=[],this.notify("clean",null,t),this}canUndo(){return!this.disabled&&this.undoStack.length>0}canRedo(){return!this.disabled&&this.redoStack.length>0}validate(t,...e){return this.validator.validate(t,...e),this}dispose(){this.validator.dispose(),this.clean(),this.stopListening()}startListening(){this.model.on("batch:start",this.initBatchCommand,this),this.model.on("batch:stop",this.storeBatchCommand,this),this.options.eventNames&&this.options.eventNames.forEach((t,e)=>{this.handlers[e]=this.addCommand.bind(this,t),this.model.on(t,this.handlers[e])}),this.validator.on("invalid",t=>this.trigger("invalid",t))}stopListening(){this.model.off("batch:start",this.initBatchCommand,this),this.model.off("batch:stop",this.storeBatchCommand,this),this.options.eventNames&&(this.options.eventNames.forEach((t,e)=>{this.model.off(t,this.handlers[e])}),this.handlers.length=0),this.validator.off("invalid")}createCommand(t){return{batch:t?t.batch:!1,data:{}}}revertCommand(t,e){this.freezed=!0;const n=Array.isArray(t)?We.sortBatchCommands(t):[t];for(let r=n.length-1;r>=0;r-=1){const s=n[r],o=Object.assign(Object.assign({},e),F0(s.options,this.options.revertOptionsList||[]));this.executeCommand(s,!0,o)}this.freezed=!1}applyCommand(t,e){this.freezed=!0;const n=Array.isArray(t)?We.sortBatchCommands(t):[t];for(let r=0;r<n.length;r+=1){const s=n[r],o=Object.assign(Object.assign({},e),F0(s.options,this.options.applyOptionsList||[]));this.executeCommand(s,!1,o)}this.freezed=!1}executeCommand(t,e,n){const r=this.model,s=r.getCell(t.data.id),o=t.event;if(We.isAddEvent(o)&&e||We.isRemoveEvent(o)&&!e)s.remove(n);else if(We.isAddEvent(o)&&!e||We.isRemoveEvent(o)&&e){const a=t.data;a.node?r.addNode(a.props,n):a.edge&&r.addEdge(a.props,n)}else if(We.isChangeEvent(o)){const a=t.data,l=a.key;if(l){const c=e?a.prev[l]:a.next[l];s.prop(l,c,n)}}else{const a=this.options.executeCommand;a&&xt(a,this,t,e,n)}}addCommand(t,e){if(this.freezed||this.disabled)return;const n=e,r=n.options||{};if(r.dryrun||We.isAddEvent(t)&&this.options.ignoreAdd||We.isRemoveEvent(t)&&this.options.ignoreRemove||We.isChangeEvent(t)&&this.options.ignoreChange)return;const s=this.options.beforeAddCommand;if(s!=null&&xt(s,this,t,e)===!1)return;t==="cell:change:*"&&(t=`cell:change:${n.key}`);const o=n.cell,a=An.isModel(o);let l;if(this.batchCommands){l=this.batchCommands[Math.max(this.lastBatchIndex,0)];const u=a&&!l.modelChange||l.data.id!==o.id,h=l.event!==t;if(this.lastBatchIndex>=0&&(u||h)){const f=this.batchCommands.findIndex(p=>(a&&p.modelChange||p.data.id===o.id)&&p.event===t);f<0||We.isAddEvent(t)||We.isRemoveEvent(t)?l=this.createCommand({batch:!0}):(l=this.batchCommands[f],this.batchCommands.splice(f,1)),this.batchCommands.push(l),this.lastBatchIndex=this.batchCommands.length-1}}else l=this.createCommand({batch:!1});if(We.isAddEvent(t)||We.isRemoveEvent(t)){const u=l.data;return l.event=t,l.options=r,u.id=o.id,u.props=Ye(o.toJSON()),o.isEdge()?u.edge=!0:o.isNode()&&(u.node=!0),this.push(l,r)}if(We.isChangeEvent(t)){const u=e.key,h=l.data;return(!l.batch||!l.event)&&(l.event=t,l.options=r,h.key=u,h.prev==null&&(h.prev={}),h.prev[u]=Gs(o.previous(u)),a?l.modelChange=!0:h.id=o.id),h.next==null&&(h.next={}),h.next[u]=Gs(o.prop(u)),this.push(l,r)}const c=this.options.afterAddCommand;c&&xt(c,this,t,e,l),this.push(l,r)}initBatchCommand(t){this.freezed||(this.batchCommands?this.batchLevel+=1:(this.batchCommands=[this.createCommand({batch:!0})],this.batchLevel=0,this.lastBatchIndex=-1))}storeBatchCommand(t){if(!this.freezed)if(this.batchCommands&&this.batchLevel<=0){const e=this.filterBatchCommand(this.batchCommands);e.length>0&&(this.redoStack=[],this.undoStack.push(e),this.notify("add",e,t)),this.batchCommands=null,this.lastBatchIndex=-1,this.batchLevel=0}else this.batchCommands&&this.batchLevel>0&&(this.batchLevel-=1)}filterBatchCommand(t){let e=t.slice();const n=[];for(;e.length>0;){const r=e.shift(),s=r.event,o=r.data.id;if(s!=null&&(o!=null||r.modelChange)){if(We.isAddEvent(s)){const a=e.findIndex(l=>We.isRemoveEvent(l.event)&&l.data.id===o);if(a>=0){e=e.filter((l,c)=>a<c||l.data.id!==o);continue}}else if(We.isRemoveEvent(s)){const a=e.findIndex(l=>We.isAddEvent(l.event)&&l.data.id===o);if(a>=0){e.splice(a,1);continue}}else if(We.isChangeEvent(s)){const a=r.data;if(ji(a.prev,a.next))continue}n.push(r)}}return n}notify(t,e,n){const r=e==null?null:Array.isArray(e)?e:[e];this.emit(t,{cmds:r,options:n}),this.emit("change",{cmds:r,options:n})}push(t,e){this.redoStack=[],t.batch?(this.lastBatchIndex=Math.max(this.lastBatchIndex,0),this.emit("batch",{cmd:t,options:e})):(this.undoStack.push(t),this.notify("add",t,e))}}k1([Pn.dispose()],Ys.prototype,"dispose",null);(function(i){class t extends Pn{constructor(n){super(),this.map={},this.command=n.history,this.cancelInvalid=n.cancelInvalid!==!1,this.command.on("add",this.onCommandAdded,this)}onCommandAdded({cmds:n}){return Array.isArray(n)?n.every(r=>this.isValidCommand(r)):this.isValidCommand(n)}isValidCommand(n){if(n.options&&n.options.validation===!1)return!0;const r=n.event&&this.map[n.event]||[];let s=null;return r.forEach(o=>{let a=0;const l=c=>{const u=o[a];a+=1;try{if(u)u(c,n,l);else{s=c;return}}catch(h){l(h)}};l(s)}),s?(this.cancelInvalid&&this.command.cancel(),this.emit("invalid",{err:s}),!1):!0}validate(n,...r){const s=Array.isArray(n)?n:n.split(/\s+/);return r.forEach(o=>{if(typeof o!="function")throw new Error(`${s.join(" ")} requires callback functions.`)}),s.forEach(o=>{this.map[o]==null&&(this.map[o]=[]),this.map[o].push(r)}),this}dispose(){this.command.off("add",this.onCommandAdded,this)}}k1([Pn.dispose()],t.prototype,"dispose",null),i.Validator=t})(Ys||(Ys={}));var We;(function(i){function t(o){return o==="cell:added"}i.isAddEvent=t;function e(o){return o==="cell:removed"}i.isRemoveEvent=e;function n(o){return o!=null&&o.startsWith("cell:change:")}i.isChangeEvent=n;function r(o){const a=m9(o,["graph"]),l=["cell:added","cell:removed","cell:change:*"],c=["batch:start","batch:stop"],u=o.eventNames?o.eventNames.filter(h=>!(i.isChangeEvent(h)||l.includes(h)||c.includes(h))):l;return Object.assign(Object.assign({},a),{eventNames:u,applyOptionsList:o.applyOptionsList||["propertyPath"],revertOptionsList:o.revertOptionsList||["propertyPath"]})}i.getOptions=r;function s(o){const a=[];for(let l=0,c=o.length;l<c;l+=1){const u=o[l];let h=null;if(i.isAddEvent(u.event)){const f=u.data.id;for(let p=0;p<l;p+=1)if(o[p].data.id===f){h=p;break}}h!==null?a.splice(h,0,u):a.push(u)}return a}i.sortBatchCommands=s})(We||(We={}));var b9=globalThis&&globalThis.__decorate||function(i,t,e,n){var r=arguments.length,s=r<3?t:n===null?n=Object.getOwnPropertyDescriptor(t,e):n,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")s=Reflect.decorate(i,t,e,n);else for(var a=i.length-1;a>=0;a--)(o=i[a])&&(s=(r<3?o(s):r>3?o(t,e,s):o(t,e))||s);return r>3&&s&&Object.defineProperty(t,e,s),s};class Mp extends Ee{get widgetOptions(){return this.options.minimap}init(){this.widget=this.graph.hook.createMiniMap()}dispose(){this.widget&&this.widget.dispose()}}b9([Ee.dispose()],Mp.prototype,"dispose",null);var _1={exports:{}};(function(i){(function(t,e,n){if(!t)return;for(var r={8:"backspace",9:"tab",13:"enter",16:"shift",17:"ctrl",18:"alt",20:"capslock",27:"esc",32:"space",33:"pageup",34:"pagedown",35:"end",36:"home",37:"left",38:"up",39:"right",40:"down",45:"ins",46:"del",91:"meta",93:"meta",224:"meta"},s={106:"*",107:"+",109:"-",110:".",111:"/",186:";",187:"=",188:",",189:"-",190:".",191:"/",192:"`",219:"[",220:"\\",221:"]",222:"'"},o={"~":"`","!":"1","@":"2","#":"3",$:"4","%":"5","^":"6","&":"7","*":"8","(":"9",")":"0",_:"-","+":"=",":":";",'"':"'","<":",",">":".","?":"/","|":"\\"},a={option:"alt",command:"meta",return:"enter",escape:"esc",plus:"+",mod:/Mac|iPod|iPhone|iPad/.test(navigator.platform)?"meta":"ctrl"},l,c=1;c<20;++c)r[111+c]="f"+c;for(c=0;c<=9;++c)r[c+96]=c.toString();function u(T,D,z){if(T.addEventListener){T.addEventListener(D,z,!1);return}T.attachEvent("on"+D,z)}function h(T){if(T.type=="keypress"){var D=String.fromCharCode(T.which);return T.shiftKey||(D=D.toLowerCase()),D}return r[T.which]?r[T.which]:s[T.which]?s[T.which]:String.fromCharCode(T.which).toLowerCase()}function f(T,D){return T.sort().join(",")===D.sort().join(",")}function p(T){var D=[];return T.shiftKey&&D.push("shift"),T.altKey&&D.push("alt"),T.ctrlKey&&D.push("ctrl"),T.metaKey&&D.push("meta"),D}function b(T){if(T.preventDefault){T.preventDefault();return}T.returnValue=!1}function v(T){if(T.stopPropagation){T.stopPropagation();return}T.cancelBubble=!0}function C(T){return T=="shift"||T=="ctrl"||T=="alt"||T=="meta"}function x(){if(!l){l={};for(var T in r)T>95&&T<112||r.hasOwnProperty(T)&&(l[r[T]]=T)}return l}function S(T,D,z){return z||(z=x()[T]?"keydown":"keypress"),z=="keypress"&&D.length&&(z="keydown"),z}function E(T){return T==="+"?["+"]:(T=T.replace(/\+{2}/g,"+plus"),T.split("+"))}function O(T,D){var z,H,q,R=[];for(z=E(T),q=0;q<z.length;++q)H=z[q],a[H]&&(H=a[H]),D&&D!="keypress"&&o[H]&&(H=o[H],R.push("shift")),C(H)&&R.push(H);return D=S(H,R,D),{key:H,modifiers:R,action:D}}function k(T,D){return T===null||T===e?!1:T===D?!0:k(T.parentNode,D)}function m(T){var D=this;if(T=T||e,!(D instanceof m))return new m(T);D.target=T,D._callbacks={},D._directMap={};var z={},H,q=!1,R=!1,rt=!1;function st(pt){pt=pt||{};var $t=!1,Dt;for(Dt in z){if(pt[Dt]){$t=!0;continue}z[Dt]=0}$t||(rt=!1)}function j(pt,$t,Dt,_t,zt,de){var at,Tt,Ut=[],te=Dt.type;if(!D._callbacks[pt])return[];for(te=="keyup"&&C(pt)&&($t=[pt]),at=0;at<D._callbacks[pt].length;++at)if(Tt=D._callbacks[pt][at],!(!_t&&Tt.seq&&z[Tt.seq]!=Tt.level)&&te==Tt.action&&(te=="keypress"&&!Dt.metaKey&&!Dt.ctrlKey||f($t,Tt.modifiers))){var hn=!_t&&Tt.combo==zt,bn=_t&&Tt.seq==_t&&Tt.level==de;(hn||bn)&&D._callbacks[pt].splice(at,1),Ut.push(Tt)}return Ut}function B(pt,$t,Dt,_t){D.stopCallback($t,$t.target||$t.srcElement,Dt,_t)||pt($t,Dt)===!1&&(b($t),v($t))}D._handleKey=function(pt,$t,Dt){var _t=j(pt,$t,Dt),zt,de={},at=0,Tt=!1;for(zt=0;zt<_t.length;++zt)_t[zt].seq&&(at=Math.max(at,_t[zt].level));for(zt=0;zt<_t.length;++zt){if(_t[zt].seq){if(_t[zt].level!=at)continue;Tt=!0,de[_t[zt].seq]=1,B(_t[zt].callback,Dt,_t[zt].combo,_t[zt].seq);continue}Tt||B(_t[zt].callback,Dt,_t[zt].combo)}var Ut=Dt.type=="keypress"&&R;Dt.type==rt&&!C(pt)&&!Ut&&st(de),R=Tt&&Dt.type=="keydown"};function tt(pt){typeof pt.which!="number"&&(pt.which=pt.keyCode);var $t=h(pt);if(!!$t){if(pt.type=="keyup"&&q===$t){q=!1;return}D.handleKey($t,p(pt),pt)}}function bt(){clearTimeout(H),H=setTimeout(st,1e3)}function Ot(pt,$t,Dt,_t){z[pt]=0;function zt(te){return function(){rt=te,++z[pt],bt()}}function de(te){B(Dt,te,pt),_t!=="keyup"&&(q=h(te)),setTimeout(st,10)}for(var at=0;at<$t.length;++at){var Tt=at+1===$t.length,Ut=Tt?de:zt(_t||O($t[at+1]).action);Gt($t[at],Ut,_t,pt,at)}}function Gt(pt,$t,Dt,_t,zt){D._directMap[pt+":"+Dt]=$t,pt=pt.replace(/\s+/g," ");var de=pt.split(" "),at;if(de.length>1){Ot(pt,de,$t,Dt);return}at=O(pt,Dt),D._callbacks[at.key]=D._callbacks[at.key]||[],j(at.key,at.modifiers,{type:at.action},_t,pt,zt),D._callbacks[at.key][_t?"unshift":"push"]({callback:$t,modifiers:at.modifiers,action:at.action,seq:_t,level:zt,combo:pt})}D._bindMultiple=function(pt,$t,Dt){for(var _t=0;_t<pt.length;++_t)Gt(pt[_t],$t,Dt)},u(T,"keypress",tt),u(T,"keydown",tt),u(T,"keyup",tt)}m.prototype.bind=function(T,D,z){var H=this;return T=T instanceof Array?T:[T],H._bindMultiple.call(H,T,D,z),H},m.prototype.unbind=function(T,D){var z=this;return z.bind.call(z,T,function(){},D)},m.prototype.trigger=function(T,D){var z=this;return z._directMap[T+":"+D]&&z._directMap[T+":"+D]({},T),z},m.prototype.reset=function(){var T=this;return T._callbacks={},T._directMap={},T},m.prototype.stopCallback=function(T,D){var z=this;if((" "+D.className+" ").indexOf(" mousetrap ")>-1||k(D,z.target))return!1;if("composedPath"in T&&typeof T.composedPath=="function"){var H=T.composedPath()[0];H!==T.target&&(D=H)}return D.tagName=="INPUT"||D.tagName=="SELECT"||D.tagName=="TEXTAREA"||D.isContentEditable},m.prototype.handleKey=function(){var T=this;return T._handleKey.apply(T,arguments)},m.addKeycodes=function(T){for(var D in T)T.hasOwnProperty(D)&&(r[D]=T[D]);l=null},m.init=function(){var T=m(e);for(var D in T)D.charAt(0)!=="_"&&(m[D]=function(z){return function(){return T[z].apply(T,arguments)}}(D))},m.init(),t.Mousetrap=m,i.exports&&(i.exports=m),typeof n=="function"&&n.amd&&n(function(){return m})})(typeof window!="undefined"?window:null,typeof window!="undefined"?document:null)})(_1);var v9=_1.exports,y9=globalThis&&globalThis.__decorate||function(i,t,e,n){var r=arguments.length,s=r<3?t:n===null?n=Object.getOwnPropertyDescriptor(t,e):n,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")s=Reflect.decorate(i,t,e,n);else for(var a=i.length-1;a>=0;a--)(o=i[a])&&(s=(r<3?o(s):r>3?o(t,e,s):o(t,e))||s);return r>3&&s&&Object.defineProperty(t,e,s),s};class Ks extends Vi{constructor(t){super(),this.options=t;const e=this.graph.scroller.widget;this.container=e?e.container:this.graph.container,t.global?this.target=document:(this.target=this.container,this.disabled||this.target.setAttribute("tabindex","-1"),this.graph.on("cell:mouseup",this.focus,this),this.graph.on("blank:mouseup",this.focus,this)),this.mousetrap=Ks.createMousetrap(this)}get graph(){return this.options.graph}get disabled(){return this.options.enabled!==!0}enable(){this.disabled&&(this.options.enabled=!0,this.graph.options.keyboard.enabled=!0,this.target instanceof HTMLElement&&this.target.setAttribute("tabindex","-1"))}disable(){this.disabled||(this.options.enabled=!1,this.graph.options.keyboard.enabled=!1,this.target instanceof HTMLElement&&this.target.removeAttribute("tabindex"))}on(t,e,n){this.mousetrap.bind(this.getKeys(t),e,n)}off(t,e){this.mousetrap.unbind(this.getKeys(t),e)}focus(t){if(this.isInputEvent(t.e))return;this.target.focus({preventScroll:!0})}getKeys(t){return(Array.isArray(t)?t:[t]).map(e=>this.formatkey(e))}formatkey(t){const e=t.toLowerCase().replace(/\s/g,"").replace("delete","del").replace("cmd","command"),n=this.options.format;return n?xt(n,this.graph,e):e}isGraphEvent(t){const e=t.srcElement||t.target;return e?e===this.target||e===document.body?!0:up(this.container,e):!1}isInputEvent(t){const e=t.target;return(e&&e.tagName.toLowerCase())==="input"}isEnabledForEvent(t){const e=!this.disabled&&this.isGraphEvent(t),n=this.isInputEvent(t);if(e){const r=t.keyCode||t.which;if(n&&(r===8||r===46))return!1;if(this.options.guard)return xt(this.options.guard,this.graph,t)}return e}dispose(){this.mousetrap.reset()}}y9([Vi.dispose()],Ks.prototype,"dispose",null);(function(i){function t(e){const n=new v9(e.target),r=n.stopCallback;return n.stopCallback=(s,o,a)=>e.isEnabledForEvent(s)?r?r.call(n,s,o,a):!1:!0,n}i.createMousetrap=t})(Ks||(Ks={}));var x9=globalThis&&globalThis.__decorate||function(i,t,e,n){var r=arguments.length,s=r<3?t:n===null?n=Object.getOwnPropertyDescriptor(t,e):n,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")s=Reflect.decorate(i,t,e,n);else for(var a=i.length-1;a>=0;a--)(o=i[a])&&(s=(r<3?o(s):r>3?o(t,e,s):o(t,e))||s);return r>3&&s&&Object.defineProperty(t,e,s),s};class Op extends Vi{constructor(t){super(),this.options=t,this.cumulatedFactor=1;const e=this.graph.scroller.widget;this.container=e?e.container:this.graph.container,this.target=this.options.global?document:this.container,this.mousewheelHandle=new _y(this.target,this.onMouseWheel.bind(this),this.allowMouseWheel.bind(this)),this.options.enabled&&this.enable(!0)}get graph(){return this.options.graph}get disabled(){return this.options.enabled!==!0}enable(t){(this.disabled||t)&&(this.options.enabled=!0,this.graph.options.mousewheel.enabled=!0,this.mousewheelHandle.enable())}disable(){this.disabled||(this.options.enabled=!1,this.graph.options.mousewheel.enabled=!1,this.mousewheelHandle.disable())}allowMouseWheel(t){const e=t.originalEvent||t,n=this.options.guard;return(n==null||n.call(this.graph,e))&&Xs.isMatch(e,this.options.modifiers)}onMouseWheel(t){const e=t.originalEvent||t,n=this.options.guard;if((n==null||n.call(this.graph,e))&&Xs.isMatch(e,this.options.modifiers)){const r=this.options.factor||1.2;this.currentScale==null&&(this.startPos={x:t.clientX,y:t.clientY},this.currentScale=this.graph.scroller.widget?this.graph.scroller.widget.zoom():this.graph.transform.getScale().sx),t.deltaY<0?this.currentScale<.15?this.cumulatedFactor=(this.currentScale+.01)/this.currentScale:this.cumulatedFactor=Math.round(this.currentScale*r*20)/20/this.currentScale:this.currentScale<=.15?this.cumulatedFactor=(this.currentScale-.01)/this.currentScale:this.cumulatedFactor=Math.round(this.currentScale*(1/r)*20)/20/this.currentScale,this.cumulatedFactor=Math.max(.01,Math.min(this.currentScale*this.cumulatedFactor,160)/this.currentScale);const o=this.graph.scroller.widget,a=this.currentScale;let l=this.graph.transform.clampScale(a*this.cumulatedFactor);const c=this.options.minScale||Number.MIN_SAFE_INTEGER,u=this.options.maxScale||Number.MAX_SAFE_INTEGER;if(l=zn(l,c,u),l!==a)if(o)if(this.options.zoomAtMousePosition){const h=this.graph.coord.clientToLocalPoint(this.startPos);o.zoom(l,{absolute:!0,center:h.clone()})}else o.zoom(l,{absolute:!0});else if(this.options.zoomAtMousePosition){const h=this.graph.coord.clientToGraphPoint(this.startPos);this.graph.transform.zoom(l,{absolute:!0,center:h.clone(),ui:!0})}else this.graph.transform.zoom(l,{absolute:!0,ui:!0});this.currentScale=null,this.cumulatedFactor=1}}dispose(){this.disable()}}x9([Vi.dispose()],Op.prototype,"dispose",null);var C9=globalThis&&globalThis.__decorate||function(i,t,e,n){var r=arguments.length,s=r<3?t:n===null?n=Object.getOwnPropertyDescriptor(t,e):n,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")s=Reflect.decorate(i,t,e,n);else for(var a=i.length-1;a>=0;a--)(o=i[a])&&(s=(r<3?o(s):r>3?o(t,e,s):o(t,e))||s);return r>3&&s&&Object.defineProperty(t,e,s),s};class Js extends Ee{show(t={}){const e=Object.assign(Object.assign({},Js.defaultOptions),t),n=this.createPrintPages(e);e.ready(n,r=>this.showPrintWindow(r,e),{sheetSize:this.getSheetSize(e)})}get className(){return this.view.prefixClassName("graph-print")}showPrintWindow(t,e){if(t){const n=Je(document.body),r=Je(this.view.container),s=this.view.prefixClassName("graph-printing");n.addClass(s);const o=r.children().detach();t.forEach(c=>{c.removeClass(`${this.className}-preview`).addClass(`${this.className}-ready`).appendTo(n)});let a=!1;const l=()=>{a||(a=!0,n.removeClass(s),t.forEach(c=>c.remove()),r.append(o),Je(`#${this.styleSheetId}`).remove(),this.graph.trigger("after:print",e),Je(window).off("afterprint",l))};Je(window).one("afterprint",l),setTimeout(l,200),window.print()}}createPrintPage(t,e){this.graph.trigger("before:print",e);const n=Je("<div/>").addClass(this.className),r=Je("<div/>").addClass(this.view.prefixClassName("graph-print-inner")).css("position","relative");e.size&&n.addClass(`${this.className}-size-${e.size}`);const s=St.create(this.view.svg).clone(),o=s.findOne(`.${this.view.prefixClassName("graph-svg-stage")}`);r.append(s.node);const a=this.getSheetSize(e),l=this.graph.transform.getGraphArea(),c=this.graph.transform.getScale(),u=this.graph.translate(),h=wn().translate(u.tx/c.sx,u.ty/c.sy),f=this.getPageInfo(l,t,a),p=f.scale,b=f.bbox;return r.css({left:0,top:0}),s.attr({width:b.width*p,height:b.height*p,style:"position:relative",viewBox:[b.x,b.y,b.width,b.height].join(" ")}),o.attr("transform",uo(h)),n.append(r),n.addClass(`${this.className}-preview`),{$page:n,sheetSize:a}}createPrintPages(t){let e;const n=this.getPrintArea(t),r=[];if(t.page){const s=this.getPageSize(n,t.page);this.getPageAreas(n,s).forEach(a=>{e=this.createPrintPage(a,t),r.push(e.$page)})}else e=this.createPrintPage(n,t),r.push(e.$page);if(e){const s={width:e.sheetSize.cssWidth,height:e.sheetSize.cssHeight};this.updatePrintStyle(s,t)}return r}get styleSheetId(){return this.view.prefixClassName("graph-print-style")}updatePrintStyle(t,e){const n=Object.keys(t).reduce((u,h)=>`${u} ${h}:${t[h]};`,""),r=Zn(e.margin),s=e.marginUnit||"",o=e.sheetUnit||"",a=`
      @media print {
        .${this.className}.${this.className}-ready {
          ${n}
        }

        @page {
          margin:
          ${[r.top+s,r.right+s,r.bottom+s,r.left+s].join(" ")};
          size: ${e.sheet.width+o} ${e.sheet.height+o};

        .${this.className}.${this.className}-preview {
          ${n}
        }
      }`,l=this.styleSheetId,c=Je(`#${l}`);c.length?c.html(a):Je("head").append(`'<style type="text/css" id="${l}">${a}</style>'`)}getPrintArea(t){let e=t.area;if(!e){const n=Zn(t.padding);e=this.graph.getContentArea().moveAndExpand({x:-n.left,y:-n.top,width:n.left+n.right,height:n.top+n.bottom})}return e}getPageSize(t,e){if(typeof e=="object"){const n=e,r={width:n.width,height:n.height};return r.width==null&&(r.width=Math.ceil(t.width/(n.columns||1))),r.height==null&&(r.height=Math.ceil(t.height/(n.rows||1))),r}return{width:t.width,height:t.height}}getPageAreas(t,e){const n=[],r=e.width,s=e.height;for(let o=0,a=0;o<t.height&&a<200;o+=s,a+=1)for(let l=0,c=0;l<t.width&&c<200;l+=r,c+=1)n.push(new ht(t.x+l,t.y+o,r,s));return n}getSheetSize(t){const e=t.sheet,n=Zn(t.margin),r=t.marginUnit||"",s=t.sheetUnit||"",o=`calc(${e.width}${s} - ${n.left+n.right}${r})`,a=`calc(${e.height}${s} - ${n.top+n.bottom}${r})`,l=jd.measure(o,a);return{cssWidth:o,cssHeight:a,width:l.width,height:l.height}}getPageInfo(t,e,n){const r=new ht(e.x-t.x,e.y-t.y,e.width,e.height),s=r.width/r.height,o=n.width/n.height;return{bbox:r,scale:o<s?n.width/r.width:n.height/r.height,fitHorizontal:o<s}}dispose(){}}C9([Ee.dispose()],Js.prototype,"dispose",null);(function(i){i.defaultOptions={page:!1,sheet:{width:210,height:297},sheetUnit:"mm",margin:.4,marginUnit:"in",padding:5,ready:(t,e)=>e(t)}})(Js||(Js={}));class D1 extends Ee{toSVG(t,e={}){this.graph.trigger("before:export",e);const n=this.view.svg,r=St.create(n).clone();let s=r.node;const o=r.findOne(`.${this.view.prefixClassName("graph-svg-stage")}`),a=e.viewBox||this.graph.graphToLocal(this.graph.getContentBBox()),l=e.preserveDimensions;if(l){const h=typeof l=="boolean"?a:l;r.attr({width:h.width,height:h.height})}if(r.removeAttribute("style").attr("viewBox",[a.x,a.y,a.width,a.height].join(" ")),o.removeAttribute("transform"),e.copyStyles!==!1){const h=n.ownerDocument,f=Array.from(n.querySelectorAll("*")),p=Array.from(s.querySelectorAll("*")),b=h.styleSheets.length,v=[];for(let S=b-1;S>=0;S-=1)v[S]=h.styleSheets[S],h.styleSheets[S].disabled=!0;const C={};f.forEach((S,E)=>{const O=window.getComputedStyle(S,null),k={};Object.keys(O).forEach(m=>{k[m]=O.getPropertyValue(m)}),C[E]=k}),b!==h.styleSheets.length&&v.forEach((S,E)=>{h.styleSheets[E]=S});for(let S=0;S<b;S+=1)h.styleSheets[S].disabled=!1;const x={};f.forEach((S,E)=>{const O=window.getComputedStyle(S,null),k=C[E],m={};Object.keys(O).forEach(T=>{!lN(T)&&O.getPropertyValue(T)!==k[T]&&(m[T]=O.getPropertyValue(T))}),x[E]=m}),p.forEach((S,E)=>{Je(S).css(x[E])})}const c=e.stylesheet;if(typeof c=="string"){const h=n.ownerDocument.implementation.createDocument(null,"xml",null).createCDATASection(c);r.prepend(St.create("style",{type:"text/css"},[h]))}const u=()=>{const h=e.beforeSerialize;if(typeof h=="function"){const p=xt(h,this.graph,s);p instanceof SVGSVGElement&&(s=p)}const f=new XMLSerializer().serializeToString(s).replace(/&nbsp;/g,"\xA0");this.graph.trigger("after:export",e),t(f)};if(e.serializeImages){const h=r.find("image").map(f=>new Promise(p=>{const b=f.attr("xlink:href")||f.attr("href");zd.imageToDataUri(b,(v,C)=>{!v&&C&&f.attr("xlink:href",C),p()})}));Promise.all(h).then(u)}else u()}toDataURL(t,e){let n=e.viewBox||this.graph.getContentBBox();const r=Zn(e.padding);e.width&&e.height&&(r.left+r.right>=e.width&&(r.left=r.right=0),r.top+r.bottom>=e.height&&(r.top=r.bottom=0));const s=new ht(-r.left,-r.top,r.left+r.right,r.top+r.bottom);if(e.width&&e.height){const u=n.width+r.left+r.right,h=n.height+r.top+r.bottom;s.scale(u/e.width,h/e.height)}n=ht.create(n).moveAndExpand(s);const o=typeof e.width=="number"&&typeof e.height=="number"?{width:e.width,height:e.height}:n;let a=e.ratio?parseFloat(e.ratio):1;(!Number.isFinite(a)||a===0)&&(a=1);const l={width:Math.max(Math.round(o.width*a),1),height:Math.max(Math.round(o.height*a),1)};{const u=document.createElement("canvas"),h=u.getContext("2d");u.width=l.width,u.height=l.height;const f=l.width-1,p=l.height-1;h.fillStyle="rgb(1,1,1)",h.fillRect(f,p,1,1);const b=h.getImageData(f,p,1,1).data;if(b[0]!==1||b[1]!==1||b[2]!==1)throw new Error("size exceeded")}const c=new Image;c.onload=()=>{const u=document.createElement("canvas");u.width=l.width,u.height=l.height;const h=u.getContext("2d");h.fillStyle=e.backgroundColor||"white",h.fillRect(0,0,l.width,l.height);try{h.drawImage(c,0,0,l.width,l.height);const f=u.toDataURL(e.type,e.quality);t(f)}catch{}},this.toSVG(u=>{c.src=`data:image/svg+xml,${encodeURIComponent(u)}`},Object.assign(Object.assign({},e),{viewBox:n,serializeImages:!0,preserveDimensions:Object.assign({},l)}))}toPNG(t,e={}){this.toDataURL(t,Object.assign(Object.assign({},e),{type:"image/png"}))}toJPEG(t,e={}){this.toDataURL(t,Object.assign(Object.assign({},e),{type:"image/jpeg"}))}}class w9 extends Ee{constructor(){super(...arguments),this.widgets=new Map}get isSelectionEnabled(){return this.options.selecting.enabled===!0}init(){this.startListening()}startListening(){this.graph.on("node:mouseup",this.onNodeMouseUp,this),this.graph.on("node:selected",this.onNodeSelected,this),this.graph.on("node:unselected",this.onNodeUnSelected,this)}stopListening(){this.graph.off("node:mouseup",this.onNodeMouseUp,this),this.graph.off("node:selected",this.onNodeSelected,this),this.graph.off("node:unselected",this.onNodeUnSelected,this)}onNodeMouseUp({node:t}){if(!this.isSelectionEnabled){const e=this.graph.hook.createKnob(t,{clearAll:!0});e&&this.widgets.set(t,e)}}onNodeSelected({node:t}){if(this.isSelectionEnabled){const e=this.graph.hook.createKnob(t,{clearAll:!1});e&&this.widgets.set(t,e)}}onNodeUnSelected({node:t}){if(this.isSelectionEnabled){const e=this.widgets.get(t);e&&e.forEach(n=>n.dispose()),this.widgets.delete(t)}}}var S9=globalThis&&globalThis.__decorate||function(i,t,e,n){var r=arguments.length,s=r<3?t:n===null?n=Object.getOwnPropertyDescriptor(t,e):n,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")s=Reflect.decorate(i,t,e,n);else for(var a=i.length-1;a>=0;a--)(o=i[a])&&(s=(r<3?o(s):r>3?o(t,e,s):o(t,e))||s);return r>3&&s&&Object.defineProperty(t,e,s),s};class N1 extends Ee{get widgetOptions(){return this.options.panning}get pannable(){return this.widgetOptions&&this.widgetOptions.enabled===!0}init(){this.startListening(),this.updateClassName()}startListening(){const t=this.widgetOptions.eventTypes;!t||(t.includes("leftMouseDown")&&(this.graph.on("blank:mousedown",this.preparePanning,this),this.graph.on("node:unhandled:mousedown",this.preparePanning,this),this.graph.on("edge:unhandled:mousedown",this.preparePanning,this)),t.includes("rightMouseDown")&&(this.onRightMouseDown=this.onRightMouseDown.bind(this),this.view.$(this.graph.container).on("mousedown",this.onRightMouseDown)),t.includes("mouseWheel")&&(this.mousewheelHandle=new _y(this.graph.container,this.onMouseWheel.bind(this),this.allowMouseWheel.bind(this)),this.mousewheelHandle.enable()))}stopListening(){const t=this.widgetOptions.eventTypes;!t||(t.includes("leftMouseDown")&&(this.graph.off("blank:mousedown",this.preparePanning,this),this.graph.off("node:unhandled:mousedown",this.preparePanning,this),this.graph.off("edge:unhandled:mousedown",this.preparePanning,this)),t.includes("rightMouseDown")&&this.view.$(this.graph.container).off("mousedown",this.onRightMouseDown),t.includes("mouseWheel")&&this.mousewheelHandle&&this.mousewheelHandle.disable())}preparePanning({e:t}){(this.allowPanning(t,!0)||this.allowPanning(t)&&!this.graph.selection.allowRubberband(t,!0))&&this.startPanning(t)}allowPanning(t,e){return this.pannable&&Xs.isMatch(t,this.widgetOptions.modifiers,e)&&this.graph.hook.allowPanning(t)}startPanning(t){const e=this.view.normalizeEvent(t);this.clientX=e.clientX,this.clientY=e.clientY,this.panning=!0,this.updateClassName(),this.view.$(document.body).on({"mousemove.panning touchmove.panning":this.pan.bind(this),"mouseup.panning touchend.panning":this.stopPanning.bind(this),"mouseleave.panning":this.stopPanning.bind(this)}),this.view.$(window).on("mouseup.panning",this.stopPanning.bind(this))}pan(t){const e=this.view.normalizeEvent(t),n=e.clientX-this.clientX,r=e.clientY-this.clientY;this.clientX=e.clientX,this.clientY=e.clientY;const s=this.graph.transform.getTranslation(),o=s.tx+n,a=s.ty+r;this.graph.transform.translate(o,a,{ui:!0})}stopPanning(t){this.panning=!1,this.updateClassName(),this.view.$(document.body).off(".panning"),this.view.$(window).off(".panning")}updateClassName(){const t=this.view.container,e=this.view.prefixClassName("graph-panning"),n=this.view.prefixClassName("graph-pannable");this.pannable?this.panning?(me(t,e),Ci(t,n)):(Ci(t,e),me(t,n)):(Ci(t,e),Ci(t,n))}onRightMouseDown(t){t.button===2&&this.allowPanning(t,!0)&&this.startPanning(t)}allowMouseWheel(t){return this.pannable&&!t.ctrlKey}onMouseWheel(t,e,n){t.ctrlKey||this.graph.translateBy(-e,-n)}autoPanning(t,e){const r=this.graph.getGraphArea();let s=0,o=0;t<=r.left+10&&(s=-10),e<=r.top+10&&(o=-10),t>=r.right-10&&(s=10),e>=r.bottom-10&&(o=10),(s!==0||o!==0)&&this.graph.translateBy(-s,-o)}enablePanning(){this.pannable||(this.widgetOptions.enabled=!0,this.updateClassName())}disablePanning(){this.pannable&&(this.widgetOptions.enabled=!1,this.updateClassName())}dispose(){this.stopListening()}}S9([Ee.dispose()],N1.prototype,"dispose",null);var E9=globalThis&&globalThis.__decorate||function(i,t,e,n){var r=arguments.length,s=r<3?t:n===null?n=Object.getOwnPropertyDescriptor(t,e):n,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")s=Reflect.decorate(i,t,e,n);else for(var a=i.length-1;a>=0;a--)(o=i[a])&&(s=(r<3?o(s):r>3?o(t,e,s):o(t,e))||s);return r>3&&s&&Object.defineProperty(t,e,s),s};class $1 extends Ee{hasScroller(){return this.graph.scroller.widget!=null}getContainer(){return this.hasScroller()?this.graph.scroller.widget.container:this.graph.container}init(){const t=this.options.autoResize;if(t){const e=typeof t=="boolean"?this.getContainer():t;Zc.bind(e,()=>{const n=this.getContainer(),r=n.offsetWidth,s=n.offsetHeight;this.resize(r,s)})}}resize(t,e){this.hasScroller()?this.resizeScroller(t,e):this.resizeGraph(t,e)}resizeGraph(t,e){this.graph.transform.resize(t,e)}resizeScroller(t,e){this.graph.scroller.resize(t,e)}resizePage(t,e){const n=this.graph.scroller.widget;n&&n.updatePageSize(t,e)}dispose(){Zc.clear(this.getContainer())}}E9([Ee.dispose()],$1.prototype,"dispose",null);var oe=globalThis&&globalThis.__decorate||function(i,t,e,n){var r=arguments.length,s=r<3?t:n===null?n=Object.getOwnPropertyDescriptor(t,e):n,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")s=Reflect.decorate(i,t,e,n);else for(var a=i.length-1;a>=0;a--)(o=i[a])&&(s=(r<3?o(s):r>3?o(t,e,s):o(t,e))||s);return r>3&&s&&Object.defineProperty(t,e,s),s},A9=globalThis&&globalThis.__rest||function(i,t){var e={};for(var n in i)Object.prototype.hasOwnProperty.call(i,n)&&t.indexOf(n)<0&&(e[n]=i[n]);if(i!=null&&typeof Object.getOwnPropertySymbols=="function")for(var r=0,n=Object.getOwnPropertySymbols(i);r<n.length;r++)t.indexOf(n[r])<0&&Object.prototype.propertyIsEnumerable.call(i,n[r])&&(e[n[r]]=i[n[r]]);return e},ee;(function(i){function t(n,r){return(s,o,a)=>{const l=a.value,c=r||o;a.value=function(...u){const h=this.options[c];if(h!=null){this.getNativeValue=l.bind(this,...u);const f=xt(h,this.graph,...u);if(this.getNativeValue=null,f!=null||n===!0&&f===null)return f}return l.call(this,...u)}}}i.hook=t;function e(n){return(r,s,o)=>{const a=o.value,l=n||s;o.value=function(...c){let u=a.call(this,...c);const h=this.options[l];return h!=null&&(u=xt(h,this.graph,...c)&&u),u}}}i.after=e})(ee||(ee={}));class ne extends Ee{createModel(){if(this.options.model)return this.options.model;const t=new An;return t.graph=this.graph,t}createView(){return new Hi(this.graph)}createRenderer(){return new ge(this.graph)}createDefsManager(){return new T1(this.graph)}createGridManager(){return new Cp(this.graph)}createCoordManager(){return new P1(this.graph)}createKnobManager(){return new w9(this.graph)}createTransform(t,e){const n=this.getTransformOptions(t);return n.resizable||n.rotatable?new X2(Object.assign(Object.assign({node:t,graph:this.graph},n),e)):(n.clearAll&&X2.removeInstances(this.graph),null)}createKnob(t,e){const n=Ii.parseOptionGroup(this.graph,t,this.options.knob),r=Object.assign(Object.assign({},n),e);r.clearAll&&W2.removeInstances(this.graph),r.clearAll=!1;const s=t.prop("knob"),o=[];return(Array.isArray(s)?s:[s]).forEach((l,c)=>{if(l){if(l.enabled===!1||typeof l.enabled=="function"&&l.enabled.call(this.graph,t)===!1)return}else return;n.enabled&&o.push(new W2(Object.assign({node:t,index:c,graph:this.graph},r)))}),o}getTransformOptions(t){const e=Ii.parseOptionGroup(this.graph,t,this.options.resizing),n=Ii.parseOptionGroup(this.graph,t,this.options.rotating),r=Ii.parseOptionGroup(this.graph,t,this.options.transforming);return Object.assign(Object.assign({},r),{resizable:e.enabled,minWidth:e.minWidth,maxWidth:e.maxWidth,minHeight:e.minHeight,maxHeight:e.maxHeight,orthogonalResizing:e.orthogonal,restrictedResizing:e.restrict!=null?e.restrict:e.restricted,autoScrollOnResizing:e.autoScroll,preserveAspectRatio:e.preserveAspectRatio,allowReverse:e.allowReverse,rotatable:n.enabled,rotateGrid:n.grid})}createTransformManager(){return new cu(this.graph)}createHighlightManager(){return new lu(this.graph)}createBackgroundManager(){return new Ku(this.graph)}createClipboard(){return new M9}createClipboardManager(){return new Ep(this.graph)}createSnapline(){return new O1(Object.assign({graph:this.graph},this.options.snapline))}createSnaplineManager(){return new wp(this.graph)}createSelection(){return new xp(Object.assign({graph:this.graph},this.options.selecting))}createSelectionManager(){return new Ap(this.graph)}allowRubberband(t){return!0}createHistoryManager(){return new Ys(Object.assign({graph:this.graph},this.options.history))}createScroller(){return this.options.scroller.enabled?new ua(Object.assign({graph:this.graph},this.options.scroller)):null}createScrollerManager(){return new Sp(this.graph)}allowPanning(t){return!0}createMiniMap(){const t=this.options.minimap,{enabled:e}=t,n=A9(t,["enabled"]);return e?new M1(Object.assign({graph:this.graph},n)):null}createMiniMapManager(){return new Mp(this.graph)}createKeyboard(){return new Ks(Object.assign({graph:this.graph},this.options.keyboard))}createMouseWheel(){return new Op(Object.assign({graph:this.graph},this.options.mousewheel))}createPrintManager(){return new Js(this.graph)}createFormatManager(){return new D1(this.graph)}createPanningManager(){return new N1(this.graph)}createSizeManager(){return new $1(this.graph)}allowConnectToBlank(t){const e=this.options.connecting,n=e.allowBlank!=null?e.allowBlank:e.dangling;if(typeof n!="function")return!!n;const r=this.graph.findViewByCell(t),s=t.getSourceCell(),o=t.getTargetCell(),a=this.graph.findViewByCell(s),l=this.graph.findViewByCell(o);return xt(n,this.graph,{edge:t,edgeView:r,sourceCell:s,targetCell:o,sourceView:a,targetView:l,sourcePort:t.getSourcePortId(),targetPort:t.getTargetPortId(),sourceMagnet:r.sourceMagnet,targetMagnet:r.targetMagnet})}validateEdge(t,e,n){if(!this.allowConnectToBlank(t)){const s=t.getSourceCellId(),o=t.getTargetCellId();if(!(s&&o))return!1}const r=this.options.connecting.validateEdge;return r?xt(r,this.graph,{edge:t,type:e,previous:n}):!0}validateMagnet(t,e,n){if(e.getAttribute("magnet")!=="passive"){const r=this.options.connecting.validateMagnet;return r?xt(r,this.graph,{e:n,magnet:e,view:t,cell:t.cell}):!0}return!1}getDefaultEdge(t,e){let n;const r=this.options.connecting.createEdge;return r&&(n=xt(r,this.graph,{sourceMagnet:e,sourceView:t,sourceCell:t.cell})),n==null&&(n=new yp),n}validateConnection(t,e,n,r,s,o,a){const l=this.options.connecting,c=l.allowLoop,u=l.allowNode,h=l.allowEdge,f=l.allowPort,p=l.allowMulti!=null?l.allowMulti:l.multi,b=l.validateConnection,v=o?o.cell:null,C=s==="target"?n:t,x=s==="target"?r:e;let S=!0;const E=O=>{const k=s==="source"?a?a.port:null:v?v.getSourcePortId():null,m=s==="target"?a?a.port:null:v?v.getTargetPortId():null;return xt(O,this.graph,{edge:v,edgeView:o,sourceView:t,targetView:n,sourcePort:k,targetPort:m,sourceMagnet:e,targetMagnet:r,sourceCell:t?t.cell:null,targetCell:n?n.cell:null,type:s})};if(c!=null&&(typeof c=="boolean"?!c&&t===n&&(S=!1):S=E(c)),S&&f!=null&&(typeof f=="boolean"?!f&&x&&(S=!1):S=E(f)),S&&h!=null&&(typeof h=="boolean"?!h&&Sr.isEdgeView(C)&&(S=!1):S=E(h)),S&&u!=null&&(typeof u=="boolean"?!u&&C!=null&&Vn.isNodeView(C)&&x==null&&(S=!1):S=E(u)),S&&p!=null&&o){const O=o.cell,k=s==="source"?a:O.getSource(),m=s==="target"?a:O.getTarget(),T=a?this.graph.getCellById(a.cell):null;if(k&&m&&k.cell&&m.cell&&T)if(typeof p=="function")S=E(p);else{const D=this.model.getConnectedEdges(T,{outgoing:s==="source",incoming:s==="target"});D.length&&(p==="withPort"?D.some(H=>{const q=H.getSource(),R=H.getTarget();return q&&R&&q.cell===k.cell&&R.cell===m.cell&&q.port!=null&&q.port===k.port&&R.port!=null&&R.port===m.port})&&(S=!1):p||D.some(H=>{const q=H.getSource(),R=H.getTarget();return q&&R&&q.cell===k.cell&&R.cell===m.cell})&&(S=!1))}}return S&&b!=null&&(S=E(b)),S}getRestrictArea(t){const e=this.options.translating.restrict,n=typeof e=="function"?xt(e,this.graph,t):e;return typeof n=="number"?this.graph.transform.getGraphArea().inflate(n):n===!0?this.graph.transform.getGraphArea():n||null}onViewUpdated(t,e,n){e&ge.FLAG_INSERT||n.mounting||this.graph.renderer.requestConnectedEdgesUpdate(t,n)}onViewPostponed(t,e,n){return this.graph.renderer.forcePostponedViewUpdate(t,e)}getCellView(t){return null}createCellView(t){const e={graph:this.graph},n=this.getCellView(t);if(n)return new n(t,e);const r=t.view;if(r!=null&&typeof r=="string"){const s=Re.registry.get(r);return s?new s(t,e):Re.registry.onNotFound(r)}return t.isNode()?new Vn(t,e):t.isEdge()?new Sr(t,e):null}getHTMLComponent(t){let e=t.getHTML();return typeof e=="string"&&(e=or.componentRegistry.get(e)||e),gi(e)&&(e=e.render),typeof e=="function"?xt(e,this.graph,t):e}shouldUpdateHTMLComponent(t){let e=t.getHTML();if(typeof e=="string"&&(e=or.componentRegistry.get(e)||e),gi(e)){const n=e.shouldComponentUpdate;return typeof n=="function"?xt(n,this.graph,t):!!n}return!1}onEdgeLabelRendered(t){}onPortRendered(t){}onToolItemCreated(t){}}oe([ee.hook()],ne.prototype,"createModel",null);oe([ee.hook()],ne.prototype,"createView",null);oe([ee.hook()],ne.prototype,"createRenderer",null);oe([ee.hook()],ne.prototype,"createDefsManager",null);oe([ee.hook()],ne.prototype,"createGridManager",null);oe([ee.hook()],ne.prototype,"createCoordManager",null);oe([ee.hook()],ne.prototype,"createKnobManager",null);oe([ee.hook()],ne.prototype,"createTransform",null);oe([ee.hook()],ne.prototype,"createKnob",null);oe([ee.hook()],ne.prototype,"createTransformManager",null);oe([ee.hook()],ne.prototype,"createHighlightManager",null);oe([ee.hook()],ne.prototype,"createBackgroundManager",null);oe([ee.hook()],ne.prototype,"createClipboard",null);oe([ee.hook()],ne.prototype,"createClipboardManager",null);oe([ee.hook()],ne.prototype,"createSnapline",null);oe([ee.hook()],ne.prototype,"createSnaplineManager",null);oe([ee.hook()],ne.prototype,"createSelection",null);oe([ee.hook()],ne.prototype,"createSelectionManager",null);oe([ee.hook()],ne.prototype,"allowRubberband",null);oe([ee.hook()],ne.prototype,"createHistoryManager",null);oe([ee.hook()],ne.prototype,"createScroller",null);oe([ee.hook()],ne.prototype,"createScrollerManager",null);oe([ee.hook()],ne.prototype,"allowPanning",null);oe([ee.hook()],ne.prototype,"createMiniMap",null);oe([ee.hook()],ne.prototype,"createMiniMapManager",null);oe([ee.hook()],ne.prototype,"createKeyboard",null);oe([ee.hook()],ne.prototype,"createMouseWheel",null);oe([ee.hook()],ne.prototype,"createPrintManager",null);oe([ee.hook()],ne.prototype,"createFormatManager",null);oe([ee.hook()],ne.prototype,"createPanningManager",null);oe([ee.hook()],ne.prototype,"createSizeManager",null);oe([ee.after()],ne.prototype,"onViewUpdated",null);oe([ee.after()],ne.prototype,"onViewPostponed",null);oe([ee.hook()],ne.prototype,"getCellView",null);oe([ee.hook(!0)],ne.prototype,"createCellView",null);oe([ee.hook()],ne.prototype,"getHTMLComponent",null);oe([ee.hook()],ne.prototype,"shouldUpdateHTMLComponent",null);oe([ee.hook()],ne.prototype,"onEdgeLabelRendered",null);oe([ee.hook()],ne.prototype,"onPortRendered",null);oe([ee.hook()],ne.prototype,"onToolItemCreated",null);var Ui=globalThis&&globalThis.__decorate||function(i,t,e,n){var r=arguments.length,s=r<3?t:n===null?n=Object.getOwnPropertyDescriptor(t,e):n,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")s=Reflect.decorate(i,t,e,n);else for(var a=i.length-1;a>=0;a--)(o=i[a])&&(s=(r<3?o(s):r>3?o(t,e,s):o(t,e))||s);return r>3&&s&&Object.defineProperty(t,e,s),s};class ae extends Pn{constructor(t){super(),this.options=Ii.get(t),this.css=new ns(this),this.hook=new ne(this),this.view=this.hook.createView(),this.defs=this.hook.createDefsManager(),this.coord=this.hook.createCoordManager(),this.transform=this.hook.createTransformManager(),this.knob=this.hook.createKnobManager(),this.highlight=this.hook.createHighlightManager(),this.grid=this.hook.createGridManager(),this.background=this.hook.createBackgroundManager(),this.model=this.hook.createModel(),this.renderer=this.hook.createRenderer(),this.clipboard=this.hook.createClipboardManager(),this.snapline=this.hook.createSnaplineManager(),this.selection=this.hook.createSelectionManager(),this.history=this.hook.createHistoryManager(),this.scroller=this.hook.createScrollerManager(),this.minimap=this.hook.createMiniMapManager(),this.keyboard=this.hook.createKeyboard(),this.mousewheel=this.hook.createMouseWheel(),this.print=this.hook.createPrintManager(),this.format=this.hook.createFormatManager(),this.panning=this.hook.createPanningManager(),this.size=this.hook.createSizeManager()}get container(){return this.view.container}get[Symbol.toStringTag](){return ae.toStringTag}isNode(t){return t.isNode()}isEdge(t){return t.isEdge()}resetCells(t,e={}){return this.model.resetCells(t,e),this}clearCells(t={}){return this.model.clear(t),this}toJSON(t={}){return this.model.toJSON(t)}parseJSON(t){return this.model.parseJSON(t)}fromJSON(t,e={}){return this.model.fromJSON(t,e),this}getCellById(t){return this.model.getCell(t)}addNode(t,e={}){return this.model.addNode(t,e)}addNodes(t,e={}){return this.addCell(t.map(n=>Ie.isNode(n)?n:this.createNode(n)),e)}createNode(t){return this.model.createNode(t)}removeNode(t,e={}){return this.model.removeCell(t,e)}addEdge(t,e={}){return this.model.addEdge(t,e)}addEdges(t,e={}){return this.addCell(t.map(n=>$e.isEdge(n)?n:this.createEdge(n)),e)}removeEdge(t,e={}){return this.model.removeCell(t,e)}createEdge(t){return this.model.createEdge(t)}addCell(t,e={}){return this.model.addCell(t,e),this}removeCell(t,e={}){return this.model.removeCell(t,e)}removeCells(t,e={}){return this.model.removeCells(t,e)}removeConnectedEdges(t,e={}){return this.model.removeConnectedEdges(t,e)}disconnectConnectedEdges(t,e={}){return this.model.disconnectConnectedEdges(t,e),this}hasCell(t){return this.model.has(t)}getCell(t){return this.model.getCell(t)}getCells(){return this.model.getCells()}getCellCount(){return this.model.total()}getNodes(){return this.model.getNodes()}getEdges(){return this.model.getEdges()}getOutgoingEdges(t){return this.model.getOutgoingEdges(t)}getIncomingEdges(t){return this.model.getIncomingEdges(t)}getConnectedEdges(t,e={}){return this.model.getConnectedEdges(t,e)}getRootNodes(){return this.model.getRoots()}getLeafNodes(){return this.model.getLeafs()}isRootNode(t){return this.model.isRoot(t)}isLeafNode(t){return this.model.isLeaf(t)}getNeighbors(t,e={}){return this.model.getNeighbors(t,e)}isNeighbor(t,e,n={}){return this.model.isNeighbor(t,e,n)}getSuccessors(t,e={}){return this.model.getSuccessors(t,e)}isSuccessor(t,e,n={}){return this.model.isSuccessor(t,e,n)}getPredecessors(t,e={}){return this.model.getPredecessors(t,e)}isPredecessor(t,e,n={}){return this.model.isPredecessor(t,e,n)}getCommonAncestor(...t){return this.model.getCommonAncestor(...t)}getSubGraph(t,e={}){return this.model.getSubGraph(t,e)}cloneSubGraph(t,e={}){return this.model.cloneSubGraph(t,e)}cloneCells(t){return this.model.cloneCells(t)}getNodesFromPoint(t,e){return this.model.getNodesFromPoint(t,e)}getNodesInArea(t,e,n,r,s){return this.model.getNodesInArea(t,e,n,r,s)}getNodesUnderNode(t,e={}){return this.model.getNodesUnderNode(t,e)}searchCell(t,e,n={}){return this.model.search(t,e,n),this}getShortestPath(t,e,n={}){return this.model.getShortestPath(t,e,n)}getAllCellsBBox(){return this.model.getAllCellsBBox()}getCellsBBox(t,e={}){return this.model.getCellsBBox(t,e)}startBatch(t,e={}){this.model.startBatch(t,e)}stopBatch(t,e={}){this.model.stopBatch(t,e)}batchUpdate(t,e,n){const r=typeof t=="string"?t:"update",s=typeof t=="string"?e:t,o=typeof e=="function"?n:e;this.startBatch(r,o);const a=s();return this.stopBatch(r,o),a}updateCellId(t,e){return this.model.updateCellId(t,e)}isFrozen(){return this.renderer.isFrozen()}freeze(t={}){return this.renderer.freeze(t),this}unfreeze(t={}){return this.renderer.unfreeze(t),this}isAsync(){return this.renderer.isAsync()}setAsync(t){return this.renderer.setAsync(t),this}findView(t){return ie.isCell(t)?this.findViewByCell(t):this.findViewByElem(t)}findViews(t){return ht.isRectangleLike(t)?this.findViewsInArea(t):N.isPointLike(t)?this.findViewsFromPoint(t):[]}findViewByCell(t){return this.renderer.findViewByCell(t)}findViewByElem(t){return this.renderer.findViewByElem(t)}findViewsFromPoint(t,e){const n=typeof t=="number"?{x:t,y:e}:t;return this.renderer.findViewsFromPoint(n)}findViewsInArea(t,e,n,r,s){const o=typeof t=="number"?{x:t,y:e,width:n,height:r}:t,a=typeof t=="number"?s:e;return this.renderer.findViewsInArea(o,a)}isViewMounted(t){return this.renderer.isViewMounted(t)}getMountedViews(){return this.renderer.getMountedViews()}getUnmountedViews(){return this.renderer.getUnmountedViews()}matrix(t){return typeof t=="undefined"?this.transform.getMatrix():(this.transform.setMatrix(t),this)}resize(t,e){return this.size.resize(t,e),this}resizeGraph(t,e){return this.size.resizeGraph(t,e),this}resizeScroller(t,e){return this.size.resizeScroller(t,e),this}resizePage(t,e){return this.size.resizePage(t,e),this}scale(t,e=t,n=0,r=0){return typeof t=="undefined"?this.transform.getScale():(this.transform.scale(t,e,n,r),this)}zoom(t,e){const n=this.scroller.widget;if(n){if(typeof t=="undefined")return n.zoom();n.zoom(t,e)}else{if(typeof t=="undefined")return this.transform.getZoom();this.transform.zoom(t,e)}return this}zoomTo(t,e={}){const n=this.scroller.widget;return n?n.zoom(t,Object.assign(Object.assign({},e),{absolute:!0})):this.transform.zoom(t,Object.assign(Object.assign({},e),{absolute:!0})),this}zoomToRect(t,e={}){const n=this.scroller.widget;return n?n.zoomToRect(t,e):this.transform.zoomToRect(t,e),this}zoomToFit(t={}){const e=this.scroller.widget;return e?e.zoomToFit(t):this.transform.zoomToFit(t),this}rotate(t,e,n){return typeof t=="undefined"?this.transform.getRotation():(this.transform.rotate(t,e,n),this)}translate(t,e){return typeof t=="undefined"?this.transform.getTranslation():(this.transform.translate(t,e),this)}translateBy(t,e){const n=this.translate(),r=n.tx+t,s=n.ty+e;return this.translate(r,s)}getArea(){return this.transform.getGraphArea()}getGraphArea(){return this.transform.getGraphArea()}getContentArea(t={}){return this.transform.getContentArea(t)}getContentBBox(t={}){return this.transform.getContentBBox(t)}fitToContent(t,e,n,r){return this.transform.fitToContent(t,e,n,r)}scaleContentToFit(t={}){return this.transform.scaleContentToFit(t),this}center(t){return this.centerPoint(t)}centerPoint(t,e,n){const r=this.scroller.widget;return r?r.centerPoint(t,e,n):this.transform.centerPoint(t,e),this}centerContent(t){const e=this.scroller.widget;return e?e.centerContent(t):this.transform.centerContent(t),this}centerCell(t,e){const n=this.scroller.widget;return n?n.centerCell(t,e):this.transform.centerCell(t),this}positionPoint(t,e,n,r={}){const s=this.scroller.widget;return s?s.positionPoint(t,e,n,r):this.transform.positionPoint(t,e,n),this}positionRect(t,e,n){const r=this.scroller.widget;return r?r.positionRect(t,e,n):this.transform.positionRect(t,e),this}positionCell(t,e,n){const r=this.scroller.widget;return r?r.positionCell(t,e,n):this.transform.positionCell(t,e),this}positionContent(t,e){const n=this.scroller.widget;return n?n.positionContent(t,e):this.transform.positionContent(t,e),this}getClientMatrix(){return this.coord.getClientMatrix()}getClientOffset(){return this.coord.getClientOffset()}getPageOffset(){return this.coord.getPageOffset()}snapToGrid(t,e){return this.coord.snapToGrid(t,e)}pageToLocal(t,e,n,r){return ht.isRectangleLike(t)?this.coord.pageToLocalRect(t):typeof t=="number"&&typeof e=="number"&&typeof n=="number"&&typeof r=="number"?this.coord.pageToLocalRect(t,e,n,r):this.coord.pageToLocalPoint(t,e)}localToPage(t,e,n,r){return ht.isRectangleLike(t)?this.coord.localToPageRect(t):typeof t=="number"&&typeof e=="number"&&typeof n=="number"&&typeof r=="number"?this.coord.localToPageRect(t,e,n,r):this.coord.localToPagePoint(t,e)}clientToLocal(t,e,n,r){return ht.isRectangleLike(t)?this.coord.clientToLocalRect(t):typeof t=="number"&&typeof e=="number"&&typeof n=="number"&&typeof r=="number"?this.coord.clientToLocalRect(t,e,n,r):this.coord.clientToLocalPoint(t,e)}localToClient(t,e,n,r){return ht.isRectangleLike(t)?this.coord.localToClientRect(t):typeof t=="number"&&typeof e=="number"&&typeof n=="number"&&typeof r=="number"?this.coord.localToClientRect(t,e,n,r):this.coord.localToClientPoint(t,e)}localToGraph(t,e,n,r){return ht.isRectangleLike(t)?this.coord.localToGraphRect(t):typeof t=="number"&&typeof e=="number"&&typeof n=="number"&&typeof r=="number"?this.coord.localToGraphRect(t,e,n,r):this.coord.localToGraphPoint(t,e)}graphToLocal(t,e,n,r){return ht.isRectangleLike(t)?this.coord.graphToLocalRect(t):typeof t=="number"&&typeof e=="number"&&typeof n=="number"&&typeof r=="number"?this.coord.graphToLocalRect(t,e,n,r):this.coord.graphToLocalPoint(t,e)}clientToGraph(t,e,n,r){return ht.isRectangleLike(t)?this.coord.clientToGraphRect(t):typeof t=="number"&&typeof e=="number"&&typeof n=="number"&&typeof r=="number"?this.coord.clientToGraphRect(t,e,n,r):this.coord.clientToGraphPoint(t,e)}defineFilter(t){return this.defs.filter(t)}defineGradient(t){return this.defs.gradient(t)}defineMarker(t){return this.defs.marker(t)}getGridSize(){return this.grid.getGridSize()}setGridSize(t){return this.grid.setGridSize(t),this}showGrid(){return this.grid.show(),this}hideGrid(){return this.grid.hide(),this}clearGrid(){return this.grid.clear(),this}drawGrid(t){return this.grid.draw(t),this}updateBackground(){return this.background.update(),this}drawBackground(t,e){const n=this.scroller.widget;return n!=null&&(this.options.background==null||!e)?n.backgroundManager.draw(t):this.background.draw(t),this}clearBackground(t){const e=this.scroller.widget;return e!=null&&(this.options.background==null||!t)?e.backgroundManager.clear():this.background.clear(),this}isClipboardEnabled(){return!this.clipboard.disabled}enableClipboard(){return this.clipboard.enable(),this}disableClipboard(){return this.clipboard.disable(),this}toggleClipboard(t){return t!=null?t!==this.isClipboardEnabled()&&(t?this.enableClipboard():this.disableClipboard()):this.isClipboardEnabled()?this.disableClipboard():this.enableClipboard(),this}isClipboardEmpty(){return this.clipboard.isEmpty()}getCellsInClipboard(){return this.clipboard.cells}cleanClipboard(){return this.clipboard.clean(),this}copy(t,e={}){return this.clipboard.copy(t,e),this}cut(t,e={}){return this.clipboard.cut(t,e),this}paste(t={},e=this){return this.clipboard.paste(t,e)}isHistoryEnabled(){return!this.history.disabled}enableHistory(){return this.history.enable(),this}disableHistory(){return this.history.disable(),this}toggleHistory(t){return t!=null?t!==this.isHistoryEnabled()&&(t?this.enableHistory():this.disableHistory()):this.isHistoryEnabled()?this.disableHistory():this.enableHistory(),this}undo(t={}){return this.history.undo(t),this}undoAndCancel(t={}){return this.history.cancel(t),this}redo(t={}){return this.history.redo(t),this}canUndo(){return this.history.canUndo()}canRedo(){return this.history.canRedo()}cleanHistory(t={}){this.history.clean(t)}isKeyboardEnabled(){return!this.keyboard.disabled}enableKeyboard(){return this.keyboard.enable(),this}disableKeyboard(){return this.keyboard.disable(),this}toggleKeyboard(t){return t!=null?t!==this.isKeyboardEnabled()&&(t?this.enableKeyboard():this.disableKeyboard()):this.isKeyboardEnabled()?this.disableKeyboard():this.enableKeyboard(),this}bindKey(t,e,n){return this.keyboard.on(t,e,n),this}unbindKey(t,e){return this.keyboard.off(t,e),this}isMouseWheelEnabled(){return!this.mousewheel.disabled}enableMouseWheel(){return this.mousewheel.enable(),this}disableMouseWheel(){return this.mousewheel.disable(),this}toggleMouseWheel(t){return t==null?this.isMouseWheelEnabled()?this.disableMouseWheel():this.enableMouseWheel():t?this.enableMouseWheel():this.disableMouseWheel(),this}isPannable(){return this.scroller.widget?this.scroller.pannable:this.panning.pannable}enablePanning(){return this.scroller.widget?this.scroller.enablePanning():this.panning.enablePanning(),this}disablePanning(){return this.scroller.widget?this.scroller.disablePanning():this.panning.disablePanning(),this}togglePanning(t){return t==null?this.isPannable()?this.disablePanning():this.enablePanning():t!==this.isPannable()&&(t?this.enablePanning():this.disablePanning()),this}lockScroller(){var t;(t=this.scroller.widget)===null||t===void 0||t.lock()}unlockScroller(){var t;(t=this.scroller.widget)===null||t===void 0||t.unlock()}updateScroller(){var t;(t=this.scroller.widget)===null||t===void 0||t.update()}getScrollbarPosition(){return this.scroller.widget.scrollbarPosition()}setScrollbarPosition(t,e,n){return this.scroller.widget.scrollbarPosition(t,e,n),this}scrollToPoint(t,e,n){return this.scroller.widget.scrollToPoint(t,e,n),this}scrollToContent(t){return this.scroller.widget.scrollToContent(t),this}scrollToCell(t,e){return this.scroller.widget.scrollToCell(t,e),this}transitionToPoint(t,e,n){return this.scroller.widget.transitionToPoint(t,e,n),this}transitionToRect(t,e={}){return this.scroller.widget.transitionToRect(t,e),this}isSelectionEnabled(){return!this.selection.disabled}enableSelection(){return this.selection.enable(),this}disableSelection(){return this.selection.disable(),this}toggleSelection(t){return t!=null?t!==this.isSelectionEnabled()&&(t?this.enableSelection():this.disableSelection()):this.isSelectionEnabled()?this.disableSelection():this.enableSelection(),this}isMultipleSelection(){return this.selection.isMultiple()}enableMultipleSelection(){return this.selection.enableMultiple(),this}disableMultipleSelection(){return this.selection.disableMultiple(),this}toggleMultipleSelection(t){return t!=null?t!==this.isMultipleSelection()&&(t?this.enableMultipleSelection():this.disableMultipleSelection()):this.isMultipleSelection()?this.disableMultipleSelection():this.enableMultipleSelection(),this}isSelectionMovable(){return this.selection.widget.options.movable!==!1}enableSelectionMovable(){return this.selection.widget.options.movable=!0,this}disableSelectionMovable(){return this.selection.widget.options.movable=!1,this}toggleSelectionMovable(t){return t!=null?t!==this.isSelectionMovable()&&(t?this.enableSelectionMovable():this.disableSelectionMovable()):this.isSelectionMovable()?this.disableSelectionMovable():this.enableSelectionMovable(),this}isRubberbandEnabled(){return!this.selection.rubberbandDisabled}enableRubberband(){return this.selection.enableRubberband(),this}disableRubberband(){return this.selection.disableRubberband(),this}toggleRubberband(t){return t!=null?t!==this.isRubberbandEnabled()&&(t?this.enableRubberband():this.disableRubberband()):this.isRubberbandEnabled()?this.disableRubberband():this.enableRubberband(),this}isStrictRubberband(){return this.selection.widget.options.strict===!0}enableStrictRubberband(){return this.selection.widget.options.strict=!0,this}disableStrictRubberband(){return this.selection.widget.options.strict=!1,this}toggleStrictRubberband(t){return t!=null?t!==this.isStrictRubberband()&&(t?this.enableStrictRubberband():this.disableStrictRubberband()):this.isStrictRubberband()?this.disableStrictRubberband():this.enableStrictRubberband(),this}setRubberbandModifiers(t){this.selection.setModifiers(t)}setSelectionFilter(t){return this.selection.setFilter(t),this}setSelectionDisplayContent(t){return this.selection.setContent(t),this}isSelectionEmpty(){return this.selection.isEmpty()}cleanSelection(t){return this.selection.clean(t),this}resetSelection(t,e){return this.selection.reset(t,e),this}getSelectedCells(){return this.selection.cells}getSelectedCellCount(){return this.selection.length}isSelected(t){return this.selection.isSelected(t)}select(t,e){return this.selection.select(t,e),this}unselect(t,e){return this.selection.unselect(t,e),this}isSnaplineEnabled(){return!this.snapline.widget.disabled}enableSnapline(){return this.snapline.widget.enable(),this}disableSnapline(){return this.snapline.widget.disable(),this}toggleSnapline(t){if(t!=null)t!==this.isSnaplineEnabled()&&(t?this.enableSnapline():this.disableSnapline());else return this.isSnaplineEnabled()?this.disableSnapline():this.enableSnapline(),this}hideSnapline(){return this.snapline.widget.hide(),this}setSnaplineFilter(t){return this.snapline.widget.setFilter(t),this}isSnaplineOnResizingEnabled(){return this.snapline.widget.options.resizing===!0}enableSnaplineOnResizing(){return this.snapline.widget.options.resizing=!0,this}disableSnaplineOnResizing(){return this.snapline.widget.options.resizing=!1,this}toggleSnaplineOnResizing(t){return t!=null?t!==this.isSnaplineOnResizingEnabled()&&(t?this.enableSnaplineOnResizing():this.disableSnaplineOnResizing()):this.isSnaplineOnResizingEnabled()?this.disableSnaplineOnResizing():this.enableSnaplineOnResizing(),this}isSharpSnapline(){return this.snapline.widget.options.sharp===!0}enableSharpSnapline(){return this.snapline.widget.options.sharp=!0,this}disableSharpSnapline(){return this.snapline.widget.options.sharp=!1,this}toggleSharpSnapline(t){return t!=null?t!==this.isSharpSnapline()&&(t?this.enableSharpSnapline():this.disableSharpSnapline()):this.isSharpSnapline()?this.disableSharpSnapline():this.enableSharpSnapline(),this}getSnaplineTolerance(){return this.snapline.widget.options.tolerance}setSnaplineTolerance(t){return this.snapline.widget.options.tolerance=t,this}removeTools(){return this.emit("tools:remove"),this}hideTools(){return this.emit("tools:hide"),this}showTools(){return this.emit("tools:show"),this}toSVG(t,e={}){this.format.toSVG(t,e)}toDataURL(t,e){this.format.toDataURL(t,e)}toPNG(t,e={}){this.format.toPNG(t,e)}toJPEG(t,e={}){this.format.toJPEG(t,e)}printPreview(t){this.print.show(t)}dispose(){this.clearCells(),this.off(),this.css.dispose(),this.hook.dispose(),this.defs.dispose(),this.grid.dispose(),this.coord.dispose(),this.transform.dispose(),this.knob.dispose(),this.highlight.dispose(),this.background.dispose(),this.clipboard.dispose(),this.snapline.dispose(),this.selection.dispose(),this.history.dispose(),this.keyboard.dispose(),this.mousewheel.dispose(),this.print.dispose(),this.format.dispose(),this.minimap.dispose(),this.panning.dispose(),this.scroller.dispose(),this.view.dispose(),this.renderer.dispose(),this.size.dispose()}}Ui([Pi.checkScroller()],ae.prototype,"lockScroller",null);Ui([Pi.checkScroller()],ae.prototype,"unlockScroller",null);Ui([Pi.checkScroller()],ae.prototype,"updateScroller",null);Ui([Pi.checkScroller()],ae.prototype,"getScrollbarPosition",null);Ui([Pi.checkScroller()],ae.prototype,"setScrollbarPosition",null);Ui([Pi.checkScroller()],ae.prototype,"scrollToPoint",null);Ui([Pi.checkScroller()],ae.prototype,"scrollToContent",null);Ui([Pi.checkScroller()],ae.prototype,"scrollToCell",null);Ui([Pi.checkScroller()],ae.prototype,"transitionToPoint",null);Ui([Pi.checkScroller()],ae.prototype,"transitionToRect",null);Ui([Pn.dispose()],ae.prototype,"dispose",null);(function(i){i.View=Hi,i.Hook=ne,i.Renderer=ge,i.Keyboard=Ks,i.MouseWheel=Op,i.BaseManager=Ee,i.DefsManager=T1,i.GridManager=Cp,i.CoordManager=P1,i.PrintManager=Js,i.FormatManager=D1,i.MiniMapManager=Mp,i.HistoryManager=Ys,i.SnaplineManager=wp,i.ScrollerManager=Sp,i.ClipboardManager=Ep,i.TransformManager=cu,i.HighlightManager=lu,i.BackgroundManager=Ku,i.SelectionManager=Ap})(ae||(ae={}));(function(i){i.toStringTag=`X6.${i.name}`;function t(e){if(e==null)return!1;if(e instanceof i)return!0;const n=e[Symbol.toStringTag],r=e;return(n==null||n===i.toStringTag)&&r.hook!=null&&r.view!=null&&r.model!=null}i.isGraph=t})(ae||(ae={}));(function(i){function t(e,n){const r=e instanceof HTMLElement?new i({container:e}):new i(e);return n!=null&&r.fromJSON(n),r}i.render=t})(ae||(ae={}));(function(i){i.registerNode=Ie.registry.register,i.registerEdge=$e.registry.register,i.registerView=Re.registry.register,i.registerAttr=rr.registry.register,i.registerGrid=Wr.registry.register,i.registerFilter=Qo.registry.register,i.registerNodeTool=ia.registry.register,i.registerEdgeTool=ra.registry.register,i.registerBackground=xl.registry.register,i.registerHighlighter=vr.registry.register,i.registerPortLayout=Rs.registry.register,i.registerPortLabelLayout=ta.registry.register,i.registerMarker=ts.registry.register,i.registerRouter=Xr.registry.register,i.registerConnector=Vs.registry.register,i.registerAnchor=sa.registry.register,i.registerEdgeAnchor=oa.registry.register,i.registerConnectionPoint=aa.registry.register,i.registerConnectionStrategy=ea.registry.register,i.registerHTMLComponent=or.componentRegistry.register})(ae||(ae={}));(function(i){i.unregisterNode=Ie.registry.unregister,i.unregisterEdge=$e.registry.unregister,i.unregisterView=Re.registry.unregister,i.unregisterAttr=rr.registry.unregister,i.unregisterGrid=Wr.registry.unregister,i.unregisterFilter=Qo.registry.unregister,i.unregisterNodeTool=ia.registry.unregister,i.unregisterEdgeTool=ra.registry.unregister,i.unregisterBackground=xl.registry.unregister,i.unregisterHighlighter=vr.registry.unregister,i.unregisterPortLayout=Rs.registry.unregister,i.unregisterPortLabelLayout=ta.registry.unregister,i.unregisterMarker=ts.registry.unregister,i.unregisterRouter=Xr.registry.unregister,i.unregisterConnector=Vs.registry.unregister,i.unregisterAnchor=sa.registry.unregister,i.unregisterEdgeAnchor=oa.registry.unregister,i.unregisterConnectionPoint=aa.registry.unregister,i.unregisterConnectionStrategy=ea.registry.unregister,i.unregisterHTMLComponent=or.componentRegistry.unregister})(ae||(ae={}));class M9{constructor(){this.cells=[]}copy(t,e,n={}){this.options=Object.assign({},n);const s=(An.isModel(e)?e:e.model).cloneSubGraph(t,n);this.cells=Rf(Object.keys(s).map(o=>s[o]),o=>o.isEdge()?2:1),this.serialize(n)}cut(t,e,n={}){this.copy(t,e,n),(ae.isGraph(e)?e.model:e).batchUpdate("cut",()=>{t.forEach(s=>s.remove())})}paste(t,e={}){const n=Object.assign(Object.assign({},this.options),e),{offset:r,edgeProps:s,nodeProps:o}=n;let a=20,l=20;r&&(a=typeof r=="number"?r:r.dx,l=typeof r=="number"?r:r.dy),this.deserialize(n);const c=this.cells;c.forEach(h=>{h.model=null,h.removeProp("zIndex"),(a||l)&&h.translate(a,l),o&&h.isNode()&&h.prop(o),s&&h.isEdge()&&h.prop(s)});const u=ae.isGraph(t)?t.model:t;return u.batchUpdate("paste",()=>{u.addCells(this.cells)}),this.copy(c,t,e),c}serialize(t){t.useLocalStorage!==!1&&Za.save(this.cells)}deserialize(t){if(t.useLocalStorage){const e=Za.fetch();e&&(this.cells=e)}}isEmpty(){return this.cells.length<=0}clean(){this.options={},this.cells=[],Za.clean()}}var Za;(function(i){const t=`${sr.prefixCls}.clipboard.cells`;function e(s){if(window.localStorage){const o=s.map(a=>a.toJSON());localStorage.setItem(t,JSON.stringify(o))}}i.save=e;function n(){if(window.localStorage){const s=localStorage.getItem(t),o=s?JSON.parse(s):[];if(o)return An.fromJSON(o)}}i.fetch=n;function r(){window.localStorage&&localStorage.removeItem(t)}i.clean=r})(Za||(Za={}));class O9{constructor(t){this.halo=t}get options(){return this.halo.options}get graph(){return this.halo.graph}get model(){return this.halo.model}get view(){return this.halo.view}get cell(){return this.halo.cell}get node(){return this.cell}getPresets(){return{className:"type-node",handles:[{name:"remove",position:"nw",events:{mousedown:this.removeCell.bind(this)},icon:null},{name:"resize",position:"se",events:{mousedown:this.startResize.bind(this),mousemove:this.doResize.bind(this),mouseup:this.stopResize.bind(this)},icon:null},{name:"clone",position:"n",events:{mousedown:this.startClone.bind(this),mousemove:this.doClone.bind(this),mouseup:this.stopClone.bind(this)},icon:null},{name:"link",position:"e",events:{mousedown:this.startLink.bind(this),mousemove:this.doLink.bind(this),mouseup:this.stopLink.bind(this)},icon:null},{name:"fork",position:"ne",events:{mousedown:this.startFork.bind(this),mousemove:this.doFork.bind(this),mouseup:this.stopFork.bind(this)},icon:null},{name:"unlink",position:"w",events:{mousedown:this.unlink.bind(this)},icon:null},{name:"rotate",position:"sw",events:{mousedown:this.startRotate.bind(this),mousemove:this.doRotate.bind(this),mouseup:this.stopRotate.bind(this)},icon:null}],bbox(t){return this.options.useCellGeometry?t.cell.getBBox():t.getBBox()},content(t){const e=Mo("x: <%= x %>, y: <%= y %>, width: <%= width %>, height: <%= height %>, angle: <%= angle %>"),n=t.cell,r=n.getBBox();return e({x:Math.floor(r.x),y:Math.floor(r.y),width:Math.floor(r.width),height:Math.floor(r.height),angle:Math.floor(n.getAngle())})},magnet(t){return t.container},tinyThreshold:40,smallThreshold:80,loopEdgePreferredSide:"top",loopEdgeWidth:40,rotateGrid:15,rotateEmbeds:!1}}removeCell(){this.model.removeConnectedEdges(this.cell),this.cell.remove()}startLink({x:t,y:e}){this.halo.startBatch();const n=this.graph,r=this.createEdgeConnectedToSource();r.setTarget({x:t,y:e}),this.model.addEdge(r,{validation:!1,halo:this.halo.cid,async:!1}),n.view.undelegateEvents(),this.edgeView=n.renderer.findViewByCell(r),this.edgeView.prepareArrowheadDragging("target",{x:t,y:e,fallbackAction:"remove"})}createEdgeConnectedToSource(){const t=this.getMagnet(this.view,"source"),e=this.getEdgeTerminal(this.view,t),n=this.graph.hook.getDefaultEdge(this.view,t);return n.setSource(e),n}getMagnet(t,e){const n=this.options.magnet;if(typeof n=="function"){const r=xt(n,this.halo,t,e);if(r instanceof SVGElement)return r}throw new Error("`magnet()` has to return an SVGElement")}getEdgeTerminal(t,e){const n={cell:t.cell.id};if(e!==t.container){const r=e.getAttribute("port");r?n.port=r:n.selector=t.getSelector(e)}return n}doLink({e:t,x:e,y:n}){this.edgeView&&this.edgeView.onMouseMove(t,e,n)}stopLink({e:t,x:e,y:n}){const r=this.edgeView;if(r){r.onMouseUp(t,e,n);const s=r.cell;s.hasLoop()&&this.makeLoopEdge(s),this.halo.stopBatch(),this.halo.trigger("action:edge:addde",{edge:s}),this.edgeView=null}this.graph.view.delegateEvents()}makeLoopEdge(t){let e=null,n=null;const r=this.options.loopEdgeWidth,s=this.graph.options,o=new ht(0,0,s.width,s.height),a=this.graph.graphToLocal(this.view.getBBox());[this.options.loopEdgePreferredSide,"top","bottom","left","right"].some(c=>{let u=null,h=0,f=0;switch(c){case"top":u=new N(a.x+a.width/2,a.y-r),h=r/2;break;case"bottom":u=new N(a.x+a.width/2,a.y+a.height+r),h=r/2;break;case"left":u=new N(a.x-r,a.y+a.height/2),f=r/2;break;case"right":u=new N(a.x+a.width+r,a.y+a.height/2),f=r/2;break}return u?(e=u.translate(-h,-f),n=u.translate(h,f),o.containsPoint(e)&&o.containsPoint(n)):!1})&&e&&n&&t.setVertices([e,n])}startResize({e:t}){this.halo.startBatch(),this.flip=[1,0,0,1,1,0,0,1][Math.floor(re.normalize(this.node.getAngle())/45)],this.view.addClass("node-resizing"),on("node:resize",t,this.view)}doResize({e:t,dx:e,dy:n}){const r=this.node.getSize(),s=Math.max(r.width+(this.flip?e:n),1),o=Math.max(r.height+(this.flip?n:e),1);this.node.resize(s,o,{absolute:!0}),on("node:resizing",t,this.view)}stopResize({e:t}){this.view.removeClass("node-resizing"),on("node:resized",t,this.view),this.halo.stopBatch()}startClone({e:t,x:e,y:n}){this.halo.startBatch();const s=this.options.clone(this.cell,{clone:!0});if(!ie.isCell(s))throw new Error("option 'clone()' has to return a cell");this.centerNodeAtCursor(s,e,n),this.model.addCell(s,{halo:this.halo.cid,async:!1});const o=this.graph.renderer.findViewByCell(s);o.onMouseDown(t,e,n),this.halo.setEventData(t,{cloneView:o})}centerNodeAtCursor(t,e,n){const r=t.getBBox().getCenter(),s=e-r.x,o=n-r.y;t.translate(s,o)}doClone({e:t,x:e,y:n}){const r=this.halo.getEventData(t).cloneView;r&&r.onMouseMove(t,e,n)}stopClone({e:t,x:e,y:n}){const r=this.halo.getEventData(t).cloneView;r&&r.onMouseUp(t,e,n),this.halo.stopBatch()}startFork({e:t,x:e,y:n}){this.halo.startBatch();const r=this.options.clone(this.cell,{fork:!0});if(!ie.isCell(r))throw new Error("option 'clone()' has to return a cell");this.centerNodeAtCursor(r,e,n),this.model.addCell(r,{halo:this.halo.cid,async:!1});const s=this.createEdgeConnectedToSource(),o=this.graph.renderer.findViewByCell(r),a=this.getMagnet(o,"target"),l=this.getEdgeTerminal(o,a);s.setTarget(l),this.model.addEdge(s,{halo:this.halo.cid,async:!1}),o.onMouseDown(t,e,n),this.halo.setEventData(t,{cloneView:o})}doFork({e:t,x:e,y:n}){const r=this.halo.getEventData(t).cloneView;r&&r.onMouseMove(t,e,n)}stopFork({e:t,x:e,y:n}){const r=this.halo.getEventData(t).cloneView;r&&r.onMouseUp(t,e,n),this.halo.stopBatch()}startRotate({e:t,x:e,y:n}){this.halo.startBatch();const r=this.node.getBBox().getCenter(),s=[this.node];this.options.rotateEmbeds&&this.node.getDescendants({deep:!0}).reduce((o,a)=>(a.isNode()&&o.push(a),o),s),this.halo.setEventData(t,{center:r,nodes:s,rotateStartAngles:s.map(o=>o.getAngle()),clientStartAngle:new N(e,n).theta(r)}),s.forEach(o=>{const a=this.graph.findViewByCell(o);a&&(a.addClass("node-rotating"),on("node:rotate",t,a))})}doRotate({e:t,x:e,y:n}){const r=this.halo.getEventData(t),s=r.clientStartAngle-new N(e,n).theta(r.center);r.nodes.forEach((o,a)=>{const l=r.rotateStartAngles[a],c=tn.snapToGrid(l+s,this.options.rotateGrid);o.rotate(c,{absolute:!0,center:r.center,halo:this.halo.cid}),on("node:rotating",t,this.graph.findViewByCell(o))})}stopRotate({e:t}){this.halo.getEventData(t).nodes.forEach(n=>{const r=this.graph.findViewByCell(n);r.removeClass("node-rotating"),on("node:rotated",t,r)}),this.halo.stopBatch()}unlink(){this.halo.startBatch(),this.model.removeConnectedEdges(this.cell),this.halo.stopBatch()}}class T9{constructor(t){this.halo=t}get options(){return this.halo.options}get graph(){return this.halo.graph}get model(){return this.halo.model}get view(){return this.halo.view}get cell(){return this.halo.cell}get edge(){return this.cell}getPresets(){return{className:"type-edge",handles:[{name:"remove",position:"nw",icon:null,events:{mousedown:this.removeEdge.bind(this)}},{name:"direction",position:"se",icon:null,events:{mousedown:this.directionSwap.bind(this)}}],content:!1,bbox(t){return t.graph.localToGraph(t.getPointAtRatio(.5))},tinyThreshold:-1,smallThreshold:-1}}removeEdge(){this.cell.remove()}directionSwap(){const t=this.edge.getSource(),e=this.edge.getTarget();this.edge.prop({source:e,target:t})}}class Ol extends Gl{get type(){return this.options.type||"surround"}get handleOptions(){return this.options}init(t){this.options=Ne(Ol.defaultOptions,this.cell.isNode()?new O9(this).getPresets():this.cell.isEdge()?new T9(this).getPresets():null,t),this.render(),this.initHandles(),this.update(),this.startListening()}startListening(){const t=this.model,e=this.graph;this.view.cell.on("removed",this.remove,this),t.on("reseted",this.remove,this),e.on("halo:destroy",this.remove,this),t.on("*",this.update,this),e.on("scale",this.update,this),e.on("translate",this.update,this),super.startListening()}stopListening(){const t=this.model,e=this.graph,n=this.view.cell;this.undelegateEvents(),n.off("removed",this.remove,this),t.off("reseted",this.remove,this),e.off("halo:destroy",this.remove,this),t.off("*",this.update,this),e.off("scale",this.update,this),e.off("translate",this.update,this),super.stopListening()}render(){const t=this.options,e=this.prefixClassName("widget-halo");return this.view.addClass(uu.NODE_CLS),this.container=document.createElement("div"),this.$container=this.$(this.container).addClass(e).attr("data-shape",this.view.cell.shape),t.className&&this.$container.addClass(t.className),this.$handleContainer=this.$("<div/>").addClass(`${e}-handles`).appendTo(this.container),this.$content=this.$("<div/>").addClass(`${e}-content`).appendTo(this.container),this.$container.appendTo(this.graph.container),this}remove(){return this.stopBatch(),this.view.removeClass(uu.NODE_CLS),super.remove()}update(){if(this.isRendered()){this.updateContent();const t=this.getBBox(),e=this.options.tinyThreshold||0,n=this.options.smallThreshold||0;this.$handleContainer.toggleClass(`${this.handleClassName}-tiny`,t.width<e&&t.height<e);const r=`${this.handleClassName}-small`;this.$handleContainer.toggleClass(r,!this.$handleContainer.hasClass(r)&&t.width<n&&t.height<n),this.$container.css({width:t.width,height:t.height,left:t.x,top:t.y}),this.hasHandle("unlink")&&this.toggleUnlink(),(this.type==="surround"||this.type==="toolbar")&&this.hasHandle("fork")&&this.toggleFork()}}updateContent(){const t=this.options.content;if(typeof t=="function"){const e=xt(t,this,this.view,this.$content[0]);e&&this.$content.html(e)}else t?this.$content.html(t):this.$content.remove()}getBBox(){const t=this.view,e=this.options.bbox,n=typeof e=="function"?xt(e,this,t):e;return ht.create(Object.assign({x:0,y:0,width:1,height:1},n))}removeCell(){this.cell.remove()}toggleFork(){const t=this.view.cell.clone(),e=this.graph.hook.createCellView(t),n=this.graph.hook.validateConnection(this.view,null,e,null,"target");this.$handleContainer.children(".fork").toggleClass("hidden",!n),e.remove()}toggleUnlink(){const t=this.model.getConnectedEdges(this.view.cell).length>0;this.$handleContainer.children(".unlink").toggleClass("hidden",!t)}startBatch(){this.model.startBatch("halo",{halo:this.cid})}stopBatch(){this.model.hasActiveBatch("halo")&&this.model.stopBatch("halo",{halo:this.cid})}}(function(i){i.defaultOptions={type:"surround",clearAll:!0,clearOnBlankMouseDown:!0,useCellGeometry:!1,clone:t=>t.clone().removeZIndex()}})(Ol||(Ol={}));Object.getOwnPropertyNames(Ws.prototype).forEach(i=>{i!=="constructor"&&Object.defineProperty(Ol.prototype,i,Object.getOwnPropertyDescriptor(Ws.prototype,i))});var uu;(function(i){i.NODE_CLS="has-widget-halo"})(uu||(uu={}));var P9=globalThis&&globalThis.__decorate||function(i,t,e,n){var r=arguments.length,s=r<3?t:n===null?n=Object.getOwnPropertyDescriptor(t,e):n,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")s=Reflect.decorate(i,t,e,n);else for(var a=i.length-1;a>=0;a--)(o=i[a])&&(s=(r<3?o(s):r>3?o(t,e,s):o(t,e))||s);return r>3&&s&&Object.defineProperty(t,e,s),s};class is extends se{constructor(t){super(),this.options=Object.assign(Object.assign({},is.defaults),t),this.container=document.createElement("div"),this.$container=this.$(this.container).addClass(this.prefixClassName("widget-dnd")),this.draggingGraph=new ae(Object.assign(Object.assign({},this.options.delegateGraphOptions),{container:document.createElement("div"),width:1,height:1})),this.$container.append(this.draggingGraph.container)}get targetScroller(){const t=this.options.target;return ae.isGraph(t)?t.scroller.widget:t}get targetGraph(){const t=this.options.target;return ae.isGraph(t)?t:t.graph}get targetModel(){return this.targetGraph.model}get snapline(){return this.targetGraph.snapline.widget}start(t,e){const n=e;n.preventDefault(),this.targetModel.startBatch("dnd"),this.$container.addClass("dragging").appendTo(this.options.containerParent||document.body),this.sourceNode=t,this.prepareDragging(t,n.clientX,n.clientY);const r=this.updateNodePosition(n.clientX,n.clientY);this.isSnaplineEnabled()&&(this.snapline.captureCursorOffset({e:n,node:t,cell:t,view:this.draggingView,x:r.x,y:r.y}),this.draggingNode.on("change:position",this.snap,this)),this.delegateDocumentEvents(is.documentEvents,n.data)}isSnaplineEnabled(){return this.snapline&&!this.snapline.disabled}prepareDragging(t,e,n){const r=this.draggingGraph,s=r.model,o=this.options.getDragNode(t,{sourceNode:t,draggingGraph:r,targetGraph:this.targetGraph});o.position(0,0);let a=5;if(this.isSnaplineEnabled()&&(a+=this.snapline.options.tolerance||0),this.isSnaplineEnabled()||this.options.scaled){const u=this.targetGraph.transform.getScale();r.scale(u.sx,u.sy),a*=Math.max(u.sx,u.sy)}else r.scale(1,1);this.clearDragging(),this.options.animation&&this.$container.stop(!0,!0),s.resetCells([o]);const l=r.findViewByCell(o);l.undelegateEvents(),l.cell.off("changed"),r.fitToContent({padding:a,allowNewOrigin:"any"});const c=l.getBBox();this.geometryBBox=l.getBBox({useCellGeometry:!0}),this.delta=this.geometryBBox.getTopLeft().diff(c.getTopLeft()),this.draggingNode=o,this.draggingView=l,this.draggingBBox=o.getBBox(),this.padding=a,this.originOffset=this.updateGraphPosition(e,n)}updateGraphPosition(t,e){const n=document.body.scrollTop||document.documentElement.scrollTop,r=this.delta,s=this.geometryBBox,o=this.padding||5,a={left:t-r.x-s.width/2-o,top:e-r.y-s.height/2-o+n};return this.draggingGraph&&this.$container.offset(a),a}updateNodePosition(t,e){const n=this.targetGraph.clientToLocal(t,e),r=this.draggingBBox;return n.x-=r.width/2,n.y-=r.height/2,this.draggingNode.position(n.x,n.y),n}snap({cell:t,current:e,options:n}){const r=t;if(n.snapped){const s=this.draggingBBox;r.position(s.x+n.tx,s.y+n.ty,{silent:!0}),this.draggingView.translate(),r.position(e.x,e.y,{silent:!0}),this.snapOffset={x:n.tx,y:n.ty}}else this.snapOffset=null}onDragging(t){const e=this.draggingView;if(e){t.preventDefault();const n=this.normalizeEvent(t),r=n.clientX,s=n.clientY;this.updateGraphPosition(r,s);const o=this.updateNodePosition(r,s),a=this.targetGraph.options.embedding.enabled,l=(a||this.isSnaplineEnabled())&&this.isInsideValidArea({x:r,y:s});if(a){e.setEventData(n,{graph:this.targetGraph,candidateEmbedView:this.candidateEmbedView});const c=e.getEventData(n);l?e.processEmbedding(n,c):e.clearEmbedding(c),this.candidateEmbedView=c.candidateEmbedView}this.isSnaplineEnabled()&&(l?this.snapline.snapOnMoving({e:n,view:e,x:o.x,y:o.y}):this.snapline.hide())}}onDragEnd(t){const e=this.draggingNode;if(e){const n=this.normalizeEvent(t),r=this.draggingView,s=this.draggingBBox,o=this.snapOffset;let a=s.x,l=s.y;o&&(a+=o.x,l+=o.y),e.position(a,l,{silent:!0});const c=this.drop(e,{x:n.clientX,y:n.clientY}),u=h=>{h?(this.onDropped(e),this.targetGraph.options.embedding.enabled&&r&&(r.setEventData(n,{cell:h,graph:this.targetGraph,candidateEmbedView:this.candidateEmbedView}),r.finalizeEmbedding(n,r.getEventData(n)))):this.onDropInvalid(),this.candidateEmbedView=null,this.targetModel.stopBatch("dnd")};$d(c)?(this.undelegateDocumentEvents(),c.then(u)):u(c)}}clearDragging(){this.draggingNode&&(this.sourceNode=null,this.draggingNode.remove(),this.draggingNode=null,this.draggingView=null,this.delta=null,this.padding=null,this.snapOffset=null,this.originOffset=null,this.undelegateDocumentEvents())}onDropped(t){this.draggingNode===t&&(this.clearDragging(),this.$container.removeClass("dragging").remove())}onDropInvalid(){const t=this.draggingNode;if(t){const e=this.options.animation;if(e){const n=typeof e=="object"&&e.duration||150,r=typeof e=="object"&&e.easing||"swing";this.draggingView=null,this.$container.animate(this.originOffset,n,r,()=>this.onDropped(t))}else this.onDropped(t)}}isInsideValidArea(t){let e;const n=this.targetGraph,r=this.targetScroller;if(r)if(r.options.autoResize)e=this.getDropArea(r.container);else{const s=this.getDropArea(r.container);e=this.getDropArea(n.container).intersectsWithRect(s)}else e=this.getDropArea(n.container);return e&&e.containsPoint(t)}getDropArea(t){const e=this.$(t),n=e.offset(),r=document.body.scrollTop||document.documentElement.scrollTop,s=document.body.scrollLeft||document.documentElement.scrollLeft;return ht.create({x:n.left+parseInt(e.css("border-left-width"),10)-s,y:n.top+parseInt(e.css("border-top-width"),10)-r,width:e.innerWidth(),height:e.innerHeight()})}drop(t,e){if(this.isInsideValidArea(e)){const n=this.targetGraph,r=n.model,s=n.clientToLocal(e),o=this.sourceNode,a=this.options.getDropNode(t,{sourceNode:o,draggingNode:t,targetGraph:this.targetGraph,draggingGraph:this.draggingGraph}),l=a.getBBox();s.x+=l.x-l.width/2,s.y+=l.y-l.height/2;const c=this.snapOffset?1:n.getGridSize();a.position(tn.snapToGrid(s.x,c),tn.snapToGrid(s.y,c)),a.removeZIndex();const u=this.options.validateNode,h=u?u(a,{sourceNode:o,draggingNode:t,droppingNode:a,targetGraph:n,draggingGraph:this.draggingGraph}):!0;return typeof h=="boolean"?h?(r.addCell(a,{stencil:this.cid}),a):null:bN(h).then(f=>f?(r.addCell(a,{stencil:this.cid}),a):null)}return null}onRemove(){this.draggingGraph&&(this.draggingGraph.view.remove(),this.draggingGraph.dispose())}dispose(){this.remove()}}P9([se.dispose()],is.prototype,"dispose",null);(function(i){i.defaults={animation:!1,getDragNode:t=>t.clone(),getDropNode:t=>t.clone()},i.documentEvents={mousemove:"onDragging",touchmove:"onDragging",mouseup:"onDragEnd",touchend:"onDragEnd",touchcancel:"onDragEnd"}})(is||(is={}));function k9(i,t={}){const e=An.isModel(i)?i:new An().resetCells(i,{sort:!1,dryrun:!0}),n=e.getNodes(),r=t.columns||1,s=Math.ceil(n.length/r),o=t.dx||0,a=t.dy||0,l=t.center!==!1,c=t.resizeToFit===!0,u=t.marginX||0,h=t.marginY||0,f=[];let p=t.columnWidth;if(p==="compact")for(let S=0;S<r;S+=1){const E=Xi.getNodesInColumn(n,S,r);f.push(Xi.getMaxDim(E,"width")+o)}else{(p==null||p==="auto")&&(p=Xi.getMaxDim(n,"width")+o);for(let S=0;S<r;S+=1)f.push(p)}const b=Xi.accumulate(f,u),v=[];let C=t.rowHeight;if(C==="compact")for(let S=0;S<s;S+=1){const E=Xi.getNodesInRow(n,S,r);v.push(Xi.getMaxDim(E,"height")+a)}else{(C==null||C==="auto")&&(C=Xi.getMaxDim(n,"height")+a);for(let S=0;S<s;S+=1)v.push(C)}const x=Xi.accumulate(v,h);e.startBatch("layout"),n.forEach((S,E)=>{const O=E%r,k=Math.floor(E/r),m=f[O],T=v[k];let D=0,z=0,H=S.getSize();if(c){let q=m-2*o,R=T-2*a;const rt=H.height*(H.width?q/H.width:1),st=H.width*(H.height?R/H.height:1);T<rt?q=st:R=rt,H={width:q,height:R},S.setSize(H,t)}l&&(D=(m-H.width)/2,z=(T-H.height)/2),S.position(b[O]+o+D,x[k]+a+z,t)}),e.stopBatch("layout")}var Xi;(function(i){function t(s,o){return s.reduce((a,l)=>Math.max(l.getSize()[o],a),0)}i.getMaxDim=t;function e(s,o,a){const l=[];for(let c=a*o,u=c+a;c<u;c+=1)l.push(s[c]);return l}i.getNodesInRow=e;function n(s,o,a){const l=[];for(let c=o,u=s.length;c<u;c+=a)l.push(s[c]);return l}i.getNodesInColumn=n;function r(s,o){return s.reduce((a,l,c)=>(a.push(a[c]+l),a),[o||0])}i.accumulate=r})(Xi||(Xi={}));class Tl extends se{constructor(t){super(),this.graphs={},this.$groups={},this.options=Object.assign(Object.assign({},Tl.defaultOptions),t),this.dnd=new is(this.options),this.onSearch=Bf(this.onSearch,200),this.container=document.createElement("div"),this.$container=this.$(this.container).addClass(this.prefixClassName(Wn.base)).attr("data-not-found-text",this.options.notFoundText||"No matches found"),this.options.collapsable=t.collapsable&&t.groups&&t.groups.some(n=>n.collapsable!==!1),this.options.collapsable&&(this.$container.addClass("collapsable"),t.groups&&t.groups.every(r=>r.collapsed||r.collapsable===!1)&&this.$container.addClass("collapsed")),this.$("<div/>").addClass(this.prefixClassName(Wn.title)).html(this.options.title).appendTo(this.$container),t.search&&this.$container.addClass("searchable").append(this.renderSearch()),this.$content=this.$("<div/>").addClass(this.prefixClassName(Wn.content)).appendTo(this.$container);const e=t.stencilGraphOptions||{};if(t.groups&&t.groups.length)t.groups.forEach(n=>{const r=this.$("<div/>").addClass(this.prefixClassName(Wn.group)).attr("data-name",n.name);(n.collapsable==null&&t.collapsable||n.collapsable!==!1)&&r.addClass("collapsable"),r.toggleClass("collapsed",n.collapsed===!0);const s=this.$("<h3/>").addClass(this.prefixClassName(Wn.groupTitle)).html(n.title||n.name),o=this.$("<div/>").addClass(this.prefixClassName(Wn.groupContent)),a=n.graphOptions,l=new ae(Object.assign(Object.assign(Object.assign({},e),a),{container:document.createElement("div"),model:e.model||new An,width:n.graphWidth||t.stencilGraphWidth,height:n.graphHeight||t.stencilGraphHeight,interacting:!1,preventDefaultBlankAction:!1}));o.append(l.container),r.append(s,o).appendTo(this.$content),this.$groups[n.name]=r,this.graphs[n.name]=l});else{const n=new ae(Object.assign(Object.assign({},e),{container:document.createElement("div"),model:e.model||new An,width:t.stencilGraphWidth,height:t.stencilGraphHeight,interacting:!1,preventDefaultBlankAction:!1}));this.$content.append(n.container),this.graphs[Qa.defaultGroupName]=n}return this.startListening(),this}get targetScroller(){const t=this.options.target;return ae.isGraph(t)?t.scroller.widget:t}get targetGraph(){const t=this.options.target;return ae.isGraph(t)?t:t.graph}get targetModel(){return this.targetGraph.model}renderSearch(){return this.$("<div/>").addClass(this.prefixClassName(Wn.search)).append(this.$("<input/>").attr({type:"search",placeholder:this.options.placeholder||"Search"}).addClass(this.prefixClassName(Wn.searchText)))}startListening(){const t=this.prefixClassName(Wn.title),e=this.prefixClassName(Wn.searchText),n=this.prefixClassName(Wn.groupTitle);this.delegateEvents({[`click .${t}`]:"onTitleClick",[`touchstart .${t}`]:"onTitleClick",[`click .${n}`]:"onGroupTitleClick",[`touchstart .${n}`]:"onGroupTitleClick",[`input .${e}`]:"onSearch",[`focusin .${e}`]:"onSearchFocusIn",[`focusout .${e}`]:"onSearchFocusOut"}),Object.keys(this.graphs).forEach(r=>{this.graphs[r].on("cell:mousedown",this.onDragStart,this)})}stopListening(){this.undelegateEvents(),Object.keys(this.graphs).forEach(t=>{this.graphs[t].off("cell:mousedown",this.onDragStart,this)})}load(t,e){return Array.isArray(t)?this.loadGroup(t,e):this.options.groups&&Object.keys(this.options.groups).forEach(n=>{t[n]&&this.loadGroup(t[n],n)}),this}loadGroup(t,e){const n=this.getModel(e);if(n){const a=t.map(l=>Ie.isNode(l)?l:Ie.create(l));n.resetCells(a)}const r=this.getGroup(e);let s=this.options.stencilGraphHeight;r&&r.graphHeight!=null&&(s=r.graphHeight);const o=r&&r.layout||this.options.layout;if(o&&n&&xt(o,this,n,r),!s){const a=this.getGraph(e);a.fitToContent({minWidth:a.options.width,gridHeight:1,padding:r&&r.graphPadding||this.options.stencilGraphPadding||10})}return this}onDragStart(t){const{e,node:n}=t;this.dnd.start(n,e)}filter(t,e){const n=Object.keys(this.graphs).reduce((r,s)=>{const o=this.graphs[s],a=s===Qa.defaultGroupName?null:s,l=o.model.getNodes().filter(f=>{let p=!1;typeof e=="function"?p=xt(e,this,f,t,a,this):typeof e=="boolean"?p=e:p=this.isCellMatched(f,t,e,t.toLowerCase()!==t);const b=o.renderer.findViewByCell(f);return b&&b.$(b.container).toggleClass("unmatched",!p),p}),c=l.length>0,u=this.options,h=new An;return h.resetCells(l),u.layout&&xt(u.layout,this,h,this.getGroup(s)),this.$groups[s]&&this.$groups[s].toggleClass("unmatched",!c),o.fitToContent({gridWidth:1,gridHeight:1,padding:u.stencilGraphPadding||10}),r||c},!1);this.$container.toggleClass("not-found",!n)}isCellMatched(t,e,n,r){return e&&n?Object.keys(n).some(s=>{if(s==="*"||t.shape===s){const o=n[s];return typeof o=="boolean"?o:(Array.isArray(o)?o:[o]).some(l=>{let c=t.getPropByPath(l);return c!=null?(c=`${c}`,r||(c=c.toLowerCase()),c.indexOf(e)>=0):!1})}return!1}):!0}onSearch(t){this.filter(t.target.value,this.options.search)}onSearchFocusIn(){this.$container.addClass("is-focused")}onSearchFocusOut(){this.$container.removeClass("is-focused")}onTitleClick(){this.options.collapsable&&(this.$container.toggleClass("collapsed"),this.$container.hasClass("collapsed")?this.collapseGroups():this.expandGroups())}onGroupTitleClick(t){const e=this.$(t.target).closest(`.${this.prefixClassName(Wn.group)}`);this.toggleGroup(e.attr("data-name")||"");const n=Object.keys(this.$groups).every(r=>{const s=this.getGroup(r),o=this.$groups[r];return s&&s.collapsable===!1||o.hasClass("collapsed")});this.$container.toggleClass("collapsed",n)}getModel(t){const e=this.getGraph(t);return e?e.model:null}getGraph(t){return this.graphs[t||Qa.defaultGroupName]}getGroup(t){const e=this.options.groups;return t!=null&&e&&e.length?e.find(n=>n.name===t):null}toggleGroup(t){return this.isGroupCollapsed(t)?this.expandGroup(t):this.collapseGroup(t),this}collapseGroup(t){if(this.isGroupCollapsable(t)){const e=this.$groups[t];e&&!this.isGroupCollapsed(t)&&(this.trigger("group:collapse",{name:t}),e.addClass("collapsed"))}return this}expandGroup(t){if(this.isGroupCollapsable(t)){const e=this.$groups[t];e&&this.isGroupCollapsed(t)&&(this.trigger("group:expand",{name:t}),e.removeClass("collapsed"))}return this}isGroupCollapsable(t){return this.$groups[t].hasClass("collapsable")}isGroupCollapsed(t){const e=this.$groups[t];return e&&e.hasClass("collapsed")}collapseGroups(){return Object.keys(this.$groups).forEach(t=>this.collapseGroup(t)),this}expandGroups(){return Object.keys(this.$groups).forEach(t=>this.expandGroup(t)),this}resizeGroup(t,e){const n=this.graphs[t];return n&&n.resize(e.width,e.height),this}onRemove(){Object.keys(this.graphs).forEach(t=>{this.graphs[t].view.remove(),delete this.graphs[t]}),this.dnd.remove(),this.stopListening(),this.undelegateDocumentEvents()}}(function(i){i.defaultOptions=Object.assign({stencilGraphWidth:200,stencilGraphHeight:800,title:"Stencil",collapsable:!1,placeholder:"Search",notFoundText:"No matches found",layout(t,e){const n={columnWidth:this.options.stencilGraphWidth/2-10,columns:2,rowHeight:80,resizeToFit:!1,dx:10,dy:10};k9(t,Object.assign(Object.assign(Object.assign({},n),this.options.layoutOptions),e?e.layoutOptions:{}))}},is.defaults)})(Tl||(Tl={}));var Wn;(function(i){i.base="widget-stencil",i.title=`${i.base}-title`,i.search=`${i.base}-search`,i.searchText=`${i.search}-text`,i.content=`${i.base}-content`,i.group=`${i.base}-group`,i.groupTitle=`${i.group}-title`,i.groupContent=`${i.group}-content`})(Wn||(Wn={}));var Qa;(function(i){i.defaultGroupName="__default__"})(Qa||(Qa={}));function _9(){if(sr.trackable){const i="https://kcart.alipay.com/web/bi.do",t=new Image,e=Object.assign(Object.assign({},sr.trackInfo),{version:zF,pg:document.URL,r:new Date().getTime(),x6:!0,page_type:"syslog"}),n=encodeURIComponent(JSON.stringify([e]));t.src=`${i}?BIProfile=merge&d=${n}`}}sr.trackable&&setTimeout(_9,3e3);const D9=i=>{i.bindKey(["meta+c","ctrl+c"],()=>{const e=i.getSelectedCells();return e.length&&i.copy(e),!1}),i.bindKey(["meta+x","ctrl+x"],()=>{const e=i.getSelectedCells();return e.length&&i.cut(e),!1}),i.bindKey(["meta+v","ctrl+v"],()=>{if(!i.isClipboardEmpty()){const e=i.paste({offset:32});i.cleanSelection(),i.select(e)}return!1}),i.bindKey(["meta+z","ctrl+z"],()=>(i.history.canUndo()&&i.history.undo(),!1)),i.bindKey(["meta+shift+z","ctrl+shift+z"],()=>(i.history.canRedo()&&i.history.redo(),!1)),i.bindKey(["meta+a","ctrl+a"],()=>{const e=i.getNodes();e&&i.select(e)}),i.bindKey("backspace",()=>{const e=i.getSelectedCells();e.length&&i.removeCells(e)}),i.bindKey(["ctrl+1","meta+1"],()=>{i.zoom()<1.5&&i.zoom(.1)}),i.bindKey(["ctrl+2","meta+2"],()=>{i.zoom()>.5&&i.zoom(-.1)});const t=(e,n)=>{for(let r=0,s=e.length;r<s;r=r+1)e[r].style.visibility=n?"visible":"hidden"};i.on("node:mouseenter",()=>{const n=document.getElementById("graph-container").querySelectorAll(".x6-port-body");t(n,!0)}),i.on("node:mouseleave",()=>{const n=document.getElementById("graph-container").querySelectorAll(".x6-port-body");t(n,!1)})},N9=(i,t)=>{const e={groups:{top:{position:"top",attrs:{circle:{r:4,magnet:!0,stroke:"#22dd33",strokeWidth:1,fill:"#fff",style:{visibility:"hidden"}}}},right:{position:"right",attrs:{circle:{r:4,magnet:!0,stroke:"#5F95FF",strokeWidth:1,fill:"#fff",style:{visibility:"hidden"}}}},bottom:{position:"bottom",attrs:{circle:{r:4,magnet:!0,stroke:"#5F95FF",strokeWidth:1,fill:"#fff",style:{visibility:"hidden"}}}},left:{position:"left",attrs:{circle:{r:4,magnet:!0,stroke:"#5F95FF",strokeWidth:1,fill:"#fff",style:{visibility:"hidden"}}}}},items:[{group:"top"},{group:"right"},{group:"bottom"},{group:"left"}]};ae.registerNode("custom-rect",{inherit:"rect",width:66,height:36,attrs:{body:{strokeWidth:1,stroke:"#5F95FF",fill:"#EFF4FF"},text:{fontSize:12,fill:"#262626"}},ports:fe({},e),data:[{key:"state",title:"\u72B6\u6001",value:"on"},{key:"apply",title:"\u7533\u8BF7\u4EBA",value:"\u5F20\u4E09"}]},!0),ae.registerNode("custom-polygon",{inherit:"polygon",width:66,height:36,attrs:{body:{strokeWidth:1,stroke:"#5F95FF",fill:"#EFF4FF"},text:{fontSize:12,fill:"#262626"}},ports:en(fe({},e),{items:[{group:"top"},{group:"bottom"}]})},!0),ae.registerNode("custom-circle",{inherit:"circle",width:45,height:45,attrs:{body:{strokeWidth:1,stroke:"#5F95FF",fill:"#EFF4FF"},text:{fontSize:12,fill:"#262626"}},ports:fe({},e)},!0),ae.registerNode("custom-image",{inherit:"rect",width:52,height:52,markup:[{tagName:"rect",selector:"body"},{tagName:"image"},{tagName:"text",selector:"label"}],attrs:{body:{stroke:"#5F95FF",fill:"#5F95FF"},image:{width:26,height:26,refX:13,refY:16},label:{refX:3,refY:2,textAnchor:"left",textVerticalAnchor:"top",fontSize:12,fill:"#fff"}},ports:fe({},e)},!0);const n=i.createNode({shape:"custom-rect",label:"\u5F00\u59CB",attrs:{body:{rx:20,ry:26}}}),r=i.createNode({shape:"custom-rect",label:"\u8FC7\u7A0B"}),s=i.createNode({shape:"custom-rect",attrs:{body:{rx:6,ry:6}},label:"\u53EF\u9009\u8FC7\u7A0B"}),o=i.createNode({shape:"custom-polygon",attrs:{body:{refPoints:"0,10 10,0 20,10 10,20"}},label:"\u51B3\u7B56"}),a=i.createNode({shape:"custom-polygon",attrs:{body:{refPoints:"10,0 40,0 30,20 0,20"}},label:"\u6570\u636E"}),l=i.createNode({shape:"custom-circle",label:"\u8FDE\u63A5"});t.load([n,r,s,o,a,l],"group1");const u=[{label:"\u81EA\u5B9A\u4E49A",image:"https://pngimg.com/uploads/letter_a/small/letter_a_PNG21.png"},{label:"Http",image:"https://gw.alipayobjects.com/zos/bmw-prod/dc1ced06-417d-466f-927b-b4a4d3265791.svg"},{label:"Api",image:"https://gw.alipayobjects.com/zos/bmw-prod/c55d7ae1-8d20-4585-bd8f-ca23653a4489.svg"},{label:"Sql",image:"https://gw.alipayobjects.com/zos/bmw-prod/6eb71764-18ed-4149-b868-53ad1542c405.svg"},{label:"Clound",image:"https://gw.alipayobjects.com/zos/bmw-prod/c36fe7cb-dc24-4854-aeb5-88d8dc36d52e.svg"},{label:"Mq",image:"https://gw.alipayobjects.com/zos/bmw-prod/2010ac9f-40e7-49d4-8c4a-4fcf2f83033b.svg"}].map(h=>i.createNode({shape:"custom-image",label:h.label,attrs:{image:{"xlink:href":h.image}}}));t.load(u,"group2")},$9=()=>{const i=new ae({container:document.getElementById("graph-container"),grid:!0,mousewheel:{enabled:!0,zoomAtMousePosition:!0,modifiers:"ctrl",minScale:.5,maxScale:3},connecting:{router:{name:"manhattan",args:{padding:1}},connector:{name:"rounded",args:{radius:8}},anchor:"center",connectionPoint:"anchor",allowBlank:!1,snap:{radius:20},createEdge(){return new yp({attrs:{line:{stroke:"#A2B1C3",strokeWidth:2,targetMarker:{name:"block",width:12,height:8}}},zIndex:0})},validateConnection({targetMagnet:e}){return!!e}},highlighting:{magnetAdsorbed:{name:"stroke",args:{attrs:{fill:"#5F95FF",stroke:"#5F95FF"}}}},resizing:!0,rotating:!0,selecting:{enabled:!0,rubberband:!0,showNodeSelectionBox:!0},snapline:!0,keyboard:!0,clipboard:!0}),t=new Tl({title:"\u6D41\u7A0B\u56FE",target:i,stencilGraphWidth:200,stencilGraphHeight:180,collapsable:!0,groups:[{title:"\u57FA\u7840\u6D41\u7A0B\u56FE",name:"group1"},{title:"\u7CFB\u7EDF\u8BBE\u8BA1\u56FE",name:"group2",graphHeight:250,layoutOptions:{rowHeight:70}}],layoutOptions:{columns:2,columnWidth:80,rowHeight:55}});return document.getElementById("stencil").appendChild(t.container),D9(i),N9(i,t),i};var F1=(i,t)=>{const e=i.__vccOpts||i;for(const[n,r]of t)e[n]=r;return e};const F9=ze({__name:"RightMenu",props:{visible:{type:Boolean},position:null},emits:["deleteNode"],setup(i){const t=vt(()=>({display:i.visible?"block":"none",left:`${i.position.x+180}px`,top:`${i.position.y}px`}));return(e,n)=>(Et(),Zt("ul",{class:"menu-list",style:Mn(U(t))},[Yt("li",{onClick:n[0]||(n[0]=r=>e.$emit("deleteNode"))},"\u5220\u9664\u8282\u70B9")],4))}});var L9=F1(F9,[["__scopeId","data-v-ba6a11de"]]);let Fo,Ju=[],us=[],hu=[],Zu=new Set,Tp=new Set,Pl=[],kl=[],_c=[];const I9=()=>{Ju=[],us=[],hu=[],Zu=new Set,Tp=new Set,Pl=[],kl=[],_c=[]},L1=i=>{I9(),Fo=i;const t=Fo.getCells();hu=Fo.toJSON().cells;for(let e of hu)e.shape==="edge"&&(Zu.add(e.source.cell),Tp.add(e.target.cell));for(let e of t)e.isNode()&&us.push(e),e.isEdge()&&Ju.push(e)},z9=(i=1e3)=>new Promise(t=>{setTimeout(t,i)}),Dc=()=>us.find(t=>{if(!Tp.has(t.id))return t}),j9=()=>us.find(t=>{if(!Zu.has(t.id))return t}),I1=i=>{const t=hu.filter(e=>e.shape==="edge"&&e.source.cell===i.id);for(let e of t){const n=Ju.find(s=>{if(s.id===e.id)return s}),r=us.find(s=>{if(s.id===e.target.cell)return s});n&&r&&(Pl.push(n),Pl.push(r),kl.push(r),n.isReplay=!0,kl.push(n),I1(r))}},z1=i=>(L1(i),Pl.push(Dc()),kl.push(Dc()),I1(Dc()),Pl),B9=async i=>{z1(i),Fo.clearCells();for(const t of kl)t.isEdge()&&Fo.addEdge(t),t.isNode()&&Fo.addNode(t),await z9(300)},R9=()=>{for(let i of us){let t=i;t.branchEdges=[];for(let e of Ju)e.isEdge()&&e.getSource().cell===t.id&&t.branchEdges.push(e)}},V9=i=>us.find(e=>{if(!Zu.has(e.id))return e}).id===i.id,K2=i=>us.find(e=>{if(e.id===i.getTarget().cell)return e}),Nc=(i,t,e,n)=>{let r={edge:t,node:V9(i)?null:i,branch:[],level:n};e.push(r);const s=i.branchEdges;if(!(!s||s.length===0))if(s.length>1)for(let o of s){const a=K2(o);Nc(a,o,r.branch,r.level+1)}else{const o=K2(s[0]);n===0?Nc(o,s[0],e,n):Nc(o,s[0],r.branch,n+1)}},H9=i=>{L1(i),R9();let t=Dc();Nc(t,null,_c,0);let e=j9();return _c.push({edge:null,node:e,branch:[],level:0}),_c},j1=i=>(qC("data-v-1980809c"),i=i(),UC(),i),G9={class:"toolbar"},q9=tr(" \u7EBF\u989C\u8272\uFF1A "),U9=tr(" \u4FDD\u5B58 "),W9=tr(" \u6E05\u7A7A "),X9=tr(" \u64AD\u653E "),Y9=tr(" \u83B7\u53D6\u987A\u5E8F\u64AD\u653E\u6570\u636E "),K9=tr(" \u83B7\u53D6\u6811\u7ED3\u6784\u683C\u5F0F\u6570\u636E "),J9={id:"container"},Z9=j1(()=>Yt("div",{id:"stencil"},null,-1)),Q9=j1(()=>Yt("div",{id:"graph-container"},null,-1)),tI=ze({__name:"FlowChart",props:["jsonData"],emits:["saveJsonData"],setup(i,{emit:t}){let e;const n=Mt([]);let r,s,o=Mt("#dd0022"),a=Mt(!1),l=Mt({x:0,y:0});const c=()=>{e=$9(),e.on("node:click",({e:x,x:S,y:E,node:O,view:k})=>{r=O;const m=O.getData()||[],T=O.getAttrs().label?O.getAttrs().label.text:O.getAttrs().text.text;n.value=[{key:"label",value:T,title:"\u6807\u7B7E"},...m]}),e.on("edge:click",({e:x,x:S,y:E,edge:O,view:k})=>{r=O;const m=O.getData()||[];let T=O.getLabelAt(0)?O.getLabelAt(0).attrs.label.text:"",D=O.getAttrs().line.stroke;n.value=[{key:"label",value:T,title:"\u6807\u7B7E"},{key:"color",value:D,title:"\u989C\u8272"},...m]}),e.on("edge:added",({edge:x,index:S,options:E})=>{x.isReplay||x.setAttrs({line:{stroke:o.value}})}),e.on("cell:contextmenu",x=>{a.value=!0,l.value={x:x.x,y:x.y},s=x.node||x.edge})};Qt(n,()=>{if(n.value){let x=n.value.filter(E=>E.key==="label")[0].value;r instanceof Ie&&r.setLabel(x),r instanceof $e&&r.setLabels([x]);let S=n.value.filter(E=>E.key==="color");if(S[0]){let E=S[0].value;r.setAttrs({line:{stroke:E}})}}},{deep:!0});const u=()=>{const x=e.toJSON();t("saveJsonData",JSON.stringify(x))},h=()=>{a.value=!1,s.remove()},f=()=>{e.clearCells()},p=()=>{B9(e)},b=()=>{var S;let x=z1(e);for(const E of x)if(E.isNode())console.log("\u8282\u70B9\uFF1A "+E.getLabel());else{let O=E.getLabels()[0];O&&console.log("\u7EBF\uFF1A "+((S=O==null?void 0:O.attrs)==null?void 0:S.label.text))}},v=x=>{var S,E;for(const O of x){const k=O.node&&O.node.getLabel()||"",m=O.edge&&((E=(S=O.edge.getLabels()[0])==null?void 0:S.attrs)==null?void 0:E.label.text)||"",T="  ".repeat(O.level*2);console.log(`${T}${m?m+":":""}${k||"(\u7ED3\u675F)"}`),O.branch.length>0&&v(O.branch)}},C=()=>{const x=H9(e);console.log(x),v(x)};return Fn(()=>{c(),e.fromJSON(JSON.parse(i.jsonData))}),(x,S)=>{const E=iy,O=c8,k=ey;return Et(),Zt(nn,null,[Yt("div",G9,[q9,Jt(E,{modelValue:o.value,"onUpdate:modelValue":S[0]||(S[0]=m=>o.value=m)},null,8,["modelValue"]),Jt(O,{direction:"vertical"}),Jt(k,{type:"primary",size:"small",onClick:u},{default:we(()=>[U9]),_:1}),Jt(O,{direction:"vertical"}),Jt(k,{type:"danger",size:"small",onClick:f},{default:we(()=>[W9]),_:1}),Jt(k,{type:"success",size:"small",onClick:p},{default:we(()=>[X9]),_:1}),Jt(k,{type:"primary",size:"small",onClick:b},{default:we(()=>[Y9]),_:1}),Jt(k,{type:"primary",size:"small",onClick:C},{default:we(()=>[K9]),_:1})]),Yt("div",J9,[Z9,Q9,Jt(oN,{class:"form-detail",detailData:n.value},null,8,["detailData"]),Jt(L9,{visible:a.value,position:l.value,onDeleteNode:h},null,8,["visible","position"])])],64)}}});var eI=F1(tI,[["__scopeId","data-v-1980809c"]]);const nI=ze({__name:"App",setup(i){let e=J3("jsonData",'{"cells":[{"shape":"edge","attrs":{"line":{"stroke":"#dd0022","targetMarker":{"name":"block","width":12,"height":8}}},"id":"c80475c5-2fe8-4a15-89bb-a7ca6a78e636","zIndex":0,"source":{"cell":"5ed1461c-6271-461d-9ab1-cf7f535fdd45","port":"778b9379-4a33-4961-8f31-97054945c99c"},"target":{"cell":"8c62f5d7-e80d-4c82-8706-e05d708a9217","port":"2f7b1f4e-4bf9-4486-ba21-4b6a23c8a558"}},{"shape":"edge","attrs":{"line":{"stroke":"#00DD21","targetMarker":{"name":"block","width":12,"height":8}}},"id":"420705b7-a921-4003-b9e9-e79c3e7f9b17","zIndex":0,"source":{"cell":"8c62f5d7-e80d-4c82-8706-e05d708a9217","port":"df08c7c6-80fa-47f1-ba36-9caf651663fe"},"target":{"cell":"eef39a56-e967-46c1-8c0a-9fcf2b4c4737","port":"f4115e0d-f244-4c8d-8f13-122ab2aecbf7"}},{"shape":"edge","attrs":{"line":{"stroke":"#DD0700","targetMarker":{"name":"block","width":12,"height":8}}},"id":"786b1beb-6446-4ebe-8030-5ba9c4f6fd35","zIndex":0,"source":{"cell":"eef39a56-e967-46c1-8c0a-9fcf2b4c4737","port":"2a964d22-843e-4c40-a5e8-c973863880c8"},"target":{"cell":"07b4d929-f7e6-4d3d-a165-8bac4f5eee5e","port":"b64b0b98-9910-4929-ac9c-ca74803ce230"}},{"shape":"edge","attrs":{"line":{"stroke":"#DD0700","targetMarker":{"name":"block","width":12,"height":8}}},"id":"9e987b6c-513c-400d-be90-576acfc66f42","zIndex":0,"source":{"cell":"07b4d929-f7e6-4d3d-a165-8bac4f5eee5e","port":"61b0aaad-9370-4630-afec-eda370e39479"},"target":{"cell":"d2633c63-78f0-49e6-91d9-dd0557d48589","port":"b4a994d4-26a4-4a10-bf2a-628a25b2ba66"}},{"position":{"x":230,"y":80},"size":{"width":66,"height":36},"attrs":{"text":{"text":"\u5F00\u59CB"},"body":{"rx":20,"ry":26}},"shape":"custom-rect","data":[{"key":"state","title":"\u72B6\u6001","value":"on"},{"key":"apply","title":"\u7533\u8BF7\u4EBA","value":"\u5F20\u4E09"}],"ports":{"groups":{"top":{"position":"top","attrs":{"circle":{"r":4,"magnet":true,"stroke":"#22dd33","strokeWidth":1,"fill":"#fff","style":{"visibility":"hidden"}}}},"right":{"position":"right","attrs":{"circle":{"r":4,"magnet":true,"stroke":"#5F95FF","strokeWidth":1,"fill":"#fff","style":{"visibility":"hidden"}}}},"bottom":{"position":"bottom","attrs":{"circle":{"r":4,"magnet":true,"stroke":"#5F95FF","strokeWidth":1,"fill":"#fff","style":{"visibility":"hidden"}}}},"left":{"position":"left","attrs":{"circle":{"r":4,"magnet":true,"stroke":"#5F95FF","strokeWidth":1,"fill":"#fff","style":{"visibility":"hidden"}}}}},"items":[{"group":"top","id":"b4a994d4-26a4-4a10-bf2a-628a25b2ba66"},{"group":"right","id":"00a64b03-d578-4a3c-8d97-54a9673f4895"},{"group":"bottom","id":"778b9379-4a33-4961-8f31-97054945c99c"},{"group":"left","id":"38c5d440-4879-4353-b7e9-7dd5e466605f"}]},"id":"5ed1461c-6271-461d-9ab1-cf7f535fdd45","zIndex":1},{"position":{"x":230,"y":159},"size":{"width":66,"height":36},"attrs":{"text":{"text":"\u51B3\u7B56"},"body":{"refPoints":"0,10 10,0 20,10 10,20"}},"shape":"custom-polygon","ports":{"groups":{"top":{"position":"top","attrs":{"circle":{"r":4,"magnet":true,"stroke":"#22dd33","strokeWidth":1,"fill":"#fff","style":{"visibility":"hidden"}}}},"right":{"position":"right","attrs":{"circle":{"r":4,"magnet":true,"stroke":"#5F95FF","strokeWidth":1,"fill":"#fff","style":{"visibility":"hidden"}}}},"bottom":{"position":"bottom","attrs":{"circle":{"r":4,"magnet":true,"stroke":"#5F95FF","strokeWidth":1,"fill":"#fff","style":{"visibility":"hidden"}}}},"left":{"position":"left","attrs":{"circle":{"r":4,"magnet":true,"stroke":"#5F95FF","strokeWidth":1,"fill":"#fff","style":{"visibility":"hidden"}}}}},"items":[{"group":"top","id":"2f7b1f4e-4bf9-4486-ba21-4b6a23c8a558"},{"group":"bottom","id":"df08c7c6-80fa-47f1-ba36-9caf651663fe"}]},"id":"8c62f5d7-e80d-4c82-8706-e05d708a9217","zIndex":2},{"position":{"x":230,"y":252},"size":{"width":66,"height":36},"attrs":{"text":{"text":"\u8FC7\u7A0B"}},"shape":"custom-rect","data":[{"key":"state","title":"\u72B6\u6001","value":"on"},{"key":"apply","title":"\u7533\u8BF7\u4EBA","value":"\u5F20\u4E09"}],"ports":{"groups":{"top":{"position":"top","attrs":{"circle":{"r":4,"magnet":true,"stroke":"#22dd33","strokeWidth":1,"fill":"#fff","style":{"visibility":"hidden"}}}},"right":{"position":"right","attrs":{"circle":{"r":4,"magnet":true,"stroke":"#5F95FF","strokeWidth":1,"fill":"#fff","style":{"visibility":"hidden"}}}},"bottom":{"position":"bottom","attrs":{"circle":{"r":4,"magnet":true,"stroke":"#5F95FF","strokeWidth":1,"fill":"#fff","style":{"visibility":"hidden"}}}},"left":{"position":"left","attrs":{"circle":{"r":4,"magnet":true,"stroke":"#5F95FF","strokeWidth":1,"fill":"#fff","style":{"visibility":"hidden"}}}}},"items":[{"group":"top","id":"f4115e0d-f244-4c8d-8f13-122ab2aecbf7"},{"group":"right","id":"157ffd90-33e0-4cb4-8de0-d2083eca5635"},{"group":"bottom","id":"2a964d22-843e-4c40-a5e8-c973863880c8"},{"group":"left","id":"187f06b6-c421-456a-b878-0aff5579b847"}]},"id":"eef39a56-e967-46c1-8c0a-9fcf2b4c4737","zIndex":3},{"position":{"x":241,"y":320},"size":{"width":45,"height":45},"attrs":{"text":{"text":"\u8FDE\u63A5"}},"shape":"custom-circle","ports":{"groups":{"top":{"position":"top","attrs":{"circle":{"r":4,"magnet":true,"stroke":"#22dd33","strokeWidth":1,"fill":"#fff","style":{"visibility":"hidden"}}}},"right":{"position":"right","attrs":{"circle":{"r":4,"magnet":true,"stroke":"#5F95FF","strokeWidth":1,"fill":"#fff","style":{"visibility":"hidden"}}}},"bottom":{"position":"bottom","attrs":{"circle":{"r":4,"magnet":true,"stroke":"#5F95FF","strokeWidth":1,"fill":"#fff","style":{"visibility":"hidden"}}}},"left":{"position":"left","attrs":{"circle":{"r":4,"magnet":true,"stroke":"#5F95FF","strokeWidth":1,"fill":"#fff","style":{"visibility":"hidden"}}}}},"items":[{"group":"top","id":"b64b0b98-9910-4929-ac9c-ca74803ce230"},{"group":"right","id":"14bbed71-b041-4df5-9616-f8bf802cd709"},{"group":"bottom","id":"61b0aaad-9370-4630-afec-eda370e39479"},{"group":"left","id":"4f918164-5a87-4bf4-ad31-8a1d909d1f76"}]},"id":"07b4d929-f7e6-4d3d-a165-8bac4f5eee5e","zIndex":4},{"position":{"x":230,"y":407},"size":{"width":66,"height":36},"attrs":{"text":{"text":"\u7ED3\u675F"},"body":{"rx":20,"ry":26}},"shape":"custom-rect","data":[{"key":"state","title":"\u72B6\u6001","value":"on"},{"key":"apply","title":"\u7533\u8BF7\u4EBA","value":"\u5F20\u4E09"}],"ports":{"groups":{"top":{"position":"top","attrs":{"circle":{"r":4,"magnet":true,"stroke":"#22dd33","strokeWidth":1,"fill":"#fff","style":{"visibility":"hidden"}}}},"right":{"position":"right","attrs":{"circle":{"r":4,"magnet":true,"stroke":"#5F95FF","strokeWidth":1,"fill":"#fff","style":{"visibility":"hidden"}}}},"bottom":{"position":"bottom","attrs":{"circle":{"r":4,"magnet":true,"stroke":"#5F95FF","strokeWidth":1,"fill":"#fff","style":{"visibility":"hidden"}}}},"left":{"position":"left","attrs":{"circle":{"r":4,"magnet":true,"stroke":"#5F95FF","strokeWidth":1,"fill":"#fff","style":{"visibility":"hidden"}}}}},"items":[{"group":"top","id":"b4a994d4-26a4-4a10-bf2a-628a25b2ba66"},{"group":"right","id":"00a64b03-d578-4a3c-8d97-54a9673f4895"},{"group":"bottom","id":"778b9379-4a33-4961-8f31-97054945c99c"},{"group":"left","id":"38c5d440-4879-4353-b7e9-7dd5e466605f"}]},"id":"d2633c63-78f0-49e6-91d9-dd0557d48589","zIndex":5}]}');const n=r=>{e.value=r};return(r,s)=>(Et(),Me(eI,{jsonData:U(e),onSaveJsonData:n},null,8,["jsonData"]))}});E3(nI).mount("#app")});export default iI();
