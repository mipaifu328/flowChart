var kx=(i,t)=>()=>(t||i((t={exports:{}}).exports,t),t.exports);var Y9=kx((ci,ui)=>{const _x=function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const r of document.querySelectorAll('link[rel="modulepreload"]'))n(r);new MutationObserver(r=>{for(const s of r)if(s.type==="childList")for(const o of s.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&n(o)}).observe(document,{childList:!0,subtree:!0});function e(r){const s={};return r.integrity&&(s.integrity=r.integrity),r.referrerpolicy&&(s.referrerPolicy=r.referrerpolicy),r.crossorigin==="use-credentials"?s.credentials="include":r.crossorigin==="anonymous"?s.credentials="omit":s.credentials="same-origin",s}function n(r){if(r.ep)return;r.ep=!0;const s=e(r);fetch(r.href,s)}};_x();function Xd(i,t){const e=Object.create(null),n=i.split(",");for(let r=0;r<n.length;r++)e[n[r]]=!0;return t?r=>!!e[r.toLowerCase()]:r=>!!e[r]}const Dx="itemscope,allowfullscreen,formnovalidate,ismap,nomodule,novalidate,readonly",Nx=Xd(Dx);function q2(i){return!!i||i===""}function En(i){if(Ht(i)){const t={};for(let e=0;e<i.length;e++){const n=i[e],r=Me(n)?Lx(n):En(n);if(r)for(const s in r)t[s]=r[s]}return t}else{if(Me(i))return i;if(Ve(i))return i}}const $x=/;(?![^(]*\))/g,Fx=/:(.+)/;function Lx(i){const t={};return i.split($x).forEach(e=>{if(e){const n=e.split(Fx);n.length>1&&(t[n[0].trim()]=n[1].trim())}}),t}function qt(i){let t="";if(Me(i))t=i;else if(Ht(i))for(let e=0;e<i.length;e++){const n=qt(i[e]);n&&(t+=n+" ")}else if(Ve(i))for(const e in i)i[e]&&(t+=e+" ");return t.trim()}const Xi=i=>Me(i)?i:i==null?"":Ht(i)||Ve(i)&&(i.toString===Y2||!Vt(i.toString))?JSON.stringify(i,U2,2):String(i),U2=(i,t)=>t&&t.__v_isRef?U2(i,t.value):Mo(t)?{[`Map(${t.size})`]:[...t.entries()].reduce((e,[n,r])=>(e[`${n} =>`]=r,e),{})}:W2(t)?{[`Set(${t.size})`]:[...t.values()]}:Ve(t)&&!Ht(t)&&!K2(t)?String(t):t,_e={},Ao=[],Dn=()=>{},Ix=()=>!1,zx=/^on[^a-z]/,uu=i=>zx.test(i),Yd=i=>i.startsWith("onUpdate:"),Sn=Object.assign,Kd=(i,t)=>{const e=i.indexOf(t);e>-1&&i.splice(e,1)},jx=Object.prototype.hasOwnProperty,ue=(i,t)=>jx.call(i,t),Ht=Array.isArray,Mo=i=>hu(i)==="[object Map]",W2=i=>hu(i)==="[object Set]",Vt=i=>typeof i=="function",Me=i=>typeof i=="string",Jd=i=>typeof i=="symbol",Ve=i=>i!==null&&typeof i=="object",X2=i=>Ve(i)&&Vt(i.then)&&Vt(i.catch),Y2=Object.prototype.toString,hu=i=>Y2.call(i),Bx=i=>hu(i).slice(8,-1),K2=i=>hu(i)==="[object Object]",Zd=i=>Me(i)&&i!=="NaN"&&i[0]!=="-"&&""+parseInt(i,10)===i,xc=Xd(",key,ref,ref_for,ref_key,onVnodeBeforeMount,onVnodeMounted,onVnodeBeforeUpdate,onVnodeUpdated,onVnodeBeforeUnmount,onVnodeUnmounted"),du=i=>{const t=Object.create(null);return e=>t[e]||(t[e]=i(e))},Rx=/-(\w)/g,Ji=du(i=>i.replace(Rx,(t,e)=>e?e.toUpperCase():"")),Vx=/\B([A-Z])/g,Ks=du(i=>i.replace(Vx,"-$1").toLowerCase()),fu=du(i=>i.charAt(0).toUpperCase()+i.slice(1)),bh=du(i=>i?`on${fu(i)}`:""),Za=(i,t)=>!Object.is(i,t),vh=(i,t)=>{for(let e=0;e<i.length;e++)i[e](t)},Dc=(i,t,e)=>{Object.defineProperty(i,t,{configurable:!0,enumerable:!1,value:e})},J2=i=>{const t=parseFloat(i);return isNaN(t)?i:t};let ag;const Hx=()=>ag||(ag=typeof globalThis!="undefined"?globalThis:typeof self!="undefined"?self:typeof window!="undefined"?window:typeof global!="undefined"?global:{});let si;class Gx{constructor(t=!1){this.active=!0,this.effects=[],this.cleanups=[],!t&&si&&(this.parent=si,this.index=(si.scopes||(si.scopes=[])).push(this)-1)}run(t){if(this.active){const e=si;try{return si=this,t()}finally{si=e}}}on(){si=this}off(){si=this.parent}stop(t){if(this.active){let e,n;for(e=0,n=this.effects.length;e<n;e++)this.effects[e].stop();for(e=0,n=this.cleanups.length;e<n;e++)this.cleanups[e]();if(this.scopes)for(e=0,n=this.scopes.length;e<n;e++)this.scopes[e].stop(!0);if(this.parent&&!t){const r=this.parent.scopes.pop();r&&r!==this&&(this.parent.scopes[this.index]=r,r.index=this.index)}this.active=!1}}}function qx(i,t=si){t&&t.active&&t.effects.push(i)}function Ux(){return si}function Wx(i){si&&si.cleanups.push(i)}const Qd=i=>{const t=new Set(i);return t.w=0,t.n=0,t},Z2=i=>(i.w&Xr)>0,Q2=i=>(i.n&Xr)>0,Xx=({deps:i})=>{if(i.length)for(let t=0;t<i.length;t++)i[t].w|=Xr},Yx=i=>{const{deps:t}=i;if(t.length){let e=0;for(let n=0;n<t.length;n++){const r=t[n];Z2(r)&&!Q2(r)?r.delete(i):t[e++]=r,r.w&=~Xr,r.n&=~Xr}t.length=e}},qh=new WeakMap;let Ta=0,Xr=1;const Uh=30;let Ni;const $s=Symbol(""),Wh=Symbol("");class tf{constructor(t,e=null,n){this.fn=t,this.scheduler=e,this.active=!0,this.deps=[],this.parent=void 0,qx(this,n)}run(){if(!this.active)return this.fn();let t=Ni,e=Wr;for(;t;){if(t===this)return;t=t.parent}try{return this.parent=Ni,Ni=this,Wr=!0,Xr=1<<++Ta,Ta<=Uh?Xx(this):lg(this),this.fn()}finally{Ta<=Uh&&Yx(this),Xr=1<<--Ta,Ni=this.parent,Wr=e,this.parent=void 0,this.deferStop&&this.stop()}}stop(){Ni===this?this.deferStop=!0:this.active&&(lg(this),this.onStop&&this.onStop(),this.active=!1)}}function lg(i){const{deps:t}=i;if(t.length){for(let e=0;e<t.length;e++)t[e].delete(i);t.length=0}}let Wr=!0;const tm=[];function Js(){tm.push(Wr),Wr=!1}function Zs(){const i=tm.pop();Wr=i===void 0?!0:i}function di(i,t,e){if(Wr&&Ni){let n=qh.get(i);n||qh.set(i,n=new Map);let r=n.get(e);r||n.set(e,r=Qd()),em(r)}}function em(i,t){let e=!1;Ta<=Uh?Q2(i)||(i.n|=Xr,e=!Z2(i)):e=!i.has(Ni),e&&(i.add(Ni),Ni.deps.push(i))}function br(i,t,e,n,r,s){const o=qh.get(i);if(!o)return;let a=[];if(t==="clear")a=[...o.values()];else if(e==="length"&&Ht(i))o.forEach((l,c)=>{(c==="length"||c>=n)&&a.push(l)});else switch(e!==void 0&&a.push(o.get(e)),t){case"add":Ht(i)?Zd(e)&&a.push(o.get("length")):(a.push(o.get($s)),Mo(i)&&a.push(o.get(Wh)));break;case"delete":Ht(i)||(a.push(o.get($s)),Mo(i)&&a.push(o.get(Wh)));break;case"set":Mo(i)&&a.push(o.get($s));break}if(a.length===1)a[0]&&Xh(a[0]);else{const l=[];for(const c of a)c&&l.push(...c);Xh(Qd(l))}}function Xh(i,t){const e=Ht(i)?i:[...i];for(const n of e)n.computed&&cg(n);for(const n of e)n.computed||cg(n)}function cg(i,t){(i!==Ni||i.allowRecurse)&&(i.scheduler?i.scheduler():i.run())}const Kx=Xd("__proto__,__v_isRef,__isVue"),nm=new Set(Object.getOwnPropertyNames(Symbol).filter(i=>i!=="arguments"&&i!=="caller").map(i=>Symbol[i]).filter(Jd)),Jx=ef(),Zx=ef(!1,!0),Qx=ef(!0),ug=tw();function tw(){const i={};return["includes","indexOf","lastIndexOf"].forEach(t=>{i[t]=function(...e){const n=ye(this);for(let s=0,o=this.length;s<o;s++)di(n,"get",s+"");const r=n[t](...e);return r===-1||r===!1?n[t](...e.map(ye)):r}}),["push","pop","shift","unshift","splice"].forEach(t=>{i[t]=function(...e){Js();const n=ye(this)[t].apply(this,e);return Zs(),n}}),i}function ef(i=!1,t=!1){return function(n,r,s){if(r==="__v_isReactive")return!i;if(r==="__v_isReadonly")return i;if(r==="__v_isShallow")return t;if(r==="__v_raw"&&s===(i?t?mw:am:t?om:sm).get(n))return n;const o=Ht(n);if(!i&&o&&ue(ug,r))return Reflect.get(ug,r,s);const a=Reflect.get(n,r,s);return(Jd(r)?nm.has(r):Kx(r))||(i||di(n,"get",r),t)?a:dn(a)?o&&Zd(r)?a:a.value:Ve(a)?i?sf(a):Qs(a):a}}const ew=im(),nw=im(!0);function im(i=!1){return function(e,n,r,s){let o=e[n];if(Qa(o)&&dn(o)&&!dn(r))return!1;if(!i&&!Qa(r)&&(Yh(r)||(r=ye(r),o=ye(o)),!Ht(e)&&dn(o)&&!dn(r)))return o.value=r,!0;const a=Ht(e)&&Zd(n)?Number(n)<e.length:ue(e,n),l=Reflect.set(e,n,r,s);return e===ye(s)&&(a?Za(r,o)&&br(e,"set",n,r):br(e,"add",n,r)),l}}function iw(i,t){const e=ue(i,t);i[t];const n=Reflect.deleteProperty(i,t);return n&&e&&br(i,"delete",t,void 0),n}function rw(i,t){const e=Reflect.has(i,t);return(!Jd(t)||!nm.has(t))&&di(i,"has",t),e}function sw(i){return di(i,"iterate",Ht(i)?"length":$s),Reflect.ownKeys(i)}const rm={get:Jx,set:ew,deleteProperty:iw,has:rw,ownKeys:sw},ow={get:Qx,set(i,t){return!0},deleteProperty(i,t){return!0}},aw=Sn({},rm,{get:Zx,set:nw}),nf=i=>i,pu=i=>Reflect.getPrototypeOf(i);function tc(i,t,e=!1,n=!1){i=i.__v_raw;const r=ye(i),s=ye(t);e||(t!==s&&di(r,"get",t),di(r,"get",s));const{has:o}=pu(r),a=n?nf:e?af:tl;if(o.call(r,t))return a(i.get(t));if(o.call(r,s))return a(i.get(s));i!==r&&i.get(t)}function ec(i,t=!1){const e=this.__v_raw,n=ye(e),r=ye(i);return t||(i!==r&&di(n,"has",i),di(n,"has",r)),i===r?e.has(i):e.has(i)||e.has(r)}function nc(i,t=!1){return i=i.__v_raw,!t&&di(ye(i),"iterate",$s),Reflect.get(i,"size",i)}function hg(i){i=ye(i);const t=ye(this);return pu(t).has.call(t,i)||(t.add(i),br(t,"add",i,i)),this}function dg(i,t){t=ye(t);const e=ye(this),{has:n,get:r}=pu(e);let s=n.call(e,i);s||(i=ye(i),s=n.call(e,i));const o=r.call(e,i);return e.set(i,t),s?Za(t,o)&&br(e,"set",i,t):br(e,"add",i,t),this}function fg(i){const t=ye(this),{has:e,get:n}=pu(t);let r=e.call(t,i);r||(i=ye(i),r=e.call(t,i)),n&&n.call(t,i);const s=t.delete(i);return r&&br(t,"delete",i,void 0),s}function pg(){const i=ye(this),t=i.size!==0,e=i.clear();return t&&br(i,"clear",void 0,void 0),e}function ic(i,t){return function(n,r){const s=this,o=s.__v_raw,a=ye(o),l=t?nf:i?af:tl;return!i&&di(a,"iterate",$s),o.forEach((c,u)=>n.call(r,l(c),l(u),s))}}function rc(i,t,e){return function(...n){const r=this.__v_raw,s=ye(r),o=Mo(s),a=i==="entries"||i===Symbol.iterator&&o,l=i==="keys"&&o,c=r[i](...n),u=e?nf:t?af:tl;return!t&&di(s,"iterate",l?Wh:$s),{next(){const{value:h,done:f}=c.next();return f?{value:h,done:f}:{value:a?[u(h[0]),u(h[1])]:u(h),done:f}},[Symbol.iterator](){return this}}}}function Dr(i){return function(...t){return i==="delete"?!1:this}}function lw(){const i={get(s){return tc(this,s)},get size(){return nc(this)},has:ec,add:hg,set:dg,delete:fg,clear:pg,forEach:ic(!1,!1)},t={get(s){return tc(this,s,!1,!0)},get size(){return nc(this)},has:ec,add:hg,set:dg,delete:fg,clear:pg,forEach:ic(!1,!0)},e={get(s){return tc(this,s,!0)},get size(){return nc(this,!0)},has(s){return ec.call(this,s,!0)},add:Dr("add"),set:Dr("set"),delete:Dr("delete"),clear:Dr("clear"),forEach:ic(!0,!1)},n={get(s){return tc(this,s,!0,!0)},get size(){return nc(this,!0)},has(s){return ec.call(this,s,!0)},add:Dr("add"),set:Dr("set"),delete:Dr("delete"),clear:Dr("clear"),forEach:ic(!0,!0)};return["keys","values","entries",Symbol.iterator].forEach(s=>{i[s]=rc(s,!1,!1),e[s]=rc(s,!0,!1),t[s]=rc(s,!1,!0),n[s]=rc(s,!0,!0)}),[i,e,t,n]}const[cw,uw,hw,dw]=lw();function rf(i,t){const e=t?i?dw:hw:i?uw:cw;return(n,r,s)=>r==="__v_isReactive"?!i:r==="__v_isReadonly"?i:r==="__v_raw"?n:Reflect.get(ue(e,r)&&r in n?e:n,r,s)}const fw={get:rf(!1,!1)},pw={get:rf(!1,!0)},gw={get:rf(!0,!1)},sm=new WeakMap,om=new WeakMap,am=new WeakMap,mw=new WeakMap;function bw(i){switch(i){case"Object":case"Array":return 1;case"Map":case"Set":case"WeakMap":case"WeakSet":return 2;default:return 0}}function vw(i){return i.__v_skip||!Object.isExtensible(i)?0:bw(Bx(i))}function Qs(i){return Qa(i)?i:of(i,!1,rm,fw,sm)}function yw(i){return of(i,!1,aw,pw,om)}function sf(i){return of(i,!0,ow,gw,am)}function of(i,t,e,n,r){if(!Ve(i)||i.__v_raw&&!(t&&i.__v_isReactive))return i;const s=r.get(i);if(s)return s;const o=vw(i);if(o===0)return i;const a=new Proxy(i,o===2?n:e);return r.set(i,a),a}function Oo(i){return Qa(i)?Oo(i.__v_raw):!!(i&&i.__v_isReactive)}function Qa(i){return!!(i&&i.__v_isReadonly)}function Yh(i){return!!(i&&i.__v_isShallow)}function lm(i){return Oo(i)||Qa(i)}function ye(i){const t=i&&i.__v_raw;return t?ye(t):i}function cm(i){return Dc(i,"__v_skip",!0),i}const tl=i=>Ve(i)?Qs(i):i,af=i=>Ve(i)?sf(i):i;function um(i){Wr&&Ni&&(i=ye(i),em(i.dep||(i.dep=Qd())))}function hm(i,t){i=ye(i),i.dep&&Xh(i.dep)}function dn(i){return!!(i&&i.__v_isRef===!0)}function Mt(i){return dm(i,!1)}function To(i){return dm(i,!0)}function dm(i,t){return dn(i)?i:new xw(i,t)}class xw{constructor(t,e){this.__v_isShallow=e,this.dep=void 0,this.__v_isRef=!0,this._rawValue=e?t:ye(t),this._value=e?t:tl(t)}get value(){return um(this),this._value}set value(t){t=this.__v_isShallow?t:ye(t),Za(t,this._rawValue)&&(this._rawValue=t,this._value=this.__v_isShallow?t:tl(t),hm(this))}}function U(i){return dn(i)?i.value:i}const ww={get:(i,t,e)=>U(Reflect.get(i,t,e)),set:(i,t,e,n)=>{const r=i[t];return dn(r)&&!dn(e)?(r.value=e,!0):Reflect.set(i,t,e,n)}};function fm(i){return Oo(i)?i:new Proxy(i,ww)}function lf(i){const t=Ht(i)?new Array(i.length):{};for(const e in i)t[e]=Yr(i,e);return t}class Cw{constructor(t,e,n){this._object=t,this._key=e,this._defaultValue=n,this.__v_isRef=!0}get value(){const t=this._object[this._key];return t===void 0?this._defaultValue:t}set value(t){this._object[this._key]=t}}function Yr(i,t,e){const n=i[t];return dn(n)?n:new Cw(i,t,e)}class Ew{constructor(t,e,n,r){this._setter=e,this.dep=void 0,this.__v_isRef=!0,this._dirty=!0,this.effect=new tf(t,()=>{this._dirty||(this._dirty=!0,hm(this))}),this.effect.computed=this,this.effect.active=this._cacheable=!r,this.__v_isReadonly=n}get value(){const t=ye(this);return um(t),(t._dirty||!t._cacheable)&&(t._dirty=!1,t._value=t.effect.run()),t._value}set value(t){this._setter(t)}}function Sw(i,t,e=!1){let n,r;const s=Vt(i);return s?(n=i,r=Dn):(n=i.get,r=i.set),new Ew(n,r,s||!r,e)}const $a=[];function Aw(i,...t){Js();const e=$a.length?$a[$a.length-1].component:null,n=e&&e.appContext.config.warnHandler,r=Mw();if(n)gr(n,e,11,[i+t.join(""),e&&e.proxy,r.map(({vnode:s})=>`at <${qm(e,s.type)}>`).join(`
`),r]);else{const s=[`[Vue warn]: ${i}`,...t];r.length&&s.push(`
`,...Ow(r)),console.warn(...s)}Zs()}function Mw(){let i=$a[$a.length-1];if(!i)return[];const t=[];for(;i;){const e=t[0];e&&e.vnode===i?e.recurseCount++:t.push({vnode:i,recurseCount:0});const n=i.component&&i.component.parent;i=n&&n.vnode}return t}function Ow(i){const t=[];return i.forEach((e,n)=>{t.push(...n===0?[]:[`
`],...Tw(e))}),t}function Tw({vnode:i,recurseCount:t}){const e=t>0?`... (${t} recursive calls)`:"",n=i.component?i.component.parent==null:!1,r=` at <${qm(i.component,i.type,n)}`,s=">"+e;return i.props?[r,...Pw(i.props),s]:[r+s]}function Pw(i){const t=[],e=Object.keys(i);return e.slice(0,3).forEach(n=>{t.push(...pm(n,i[n]))}),e.length>3&&t.push(" ..."),t}function pm(i,t,e){return Me(t)?(t=JSON.stringify(t),e?t:[`${i}=${t}`]):typeof t=="number"||typeof t=="boolean"||t==null?e?t:[`${i}=${t}`]:dn(t)?(t=pm(i,ye(t.value),!0),e?t:[`${i}=Ref<`,t,">"]):Vt(t)?[`${i}=fn${t.name?`<${t.name}>`:""}`]:(t=ye(t),e?t:[`${i}=`,t])}function gr(i,t,e,n){let r;try{r=n?i(...n):i()}catch(s){gu(s,t,e)}return r}function xi(i,t,e,n){if(Vt(i)){const s=gr(i,t,e,n);return s&&X2(s)&&s.catch(o=>{gu(o,t,e)}),s}const r=[];for(let s=0;s<i.length;s++)r.push(xi(i[s],t,e,n));return r}function gu(i,t,e,n=!0){const r=t?t.vnode:null;if(t){let s=t.parent;const o=t.proxy,a=e;for(;s;){const c=s.ec;if(c){for(let u=0;u<c.length;u++)if(c[u](i,o,a)===!1)return}s=s.parent}const l=t.appContext.config.errorHandler;if(l){gr(l,null,10,[i,o,a]);return}}kw(i,e,r,n)}function kw(i,t,e,n=!0){console.error(i)}let Nc=!1,Kh=!1;const oi=[];let dr=0;const Fa=[];let Pa=null,wo=0;const La=[];let Lr=null,Co=0;const gm=Promise.resolve();let cf=null,Jh=null;function Wn(i){const t=cf||gm;return i?t.then(this?i.bind(this):i):t}function _w(i){let t=dr+1,e=oi.length;for(;t<e;){const n=t+e>>>1;el(oi[n])<i?t=n+1:e=n}return t}function mm(i){(!oi.length||!oi.includes(i,Nc&&i.allowRecurse?dr+1:dr))&&i!==Jh&&(i.id==null?oi.push(i):oi.splice(_w(i.id),0,i),bm())}function bm(){!Nc&&!Kh&&(Kh=!0,cf=gm.then(xm))}function Dw(i){const t=oi.indexOf(i);t>dr&&oi.splice(t,1)}function vm(i,t,e,n){Ht(i)?e.push(...i):(!t||!t.includes(i,i.allowRecurse?n+1:n))&&e.push(i),bm()}function Nw(i){vm(i,Pa,Fa,wo)}function $w(i){vm(i,Lr,La,Co)}function mu(i,t=null){if(Fa.length){for(Jh=t,Pa=[...new Set(Fa)],Fa.length=0,wo=0;wo<Pa.length;wo++)Pa[wo]();Pa=null,wo=0,Jh=null,mu(i,t)}}function ym(i){if(mu(),La.length){const t=[...new Set(La)];if(La.length=0,Lr){Lr.push(...t);return}for(Lr=t,Lr.sort((e,n)=>el(e)-el(n)),Co=0;Co<Lr.length;Co++)Lr[Co]();Lr=null,Co=0}}const el=i=>i.id==null?1/0:i.id;function xm(i){Kh=!1,Nc=!0,mu(i),oi.sort((e,n)=>el(e)-el(n));const t=Dn;try{for(dr=0;dr<oi.length;dr++){const e=oi[dr];e&&e.active!==!1&&gr(e,null,14)}}finally{dr=0,oi.length=0,ym(),Nc=!1,cf=null,(oi.length||Fa.length||La.length)&&xm(i)}}function Fw(i,t,...e){if(i.isUnmounted)return;const n=i.vnode.props||_e;let r=e;const s=t.startsWith("update:"),o=s&&t.slice(7);if(o&&o in n){const u=`${o==="modelValue"?"model":o}Modifiers`,{number:h,trim:f}=n[u]||_e;f&&(r=e.map(p=>p.trim())),h&&(r=e.map(J2))}let a,l=n[a=bh(t)]||n[a=bh(Ji(t))];!l&&s&&(l=n[a=bh(Ks(t))]),l&&xi(l,i,6,r);const c=n[a+"Once"];if(c){if(!i.emitted)i.emitted={};else if(i.emitted[a])return;i.emitted[a]=!0,xi(c,i,6,r)}}function wm(i,t,e=!1){const n=t.emitsCache,r=n.get(i);if(r!==void 0)return r;const s=i.emits;let o={},a=!1;if(!Vt(i)){const l=c=>{const u=wm(c,t,!0);u&&(a=!0,Sn(o,u))};!e&&t.mixins.length&&t.mixins.forEach(l),i.extends&&l(i.extends),i.mixins&&i.mixins.forEach(l)}return!s&&!a?(n.set(i,null),null):(Ht(s)?s.forEach(l=>o[l]=null):Sn(o,s),n.set(i,o),o)}function bu(i,t){return!i||!uu(t)?!1:(t=t.slice(2).replace(/Once$/,""),ue(i,t[0].toLowerCase()+t.slice(1))||ue(i,Ks(t))||ue(i,t))}let _n=null,vu=null;function $c(i){const t=_n;return _n=i,vu=i&&i.type.__scopeId||null,t}function Lw(i){vu=i}function Iw(){vu=null}function we(i,t=_n,e){if(!t||i._n)return i;const n=(...r)=>{n._d&&Mg(-1);const s=$c(t),o=i(...r);return $c(s),n._d&&Mg(1),o};return n._n=!0,n._c=!0,n._d=!0,n}function yh(i){const{type:t,vnode:e,proxy:n,withProxy:r,props:s,propsOptions:[o],slots:a,attrs:l,emit:c,render:u,renderCache:h,data:f,setupState:p,ctx:b,inheritAttrs:v}=i;let w,x;const E=$c(i);try{if(e.shapeFlag&4){const O=r||n;w=Wi(u.call(O,O,h,s,p,f,b)),x=l}else{const O=t;w=Wi(O.length>1?O(s,{attrs:l,slots:a,emit:c}):O(s,null)),x=t.props?l:zw(l)}}catch(O){ja.length=0,gu(O,i,1),w=Jt(hi)}let S=w;if(x&&v!==!1){const O=Object.keys(x),{shapeFlag:k}=S;O.length&&k&7&&(o&&O.some(Yd)&&(x=jw(x,o)),S=vr(S,x))}return e.dirs&&(S=vr(S),S.dirs=S.dirs?S.dirs.concat(e.dirs):e.dirs),e.transition&&(S.transition=e.transition),w=S,$c(E),w}const zw=i=>{let t;for(const e in i)(e==="class"||e==="style"||uu(e))&&((t||(t={}))[e]=i[e]);return t},jw=(i,t)=>{const e={};for(const n in i)(!Yd(n)||!(n.slice(9)in t))&&(e[n]=i[n]);return e};function Bw(i,t,e){const{props:n,children:r,component:s}=i,{props:o,children:a,patchFlag:l}=t,c=s.emitsOptions;if(t.dirs||t.transition)return!0;if(e&&l>=0){if(l&1024)return!0;if(l&16)return n?gg(n,o,c):!!o;if(l&8){const u=t.dynamicProps;for(let h=0;h<u.length;h++){const f=u[h];if(o[f]!==n[f]&&!bu(c,f))return!0}}}else return(r||a)&&(!a||!a.$stable)?!0:n===o?!1:n?o?gg(n,o,c):!0:!!o;return!1}function gg(i,t,e){const n=Object.keys(t);if(n.length!==Object.keys(i).length)return!0;for(let r=0;r<n.length;r++){const s=n[r];if(t[s]!==i[s]&&!bu(e,s))return!0}return!1}function Rw({vnode:i,parent:t},e){for(;t&&t.subTree===i;)(i=t.vnode).el=e,t=t.parent}const Vw=i=>i.__isSuspense;function Hw(i,t){t&&t.pendingBranch?Ht(i)?t.effects.push(...i):t.effects.push(i):$w(i)}function zi(i,t){if(gn){let e=gn.provides;const n=gn.parent&&gn.parent.provides;n===e&&(e=gn.provides=Object.create(n)),e[i]=t}}function Re(i,t,e=!1){const n=gn||_n;if(n){const r=n.parent==null?n.vnode.appContext&&n.vnode.appContext.provides:n.parent.provides;if(r&&i in r)return r[i];if(arguments.length>1)return e&&Vt(t)?t.call(n.proxy):t}}function Gw(i,t){return uf(i,null,t)}const mg={};function Qt(i,t,e){return uf(i,t,e)}function uf(i,t,{immediate:e,deep:n,flush:r,onTrack:s,onTrigger:o}=_e){const a=gn;let l,c=!1,u=!1;if(dn(i)?(l=()=>i.value,c=Yh(i)):Oo(i)?(l=()=>i,n=!0):Ht(i)?(u=!0,c=i.some(x=>Oo(x)||Yh(x)),l=()=>i.map(x=>{if(dn(x))return x.value;if(Oo(x))return Ts(x);if(Vt(x))return gr(x,a,2)})):Vt(i)?t?l=()=>gr(i,a,2):l=()=>{if(!(a&&a.isUnmounted))return h&&h(),xi(i,a,3,[f])}:l=Dn,t&&n){const x=l;l=()=>Ts(x())}let h,f=x=>{h=w.onStop=()=>{gr(x,a,4)}};if(rl)return f=Dn,t?e&&xi(t,a,3,[l(),u?[]:void 0,f]):l(),Dn;let p=u?[]:mg;const b=()=>{if(!!w.active)if(t){const x=w.run();(n||c||(u?x.some((E,S)=>Za(E,p[S])):Za(x,p)))&&(h&&h(),xi(t,a,3,[x,p===mg?void 0:p,f]),p=x)}else w.run()};b.allowRecurse=!!t;let v;r==="sync"?v=b:r==="post"?v=()=>Un(b,a&&a.suspense):v=()=>Nw(b);const w=new tf(l,v);return t?e?b():p=w.run():r==="post"?Un(w.run.bind(w),a&&a.suspense):w.run(),()=>{w.stop(),a&&a.scope&&Kd(a.scope.effects,w)}}function qw(i,t,e){const n=this.proxy,r=Me(i)?i.includes(".")?Cm(n,i):()=>n[i]:i.bind(n,n);let s;Vt(t)?s=t:(s=t.handler,e=t);const o=gn;$o(this);const a=uf(r,s.bind(n),e);return o?$o(o):Ls(),a}function Cm(i,t){const e=t.split(".");return()=>{let n=i;for(let r=0;r<e.length&&n;r++)n=n[e[r]];return n}}function Ts(i,t){if(!Ve(i)||i.__v_skip||(t=t||new Set,t.has(i)))return i;if(t.add(i),dn(i))Ts(i.value,t);else if(Ht(i))for(let e=0;e<i.length;e++)Ts(i[e],t);else if(W2(i)||Mo(i))i.forEach(e=>{Ts(e,t)});else if(K2(i))for(const e in i)Ts(i[e],t);return i}function Uw(){const i={isMounted:!1,isLeaving:!1,isUnmounting:!1,leavingVNodes:new Map};return Nn(()=>{i.isMounted=!0}),sr(()=>{i.isUnmounting=!0}),i}const gi=[Function,Array],Ww={name:"BaseTransition",props:{mode:String,appear:Boolean,persisted:Boolean,onBeforeEnter:gi,onEnter:gi,onAfterEnter:gi,onEnterCancelled:gi,onBeforeLeave:gi,onLeave:gi,onAfterLeave:gi,onLeaveCancelled:gi,onBeforeAppear:gi,onAppear:gi,onAfterAppear:gi,onAppearCancelled:gi},setup(i,{slots:t}){const e=or(),n=Uw();let r;return()=>{const s=t.default&&Am(t.default(),!0);if(!s||!s.length)return;let o=s[0];if(s.length>1){for(const v of s)if(v.type!==hi){o=v;break}}const a=ye(i),{mode:l}=a;if(n.isLeaving)return xh(o);const c=bg(o);if(!c)return xh(o);const u=Zh(c,a,n,e);Qh(c,u);const h=e.subTree,f=h&&bg(h);let p=!1;const{getTransitionKey:b}=c.type;if(b){const v=b();r===void 0?r=v:v!==r&&(r=v,p=!0)}if(f&&f.type!==hi&&(!Ss(c,f)||p)){const v=Zh(f,a,n,e);if(Qh(f,v),l==="out-in")return n.isLeaving=!0,v.afterLeave=()=>{n.isLeaving=!1,e.update()},xh(o);l==="in-out"&&c.type!==hi&&(v.delayLeave=(w,x,E)=>{const S=Sm(n,f);S[String(f.key)]=f,w._leaveCb=()=>{x(),w._leaveCb=void 0,delete u.delayedLeave},u.delayedLeave=E})}return o}}},Em=Ww;function Sm(i,t){const{leavingVNodes:e}=i;let n=e.get(t.type);return n||(n=Object.create(null),e.set(t.type,n)),n}function Zh(i,t,e,n){const{appear:r,mode:s,persisted:o=!1,onBeforeEnter:a,onEnter:l,onAfterEnter:c,onEnterCancelled:u,onBeforeLeave:h,onLeave:f,onAfterLeave:p,onLeaveCancelled:b,onBeforeAppear:v,onAppear:w,onAfterAppear:x,onAppearCancelled:E}=t,S=String(i.key),O=Sm(e,i),k=(D,z)=>{D&&xi(D,n,9,z)},m=(D,z)=>{const H=z[1];k(D,z),Ht(D)?D.every(q=>q.length<=1)&&H():D.length<=1&&H()},T={mode:s,persisted:o,beforeEnter(D){let z=a;if(!e.isMounted)if(r)z=v||a;else return;D._leaveCb&&D._leaveCb(!0);const H=O[S];H&&Ss(i,H)&&H.el._leaveCb&&H.el._leaveCb(),k(z,[D])},enter(D){let z=l,H=c,q=u;if(!e.isMounted)if(r)z=w||l,H=x||c,q=E||u;else return;let R=!1;const rt=D._enterCb=st=>{R||(R=!0,st?k(q,[D]):k(H,[D]),T.delayedLeave&&T.delayedLeave(),D._enterCb=void 0)};z?m(z,[D,rt]):rt()},leave(D,z){const H=String(i.key);if(D._enterCb&&D._enterCb(!0),e.isUnmounting)return z();k(h,[D]);let q=!1;const R=D._leaveCb=rt=>{q||(q=!0,z(),rt?k(b,[D]):k(p,[D]),D._leaveCb=void 0,O[H]===i&&delete O[H])};O[H]=i,f?m(f,[D,R]):R()},clone(D){return Zh(D,t,e,n)}};return T}function xh(i){if(yu(i))return i=vr(i),i.children=null,i}function bg(i){return yu(i)?i.children?i.children[0]:void 0:i}function Qh(i,t){i.shapeFlag&6&&i.component?Qh(i.component.subTree,t):i.shapeFlag&128?(i.ssContent.transition=t.clone(i.ssContent),i.ssFallback.transition=t.clone(i.ssFallback)):i.transition=t}function Am(i,t=!1,e){let n=[],r=0;for(let s=0;s<i.length;s++){let o=i[s];const a=e==null?o.key:String(e)+String(o.key!=null?o.key:s);o.type===tn?(o.patchFlag&128&&r++,n=n.concat(Am(o.children,t,a))):(t||o.type!==hi)&&n.push(a!=null?vr(o,{key:a}):o)}if(r>1)for(let s=0;s<n.length;s++)n[s].patchFlag=-2;return n}function Ie(i){return Vt(i)?{setup:i,name:i.name}:i}const Ia=i=>!!i.type.__asyncLoader,yu=i=>i.type.__isKeepAlive;function Xw(i,t){Mm(i,"a",t)}function Yw(i,t){Mm(i,"da",t)}function Mm(i,t,e=gn){const n=i.__wdc||(i.__wdc=()=>{let r=e;for(;r;){if(r.isDeactivated)return;r=r.parent}return i()});if(xu(t,n,e),e){let r=e.parent;for(;r&&r.parent;)yu(r.parent.vnode)&&Kw(n,t,e,r),r=r.parent}}function Kw(i,t,e,n){const r=xu(t,i,n,!0);df(()=>{Kd(n[t],r)},e)}function xu(i,t,e=gn,n=!1){if(e){const r=e[i]||(e[i]=[]),s=t.__weh||(t.__weh=(...o)=>{if(e.isUnmounted)return;Js(),$o(e);const a=xi(t,e,i,o);return Ls(),Zs(),a});return n?r.unshift(s):r.push(s),s}}const Cr=i=>(t,e=gn)=>(!rl||i==="sp")&&xu(i,t,e),Om=Cr("bm"),Nn=Cr("m"),Jw=Cr("bu"),hf=Cr("u"),sr=Cr("bum"),df=Cr("um"),Zw=Cr("sp"),Qw=Cr("rtg"),tC=Cr("rtc");function eC(i,t=gn){xu("ec",i,t)}function nl(i,t){const e=_n;if(e===null)return i;const n=Cu(e)||e.proxy,r=i.dirs||(i.dirs=[]);for(let s=0;s<t.length;s++){let[o,a,l,c=_e]=t[s];Vt(o)&&(o={mounted:o,updated:o}),o.deep&&Ts(a),r.push({dir:o,instance:n,value:a,oldValue:void 0,arg:l,modifiers:c})}return i}function ms(i,t,e,n){const r=i.dirs,s=t&&t.dirs;for(let o=0;o<r.length;o++){const a=r[o];s&&(a.oldValue=s[o].value);let l=a.dir[n];l&&(Js(),xi(l,e,8,[i.el,a,i,t]),Zs())}}const ff="components",nC="directives";function Pn(i,t){return pf(ff,i,!0,t)||i}const Tm=Symbol();function Ps(i){return Me(i)?pf(ff,i,!1)||i:i||Tm}function iC(i){return pf(nC,i)}function pf(i,t,e=!0,n=!1){const r=_n||gn;if(r){const s=r.type;if(i===ff){const a=Gm(s,!1);if(a&&(a===t||a===Ji(t)||a===fu(Ji(t))))return s}const o=vg(r[i]||s[i],t)||vg(r.appContext[i],t);return!o&&n?s:o}}function vg(i,t){return i&&(i[t]||i[Ji(t)]||i[fu(Ji(t))])}function Pm(i,t,e,n){let r;const s=e&&e[n];if(Ht(i)||Me(i)){r=new Array(i.length);for(let o=0,a=i.length;o<a;o++)r[o]=t(i[o],o,void 0,s&&s[o])}else if(typeof i=="number"){r=new Array(i);for(let o=0;o<i;o++)r[o]=t(o+1,o,void 0,s&&s[o])}else if(Ve(i))if(i[Symbol.iterator])r=Array.from(i,(o,a)=>t(o,a,void 0,s&&s[a]));else{const o=Object.keys(i);r=new Array(o.length);for(let a=0,l=o.length;a<l;a++){const c=o[a];r[a]=t(i[c],c,a,s&&s[a])}}else r=[];return e&&(e[n]=r),r}function Je(i,t,e={},n,r){if(_n.isCE||_n.parent&&Ia(_n.parent)&&_n.parent.isCE)return Jt("slot",t==="default"?null:{name:t},n&&n());let s=i[t];s&&s._c&&(s._d=!1),St();const o=s&&km(s(e)),a=Ae(tn,{key:e.key||`_${t}`},o||(n?n():[]),o&&i._===1?64:-2);return!r&&a.scopeId&&(a.slotScopeIds=[a.scopeId+"-s"]),s&&s._c&&(s._d=!0),a}function km(i){return i.some(t=>Ic(t)?!(t.type===hi||t.type===tn&&!km(t.children)):!0)?i:null}const td=i=>i?Rm(i)?Cu(i)||i.proxy:td(i.parent):null,Fc=Sn(Object.create(null),{$:i=>i,$el:i=>i.vnode.el,$data:i=>i.data,$props:i=>i.props,$attrs:i=>i.attrs,$slots:i=>i.slots,$refs:i=>i.refs,$parent:i=>td(i.parent),$root:i=>td(i.root),$emit:i=>i.emit,$options:i=>Dm(i),$forceUpdate:i=>i.f||(i.f=()=>mm(i.update)),$nextTick:i=>i.n||(i.n=Wn.bind(i.proxy)),$watch:i=>qw.bind(i)}),rC={get({_:i},t){const{ctx:e,setupState:n,data:r,props:s,accessCache:o,type:a,appContext:l}=i;let c;if(t[0]!=="$"){const p=o[t];if(p!==void 0)switch(p){case 1:return n[t];case 2:return r[t];case 4:return e[t];case 3:return s[t]}else{if(n!==_e&&ue(n,t))return o[t]=1,n[t];if(r!==_e&&ue(r,t))return o[t]=2,r[t];if((c=i.propsOptions[0])&&ue(c,t))return o[t]=3,s[t];if(e!==_e&&ue(e,t))return o[t]=4,e[t];ed&&(o[t]=0)}}const u=Fc[t];let h,f;if(u)return t==="$attrs"&&di(i,"get",t),u(i);if((h=a.__cssModules)&&(h=h[t]))return h;if(e!==_e&&ue(e,t))return o[t]=4,e[t];if(f=l.config.globalProperties,ue(f,t))return f[t]},set({_:i},t,e){const{data:n,setupState:r,ctx:s}=i;return r!==_e&&ue(r,t)?(r[t]=e,!0):n!==_e&&ue(n,t)?(n[t]=e,!0):ue(i.props,t)||t[0]==="$"&&t.slice(1)in i?!1:(s[t]=e,!0)},has({_:{data:i,setupState:t,accessCache:e,ctx:n,appContext:r,propsOptions:s}},o){let a;return!!e[o]||i!==_e&&ue(i,o)||t!==_e&&ue(t,o)||(a=s[0])&&ue(a,o)||ue(n,o)||ue(Fc,o)||ue(r.config.globalProperties,o)},defineProperty(i,t,e){return e.get!=null?i._.accessCache[t]=0:ue(e,"value")&&this.set(i,t,e.value,null),Reflect.defineProperty(i,t,e)}};let ed=!0;function sC(i){const t=Dm(i),e=i.proxy,n=i.ctx;ed=!1,t.beforeCreate&&yg(t.beforeCreate,i,"bc");const{data:r,computed:s,methods:o,watch:a,provide:l,inject:c,created:u,beforeMount:h,mounted:f,beforeUpdate:p,updated:b,activated:v,deactivated:w,beforeDestroy:x,beforeUnmount:E,destroyed:S,unmounted:O,render:k,renderTracked:m,renderTriggered:T,errorCaptured:D,serverPrefetch:z,expose:H,inheritAttrs:q,components:R,directives:rt,filters:st}=t;if(c&&oC(c,n,null,i.appContext.config.unwrapInjectedRef),o)for(const tt in o){const bt=o[tt];Vt(bt)&&(n[tt]=bt.bind(e))}if(r){const tt=r.call(e,e);Ve(tt)&&(i.data=Qs(tt))}if(ed=!0,s)for(const tt in s){const bt=s[tt],Ot=Vt(bt)?bt.bind(e,e):Vt(bt.get)?bt.get.bind(e,e):Dn,Gt=!Vt(bt)&&Vt(bt.set)?bt.set.bind(e):Dn,pt=vt({get:Ot,set:Gt});Object.defineProperty(n,tt,{enumerable:!0,configurable:!0,get:()=>pt.value,set:$t=>pt.value=$t})}if(a)for(const tt in a)_m(a[tt],n,e,tt);if(l){const tt=Vt(l)?l.call(e):l;Reflect.ownKeys(tt).forEach(bt=>{zi(bt,tt[bt])})}u&&yg(u,i,"c");function B(tt,bt){Ht(bt)?bt.forEach(Ot=>tt(Ot.bind(e))):bt&&tt(bt.bind(e))}if(B(Om,h),B(Nn,f),B(Jw,p),B(hf,b),B(Xw,v),B(Yw,w),B(eC,D),B(tC,m),B(Qw,T),B(sr,E),B(df,O),B(Zw,z),Ht(H))if(H.length){const tt=i.exposed||(i.exposed={});H.forEach(bt=>{Object.defineProperty(tt,bt,{get:()=>e[bt],set:Ot=>e[bt]=Ot})})}else i.exposed||(i.exposed={});k&&i.render===Dn&&(i.render=k),q!=null&&(i.inheritAttrs=q),R&&(i.components=R),rt&&(i.directives=rt)}function oC(i,t,e=Dn,n=!1){Ht(i)&&(i=nd(i));for(const r in i){const s=i[r];let o;Ve(s)?"default"in s?o=Re(s.from||r,s.default,!0):o=Re(s.from||r):o=Re(s),dn(o)&&n?Object.defineProperty(t,r,{enumerable:!0,configurable:!0,get:()=>o.value,set:a=>o.value=a}):t[r]=o}}function yg(i,t,e){xi(Ht(i)?i.map(n=>n.bind(t.proxy)):i.bind(t.proxy),t,e)}function _m(i,t,e,n){const r=n.includes(".")?Cm(e,n):()=>e[n];if(Me(i)){const s=t[i];Vt(s)&&Qt(r,s)}else if(Vt(i))Qt(r,i.bind(e));else if(Ve(i))if(Ht(i))i.forEach(s=>_m(s,t,e,n));else{const s=Vt(i.handler)?i.handler.bind(e):t[i.handler];Vt(s)&&Qt(r,s,i)}}function Dm(i){const t=i.type,{mixins:e,extends:n}=t,{mixins:r,optionsCache:s,config:{optionMergeStrategies:o}}=i.appContext,a=s.get(t);let l;return a?l=a:!r.length&&!e&&!n?l=t:(l={},r.length&&r.forEach(c=>Lc(l,c,o,!0)),Lc(l,t,o)),s.set(t,l),l}function Lc(i,t,e,n=!1){const{mixins:r,extends:s}=t;s&&Lc(i,s,e,!0),r&&r.forEach(o=>Lc(i,o,e,!0));for(const o in t)if(!(n&&o==="expose")){const a=aC[o]||e&&e[o];i[o]=a?a(i[o],t[o]):t[o]}return i}const aC={data:xg,props:Cs,emits:Cs,methods:Cs,computed:Cs,beforeCreate:Fn,created:Fn,beforeMount:Fn,mounted:Fn,beforeUpdate:Fn,updated:Fn,beforeDestroy:Fn,beforeUnmount:Fn,destroyed:Fn,unmounted:Fn,activated:Fn,deactivated:Fn,errorCaptured:Fn,serverPrefetch:Fn,components:Cs,directives:Cs,watch:cC,provide:xg,inject:lC};function xg(i,t){return t?i?function(){return Sn(Vt(i)?i.call(this,this):i,Vt(t)?t.call(this,this):t)}:t:i}function lC(i,t){return Cs(nd(i),nd(t))}function nd(i){if(Ht(i)){const t={};for(let e=0;e<i.length;e++)t[i[e]]=i[e];return t}return i}function Fn(i,t){return i?[...new Set([].concat(i,t))]:t}function Cs(i,t){return i?Sn(Sn(Object.create(null),i),t):t}function cC(i,t){if(!i)return t;if(!t)return i;const e=Sn(Object.create(null),i);for(const n in t)e[n]=Fn(i[n],t[n]);return e}function uC(i,t,e,n=!1){const r={},s={};Dc(s,wu,1),i.propsDefaults=Object.create(null),Nm(i,t,r,s);for(const o in i.propsOptions[0])o in r||(r[o]=void 0);e?i.props=n?r:yw(r):i.type.props?i.props=r:i.props=s,i.attrs=s}function hC(i,t,e,n){const{props:r,attrs:s,vnode:{patchFlag:o}}=i,a=ye(r),[l]=i.propsOptions;let c=!1;if((n||o>0)&&!(o&16)){if(o&8){const u=i.vnode.dynamicProps;for(let h=0;h<u.length;h++){let f=u[h];if(bu(i.emitsOptions,f))continue;const p=t[f];if(l)if(ue(s,f))p!==s[f]&&(s[f]=p,c=!0);else{const b=Ji(f);r[b]=id(l,a,b,p,i,!1)}else p!==s[f]&&(s[f]=p,c=!0)}}}else{Nm(i,t,r,s)&&(c=!0);let u;for(const h in a)(!t||!ue(t,h)&&((u=Ks(h))===h||!ue(t,u)))&&(l?e&&(e[h]!==void 0||e[u]!==void 0)&&(r[h]=id(l,a,h,void 0,i,!0)):delete r[h]);if(s!==a)for(const h in s)(!t||!ue(t,h)&&!0)&&(delete s[h],c=!0)}c&&br(i,"set","$attrs")}function Nm(i,t,e,n){const[r,s]=i.propsOptions;let o=!1,a;if(t)for(let l in t){if(xc(l))continue;const c=t[l];let u;r&&ue(r,u=Ji(l))?!s||!s.includes(u)?e[u]=c:(a||(a={}))[u]=c:bu(i.emitsOptions,l)||(!(l in n)||c!==n[l])&&(n[l]=c,o=!0)}if(s){const l=ye(e),c=a||_e;for(let u=0;u<s.length;u++){const h=s[u];e[h]=id(r,l,h,c[h],i,!ue(c,h))}}return o}function id(i,t,e,n,r,s){const o=i[e];if(o!=null){const a=ue(o,"default");if(a&&n===void 0){const l=o.default;if(o.type!==Function&&Vt(l)){const{propsDefaults:c}=r;e in c?n=c[e]:($o(r),n=c[e]=l.call(null,t),Ls())}else n=l}o[0]&&(s&&!a?n=!1:o[1]&&(n===""||n===Ks(e))&&(n=!0))}return n}function $m(i,t,e=!1){const n=t.propsCache,r=n.get(i);if(r)return r;const s=i.props,o={},a=[];let l=!1;if(!Vt(i)){const u=h=>{l=!0;const[f,p]=$m(h,t,!0);Sn(o,f),p&&a.push(...p)};!e&&t.mixins.length&&t.mixins.forEach(u),i.extends&&u(i.extends),i.mixins&&i.mixins.forEach(u)}if(!s&&!l)return n.set(i,Ao),Ao;if(Ht(s))for(let u=0;u<s.length;u++){const h=Ji(s[u]);wg(h)&&(o[h]=_e)}else if(s)for(const u in s){const h=Ji(u);if(wg(h)){const f=s[u],p=o[h]=Ht(f)||Vt(f)?{type:f}:f;if(p){const b=Sg(Boolean,p.type),v=Sg(String,p.type);p[0]=b>-1,p[1]=v<0||b<v,(b>-1||ue(p,"default"))&&a.push(h)}}}const c=[o,a];return n.set(i,c),c}function wg(i){return i[0]!=="$"}function Cg(i){const t=i&&i.toString().match(/^\s*function (\w+)/);return t?t[1]:i===null?"null":""}function Eg(i,t){return Cg(i)===Cg(t)}function Sg(i,t){return Ht(t)?t.findIndex(e=>Eg(e,i)):Vt(t)&&Eg(t,i)?0:-1}const Fm=i=>i[0]==="_"||i==="$stable",gf=i=>Ht(i)?i.map(Wi):[Wi(i)],dC=(i,t,e)=>{if(t._n)return t;const n=we((...r)=>gf(t(...r)),e);return n._c=!1,n},Lm=(i,t,e)=>{const n=i._ctx;for(const r in i){if(Fm(r))continue;const s=i[r];if(Vt(s))t[r]=dC(r,s,n);else if(s!=null){const o=gf(s);t[r]=()=>o}}},Im=(i,t)=>{const e=gf(t);i.slots.default=()=>e},fC=(i,t)=>{if(i.vnode.shapeFlag&32){const e=t._;e?(i.slots=ye(t),Dc(t,"_",e)):Lm(t,i.slots={})}else i.slots={},t&&Im(i,t);Dc(i.slots,wu,1)},pC=(i,t,e)=>{const{vnode:n,slots:r}=i;let s=!0,o=_e;if(n.shapeFlag&32){const a=t._;a?e&&a===1?s=!1:(Sn(r,t),!e&&a===1&&delete r._):(s=!t.$stable,Lm(t,r)),o=t}else t&&(Im(i,t),o={default:1});if(s)for(const a in r)!Fm(a)&&!(a in o)&&delete r[a]};function zm(){return{app:null,config:{isNativeTag:Ix,performance:!1,globalProperties:{},optionMergeStrategies:{},errorHandler:void 0,warnHandler:void 0,compilerOptions:{}},mixins:[],components:{},directives:{},provides:Object.create(null),optionsCache:new WeakMap,propsCache:new WeakMap,emitsCache:new WeakMap}}let gC=0;function mC(i,t){return function(n,r=null){Vt(n)||(n=Object.assign({},n)),r!=null&&!Ve(r)&&(r=null);const s=zm(),o=new Set;let a=!1;const l=s.app={_uid:gC++,_component:n,_props:r,_container:null,_context:s,_instance:null,version:zC,get config(){return s.config},set config(c){},use(c,...u){return o.has(c)||(c&&Vt(c.install)?(o.add(c),c.install(l,...u)):Vt(c)&&(o.add(c),c(l,...u))),l},mixin(c){return s.mixins.includes(c)||s.mixins.push(c),l},component(c,u){return u?(s.components[c]=u,l):s.components[c]},directive(c,u){return u?(s.directives[c]=u,l):s.directives[c]},mount(c,u,h){if(!a){const f=Jt(n,r);return f.appContext=s,u&&t?t(f,c):i(f,c,h),a=!0,l._container=c,c.__vue_app__=l,Cu(f.component)||f.component.proxy}},unmount(){a&&(i(null,l._container),delete l._container.__vue_app__)},provide(c,u){return s.provides[c]=u,l}};return l}}function rd(i,t,e,n,r=!1){if(Ht(i)){i.forEach((f,p)=>rd(f,t&&(Ht(t)?t[p]:t),e,n,r));return}if(Ia(n)&&!r)return;const s=n.shapeFlag&4?Cu(n.component)||n.component.proxy:n.el,o=r?null:s,{i:a,r:l}=i,c=t&&t.r,u=a.refs===_e?a.refs={}:a.refs,h=a.setupState;if(c!=null&&c!==l&&(Me(c)?(u[c]=null,ue(h,c)&&(h[c]=null)):dn(c)&&(c.value=null)),Vt(l))gr(l,a,12,[o,u]);else{const f=Me(l),p=dn(l);if(f||p){const b=()=>{if(i.f){const v=f?u[l]:l.value;r?Ht(v)&&Kd(v,s):Ht(v)?v.includes(s)||v.push(s):f?(u[l]=[s],ue(h,l)&&(h[l]=u[l])):(l.value=[s],i.k&&(u[i.k]=l.value))}else f?(u[l]=o,ue(h,l)&&(h[l]=o)):p&&(l.value=o,i.k&&(u[i.k]=o))};o?(b.id=-1,Un(b,e)):b()}}}const Un=Hw;function bC(i){return vC(i)}function vC(i,t){const e=Hx();e.__VUE__=!0;const{insert:n,remove:r,patchProp:s,createElement:o,createText:a,createComment:l,setText:c,setElementText:u,parentNode:h,nextSibling:f,setScopeId:p=Dn,cloneNode:b,insertStaticContent:v}=i,w=($,G,Q,K=null,nt=null,gt=null,wt=!1,dt=null,mt=!!G.dynamicChildren)=>{if($===G)return;$&&!Ss($,G)&&(K=Tt($),Dt($,nt,gt,!0),$=null),G.patchFlag===-2&&(mt=!1,G.dynamicChildren=null);const{type:ut,ref:Pt,shapeFlag:Y}=G;switch(ut){case Pl:x($,G,Q,K);break;case hi:E($,G,Q,K);break;case wh:$==null&&S(G,Q,K,wt);break;case tn:rt($,G,Q,K,nt,gt,wt,dt,mt);break;default:Y&1?m($,G,Q,K,nt,gt,wt,dt,mt):Y&6?st($,G,Q,K,nt,gt,wt,dt,mt):(Y&64||Y&128)&&ut.process($,G,Q,K,nt,gt,wt,dt,mt,te)}Pt!=null&&nt&&rd(Pt,$&&$.ref,gt,G||$,!G)},x=($,G,Q,K)=>{if($==null)n(G.el=a(G.children),Q,K);else{const nt=G.el=$.el;G.children!==$.children&&c(nt,G.children)}},E=($,G,Q,K)=>{$==null?n(G.el=l(G.children||""),Q,K):G.el=$.el},S=($,G,Q,K)=>{[$.el,$.anchor]=v($.children,G,Q,K,$.el,$.anchor)},O=({el:$,anchor:G},Q,K)=>{let nt;for(;$&&$!==G;)nt=f($),n($,Q,K),$=nt;n(G,Q,K)},k=({el:$,anchor:G})=>{let Q;for(;$&&$!==G;)Q=f($),r($),$=Q;r(G)},m=($,G,Q,K,nt,gt,wt,dt,mt)=>{wt=wt||G.type==="svg",$==null?T(G,Q,K,nt,gt,wt,dt,mt):H($,G,nt,gt,wt,dt,mt)},T=($,G,Q,K,nt,gt,wt,dt)=>{let mt,ut;const{type:Pt,props:Y,shapeFlag:ft,transition:kt,patchFlag:Wt,dirs:le}=$;if($.el&&b!==void 0&&Wt===-1)mt=$.el=b($.el);else{if(mt=$.el=o($.type,gt,Y&&Y.is,Y),ft&8?u(mt,$.children):ft&16&&z($.children,mt,null,K,nt,gt&&Pt!=="foreignObject",wt,dt),le&&ms($,null,K,"created"),Y){for(const Oe in Y)Oe!=="value"&&!xc(Oe)&&s(mt,Oe,null,Y[Oe],gt,$.children,K,nt,at);"value"in Y&&s(mt,"value",null,Y.value),(ut=Y.onVnodeBeforeMount)&&qi(ut,K,$)}D(mt,$,$.scopeId,wt,K)}le&&ms($,null,K,"beforeMount");const xe=(!nt||nt&&!nt.pendingBranch)&&kt&&!kt.persisted;xe&&kt.beforeEnter(mt),n(mt,G,Q),((ut=Y&&Y.onVnodeMounted)||xe||le)&&Un(()=>{ut&&qi(ut,K,$),xe&&kt.enter(mt),le&&ms($,null,K,"mounted")},nt)},D=($,G,Q,K,nt)=>{if(Q&&p($,Q),K)for(let gt=0;gt<K.length;gt++)p($,K[gt]);if(nt){let gt=nt.subTree;if(G===gt){const wt=nt.vnode;D($,wt,wt.scopeId,wt.slotScopeIds,nt.parent)}}},z=($,G,Q,K,nt,gt,wt,dt,mt=0)=>{for(let ut=mt;ut<$.length;ut++){const Pt=$[ut]=dt?jr($[ut]):Wi($[ut]);w(null,Pt,G,Q,K,nt,gt,wt,dt)}},H=($,G,Q,K,nt,gt,wt)=>{const dt=G.el=$.el;let{patchFlag:mt,dynamicChildren:ut,dirs:Pt}=G;mt|=$.patchFlag&16;const Y=$.props||_e,ft=G.props||_e;let kt;Q&&bs(Q,!1),(kt=ft.onVnodeBeforeUpdate)&&qi(kt,Q,G,$),Pt&&ms(G,$,Q,"beforeUpdate"),Q&&bs(Q,!0);const Wt=nt&&G.type!=="foreignObject";if(ut?q($.dynamicChildren,ut,dt,Q,K,Wt,gt):wt||Ot($,G,dt,null,Q,K,Wt,gt,!1),mt>0){if(mt&16)R(dt,G,Y,ft,Q,K,nt);else if(mt&2&&Y.class!==ft.class&&s(dt,"class",null,ft.class,nt),mt&4&&s(dt,"style",Y.style,ft.style,nt),mt&8){const le=G.dynamicProps;for(let xe=0;xe<le.length;xe++){const Oe=le[xe],Zn=Y[Oe],Qn=ft[Oe];(Qn!==Zn||Oe==="value")&&s(dt,Oe,Zn,Qn,nt,$.children,Q,K,at)}}mt&1&&$.children!==G.children&&u(dt,G.children)}else!wt&&ut==null&&R(dt,G,Y,ft,Q,K,nt);((kt=ft.onVnodeUpdated)||Pt)&&Un(()=>{kt&&qi(kt,Q,G,$),Pt&&ms(G,$,Q,"updated")},K)},q=($,G,Q,K,nt,gt,wt)=>{for(let dt=0;dt<G.length;dt++){const mt=$[dt],ut=G[dt],Pt=mt.el&&(mt.type===tn||!Ss(mt,ut)||mt.shapeFlag&70)?h(mt.el):Q;w(mt,ut,Pt,null,K,nt,gt,wt,!0)}},R=($,G,Q,K,nt,gt,wt)=>{if(Q!==K){for(const dt in K){if(xc(dt))continue;const mt=K[dt],ut=Q[dt];mt!==ut&&dt!=="value"&&s($,dt,ut,mt,wt,G.children,nt,gt,at)}if(Q!==_e)for(const dt in Q)!xc(dt)&&!(dt in K)&&s($,dt,Q[dt],null,wt,G.children,nt,gt,at);"value"in K&&s($,"value",Q.value,K.value)}},rt=($,G,Q,K,nt,gt,wt,dt,mt)=>{const ut=G.el=$?$.el:a(""),Pt=G.anchor=$?$.anchor:a("");let{patchFlag:Y,dynamicChildren:ft,slotScopeIds:kt}=G;kt&&(dt=dt?dt.concat(kt):kt),$==null?(n(ut,Q,K),n(Pt,Q,K),z(G.children,Q,Pt,nt,gt,wt,dt,mt)):Y>0&&Y&64&&ft&&$.dynamicChildren?(q($.dynamicChildren,ft,Q,nt,gt,wt,dt),(G.key!=null||nt&&G===nt.subTree)&&mf($,G,!0)):Ot($,G,Q,Pt,nt,gt,wt,dt,mt)},st=($,G,Q,K,nt,gt,wt,dt,mt)=>{G.slotScopeIds=dt,$==null?G.shapeFlag&512?nt.ctx.activate(G,Q,K,wt,mt):j(G,Q,K,nt,gt,wt,mt):B($,G,mt)},j=($,G,Q,K,nt,gt,wt)=>{const dt=$.component=PC($,K,nt);if(yu($)&&(dt.ctx.renderer=te),kC(dt),dt.asyncDep){if(nt&&nt.registerDep(dt,tt),!$.el){const mt=dt.subTree=Jt(hi);E(null,mt,G,Q)}return}tt(dt,$,G,Q,nt,gt,wt)},B=($,G,Q)=>{const K=G.component=$.component;if(Bw($,G,Q))if(K.asyncDep&&!K.asyncResolved){bt(K,G,Q);return}else K.next=G,Dw(K.update),K.update();else G.el=$.el,K.vnode=G},tt=($,G,Q,K,nt,gt,wt)=>{const dt=()=>{if($.isMounted){let{next:Pt,bu:Y,u:ft,parent:kt,vnode:Wt}=$,le=Pt,xe;bs($,!1),Pt?(Pt.el=Wt.el,bt($,Pt,wt)):Pt=Wt,Y&&vh(Y),(xe=Pt.props&&Pt.props.onVnodeBeforeUpdate)&&qi(xe,kt,Pt,Wt),bs($,!0);const Oe=yh($),Zn=$.subTree;$.subTree=Oe,w(Zn,Oe,h(Zn.el),Tt(Zn),$,nt,gt),Pt.el=Oe.el,le===null&&Rw($,Oe.el),ft&&Un(ft,nt),(xe=Pt.props&&Pt.props.onVnodeUpdated)&&Un(()=>qi(xe,kt,Pt,Wt),nt)}else{let Pt;const{el:Y,props:ft}=G,{bm:kt,m:Wt,parent:le}=$,xe=Ia(G);if(bs($,!1),kt&&vh(kt),!xe&&(Pt=ft&&ft.onVnodeBeforeMount)&&qi(Pt,le,G),bs($,!0),Y&&$n){const Oe=()=>{$.subTree=yh($),$n(Y,$.subTree,$,nt,null)};xe?G.type.__asyncLoader().then(()=>!$.isUnmounted&&Oe()):Oe()}else{const Oe=$.subTree=yh($);w(null,Oe,Q,K,$,nt,gt),G.el=Oe.el}if(Wt&&Un(Wt,nt),!xe&&(Pt=ft&&ft.onVnodeMounted)){const Oe=G;Un(()=>qi(Pt,le,Oe),nt)}(G.shapeFlag&256||le&&Ia(le.vnode)&&le.vnode.shapeFlag&256)&&$.a&&Un($.a,nt),$.isMounted=!0,G=Q=K=null}},mt=$.effect=new tf(dt,()=>mm(ut),$.scope),ut=$.update=()=>mt.run();ut.id=$.uid,bs($,!0),ut()},bt=($,G,Q)=>{G.component=$;const K=$.vnode.props;$.vnode=G,$.next=null,hC($,G.props,K,Q),pC($,G.children,Q),Js(),mu(void 0,$.update),Zs()},Ot=($,G,Q,K,nt,gt,wt,dt,mt=!1)=>{const ut=$&&$.children,Pt=$?$.shapeFlag:0,Y=G.children,{patchFlag:ft,shapeFlag:kt}=G;if(ft>0){if(ft&128){pt(ut,Y,Q,K,nt,gt,wt,dt,mt);return}else if(ft&256){Gt(ut,Y,Q,K,nt,gt,wt,dt,mt);return}}kt&8?(Pt&16&&at(ut,nt,gt),Y!==ut&&u(Q,Y)):Pt&16?kt&16?pt(ut,Y,Q,K,nt,gt,wt,dt,mt):at(ut,nt,gt,!0):(Pt&8&&u(Q,""),kt&16&&z(Y,Q,K,nt,gt,wt,dt,mt))},Gt=($,G,Q,K,nt,gt,wt,dt,mt)=>{$=$||Ao,G=G||Ao;const ut=$.length,Pt=G.length,Y=Math.min(ut,Pt);let ft;for(ft=0;ft<Y;ft++){const kt=G[ft]=mt?jr(G[ft]):Wi(G[ft]);w($[ft],kt,Q,null,nt,gt,wt,dt,mt)}ut>Pt?at($,nt,gt,!0,!1,Y):z(G,Q,K,nt,gt,wt,dt,mt,Y)},pt=($,G,Q,K,nt,gt,wt,dt,mt)=>{let ut=0;const Pt=G.length;let Y=$.length-1,ft=Pt-1;for(;ut<=Y&&ut<=ft;){const kt=$[ut],Wt=G[ut]=mt?jr(G[ut]):Wi(G[ut]);if(Ss(kt,Wt))w(kt,Wt,Q,null,nt,gt,wt,dt,mt);else break;ut++}for(;ut<=Y&&ut<=ft;){const kt=$[Y],Wt=G[ft]=mt?jr(G[ft]):Wi(G[ft]);if(Ss(kt,Wt))w(kt,Wt,Q,null,nt,gt,wt,dt,mt);else break;Y--,ft--}if(ut>Y){if(ut<=ft){const kt=ft+1,Wt=kt<Pt?G[kt].el:K;for(;ut<=ft;)w(null,G[ut]=mt?jr(G[ut]):Wi(G[ut]),Q,Wt,nt,gt,wt,dt,mt),ut++}}else if(ut>ft)for(;ut<=Y;)Dt($[ut],nt,gt,!0),ut++;else{const kt=ut,Wt=ut,le=new Map;for(ut=Wt;ut<=ft;ut++){const $e=G[ut]=mt?jr(G[ut]):Wi(G[ut]);$e.key!=null&&le.set($e.key,ut)}let xe,Oe=0;const Zn=ft-Wt+1;let Qn=!1,Tr=0;const Pr=new Array(Zn);for(ut=0;ut<Zn;ut++)Pr[ut]=0;for(ut=kt;ut<=Y;ut++){const $e=$[ut];if(Oe>=Zn){Dt($e,nt,gt,!0);continue}let ze;if($e.key!=null)ze=le.get($e.key);else for(xe=Wt;xe<=ft;xe++)if(Pr[xe-Wt]===0&&Ss($e,G[xe])){ze=xe;break}ze===void 0?Dt($e,nt,gt,!0):(Pr[ze-Wt]=ut+1,ze>=Tr?Tr=ze:Qn=!0,w($e,G[ze],Q,null,nt,gt,wt,dt,mt),Oe++)}const pa=Qn?yC(Pr):Ao;for(xe=pa.length-1,ut=Zn-1;ut>=0;ut--){const $e=Wt+ut,ze=G[$e],co=$e+1<Pt?G[$e+1].el:K;Pr[ut]===0?w(null,ze,Q,co,nt,gt,wt,dt,mt):Qn&&(xe<0||ut!==pa[xe]?$t(ze,Q,co,2):xe--)}}},$t=($,G,Q,K,nt=null)=>{const{el:gt,type:wt,transition:dt,children:mt,shapeFlag:ut}=$;if(ut&6){$t($.component.subTree,G,Q,K);return}if(ut&128){$.suspense.move(G,Q,K);return}if(ut&64){wt.move($,G,Q,te);return}if(wt===tn){n(gt,G,Q);for(let Y=0;Y<mt.length;Y++)$t(mt[Y],G,Q,K);n($.anchor,G,Q);return}if(wt===wh){O($,G,Q);return}if(K!==2&&ut&1&&dt)if(K===0)dt.beforeEnter(gt),n(gt,G,Q),Un(()=>dt.enter(gt),nt);else{const{leave:Y,delayLeave:ft,afterLeave:kt}=dt,Wt=()=>n(gt,G,Q),le=()=>{Y(gt,()=>{Wt(),kt&&kt()})};ft?ft(gt,Wt,le):le()}else n(gt,G,Q)},Dt=($,G,Q,K=!1,nt=!1)=>{const{type:gt,props:wt,ref:dt,children:mt,dynamicChildren:ut,shapeFlag:Pt,patchFlag:Y,dirs:ft}=$;if(dt!=null&&rd(dt,null,Q,$,!0),Pt&256){G.ctx.deactivate($);return}const kt=Pt&1&&ft,Wt=!Ia($);let le;if(Wt&&(le=wt&&wt.onVnodeBeforeUnmount)&&qi(le,G,$),Pt&6)de($.component,Q,K);else{if(Pt&128){$.suspense.unmount(Q,K);return}kt&&ms($,null,G,"beforeUnmount"),Pt&64?$.type.remove($,G,Q,nt,te,K):ut&&(gt!==tn||Y>0&&Y&64)?at(ut,G,Q,!1,!0):(gt===tn&&Y&384||!nt&&Pt&16)&&at(mt,G,Q),K&&_t($)}(Wt&&(le=wt&&wt.onVnodeUnmounted)||kt)&&Un(()=>{le&&qi(le,G,$),kt&&ms($,null,G,"unmounted")},Q)},_t=$=>{const{type:G,el:Q,anchor:K,transition:nt}=$;if(G===tn){zt(Q,K);return}if(G===wh){k($);return}const gt=()=>{r(Q),nt&&!nt.persisted&&nt.afterLeave&&nt.afterLeave()};if($.shapeFlag&1&&nt&&!nt.persisted){const{leave:wt,delayLeave:dt}=nt,mt=()=>wt(Q,gt);dt?dt($.el,gt,mt):mt()}else gt()},zt=($,G)=>{let Q;for(;$!==G;)Q=f($),r($),$=Q;r(G)},de=($,G,Q)=>{const{bum:K,scope:nt,update:gt,subTree:wt,um:dt}=$;K&&vh(K),nt.stop(),gt&&(gt.active=!1,Dt(wt,$,G,Q)),dt&&Un(dt,G),Un(()=>{$.isUnmounted=!0},G),G&&G.pendingBranch&&!G.isUnmounted&&$.asyncDep&&!$.asyncResolved&&$.suspenseId===G.pendingId&&(G.deps--,G.deps===0&&G.resolve())},at=($,G,Q,K=!1,nt=!1,gt=0)=>{for(let wt=gt;wt<$.length;wt++)Dt($[wt],G,Q,K,nt)},Tt=$=>$.shapeFlag&6?Tt($.component.subTree):$.shapeFlag&128?$.suspense.next():f($.anchor||$.el),Ut=($,G,Q)=>{$==null?G._vnode&&Dt(G._vnode,null,null,!0):w(G._vnode||null,$,G,null,null,null,Q),ym(),G._vnode=$},te={p:w,um:Dt,m:$t,r:_t,mt:j,mc:z,pc:Ot,pbc:q,n:Tt,o:i};let pn,$n;return t&&([pn,$n]=t(te)),{render:Ut,hydrate:pn,createApp:mC(Ut,pn)}}function bs({effect:i,update:t},e){i.allowRecurse=t.allowRecurse=e}function mf(i,t,e=!1){const n=i.children,r=t.children;if(Ht(n)&&Ht(r))for(let s=0;s<n.length;s++){const o=n[s];let a=r[s];a.shapeFlag&1&&!a.dynamicChildren&&((a.patchFlag<=0||a.patchFlag===32)&&(a=r[s]=jr(r[s]),a.el=o.el),e||mf(o,a))}}function yC(i){const t=i.slice(),e=[0];let n,r,s,o,a;const l=i.length;for(n=0;n<l;n++){const c=i[n];if(c!==0){if(r=e[e.length-1],i[r]<c){t[n]=r,e.push(n);continue}for(s=0,o=e.length-1;s<o;)a=s+o>>1,i[e[a]]<c?s=a+1:o=a;c<i[e[s]]&&(s>0&&(t[n]=e[s-1]),e[s]=n)}}for(s=e.length,o=e[s-1];s-- >0;)e[s]=o,o=t[o];return e}const xC=i=>i.__isTeleport,za=i=>i&&(i.disabled||i.disabled===""),Ag=i=>typeof SVGElement!="undefined"&&i instanceof SVGElement,sd=(i,t)=>{const e=i&&i.to;return Me(e)?t?t(e):null:e},wC={__isTeleport:!0,process(i,t,e,n,r,s,o,a,l,c){const{mc:u,pc:h,pbc:f,o:{insert:p,querySelector:b,createText:v,createComment:w}}=c,x=za(t.props);let{shapeFlag:E,children:S,dynamicChildren:O}=t;if(i==null){const k=t.el=v(""),m=t.anchor=v("");p(k,e,n),p(m,e,n);const T=t.target=sd(t.props,b),D=t.targetAnchor=v("");T&&(p(D,T),o=o||Ag(T));const z=(H,q)=>{E&16&&u(S,H,q,r,s,o,a,l)};x?z(e,m):T&&z(T,D)}else{t.el=i.el;const k=t.anchor=i.anchor,m=t.target=i.target,T=t.targetAnchor=i.targetAnchor,D=za(i.props),z=D?e:m,H=D?k:T;if(o=o||Ag(m),O?(f(i.dynamicChildren,O,z,r,s,o,a),mf(i,t,!0)):l||h(i,t,z,H,r,s,o,a,!1),x)D||sc(t,e,k,c,1);else if((t.props&&t.props.to)!==(i.props&&i.props.to)){const q=t.target=sd(t.props,b);q&&sc(t,q,null,c,0)}else D&&sc(t,m,T,c,1)}},remove(i,t,e,n,{um:r,o:{remove:s}},o){const{shapeFlag:a,children:l,anchor:c,targetAnchor:u,target:h,props:f}=i;if(h&&s(u),(o||!za(f))&&(s(c),a&16))for(let p=0;p<l.length;p++){const b=l[p];r(b,t,e,!0,!!b.dynamicChildren)}},move:sc,hydrate:CC};function sc(i,t,e,{o:{insert:n},m:r},s=2){s===0&&n(i.targetAnchor,t,e);const{el:o,anchor:a,shapeFlag:l,children:c,props:u}=i,h=s===2;if(h&&n(o,t,e),(!h||za(u))&&l&16)for(let f=0;f<c.length;f++)r(c[f],t,e,2);h&&n(a,t,e)}function CC(i,t,e,n,r,s,{o:{nextSibling:o,parentNode:a,querySelector:l}},c){const u=t.target=sd(t.props,l);if(u){const h=u._lpa||u.firstChild;if(t.shapeFlag&16)if(za(t.props))t.anchor=c(o(i),t,a(i),e,n,r,s),t.targetAnchor=h;else{t.anchor=o(i);let f=h;for(;f;)if(f=o(f),f&&f.nodeType===8&&f.data==="teleport anchor"){t.targetAnchor=f,u._lpa=t.targetAnchor&&o(t.targetAnchor);break}c(h,t,u,e,n,r,s)}}return t.anchor&&o(t.anchor)}const EC=wC,tn=Symbol(void 0),Pl=Symbol(void 0),hi=Symbol(void 0),wh=Symbol(void 0),ja=[];let $i=null;function St(i=!1){ja.push($i=i?null:[])}function SC(){ja.pop(),$i=ja[ja.length-1]||null}let il=1;function Mg(i){il+=i}function jm(i){return i.dynamicChildren=il>0?$i||Ao:null,SC(),il>0&&$i&&$i.push(i),i}function Zt(i,t,e,n,r,s){return jm(Yt(i,t,e,n,r,s,!0))}function Ae(i,t,e,n,r){return jm(Jt(i,t,e,n,r,!0))}function Ic(i){return i?i.__v_isVNode===!0:!1}function Ss(i,t){return i.type===t.type&&i.key===t.key}const wu="__vInternal",Bm=({key:i})=>i!=null?i:null,wc=({ref:i,ref_key:t,ref_for:e})=>i!=null?Me(i)||dn(i)||Vt(i)?{i:_n,r:i,k:t,f:!!e}:i:null;function Yt(i,t=null,e=null,n=0,r=null,s=i===tn?0:1,o=!1,a=!1){const l={__v_isVNode:!0,__v_skip:!0,type:i,props:t,key:t&&Bm(t),ref:t&&wc(t),scopeId:vu,slotScopeIds:null,children:e,component:null,suspense:null,ssContent:null,ssFallback:null,dirs:null,transition:null,el:null,anchor:null,target:null,targetAnchor:null,staticCount:0,shapeFlag:s,patchFlag:n,dynamicProps:r,dynamicChildren:null,appContext:null};return a?(bf(l,e),s&128&&i.normalize(l)):e&&(l.shapeFlag|=Me(e)?8:16),il>0&&!o&&$i&&(l.patchFlag>0||s&6)&&l.patchFlag!==32&&$i.push(l),l}const Jt=AC;function AC(i,t=null,e=null,n=0,r=null,s=!1){if((!i||i===Tm)&&(i=hi),Ic(i)){const a=vr(i,t,!0);return e&&bf(a,e),il>0&&!s&&$i&&(a.shapeFlag&6?$i[$i.indexOf(i)]=a:$i.push(a)),a.patchFlag|=-2,a}if(FC(i)&&(i=i.__vccOpts),t){t=MC(t);let{class:a,style:l}=t;a&&!Me(a)&&(t.class=qt(a)),Ve(l)&&(lm(l)&&!Ht(l)&&(l=Sn({},l)),t.style=En(l))}const o=Me(i)?1:Vw(i)?128:xC(i)?64:Ve(i)?4:Vt(i)?2:0;return Yt(i,t,e,n,r,o,s,!0)}function MC(i){return i?lm(i)||wu in i?Sn({},i):i:null}function vr(i,t,e=!1){const{props:n,ref:r,patchFlag:s,children:o}=i,a=t?Fs(n||{},t):n;return{__v_isVNode:!0,__v_skip:!0,type:i.type,props:a,key:a&&Bm(a),ref:t&&t.ref?e&&r?Ht(r)?r.concat(wc(t)):[r,wc(t)]:wc(t):r,scopeId:i.scopeId,slotScopeIds:i.slotScopeIds,children:o,target:i.target,targetAnchor:i.targetAnchor,staticCount:i.staticCount,shapeFlag:i.shapeFlag,patchFlag:t&&i.type!==tn?s===-1?16:s|16:s,dynamicProps:i.dynamicProps,dynamicChildren:i.dynamicChildren,appContext:i.appContext,dirs:i.dirs,transition:i.transition,component:i.component,suspense:i.suspense,ssContent:i.ssContent&&vr(i.ssContent),ssFallback:i.ssFallback&&vr(i.ssFallback),el:i.el,anchor:i.anchor}}function Zi(i=" ",t=0){return Jt(Pl,null,i,t)}function ve(i="",t=!1){return t?(St(),Ae(hi,null,i)):Jt(hi,null,i)}function Wi(i){return i==null||typeof i=="boolean"?Jt(hi):Ht(i)?Jt(tn,null,i.slice()):typeof i=="object"?jr(i):Jt(Pl,null,String(i))}function jr(i){return i.el===null||i.memo?i:vr(i)}function bf(i,t){let e=0;const{shapeFlag:n}=i;if(t==null)t=null;else if(Ht(t))e=16;else if(typeof t=="object")if(n&65){const r=t.default;r&&(r._c&&(r._d=!1),bf(i,r()),r._c&&(r._d=!0));return}else{e=32;const r=t._;!r&&!(wu in t)?t._ctx=_n:r===3&&_n&&(_n.slots._===1?t._=1:(t._=2,i.patchFlag|=1024))}else Vt(t)?(t={default:t,_ctx:_n},e=32):(t=String(t),n&64?(e=16,t=[Zi(t)]):e=8);i.children=t,i.shapeFlag|=e}function Fs(...i){const t={};for(let e=0;e<i.length;e++){const n=i[e];for(const r in n)if(r==="class")t.class!==n.class&&(t.class=qt([t.class,n.class]));else if(r==="style")t.style=En([t.style,n.style]);else if(uu(r)){const s=t[r],o=n[r];o&&s!==o&&!(Ht(s)&&s.includes(o))&&(t[r]=s?[].concat(s,o):o)}else r!==""&&(t[r]=n[r])}return t}function qi(i,t,e,n=null){xi(i,t,7,[e,n])}const OC=zm();let TC=0;function PC(i,t,e){const n=i.type,r=(t?t.appContext:i.appContext)||OC,s={uid:TC++,vnode:i,type:n,parent:t,appContext:r,root:null,next:null,subTree:null,effect:null,update:null,scope:new Gx(!0),render:null,proxy:null,exposed:null,exposeProxy:null,withProxy:null,provides:t?t.provides:Object.create(r.provides),accessCache:null,renderCache:[],components:null,directives:null,propsOptions:$m(n,r),emitsOptions:wm(n,r),emit:null,emitted:null,propsDefaults:_e,inheritAttrs:n.inheritAttrs,ctx:_e,data:_e,props:_e,attrs:_e,slots:_e,refs:_e,setupState:_e,setupContext:null,suspense:e,suspenseId:e?e.pendingId:0,asyncDep:null,asyncResolved:!1,isMounted:!1,isUnmounted:!1,isDeactivated:!1,bc:null,c:null,bm:null,m:null,bu:null,u:null,um:null,bum:null,da:null,a:null,rtg:null,rtc:null,ec:null,sp:null};return s.ctx={_:s},s.root=t?t.root:s,s.emit=Fw.bind(null,s),i.ce&&i.ce(s),s}let gn=null;const or=()=>gn||_n,$o=i=>{gn=i,i.scope.on()},Ls=()=>{gn&&gn.scope.off(),gn=null};function Rm(i){return i.vnode.shapeFlag&4}let rl=!1;function kC(i,t=!1){rl=t;const{props:e,children:n}=i.vnode,r=Rm(i);uC(i,e,r,t),fC(i,n);const s=r?_C(i,t):void 0;return rl=!1,s}function _C(i,t){const e=i.type;i.accessCache=Object.create(null),i.proxy=cm(new Proxy(i.ctx,rC));const{setup:n}=e;if(n){const r=i.setupContext=n.length>1?Hm(i):null;$o(i),Js();const s=gr(n,i,0,[i.props,r]);if(Zs(),Ls(),X2(s)){if(s.then(Ls,Ls),t)return s.then(o=>{Og(i,o,t)}).catch(o=>{gu(o,i,0)});i.asyncDep=s}else Og(i,s,t)}else Vm(i,t)}function Og(i,t,e){Vt(t)?i.type.__ssrInlineRender?i.ssrRender=t:i.render=t:Ve(t)&&(i.setupState=fm(t)),Vm(i,e)}let Tg;function Vm(i,t,e){const n=i.type;if(!i.render){if(!t&&Tg&&!n.render){const r=n.template;if(r){const{isCustomElement:s,compilerOptions:o}=i.appContext.config,{delimiters:a,compilerOptions:l}=n,c=Sn(Sn({isCustomElement:s,delimiters:a},o),l);n.render=Tg(r,c)}}i.render=n.render||Dn}$o(i),Js(),sC(i),Zs(),Ls()}function DC(i){return new Proxy(i.attrs,{get(t,e){return di(i,"get","$attrs"),t[e]}})}function Hm(i){const t=n=>{i.exposed=n||{}};let e;return{get attrs(){return e||(e=DC(i))},slots:i.slots,emit:i.emit,expose:t}}function Cu(i){if(i.exposed)return i.exposeProxy||(i.exposeProxy=new Proxy(fm(cm(i.exposed)),{get(t,e){if(e in t)return t[e];if(e in Fc)return Fc[e](i)}}))}const NC=/(?:^|[-_])(\w)/g,$C=i=>i.replace(NC,t=>t.toUpperCase()).replace(/[-_]/g,"");function Gm(i,t=!0){return Vt(i)?i.displayName||i.name:i.name||t&&i.__name}function qm(i,t,e=!1){let n=Gm(t);if(!n&&t.__file){const r=t.__file.match(/([^/\\]+)\.\w+$/);r&&(n=r[1])}if(!n&&i&&i.parent){const r=s=>{for(const o in s)if(s[o]===t)return o};n=r(i.components||i.parent.type.components)||r(i.appContext.components)}return n?$C(n):e?"App":"Anonymous"}function FC(i){return Vt(i)&&"__vccOpts"in i}const vt=(i,t)=>Sw(i,t,rl);function vf(){return Um().slots}function LC(){return Um().attrs}function Um(){const i=or();return i.setupContext||(i.setupContext=Hm(i))}function IC(i,t,e){const n=arguments.length;return n===2?Ve(t)&&!Ht(t)?Ic(t)?Jt(i,null,[t]):Jt(i,t):Jt(i,null,t):(n>3?e=Array.prototype.slice.call(arguments,2):n===3&&Ic(e)&&(e=[e]),Jt(i,t,e))}const zC="3.2.37",jC="http://www.w3.org/2000/svg",As=typeof document!="undefined"?document:null,Pg=As&&As.createElement("template"),BC={insert:(i,t,e)=>{t.insertBefore(i,e||null)},remove:i=>{const t=i.parentNode;t&&t.removeChild(i)},createElement:(i,t,e,n)=>{const r=t?As.createElementNS(jC,i):As.createElement(i,e?{is:e}:void 0);return i==="select"&&n&&n.multiple!=null&&r.setAttribute("multiple",n.multiple),r},createText:i=>As.createTextNode(i),createComment:i=>As.createComment(i),setText:(i,t)=>{i.nodeValue=t},setElementText:(i,t)=>{i.textContent=t},parentNode:i=>i.parentNode,nextSibling:i=>i.nextSibling,querySelector:i=>As.querySelector(i),setScopeId(i,t){i.setAttribute(t,"")},cloneNode(i){const t=i.cloneNode(!0);return"_value"in i&&(t._value=i._value),t},insertStaticContent(i,t,e,n,r,s){const o=e?e.previousSibling:t.lastChild;if(r&&(r===s||r.nextSibling))for(;t.insertBefore(r.cloneNode(!0),e),!(r===s||!(r=r.nextSibling)););else{Pg.innerHTML=n?`<svg>${i}</svg>`:i;const a=Pg.content;if(n){const l=a.firstChild;for(;l.firstChild;)a.appendChild(l.firstChild);a.removeChild(l)}t.insertBefore(a,e)}return[o?o.nextSibling:t.firstChild,e?e.previousSibling:t.lastChild]}};function RC(i,t,e){const n=i._vtc;n&&(t=(t?[t,...n]:[...n]).join(" ")),t==null?i.removeAttribute("class"):e?i.setAttribute("class",t):i.className=t}function VC(i,t,e){const n=i.style,r=Me(e);if(e&&!r){for(const s in e)od(n,s,e[s]);if(t&&!Me(t))for(const s in t)e[s]==null&&od(n,s,"")}else{const s=n.display;r?t!==e&&(n.cssText=e):t&&i.removeAttribute("style"),"_vod"in i&&(n.display=s)}}const kg=/\s*!important$/;function od(i,t,e){if(Ht(e))e.forEach(n=>od(i,t,n));else if(e==null&&(e=""),t.startsWith("--"))i.setProperty(t,e);else{const n=HC(i,t);kg.test(e)?i.setProperty(Ks(n),e.replace(kg,""),"important"):i[n]=e}}const _g=["Webkit","Moz","ms"],Ch={};function HC(i,t){const e=Ch[t];if(e)return e;let n=Ji(t);if(n!=="filter"&&n in i)return Ch[t]=n;n=fu(n);for(let r=0;r<_g.length;r++){const s=_g[r]+n;if(s in i)return Ch[t]=s}return t}const Dg="http://www.w3.org/1999/xlink";function GC(i,t,e,n,r){if(n&&t.startsWith("xlink:"))e==null?i.removeAttributeNS(Dg,t.slice(6,t.length)):i.setAttributeNS(Dg,t,e);else{const s=Nx(t);e==null||s&&!q2(e)?i.removeAttribute(t):i.setAttribute(t,s?"":e)}}function qC(i,t,e,n,r,s,o){if(t==="innerHTML"||t==="textContent"){n&&o(n,r,s),i[t]=e==null?"":e;return}if(t==="value"&&i.tagName!=="PROGRESS"&&!i.tagName.includes("-")){i._value=e;const l=e==null?"":e;(i.value!==l||i.tagName==="OPTION")&&(i.value=l),e==null&&i.removeAttribute(t);return}let a=!1;if(e===""||e==null){const l=typeof i[t];l==="boolean"?e=q2(e):e==null&&l==="string"?(e="",a=!0):l==="number"&&(e=0,a=!0)}try{i[t]=e}catch{}a&&i.removeAttribute(t)}const[Wm,UC]=(()=>{let i=Date.now,t=!1;if(typeof window!="undefined"){Date.now()>document.createEvent("Event").timeStamp&&(i=performance.now.bind(performance));const e=navigator.userAgent.match(/firefox\/(\d+)/i);t=!!(e&&Number(e[1])<=53)}return[i,t]})();let ad=0;const WC=Promise.resolve(),XC=()=>{ad=0},YC=()=>ad||(WC.then(XC),ad=Wm());function KC(i,t,e,n){i.addEventListener(t,e,n)}function JC(i,t,e,n){i.removeEventListener(t,e,n)}function ZC(i,t,e,n,r=null){const s=i._vei||(i._vei={}),o=s[t];if(n&&o)o.value=n;else{const[a,l]=QC(t);if(n){const c=s[t]=t3(n,r);KC(i,a,c,l)}else o&&(JC(i,a,o,l),s[t]=void 0)}}const Ng=/(?:Once|Passive|Capture)$/;function QC(i){let t;if(Ng.test(i)){t={};let e;for(;e=i.match(Ng);)i=i.slice(0,i.length-e[0].length),t[e[0].toLowerCase()]=!0}return[Ks(i.slice(2)),t]}function t3(i,t){const e=n=>{const r=n.timeStamp||Wm();(UC||r>=e.attached-1)&&xi(e3(n,e.value),t,5,[n])};return e.value=i,e.attached=YC(),e}function e3(i,t){if(Ht(t)){const e=i.stopImmediatePropagation;return i.stopImmediatePropagation=()=>{e.call(i),i._stopped=!0},t.map(n=>r=>!r._stopped&&n&&n(r))}else return t}const $g=/^on[a-z]/,n3=(i,t,e,n,r=!1,s,o,a,l)=>{t==="class"?RC(i,n,r):t==="style"?VC(i,e,n):uu(t)?Yd(t)||ZC(i,t,e,n,o):(t[0]==="."?(t=t.slice(1),!0):t[0]==="^"?(t=t.slice(1),!1):i3(i,t,n,r))?qC(i,t,n,s,o,a,l):(t==="true-value"?i._trueValue=n:t==="false-value"&&(i._falseValue=n),GC(i,t,n,r))};function i3(i,t,e,n){return n?!!(t==="innerHTML"||t==="textContent"||t in i&&$g.test(t)&&Vt(e)):t==="spellcheck"||t==="draggable"||t==="translate"||t==="form"||t==="list"&&i.tagName==="INPUT"||t==="type"&&i.tagName==="TEXTAREA"||$g.test(t)&&Me(e)?!1:t in i}const Nr="transition",Ea="animation",Eu=(i,{slots:t})=>IC(Em,r3(i),t);Eu.displayName="Transition";const Xm={name:String,type:String,css:{type:Boolean,default:!0},duration:[String,Number,Object],enterFromClass:String,enterActiveClass:String,enterToClass:String,appearFromClass:String,appearActiveClass:String,appearToClass:String,leaveFromClass:String,leaveActiveClass:String,leaveToClass:String};Eu.props=Sn({},Em.props,Xm);const vs=(i,t=[])=>{Ht(i)?i.forEach(e=>e(...t)):i&&i(...t)},Fg=i=>i?Ht(i)?i.some(t=>t.length>1):i.length>1:!1;function r3(i){const t={};for(const R in i)R in Xm||(t[R]=i[R]);if(i.css===!1)return t;const{name:e="v",type:n,duration:r,enterFromClass:s=`${e}-enter-from`,enterActiveClass:o=`${e}-enter-active`,enterToClass:a=`${e}-enter-to`,appearFromClass:l=s,appearActiveClass:c=o,appearToClass:u=a,leaveFromClass:h=`${e}-leave-from`,leaveActiveClass:f=`${e}-leave-active`,leaveToClass:p=`${e}-leave-to`}=i,b=s3(r),v=b&&b[0],w=b&&b[1],{onBeforeEnter:x,onEnter:E,onEnterCancelled:S,onLeave:O,onLeaveCancelled:k,onBeforeAppear:m=x,onAppear:T=E,onAppearCancelled:D=S}=t,z=(R,rt,st)=>{ys(R,rt?u:a),ys(R,rt?c:o),st&&st()},H=(R,rt)=>{R._isLeaving=!1,ys(R,h),ys(R,p),ys(R,f),rt&&rt()},q=R=>(rt,st)=>{const j=R?T:E,B=()=>z(rt,R,st);vs(j,[rt,B]),Lg(()=>{ys(rt,R?l:s),$r(rt,R?u:a),Fg(j)||Ig(rt,n,v,B)})};return Sn(t,{onBeforeEnter(R){vs(x,[R]),$r(R,s),$r(R,o)},onBeforeAppear(R){vs(m,[R]),$r(R,l),$r(R,c)},onEnter:q(!1),onAppear:q(!0),onLeave(R,rt){R._isLeaving=!0;const st=()=>H(R,rt);$r(R,h),l3(),$r(R,f),Lg(()=>{!R._isLeaving||(ys(R,h),$r(R,p),Fg(O)||Ig(R,n,w,st))}),vs(O,[R,st])},onEnterCancelled(R){z(R,!1),vs(S,[R])},onAppearCancelled(R){z(R,!0),vs(D,[R])},onLeaveCancelled(R){H(R),vs(k,[R])}})}function s3(i){if(i==null)return null;if(Ve(i))return[Eh(i.enter),Eh(i.leave)];{const t=Eh(i);return[t,t]}}function Eh(i){return J2(i)}function $r(i,t){t.split(/\s+/).forEach(e=>e&&i.classList.add(e)),(i._vtc||(i._vtc=new Set)).add(t)}function ys(i,t){t.split(/\s+/).forEach(n=>n&&i.classList.remove(n));const{_vtc:e}=i;e&&(e.delete(t),e.size||(i._vtc=void 0))}function Lg(i){requestAnimationFrame(()=>{requestAnimationFrame(i)})}let o3=0;function Ig(i,t,e,n){const r=i._endId=++o3,s=()=>{r===i._endId&&n()};if(e)return setTimeout(s,e);const{type:o,timeout:a,propCount:l}=a3(i,t);if(!o)return n();const c=o+"end";let u=0;const h=()=>{i.removeEventListener(c,f),s()},f=p=>{p.target===i&&++u>=l&&h()};setTimeout(()=>{u<l&&h()},a+1),i.addEventListener(c,f)}function a3(i,t){const e=window.getComputedStyle(i),n=b=>(e[b]||"").split(", "),r=n(Nr+"Delay"),s=n(Nr+"Duration"),o=zg(r,s),a=n(Ea+"Delay"),l=n(Ea+"Duration"),c=zg(a,l);let u=null,h=0,f=0;t===Nr?o>0&&(u=Nr,h=o,f=s.length):t===Ea?c>0&&(u=Ea,h=c,f=l.length):(h=Math.max(o,c),u=h>0?o>c?Nr:Ea:null,f=u?u===Nr?s.length:l.length:0);const p=u===Nr&&/\b(transform|all)(,|$)/.test(e[Nr+"Property"]);return{type:u,timeout:h,propCount:f,hasTransform:p}}function zg(i,t){for(;i.length<t.length;)i=i.concat(i);return Math.max(...t.map((e,n)=>jg(e)+jg(i[n])))}function jg(i){return Number(i.slice(0,-1).replace(",","."))*1e3}function l3(){return document.body.offsetHeight}const c3=["ctrl","shift","alt","meta"],u3={stop:i=>i.stopPropagation(),prevent:i=>i.preventDefault(),self:i=>i.target!==i.currentTarget,ctrl:i=>!i.ctrlKey,shift:i=>!i.shiftKey,alt:i=>!i.altKey,meta:i=>!i.metaKey,left:i=>"button"in i&&i.button!==0,middle:i=>"button"in i&&i.button!==1,right:i=>"button"in i&&i.button!==2,exact:(i,t)=>c3.some(e=>i[`${e}Key`]&&!t.includes(e))},h3=(i,t)=>(e,...n)=>{for(let r=0;r<t.length;r++){const s=u3[t[r]];if(s&&s(e,t))return}return i(e,...n)},d3={esc:"escape",space:" ",up:"arrow-up",left:"arrow-left",right:"arrow-right",down:"arrow-down",delete:"backspace"},Bg=(i,t)=>e=>{if(!("key"in e))return;const n=Ks(e.key);if(t.some(r=>r===n||d3[r]===n))return i(e)},yf={beforeMount(i,{value:t},{transition:e}){i._vod=i.style.display==="none"?"":i.style.display,e&&t?e.beforeEnter(i):Sa(i,t)},mounted(i,{value:t},{transition:e}){e&&t&&e.enter(i)},updated(i,{value:t,oldValue:e},{transition:n}){!t!=!e&&(n?t?(n.beforeEnter(i),Sa(i,!0),n.enter(i)):n.leave(i,()=>{Sa(i,!1)}):Sa(i,t))},beforeUnmount(i,{value:t}){Sa(i,t)}};function Sa(i,t){i.style.display=t?i._vod:"none"}const f3=Sn({patchProp:n3},BC);let Rg;function p3(){return Rg||(Rg=bC(f3))}const g3=(...i)=>{const t=p3().createApp(...i),{mount:e}=t;return t.mount=n=>{const r=m3(n);if(!r)return;const s=t._component;!Vt(s)&&!s.render&&!s.template&&(s.template=r.innerHTML),r.innerHTML="";const o=e(r,!1,r instanceof SVGElement);return r instanceof Element&&(r.removeAttribute("v-cloak"),r.setAttribute("data-v-app","")),o},t};function m3(i){return Me(i)?document.querySelector(i):i}function xf(i){return Ux()?(Wx(i),!0):!1}var Vg;const zn=typeof window!="undefined",sl=i=>typeof i=="boolean",ld=i=>typeof i=="number",b3=i=>typeof i=="string",Sh=()=>{};zn&&((Vg=window==null?void 0:window.navigator)==null?void 0:Vg.userAgent)&&/iP(ad|hone|od)/.test(window.navigator.userAgent);function Ym(i,t){function e(...n){i(()=>t.apply(this,n),{fn:t,thisArg:this,args:n})}return e}const Km=i=>i();function v3(i,t={}){let e,n;return s=>{const o=U(i),a=U(t.maxWait);if(e&&clearTimeout(e),o<=0||a!==void 0&&a<=0)return n&&(clearTimeout(n),n=null),s();a&&!n&&(n=setTimeout(()=>{e&&clearTimeout(e),n=null,s()},a)),e=setTimeout(()=>{n&&clearTimeout(n),n=null,s()},o)}}function y3(i=Km){const t=Mt(!0);function e(){t.value=!1}function n(){t.value=!0}return{isActive:t,pause:e,resume:n,eventFilter:(...s)=>{t.value&&i(...s)}}}function x3(i,t=200,e={}){return Ym(v3(t,e),i)}function w3(i,t=200,e={}){if(t<=0)return i;const n=Mt(i.value),r=x3(()=>{n.value=i.value},t,e);return Qt(i,()=>r()),n}var Hg=Object.getOwnPropertySymbols,C3=Object.prototype.hasOwnProperty,E3=Object.prototype.propertyIsEnumerable,S3=(i,t)=>{var e={};for(var n in i)C3.call(i,n)&&t.indexOf(n)<0&&(e[n]=i[n]);if(i!=null&&Hg)for(var n of Hg(i))t.indexOf(n)<0&&E3.call(i,n)&&(e[n]=i[n]);return e};function A3(i,t,e={}){const n=e,{eventFilter:r=Km}=n,s=S3(n,["eventFilter"]);return Qt(i,Ym(r,t),s)}var M3=Object.defineProperty,O3=Object.defineProperties,T3=Object.getOwnPropertyDescriptors,zc=Object.getOwnPropertySymbols,Jm=Object.prototype.hasOwnProperty,Zm=Object.prototype.propertyIsEnumerable,Gg=(i,t,e)=>t in i?M3(i,t,{enumerable:!0,configurable:!0,writable:!0,value:e}):i[t]=e,P3=(i,t)=>{for(var e in t||(t={}))Jm.call(t,e)&&Gg(i,e,t[e]);if(zc)for(var e of zc(t))Zm.call(t,e)&&Gg(i,e,t[e]);return i},k3=(i,t)=>O3(i,T3(t)),_3=(i,t)=>{var e={};for(var n in i)Jm.call(i,n)&&t.indexOf(n)<0&&(e[n]=i[n]);if(i!=null&&zc)for(var n of zc(i))t.indexOf(n)<0&&Zm.call(i,n)&&(e[n]=i[n]);return e};function D3(i,t,e={}){const n=e,{eventFilter:r}=n,s=_3(n,["eventFilter"]),{eventFilter:o,pause:a,resume:l,isActive:c}=y3(r);return{stop:A3(i,t,k3(P3({},s),{eventFilter:o})),pause:a,resume:l,isActive:c}}function Is(i){var t;const e=U(i);return(t=e==null?void 0:e.$el)!=null?t:e}const Fo=zn?window:void 0;zn&&window.document;zn&&window.navigator;zn&&window.location;function Cc(...i){let t,e,n,r;if(b3(i[0])?([e,n,r]=i,t=Fo):[t,e,n,r]=i,!t)return Sh;let s=Sh;const o=Qt(()=>Is(t),l=>{s(),l&&(l.addEventListener(e,n,r),s=()=>{l.removeEventListener(e,n,r),s=Sh})},{immediate:!0,flush:"post"}),a=()=>{o(),s()};return xf(a),a}function N3(i,t,e={}){const{window:n=Fo,ignore:r,capture:s=!0}=e;if(!n)return;const o=Mt(!0);let a;const l=h=>{n.clearTimeout(a);const f=Is(i),p=h.composedPath();!f||f===h.target||p.includes(f)||!o.value||r&&r.length>0&&r.some(b=>{const v=Is(b);return v&&(h.target===v||p.includes(v))})||t(h)},c=[Cc(n,"click",l,{passive:!0,capture:s}),Cc(n,"pointerdown",h=>{const f=Is(i);o.value=!!f&&!h.composedPath().includes(f)},{passive:!0}),Cc(n,"pointerup",h=>{if(h.button===0){const f=h.composedPath();h.composedPath=()=>f,a=n.setTimeout(()=>l(h),50)}},{passive:!0})];return()=>c.forEach(h=>h())}const cd=typeof globalThis!="undefined"?globalThis:typeof window!="undefined"?window:typeof global!="undefined"?global:typeof self!="undefined"?self:{},ud="__vueuse_ssr_handlers__";cd[ud]=cd[ud]||{};const $3=cd[ud];function F3(i,t){return $3[i]||t}function L3(i){return i==null?"any":i instanceof Set?"set":i instanceof Map?"map":i instanceof Date?"date":typeof i=="boolean"?"boolean":typeof i=="string"?"string":typeof i=="object"||Array.isArray(i)?"object":Number.isNaN(i)?"any":"number"}const I3={boolean:{read:i=>i==="true",write:i=>String(i)},object:{read:i=>JSON.parse(i),write:i=>JSON.stringify(i)},number:{read:i=>Number.parseFloat(i),write:i=>String(i)},any:{read:i=>i,write:i=>String(i)},string:{read:i=>i,write:i=>String(i)},map:{read:i=>new Map(JSON.parse(i)),write:i=>JSON.stringify(Array.from(i.entries()))},set:{read:i=>new Set(JSON.parse(i)),write:i=>JSON.stringify(Array.from(i))},date:{read:i=>new Date(i),write:i=>i.toISOString()}};function z3(i,t,e,n={}){var r;const{flush:s="pre",deep:o=!0,listenToStorageChanges:a=!0,writeDefaults:l=!0,shallow:c,window:u=Fo,eventFilter:h,onError:f=m=>{console.error(m)}}=n,p=(c?To:Mt)(t);if(!e)try{e=F3("getDefaultStorage",()=>{var m;return(m=Fo)==null?void 0:m.localStorage})()}catch(m){f(m)}if(!e)return p;const b=U(t),v=L3(b),w=(r=n.serializer)!=null?r:I3[v],{pause:x,resume:E}=D3(p,()=>S(p.value),{flush:s,deep:o,eventFilter:h});return u&&a&&Cc(u,"storage",k),k(),p;function S(m){try{m==null?e.removeItem(i):e.setItem(i,w.write(m))}catch(T){f(T)}}function O(m){if(!(m&&m.key!==i)){x();try{const T=m?m.newValue:e.getItem(i);return T==null?(l&&b!==null&&e.setItem(i,w.write(b)),b):typeof T!="string"?T:w.read(T)}catch(T){f(T)}finally{E()}}}function k(m){m&&m.key!==i||(p.value=O(m))}}var qg=Object.getOwnPropertySymbols,j3=Object.prototype.hasOwnProperty,B3=Object.prototype.propertyIsEnumerable,R3=(i,t)=>{var e={};for(var n in i)j3.call(i,n)&&t.indexOf(n)<0&&(e[n]=i[n]);if(i!=null&&qg)for(var n of qg(i))t.indexOf(n)<0&&B3.call(i,n)&&(e[n]=i[n]);return e};function Qm(i,t,e={}){const n=e,{window:r=Fo}=n,s=R3(n,["window"]);let o;const a=r&&"ResizeObserver"in r,l=()=>{o&&(o.disconnect(),o=void 0)},c=Qt(()=>Is(i),h=>{l(),a&&r&&h&&(o=new ResizeObserver(t),o.observe(h,s))},{immediate:!0,flush:"post"}),u=()=>{l(),c()};return xf(u),{isSupported:a,stop:u}}function V3(i,t,e={}){const{window:n=Fo}=e;return z3(i,t,n==null?void 0:n.localStorage,e)}var Ug;(function(i){i.UP="UP",i.RIGHT="RIGHT",i.DOWN="DOWN",i.LEFT="LEFT",i.NONE="NONE"})(Ug||(Ug={}));var H3=typeof global=="object"&&global&&global.Object===Object&&global,tb=H3,G3=typeof self=="object"&&self&&self.Object===Object&&self,q3=tb||G3||Function("return this")(),Vi=q3,U3=Vi.Symbol,Ei=U3,eb=Object.prototype,W3=eb.hasOwnProperty,X3=eb.toString,Aa=Ei?Ei.toStringTag:void 0;function Y3(i){var t=W3.call(i,Aa),e=i[Aa];try{i[Aa]=void 0;var n=!0}catch{}var r=X3.call(i);return n&&(t?i[Aa]=e:delete i[Aa]),r}var K3=Object.prototype,J3=K3.toString;function Z3(i){return J3.call(i)}var Q3="[object Null]",tE="[object Undefined]",Wg=Ei?Ei.toStringTag:void 0;function Er(i){return i==null?i===void 0?tE:Q3:Wg&&Wg in Object(i)?Y3(i):Z3(i)}function Si(i){return i!=null&&typeof i=="object"}var eE="[object Symbol]";function yr(i){return typeof i=="symbol"||Si(i)&&Er(i)==eE}function Po(i,t){for(var e=-1,n=i==null?0:i.length,r=Array(n);++e<n;)r[e]=t(i[e],e,i);return r}var nE=Array.isArray,An=nE,iE=1/0,Xg=Ei?Ei.prototype:void 0,Yg=Xg?Xg.toString:void 0;function nb(i){if(typeof i=="string")return i;if(An(i))return Po(i,nb)+"";if(yr(i))return Yg?Yg.call(i):"";var t=i+"";return t=="0"&&1/i==-iE?"-0":t}var rE=/\s/;function sE(i){for(var t=i.length;t--&&rE.test(i.charAt(t)););return t}var oE=/^\s+/;function aE(i){return i&&i.slice(0,sE(i)+1).replace(oE,"")}function en(i){var t=typeof i;return i!=null&&(t=="object"||t=="function")}var Kg=0/0,lE=/^[-+]0x[0-9a-f]+$/i,cE=/^0b[01]+$/i,uE=/^0o[0-7]+$/i,hE=parseInt;function Ba(i){if(typeof i=="number")return i;if(yr(i))return Kg;if(en(i)){var t=typeof i.valueOf=="function"?i.valueOf():i;i=en(t)?t+"":t}if(typeof i!="string")return i===0?i:+i;i=aE(i);var e=cE.test(i);return e||uE.test(i)?hE(i.slice(2),e?2:8):lE.test(i)?Kg:+i}function kl(i){return i}var dE="[object AsyncFunction]",fE="[object Function]",pE="[object GeneratorFunction]",gE="[object Proxy]";function wf(i){if(!en(i))return!1;var t=Er(i);return t==fE||t==pE||t==dE||t==gE}var mE=Vi["__core-js_shared__"],Ah=mE,Jg=function(){var i=/[^.]+$/.exec(Ah&&Ah.keys&&Ah.keys.IE_PROTO||"");return i?"Symbol(src)_1."+i:""}();function bE(i){return!!Jg&&Jg in i}var vE=Function.prototype,yE=vE.toString;function to(i){if(i!=null){try{return yE.call(i)}catch{}try{return i+""}catch{}}return""}var xE=/[\\^$.*+?()[\]{}|]/g,wE=/^\[object .+?Constructor\]$/,CE=Function.prototype,EE=Object.prototype,SE=CE.toString,AE=EE.hasOwnProperty,ME=RegExp("^"+SE.call(AE).replace(xE,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");function OE(i){if(!en(i)||bE(i))return!1;var t=wf(i)?ME:wE;return t.test(to(i))}function TE(i,t){return i==null?void 0:i[t]}function eo(i,t){var e=TE(i,t);return OE(e)?e:void 0}var PE=eo(Vi,"WeakMap"),hd=PE,Zg=Object.create,kE=function(){function i(){}return function(t){if(!en(t))return{};if(Zg)return Zg(t);i.prototype=t;var e=new i;return i.prototype=void 0,e}}(),_E=kE;function Cf(i,t,e){switch(e.length){case 0:return i.call(t);case 1:return i.call(t,e[0]);case 2:return i.call(t,e[0],e[1]);case 3:return i.call(t,e[0],e[1],e[2])}return i.apply(t,e)}function DE(){}function ib(i,t){var e=-1,n=i.length;for(t||(t=Array(n));++e<n;)t[e]=i[e];return t}var NE=800,$E=16,FE=Date.now;function LE(i){var t=0,e=0;return function(){var n=FE(),r=$E-(n-e);if(e=n,r>0){if(++t>=NE)return arguments[0]}else t=0;return i.apply(void 0,arguments)}}function IE(i){return function(){return i}}var zE=function(){try{var i=eo(Object,"defineProperty");return i({},"",{}),i}catch{}}(),jc=zE,jE=jc?function(i,t){return jc(i,"toString",{configurable:!0,enumerable:!1,value:IE(t),writable:!0})}:kl,BE=jE,RE=LE(BE),rb=RE;function VE(i,t){for(var e=-1,n=i==null?0:i.length;++e<n&&t(i[e],e,i)!==!1;);return i}function HE(i,t,e,n){for(var r=i.length,s=e+(n?1:-1);n?s--:++s<r;)if(t(i[s],s,i))return s;return-1}function GE(i){return i!==i}function qE(i,t,e){for(var n=e-1,r=i.length;++n<r;)if(i[n]===t)return n;return-1}function UE(i,t,e){return t===t?qE(i,t,e):HE(i,GE,e)}function sb(i,t){var e=i==null?0:i.length;return!!e&&UE(i,t,0)>-1}var WE=9007199254740991,XE=/^(?:0|[1-9]\d*)$/;function Su(i,t){var e=typeof i;return t=t==null?WE:t,!!t&&(e=="number"||e!="symbol"&&XE.test(i))&&i>-1&&i%1==0&&i<t}function Au(i,t,e){t=="__proto__"&&jc?jc(i,t,{configurable:!0,enumerable:!0,value:e,writable:!0}):i[t]=e}function no(i,t){return i===t||i!==i&&t!==t}var YE=Object.prototype,KE=YE.hasOwnProperty;function Ef(i,t,e){var n=i[t];(!(KE.call(i,t)&&no(n,e))||e===void 0&&!(t in i))&&Au(i,t,e)}function ca(i,t,e,n){var r=!e;e||(e={});for(var s=-1,o=t.length;++s<o;){var a=t[s],l=n?n(e[a],i[a],a,e,i):void 0;l===void 0&&(l=i[a]),r?Au(e,a,l):Ef(e,a,l)}return e}var Qg=Math.max;function ob(i,t,e){return t=Qg(t===void 0?i.length-1:t,0),function(){for(var n=arguments,r=-1,s=Qg(n.length-t,0),o=Array(s);++r<s;)o[r]=n[t+r];r=-1;for(var a=Array(t+1);++r<t;)a[r]=n[r];return a[t]=e(o),Cf(i,this,a)}}function ns(i,t){return rb(ob(i,t,kl),i+"")}var JE=9007199254740991;function Sf(i){return typeof i=="number"&&i>-1&&i%1==0&&i<=JE}function io(i){return i!=null&&Sf(i.length)&&!wf(i)}function ol(i,t,e){if(!en(e))return!1;var n=typeof t;return(n=="number"?io(e)&&Su(t,e.length):n=="string"&&t in e)?no(e[t],i):!1}function Af(i){return ns(function(t,e){var n=-1,r=e.length,s=r>1?e[r-1]:void 0,o=r>2?e[2]:void 0;for(s=i.length>3&&typeof s=="function"?(r--,s):void 0,o&&ol(e[0],e[1],o)&&(s=r<3?void 0:s,r=1),t=Object(t);++n<r;){var a=e[n];a&&i(t,a,n,s)}return t})}var ZE=Object.prototype;function Mu(i){var t=i&&i.constructor,e=typeof t=="function"&&t.prototype||ZE;return i===e}function QE(i,t){for(var e=-1,n=Array(i);++e<i;)n[e]=t(e);return n}var tS="[object Arguments]";function t0(i){return Si(i)&&Er(i)==tS}var ab=Object.prototype,eS=ab.hasOwnProperty,nS=ab.propertyIsEnumerable,iS=t0(function(){return arguments}())?t0:function(i){return Si(i)&&eS.call(i,"callee")&&!nS.call(i,"callee")},Lo=iS;function rS(){return!1}var lb=typeof ci=="object"&&ci&&!ci.nodeType&&ci,e0=lb&&typeof ui=="object"&&ui&&!ui.nodeType&&ui,sS=e0&&e0.exports===lb,n0=sS?Vi.Buffer:void 0,oS=n0?n0.isBuffer:void 0,aS=oS||rS,Io=aS,lS="[object Arguments]",cS="[object Array]",uS="[object Boolean]",hS="[object Date]",dS="[object Error]",fS="[object Function]",pS="[object Map]",gS="[object Number]",mS="[object Object]",bS="[object RegExp]",vS="[object Set]",yS="[object String]",xS="[object WeakMap]",wS="[object ArrayBuffer]",CS="[object DataView]",ES="[object Float32Array]",SS="[object Float64Array]",AS="[object Int8Array]",MS="[object Int16Array]",OS="[object Int32Array]",TS="[object Uint8Array]",PS="[object Uint8ClampedArray]",kS="[object Uint16Array]",_S="[object Uint32Array]",je={};je[ES]=je[SS]=je[AS]=je[MS]=je[OS]=je[TS]=je[PS]=je[kS]=je[_S]=!0;je[lS]=je[cS]=je[wS]=je[uS]=je[CS]=je[hS]=je[dS]=je[fS]=je[pS]=je[gS]=je[mS]=je[bS]=je[vS]=je[yS]=je[xS]=!1;function DS(i){return Si(i)&&Sf(i.length)&&!!je[Er(i)]}function _l(i){return function(t){return i(t)}}var cb=typeof ci=="object"&&ci&&!ci.nodeType&&ci,Ra=cb&&typeof ui=="object"&&ui&&!ui.nodeType&&ui,NS=Ra&&Ra.exports===cb,Mh=NS&&tb.process,$S=function(){try{var i=Ra&&Ra.require&&Ra.require("util").types;return i||Mh&&Mh.binding&&Mh.binding("util")}catch{}}(),zo=$S,i0=zo&&zo.isTypedArray,FS=i0?_l(i0):DS,Ou=FS,LS=Object.prototype,IS=LS.hasOwnProperty;function ub(i,t){var e=An(i),n=!e&&Lo(i),r=!e&&!n&&Io(i),s=!e&&!n&&!r&&Ou(i),o=e||n||r||s,a=o?QE(i.length,String):[],l=a.length;for(var c in i)(t||IS.call(i,c))&&!(o&&(c=="length"||r&&(c=="offset"||c=="parent")||s&&(c=="buffer"||c=="byteLength"||c=="byteOffset")||Su(c,l)))&&a.push(c);return a}function hb(i,t){return function(e){return i(t(e))}}var zS=hb(Object.keys,Object),jS=zS,BS=Object.prototype,RS=BS.hasOwnProperty;function db(i){if(!Mu(i))return jS(i);var t=[];for(var e in Object(i))RS.call(i,e)&&e!="constructor"&&t.push(e);return t}function ua(i){return io(i)?ub(i):db(i)}function VS(i){var t=[];if(i!=null)for(var e in Object(i))t.push(e);return t}var HS=Object.prototype,GS=HS.hasOwnProperty;function qS(i){if(!en(i))return VS(i);var t=Mu(i),e=[];for(var n in i)n=="constructor"&&(t||!GS.call(i,n))||e.push(n);return e}function ro(i){return io(i)?ub(i,!0):qS(i)}var US=Af(function(i,t,e,n){ca(t,ro(t),i,n)}),r0=US,WS=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,XS=/^\w*$/;function Mf(i,t){if(An(i))return!1;var e=typeof i;return e=="number"||e=="symbol"||e=="boolean"||i==null||yr(i)?!0:XS.test(i)||!WS.test(i)||t!=null&&i in Object(t)}var YS=eo(Object,"create"),al=YS;function KS(){this.__data__=al?al(null):{},this.size=0}function JS(i){var t=this.has(i)&&delete this.__data__[i];return this.size-=t?1:0,t}var ZS="__lodash_hash_undefined__",QS=Object.prototype,tA=QS.hasOwnProperty;function eA(i){var t=this.__data__;if(al){var e=t[i];return e===ZS?void 0:e}return tA.call(t,i)?t[i]:void 0}var nA=Object.prototype,iA=nA.hasOwnProperty;function rA(i){var t=this.__data__;return al?t[i]!==void 0:iA.call(t,i)}var sA="__lodash_hash_undefined__";function oA(i,t){var e=this.__data__;return this.size+=this.has(i)?0:1,e[i]=al&&t===void 0?sA:t,this}function Rs(i){var t=-1,e=i==null?0:i.length;for(this.clear();++t<e;){var n=i[t];this.set(n[0],n[1])}}Rs.prototype.clear=KS;Rs.prototype.delete=JS;Rs.prototype.get=eA;Rs.prototype.has=rA;Rs.prototype.set=oA;function aA(){this.__data__=[],this.size=0}function Tu(i,t){for(var e=i.length;e--;)if(no(i[e][0],t))return e;return-1}var lA=Array.prototype,cA=lA.splice;function uA(i){var t=this.__data__,e=Tu(t,i);if(e<0)return!1;var n=t.length-1;return e==n?t.pop():cA.call(t,e,1),--this.size,!0}function hA(i){var t=this.__data__,e=Tu(t,i);return e<0?void 0:t[e][1]}function dA(i){return Tu(this.__data__,i)>-1}function fA(i,t){var e=this.__data__,n=Tu(e,i);return n<0?(++this.size,e.push([i,t])):e[n][1]=t,this}function Sr(i){var t=-1,e=i==null?0:i.length;for(this.clear();++t<e;){var n=i[t];this.set(n[0],n[1])}}Sr.prototype.clear=aA;Sr.prototype.delete=uA;Sr.prototype.get=hA;Sr.prototype.has=dA;Sr.prototype.set=fA;var pA=eo(Vi,"Map"),ll=pA;function gA(){this.size=0,this.__data__={hash:new Rs,map:new(ll||Sr),string:new Rs}}function mA(i){var t=typeof i;return t=="string"||t=="number"||t=="symbol"||t=="boolean"?i!=="__proto__":i===null}function Pu(i,t){var e=i.__data__;return mA(t)?e[typeof t=="string"?"string":"hash"]:e.map}function bA(i){var t=Pu(this,i).delete(i);return this.size-=t?1:0,t}function vA(i){return Pu(this,i).get(i)}function yA(i){return Pu(this,i).has(i)}function xA(i,t){var e=Pu(this,i),n=e.size;return e.set(i,t),this.size+=e.size==n?0:1,this}function Ar(i){var t=-1,e=i==null?0:i.length;for(this.clear();++t<e;){var n=i[t];this.set(n[0],n[1])}}Ar.prototype.clear=gA;Ar.prototype.delete=bA;Ar.prototype.get=vA;Ar.prototype.has=yA;Ar.prototype.set=xA;var wA="Expected a function";function Of(i,t){if(typeof i!="function"||t!=null&&typeof t!="function")throw new TypeError(wA);var e=function(){var n=arguments,r=t?t.apply(this,n):n[0],s=e.cache;if(s.has(r))return s.get(r);var o=i.apply(this,n);return e.cache=s.set(r,o)||s,o};return e.cache=new(Of.Cache||Ar),e}Of.Cache=Ar;var CA=500;function EA(i){var t=Of(i,function(n){return e.size===CA&&e.clear(),n}),e=t.cache;return t}var SA=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,AA=/\\(\\)?/g,MA=EA(function(i){var t=[];return i.charCodeAt(0)===46&&t.push(""),i.replace(SA,function(e,n,r,s){t.push(r?s.replace(AA,"$1"):n||e)}),t}),OA=MA;function is(i){return i==null?"":nb(i)}function ku(i,t){return An(i)?i:Mf(i,t)?[i]:OA(is(i))}var TA=1/0;function Dl(i){if(typeof i=="string"||yr(i))return i;var t=i+"";return t=="0"&&1/i==-TA?"-0":t}function _u(i,t){t=ku(t,i);for(var e=0,n=t.length;i!=null&&e<n;)i=i[Dl(t[e++])];return e&&e==n?i:void 0}function Tf(i,t,e){var n=i==null?void 0:_u(i,t);return n===void 0?e:n}function Pf(i,t){for(var e=-1,n=t.length,r=i.length;++e<n;)i[r+e]=t[e];return i}var s0=Ei?Ei.isConcatSpreadable:void 0;function PA(i){return An(i)||Lo(i)||!!(s0&&i&&i[s0])}function Nl(i,t,e,n,r){var s=-1,o=i.length;for(e||(e=PA),r||(r=[]);++s<o;){var a=i[s];t>0&&e(a)?t>1?Nl(a,t-1,e,n,r):Pf(r,a):n||(r[r.length]=a)}return r}function kA(i){var t=i==null?0:i.length;return t?Nl(i,1):[]}function _A(i){return rb(ob(i,void 0,kA),i+"")}var DA=hb(Object.getPrototypeOf,Object),kf=DA,NA="[object Object]",$A=Function.prototype,FA=Object.prototype,fb=$A.toString,LA=FA.hasOwnProperty,IA=fb.call(Object);function fi(i){if(!Si(i)||Er(i)!=NA)return!1;var t=kf(i);if(t===null)return!0;var e=LA.call(t,"constructor")&&t.constructor;return typeof e=="function"&&e instanceof e&&fb.call(e)==IA}var zA="[object DOMException]",jA="[object Error]";function pb(i){if(!Si(i))return!1;var t=Er(i);return t==jA||t==zA||typeof i.message=="string"&&typeof i.name=="string"&&!fi(i)}var BA=ns(function(i,t){try{return Cf(i,void 0,t)}catch(e){return pb(e)?e:new Error(e)}}),RA=BA;function VA(i,t,e){var n=-1,r=i.length;t<0&&(t=-t>r?0:r+t),e=e>r?r:e,e<0&&(e+=r),r=t>e?0:e-t>>>0,t>>>=0;for(var s=Array(r);++n<r;)s[n]=i[n+t];return s}function HA(i,t,e){var n=i.length;return e=e===void 0?n:e,!t&&e>=n?i:VA(i,t,e)}var GA="\\ud800-\\udfff",qA="\\u0300-\\u036f",UA="\\ufe20-\\ufe2f",WA="\\u20d0-\\u20ff",XA=qA+UA+WA,YA="\\ufe0e\\ufe0f",KA="\\u200d",JA=RegExp("["+KA+GA+XA+YA+"]");function gb(i){return JA.test(i)}function ZA(i){return i.split("")}var mb="\\ud800-\\udfff",QA="\\u0300-\\u036f",tM="\\ufe20-\\ufe2f",eM="\\u20d0-\\u20ff",nM=QA+tM+eM,iM="\\ufe0e\\ufe0f",rM="["+mb+"]",dd="["+nM+"]",fd="\\ud83c[\\udffb-\\udfff]",sM="(?:"+dd+"|"+fd+")",bb="[^"+mb+"]",vb="(?:\\ud83c[\\udde6-\\uddff]){2}",yb="[\\ud800-\\udbff][\\udc00-\\udfff]",oM="\\u200d",xb=sM+"?",wb="["+iM+"]?",aM="(?:"+oM+"(?:"+[bb,vb,yb].join("|")+")"+wb+xb+")*",lM=wb+xb+aM,cM="(?:"+[bb+dd+"?",dd,vb,yb,rM].join("|")+")",uM=RegExp(fd+"(?="+fd+")|"+cM+lM,"g");function hM(i){return i.match(uM)||[]}function dM(i){return gb(i)?hM(i):ZA(i)}function Cb(i){return function(t){t=is(t);var e=gb(t)?dM(t):void 0,n=e?e[0]:t.charAt(0),r=e?HA(e,1).join(""):t.slice(1);return n[i]()+r}}var fM=Cb("toUpperCase"),Bc=fM;function pM(i){return Bc(is(i).toLowerCase())}function gM(i,t,e,n){var r=-1,s=i==null?0:i.length;for(n&&s&&(e=i[++r]);++r<s;)e=t(e,i[r],r,i);return e}function Eb(i){return function(t){return i==null?void 0:i[t]}}var mM={\u00C0:"A",\u00C1:"A",\u00C2:"A",\u00C3:"A",\u00C4:"A",\u00C5:"A",\u00E0:"a",\u00E1:"a",\u00E2:"a",\u00E3:"a",\u00E4:"a",\u00E5:"a",\u00C7:"C",\u00E7:"c",\u00D0:"D",\u00F0:"d",\u00C8:"E",\u00C9:"E",\u00CA:"E",\u00CB:"E",\u00E8:"e",\u00E9:"e",\u00EA:"e",\u00EB:"e",\u00CC:"I",\u00CD:"I",\u00CE:"I",\u00CF:"I",\u00EC:"i",\u00ED:"i",\u00EE:"i",\u00EF:"i",\u00D1:"N",\u00F1:"n",\u00D2:"O",\u00D3:"O",\u00D4:"O",\u00D5:"O",\u00D6:"O",\u00D8:"O",\u00F2:"o",\u00F3:"o",\u00F4:"o",\u00F5:"o",\u00F6:"o",\u00F8:"o",\u00D9:"U",\u00DA:"U",\u00DB:"U",\u00DC:"U",\u00F9:"u",\u00FA:"u",\u00FB:"u",\u00FC:"u",\u00DD:"Y",\u00FD:"y",\u00FF:"y",\u00C6:"Ae",\u00E6:"ae",\u00DE:"Th",\u00FE:"th",\u00DF:"ss",\u0100:"A",\u0102:"A",\u0104:"A",\u0101:"a",\u0103:"a",\u0105:"a",\u0106:"C",\u0108:"C",\u010A:"C",\u010C:"C",\u0107:"c",\u0109:"c",\u010B:"c",\u010D:"c",\u010E:"D",\u0110:"D",\u010F:"d",\u0111:"d",\u0112:"E",\u0114:"E",\u0116:"E",\u0118:"E",\u011A:"E",\u0113:"e",\u0115:"e",\u0117:"e",\u0119:"e",\u011B:"e",\u011C:"G",\u011E:"G",\u0120:"G",\u0122:"G",\u011D:"g",\u011F:"g",\u0121:"g",\u0123:"g",\u0124:"H",\u0126:"H",\u0125:"h",\u0127:"h",\u0128:"I",\u012A:"I",\u012C:"I",\u012E:"I",\u0130:"I",\u0129:"i",\u012B:"i",\u012D:"i",\u012F:"i",\u0131:"i",\u0134:"J",\u0135:"j",\u0136:"K",\u0137:"k",\u0138:"k",\u0139:"L",\u013B:"L",\u013D:"L",\u013F:"L",\u0141:"L",\u013A:"l",\u013C:"l",\u013E:"l",\u0140:"l",\u0142:"l",\u0143:"N",\u0145:"N",\u0147:"N",\u014A:"N",\u0144:"n",\u0146:"n",\u0148:"n",\u014B:"n",\u014C:"O",\u014E:"O",\u0150:"O",\u014D:"o",\u014F:"o",\u0151:"o",\u0154:"R",\u0156:"R",\u0158:"R",\u0155:"r",\u0157:"r",\u0159:"r",\u015A:"S",\u015C:"S",\u015E:"S",\u0160:"S",\u015B:"s",\u015D:"s",\u015F:"s",\u0161:"s",\u0162:"T",\u0164:"T",\u0166:"T",\u0163:"t",\u0165:"t",\u0167:"t",\u0168:"U",\u016A:"U",\u016C:"U",\u016E:"U",\u0170:"U",\u0172:"U",\u0169:"u",\u016B:"u",\u016D:"u",\u016F:"u",\u0171:"u",\u0173:"u",\u0174:"W",\u0175:"w",\u0176:"Y",\u0177:"y",\u0178:"Y",\u0179:"Z",\u017B:"Z",\u017D:"Z",\u017A:"z",\u017C:"z",\u017E:"z",\u0132:"IJ",\u0133:"ij",\u0152:"Oe",\u0153:"oe",\u0149:"'n",\u017F:"s"},bM=Eb(mM),vM=bM,yM=/[\xc0-\xd6\xd8-\xf6\xf8-\xff\u0100-\u017f]/g,xM="\\u0300-\\u036f",wM="\\ufe20-\\ufe2f",CM="\\u20d0-\\u20ff",EM=xM+wM+CM,SM="["+EM+"]",AM=RegExp(SM,"g");function MM(i){return i=is(i),i&&i.replace(yM,vM).replace(AM,"")}var OM=/[^\x00-\x2f\x3a-\x40\x5b-\x60\x7b-\x7f]+/g;function TM(i){return i.match(OM)||[]}var PM=/[a-z][A-Z]|[A-Z]{2}[a-z]|[0-9][a-zA-Z]|[a-zA-Z][0-9]|[^a-zA-Z0-9 ]/;function kM(i){return PM.test(i)}var Sb="\\ud800-\\udfff",_M="\\u0300-\\u036f",DM="\\ufe20-\\ufe2f",NM="\\u20d0-\\u20ff",$M=_M+DM+NM,Ab="\\u2700-\\u27bf",Mb="a-z\\xdf-\\xf6\\xf8-\\xff",FM="\\xac\\xb1\\xd7\\xf7",LM="\\x00-\\x2f\\x3a-\\x40\\x5b-\\x60\\x7b-\\xbf",IM="\\u2000-\\u206f",zM=" \\t\\x0b\\f\\xa0\\ufeff\\n\\r\\u2028\\u2029\\u1680\\u180e\\u2000\\u2001\\u2002\\u2003\\u2004\\u2005\\u2006\\u2007\\u2008\\u2009\\u200a\\u202f\\u205f\\u3000",Ob="A-Z\\xc0-\\xd6\\xd8-\\xde",jM="\\ufe0e\\ufe0f",Tb=FM+LM+IM+zM,Pb="['\u2019]",o0="["+Tb+"]",BM="["+$M+"]",kb="\\d+",RM="["+Ab+"]",_b="["+Mb+"]",Db="[^"+Sb+Tb+kb+Ab+Mb+Ob+"]",VM="\\ud83c[\\udffb-\\udfff]",HM="(?:"+BM+"|"+VM+")",GM="[^"+Sb+"]",Nb="(?:\\ud83c[\\udde6-\\uddff]){2}",$b="[\\ud800-\\udbff][\\udc00-\\udfff]",Eo="["+Ob+"]",qM="\\u200d",a0="(?:"+_b+"|"+Db+")",UM="(?:"+Eo+"|"+Db+")",l0="(?:"+Pb+"(?:d|ll|m|re|s|t|ve))?",c0="(?:"+Pb+"(?:D|LL|M|RE|S|T|VE))?",Fb=HM+"?",Lb="["+jM+"]?",WM="(?:"+qM+"(?:"+[GM,Nb,$b].join("|")+")"+Lb+Fb+")*",XM="\\d*(?:1st|2nd|3rd|(?![123])\\dth)(?=\\b|[A-Z_])",YM="\\d*(?:1ST|2ND|3RD|(?![123])\\dTH)(?=\\b|[a-z_])",KM=Lb+Fb+WM,JM="(?:"+[RM,Nb,$b].join("|")+")"+KM,ZM=RegExp([Eo+"?"+_b+"+"+l0+"(?="+[o0,Eo,"$"].join("|")+")",UM+"+"+c0+"(?="+[o0,Eo+a0,"$"].join("|")+")",Eo+"?"+a0+"+"+l0,Eo+"+"+c0,YM,XM,kb,JM].join("|"),"g");function QM(i){return i.match(ZM)||[]}function tO(i,t,e){return i=is(i),t=e?void 0:t,t===void 0?kM(i)?QM(i):TM(i):i.match(t)||[]}var eO="['\u2019]",nO=RegExp(eO,"g");function Ib(i){return function(t){return gM(tO(MM(t).replace(nO,"")),i,"")}}var iO=Ib(function(i,t,e){return t=t.toLowerCase(),i+(e?pM(t):t)}),_f=iO;function pd(){if(!arguments.length)return[];var i=arguments[0];return An(i)?i:[i]}function rO(i,t,e){return i===i&&(e!==void 0&&(i=i<=e?i:e),t!==void 0&&(i=i>=t?i:t)),i}function In(i,t,e){return e===void 0&&(e=t,t=void 0),e!==void 0&&(e=Ba(e),e=e===e?e:0),t!==void 0&&(t=Ba(t),t=t===t?t:0),rO(Ba(i),t,e)}function sO(){this.__data__=new Sr,this.size=0}function oO(i){var t=this.__data__,e=t.delete(i);return this.size=t.size,e}function aO(i){return this.__data__.get(i)}function lO(i){return this.__data__.has(i)}var cO=200;function uO(i,t){var e=this.__data__;if(e instanceof Sr){var n=e.__data__;if(!ll||n.length<cO-1)return n.push([i,t]),this.size=++e.size,this;e=this.__data__=new Ar(n)}return e.set(i,t),this.size=e.size,this}function Li(i){var t=this.__data__=new Sr(i);this.size=t.size}Li.prototype.clear=sO;Li.prototype.delete=oO;Li.prototype.get=aO;Li.prototype.has=lO;Li.prototype.set=uO;function hO(i,t){return i&&ca(t,ua(t),i)}function dO(i,t){return i&&ca(t,ro(t),i)}var zb=typeof ci=="object"&&ci&&!ci.nodeType&&ci,u0=zb&&typeof ui=="object"&&ui&&!ui.nodeType&&ui,fO=u0&&u0.exports===zb,h0=fO?Vi.Buffer:void 0,d0=h0?h0.allocUnsafe:void 0;function jb(i,t){if(t)return i.slice();var e=i.length,n=d0?d0(e):new i.constructor(e);return i.copy(n),n}function pO(i,t){for(var e=-1,n=i==null?0:i.length,r=0,s=[];++e<n;){var o=i[e];t(o,e,i)&&(s[r++]=o)}return s}function Bb(){return[]}var gO=Object.prototype,mO=gO.propertyIsEnumerable,f0=Object.getOwnPropertySymbols,bO=f0?function(i){return i==null?[]:(i=Object(i),pO(f0(i),function(t){return mO.call(i,t)}))}:Bb,Df=bO;function vO(i,t){return ca(i,Df(i),t)}var yO=Object.getOwnPropertySymbols,xO=yO?function(i){for(var t=[];i;)Pf(t,Df(i)),i=kf(i);return t}:Bb,Rb=xO;function wO(i,t){return ca(i,Rb(i),t)}function Vb(i,t,e){var n=t(i);return An(i)?n:Pf(n,e(i))}function gd(i){return Vb(i,ua,Df)}function CO(i){return Vb(i,ro,Rb)}var EO=eo(Vi,"DataView"),md=EO,SO=eo(Vi,"Promise"),bd=SO,AO=eo(Vi,"Set"),ko=AO,p0="[object Map]",MO="[object Object]",g0="[object Promise]",m0="[object Set]",b0="[object WeakMap]",v0="[object DataView]",OO=to(md),TO=to(ll),PO=to(bd),kO=to(ko),_O=to(hd),Es=Er;(md&&Es(new md(new ArrayBuffer(1)))!=v0||ll&&Es(new ll)!=p0||bd&&Es(bd.resolve())!=g0||ko&&Es(new ko)!=m0||hd&&Es(new hd)!=b0)&&(Es=function(i){var t=Er(i),e=t==MO?i.constructor:void 0,n=e?to(e):"";if(n)switch(n){case OO:return v0;case TO:return p0;case PO:return g0;case kO:return m0;case _O:return b0}return t});var jo=Es,DO=Object.prototype,NO=DO.hasOwnProperty;function $O(i){var t=i.length,e=new i.constructor(t);return t&&typeof i[0]=="string"&&NO.call(i,"index")&&(e.index=i.index,e.input=i.input),e}var FO=Vi.Uint8Array,Rc=FO;function Nf(i){var t=new i.constructor(i.byteLength);return new Rc(t).set(new Rc(i)),t}function LO(i,t){var e=t?Nf(i.buffer):i.buffer;return new i.constructor(e,i.byteOffset,i.byteLength)}var IO=/\w*$/;function zO(i){var t=new i.constructor(i.source,IO.exec(i));return t.lastIndex=i.lastIndex,t}var y0=Ei?Ei.prototype:void 0,x0=y0?y0.valueOf:void 0;function jO(i){return x0?Object(x0.call(i)):{}}function Hb(i,t){var e=t?Nf(i.buffer):i.buffer;return new i.constructor(e,i.byteOffset,i.length)}var BO="[object Boolean]",RO="[object Date]",VO="[object Map]",HO="[object Number]",GO="[object RegExp]",qO="[object Set]",UO="[object String]",WO="[object Symbol]",XO="[object ArrayBuffer]",YO="[object DataView]",KO="[object Float32Array]",JO="[object Float64Array]",ZO="[object Int8Array]",QO="[object Int16Array]",tT="[object Int32Array]",eT="[object Uint8Array]",nT="[object Uint8ClampedArray]",iT="[object Uint16Array]",rT="[object Uint32Array]";function sT(i,t,e){var n=i.constructor;switch(t){case XO:return Nf(i);case BO:case RO:return new n(+i);case YO:return LO(i,e);case KO:case JO:case ZO:case QO:case tT:case eT:case nT:case iT:case rT:return Hb(i,e);case VO:return new n;case HO:case UO:return new n(i);case GO:return zO(i);case qO:return new n;case WO:return jO(i)}}function Gb(i){return typeof i.constructor=="function"&&!Mu(i)?_E(kf(i)):{}}var oT="[object Map]";function aT(i){return Si(i)&&jo(i)==oT}var w0=zo&&zo.isMap,lT=w0?_l(w0):aT,cT=lT,uT="[object Set]";function hT(i){return Si(i)&&jo(i)==uT}var C0=zo&&zo.isSet,dT=C0?_l(C0):hT,fT=dT,pT=1,gT=2,mT=4,qb="[object Arguments]",bT="[object Array]",vT="[object Boolean]",yT="[object Date]",xT="[object Error]",Ub="[object Function]",wT="[object GeneratorFunction]",CT="[object Map]",ET="[object Number]",Wb="[object Object]",ST="[object RegExp]",AT="[object Set]",MT="[object String]",OT="[object Symbol]",TT="[object WeakMap]",PT="[object ArrayBuffer]",kT="[object DataView]",_T="[object Float32Array]",DT="[object Float64Array]",NT="[object Int8Array]",$T="[object Int16Array]",FT="[object Int32Array]",LT="[object Uint8Array]",IT="[object Uint8ClampedArray]",zT="[object Uint16Array]",jT="[object Uint32Array]",Fe={};Fe[qb]=Fe[bT]=Fe[PT]=Fe[kT]=Fe[vT]=Fe[yT]=Fe[_T]=Fe[DT]=Fe[NT]=Fe[$T]=Fe[FT]=Fe[CT]=Fe[ET]=Fe[Wb]=Fe[ST]=Fe[AT]=Fe[MT]=Fe[OT]=Fe[LT]=Fe[IT]=Fe[zT]=Fe[jT]=!0;Fe[xT]=Fe[Ub]=Fe[TT]=!1;function Va(i,t,e,n,r,s){var o,a=t&pT,l=t&gT,c=t&mT;if(e&&(o=r?e(i,n,r,s):e(i)),o!==void 0)return o;if(!en(i))return i;var u=An(i);if(u){if(o=$O(i),!a)return ib(i,o)}else{var h=jo(i),f=h==Ub||h==wT;if(Io(i))return jb(i,a);if(h==Wb||h==qb||f&&!r){if(o=l||f?{}:Gb(i),!a)return l?wO(i,dO(o,i)):vO(i,hO(o,i))}else{if(!Fe[h])return r?i:{};o=sT(i,h,a)}}s||(s=new Li);var p=s.get(i);if(p)return p;s.set(i,o),fT(i)?i.forEach(function(w){o.add(Va(w,t,e,w,i,s))}):cT(i)&&i.forEach(function(w,x){o.set(x,Va(w,t,e,x,i,s))});var b=c?l?CO:gd:l?ro:ua,v=u?void 0:b(i);return VE(v||i,function(w,x){v&&(x=w,w=i[x]),Ef(o,x,Va(w,t,e,x,i,s))}),o}var BT=4;function Vs(i){return Va(i,BT)}var RT=1,VT=4;function Xe(i){return Va(i,RT|VT)}var HT="__lodash_hash_undefined__";function GT(i){return this.__data__.set(i,HT),this}function qT(i){return this.__data__.has(i)}function Bo(i){var t=-1,e=i==null?0:i.length;for(this.__data__=new Ar;++t<e;)this.add(i[t])}Bo.prototype.add=Bo.prototype.push=GT;Bo.prototype.has=qT;function UT(i,t){for(var e=-1,n=i==null?0:i.length;++e<n;)if(t(i[e],e,i))return!0;return!1}function $f(i,t){return i.has(t)}var WT=1,XT=2;function Xb(i,t,e,n,r,s){var o=e&WT,a=i.length,l=t.length;if(a!=l&&!(o&&l>a))return!1;var c=s.get(i),u=s.get(t);if(c&&u)return c==t&&u==i;var h=-1,f=!0,p=e&XT?new Bo:void 0;for(s.set(i,t),s.set(t,i);++h<a;){var b=i[h],v=t[h];if(n)var w=o?n(v,b,h,t,i,s):n(b,v,h,i,t,s);if(w!==void 0){if(w)continue;f=!1;break}if(p){if(!UT(t,function(x,E){if(!$f(p,E)&&(b===x||r(b,x,e,n,s)))return p.push(E)})){f=!1;break}}else if(!(b===v||r(b,v,e,n,s))){f=!1;break}}return s.delete(i),s.delete(t),f}function YT(i){var t=-1,e=Array(i.size);return i.forEach(function(n,r){e[++t]=[r,n]}),e}function Ff(i){var t=-1,e=Array(i.size);return i.forEach(function(n){e[++t]=n}),e}var KT=1,JT=2,ZT="[object Boolean]",QT="[object Date]",t6="[object Error]",e6="[object Map]",n6="[object Number]",i6="[object RegExp]",r6="[object Set]",s6="[object String]",o6="[object Symbol]",a6="[object ArrayBuffer]",l6="[object DataView]",E0=Ei?Ei.prototype:void 0,Oh=E0?E0.valueOf:void 0;function c6(i,t,e,n,r,s,o){switch(e){case l6:if(i.byteLength!=t.byteLength||i.byteOffset!=t.byteOffset)return!1;i=i.buffer,t=t.buffer;case a6:return!(i.byteLength!=t.byteLength||!s(new Rc(i),new Rc(t)));case ZT:case QT:case n6:return no(+i,+t);case t6:return i.name==t.name&&i.message==t.message;case i6:case s6:return i==t+"";case e6:var a=YT;case r6:var l=n&KT;if(a||(a=Ff),i.size!=t.size&&!l)return!1;var c=o.get(i);if(c)return c==t;n|=JT,o.set(i,t);var u=Xb(a(i),a(t),n,r,s,o);return o.delete(i),u;case o6:if(Oh)return Oh.call(i)==Oh.call(t)}return!1}var u6=1,h6=Object.prototype,d6=h6.hasOwnProperty;function f6(i,t,e,n,r,s){var o=e&u6,a=gd(i),l=a.length,c=gd(t),u=c.length;if(l!=u&&!o)return!1;for(var h=l;h--;){var f=a[h];if(!(o?f in t:d6.call(t,f)))return!1}var p=s.get(i),b=s.get(t);if(p&&b)return p==t&&b==i;var v=!0;s.set(i,t),s.set(t,i);for(var w=o;++h<l;){f=a[h];var x=i[f],E=t[f];if(n)var S=o?n(E,x,f,t,i,s):n(x,E,f,i,t,s);if(!(S===void 0?x===E||r(x,E,e,n,s):S)){v=!1;break}w||(w=f=="constructor")}if(v&&!w){var O=i.constructor,k=t.constructor;O!=k&&"constructor"in i&&"constructor"in t&&!(typeof O=="function"&&O instanceof O&&typeof k=="function"&&k instanceof k)&&(v=!1)}return s.delete(i),s.delete(t),v}var p6=1,S0="[object Arguments]",A0="[object Array]",oc="[object Object]",g6=Object.prototype,M0=g6.hasOwnProperty;function m6(i,t,e,n,r,s){var o=An(i),a=An(t),l=o?A0:jo(i),c=a?A0:jo(t);l=l==S0?oc:l,c=c==S0?oc:c;var u=l==oc,h=c==oc,f=l==c;if(f&&Io(i)){if(!Io(t))return!1;o=!0,u=!1}if(f&&!u)return s||(s=new Li),o||Ou(i)?Xb(i,t,e,n,r,s):c6(i,t,l,e,n,r,s);if(!(e&p6)){var p=u&&M0.call(i,"__wrapped__"),b=h&&M0.call(t,"__wrapped__");if(p||b){var v=p?i.value():i,w=b?t.value():t;return s||(s=new Li),r(v,w,e,n,s)}}return f?(s||(s=new Li),f6(i,t,e,n,r,s)):!1}function Du(i,t,e,n,r){return i===t?!0:i==null||t==null||!Si(i)&&!Si(t)?i!==i&&t!==t:m6(i,t,e,n,Du,r)}var b6=1,v6=2;function y6(i,t,e,n){var r=e.length,s=r,o=!n;if(i==null)return!s;for(i=Object(i);r--;){var a=e[r];if(o&&a[2]?a[1]!==i[a[0]]:!(a[0]in i))return!1}for(;++r<s;){a=e[r];var l=a[0],c=i[l],u=a[1];if(o&&a[2]){if(c===void 0&&!(l in i))return!1}else{var h=new Li;if(n)var f=n(c,u,l,i,t,h);if(!(f===void 0?Du(u,c,b6|v6,n,h):f))return!1}}return!0}function Yb(i){return i===i&&!en(i)}function x6(i){for(var t=ua(i),e=t.length;e--;){var n=t[e],r=i[n];t[e]=[n,r,Yb(r)]}return t}function Kb(i,t){return function(e){return e==null?!1:e[i]===t&&(t!==void 0||i in Object(e))}}function w6(i){var t=x6(i);return t.length==1&&t[0][2]?Kb(t[0][0],t[0][1]):function(e){return e===i||y6(e,i,t)}}function C6(i,t){return i!=null&&t in Object(i)}function Jb(i,t,e){t=ku(t,i);for(var n=-1,r=t.length,s=!1;++n<r;){var o=Dl(t[n]);if(!(s=i!=null&&e(i,o)))break;i=i[o]}return s||++n!=r?s:(r=i==null?0:i.length,!!r&&Sf(r)&&Su(o,r)&&(An(i)||Lo(i)))}function Zb(i,t){return i!=null&&Jb(i,t,C6)}var E6=1,S6=2;function A6(i,t){return Mf(i)&&Yb(t)?Kb(Dl(i),t):function(e){var n=Tf(e,i);return n===void 0&&n===t?Zb(e,i):Du(t,n,E6|S6)}}function M6(i){return function(t){return t==null?void 0:t[i]}}function O6(i){return function(t){return _u(t,i)}}function T6(i){return Mf(i)?M6(Dl(i)):O6(i)}function Lf(i){return typeof i=="function"?i:i==null?kl:typeof i=="object"?An(i)?A6(i[0],i[1]):w6(i):T6(i)}function P6(i,t,e,n){for(var r=-1,s=i==null?0:i.length;++r<s;){var o=i[r];t(n,o,e(o),i)}return n}function k6(i){return function(t,e,n){for(var r=-1,s=Object(t),o=n(t),a=o.length;a--;){var l=o[i?a:++r];if(e(s[l],l,s)===!1)break}return t}}var _6=k6(),Qb=_6;function D6(i,t){return i&&Qb(i,t,ua)}function N6(i,t){return function(e,n){if(e==null)return e;if(!io(e))return i(e,n);for(var r=e.length,s=t?r:-1,o=Object(e);(t?s--:++s<r)&&n(o[s],s,o)!==!1;);return e}}var $6=N6(D6),tv=$6;function F6(i,t,e,n){return tv(i,function(r,s,o){t(n,r,e(r),o)}),n}function L6(i,t){return function(e,n){var r=An(e)?P6:F6,s=t?t():{};return r(e,i,Lf(n),s)}}var I6=function(){return Vi.Date.now()},Th=I6,z6="Expected a function",j6=Math.max,B6=Math.min;function If(i,t,e){var n,r,s,o,a,l,c=0,u=!1,h=!1,f=!0;if(typeof i!="function")throw new TypeError(z6);t=Ba(t)||0,en(e)&&(u=!!e.leading,h="maxWait"in e,s=h?j6(Ba(e.maxWait)||0,t):s,f="trailing"in e?!!e.trailing:f);function p(m){var T=n,D=r;return n=r=void 0,c=m,o=i.apply(D,T),o}function b(m){return c=m,a=setTimeout(x,t),u?p(m):o}function v(m){var T=m-l,D=m-c,z=t-T;return h?B6(z,s-D):z}function w(m){var T=m-l,D=m-c;return l===void 0||T>=t||T<0||h&&D>=s}function x(){var m=Th();if(w(m))return E(m);a=setTimeout(x,v(m))}function E(m){return a=void 0,f&&n?p(m):(n=r=void 0,o)}function S(){a!==void 0&&clearTimeout(a),c=0,n=l=r=a=void 0}function O(){return a===void 0?o:E(Th())}function k(){var m=Th(),T=w(m);if(n=arguments,r=this,l=m,T){if(a===void 0)return b(l);if(h)return clearTimeout(a),a=setTimeout(x,t),p(l)}return a===void 0&&(a=setTimeout(x,t)),o}return k.cancel=S,k.flush=O,k}var ev=Object.prototype,R6=ev.hasOwnProperty,V6=ns(function(i,t){i=Object(i);var e=-1,n=t.length,r=n>2?t[2]:void 0;for(r&&ol(t[0],t[1],r)&&(n=1);++e<n;)for(var s=t[e],o=ro(s),a=-1,l=o.length;++a<l;){var c=o[a],u=i[c];(u===void 0||no(u,ev[c])&&!R6.call(i,c))&&(i[c]=s[c])}return i}),H6=V6;function vd(i,t,e){(e!==void 0&&!no(i[t],e)||e===void 0&&!(t in i))&&Au(i,t,e)}function Vc(i){return Si(i)&&io(i)}function yd(i,t){if(!(t==="constructor"&&typeof i[t]=="function")&&t!="__proto__")return i[t]}function G6(i){return ca(i,ro(i))}function q6(i,t,e,n,r,s,o){var a=yd(i,e),l=yd(t,e),c=o.get(l);if(c){vd(i,e,c);return}var u=s?s(a,l,e+"",i,t,o):void 0,h=u===void 0;if(h){var f=An(l),p=!f&&Io(l),b=!f&&!p&&Ou(l);u=l,f||p||b?An(a)?u=a:Vc(a)?u=ib(a):p?(h=!1,u=jb(l,!0)):b?(h=!1,u=Hb(l,!0)):u=[]:fi(l)||Lo(l)?(u=a,Lo(a)?u=G6(a):(!en(a)||wf(a))&&(u=Gb(l))):h=!1}h&&(o.set(l,u),r(u,l,n,s,o),o.delete(l)),vd(i,e,u)}function Nu(i,t,e,n,r){i!==t&&Qb(t,function(s,o){if(r||(r=new Li),en(s))q6(i,t,o,e,Nu,n,r);else{var a=n?n(yd(i,o),s,o+"",i,t,r):void 0;a===void 0&&(a=s),vd(i,o,a)}},ro)}function nv(i,t,e,n,r,s){return en(i)&&en(t)&&(s.set(t,i),Nu(i,t,void 0,nv,s),s.delete(t)),i}var U6=Af(function(i,t,e,n){Nu(i,t,e,n)}),W6=U6,X6=ns(function(i){return i.push(void 0,nv),Cf(W6,void 0,i)}),iv=X6,Y6="Expected a function";function K6(i,t,e){if(typeof i!="function")throw new TypeError(Y6);return setTimeout(function(){i.apply(void 0,e)},t)}var J6=ns(function(i,t){return K6(i,1,t)}),Z6=J6;function rv(i,t,e){for(var n=-1,r=i==null?0:i.length;++n<r;)if(e(t,i[n]))return!0;return!1}var Q6=200;function t5(i,t,e,n){var r=-1,s=sb,o=!0,a=i.length,l=[],c=t.length;if(!a)return l;e&&(t=Po(t,_l(e))),n?(s=rv,o=!1):t.length>=Q6&&(s=$f,o=!1,t=new Bo(t));t:for(;++r<a;){var u=i[r],h=e==null?u:e(u);if(u=n||u!==0?u:0,o&&h===h){for(var f=c;f--;)if(t[f]===h)continue t;l.push(u)}else s(t,h,n)||l.push(u)}return l}var e5=ns(function(i,t){return Vc(i)?t5(i,Nl(t,1,Vc,!0)):[]}),n5=e5,i5={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"},r5=Eb(i5),s5=r5,sv=/[&<>"']/g,o5=RegExp(sv.source);function a5(i){return i=is(i),i&&o5.test(i)?i.replace(sv,s5):i}function l5(i,t){var e=-1,n=io(i)?Array(i.length):[];return tv(i,function(r,s,o){n[++e]=t(r,s,o)}),n}function ov(i){for(var t=-1,e=i==null?0:i.length,n={};++t<e;){var r=i[t];n[r[0]]=r[1]}return n}var c5=Object.prototype,u5=c5.hasOwnProperty,h5=L6(function(i,t,e){u5.call(i,e)?i[e].push(t):Au(i,e,[t])}),d5=h5,f5=Object.prototype,p5=f5.hasOwnProperty;function g5(i,t){return i!=null&&p5.call(i,t)}function ka(i,t){return i!=null&&Jb(i,t,g5)}function m5(i,t){return Po(t,function(e){return i[e]})}var b5="[object Map]",v5="[object Set]",y5=Object.prototype,x5=y5.hasOwnProperty;function av(i){if(i==null)return!0;if(io(i)&&(An(i)||typeof i=="string"||typeof i.splice=="function"||Io(i)||Ou(i)||Lo(i)))return!i.length;var t=jo(i);if(t==b5||t==v5)return!i.size;if(Mu(i))return!db(i).length;for(var e in i)if(x5.call(i,e))return!1;return!0}function Ii(i,t){return Du(i,t)}var w5="[object Number]";function O0(i){return typeof i=="number"||Si(i)&&Er(i)==w5}function $u(i){return i==null}var C5=Cb("toLowerCase"),E5=C5,S5=Af(function(i,t,e){Nu(i,t,e)}),De=S5;function lv(i,t,e,n){if(!en(i))return i;t=ku(t,i);for(var r=-1,s=t.length,o=s-1,a=i;a!=null&&++r<s;){var l=Dl(t[r]),c=e;if(l==="__proto__"||l==="constructor"||l==="prototype")return i;if(r!=o){var u=a[l];c=n?n(u,l,a):void 0,c===void 0&&(c=en(u)?u:Su(t[r+1])?[]:{})}Ef(a,l,c),a=a[l]}return i}function A5(i,t,e){for(var n=-1,r=t.length,s={};++n<r;){var o=t[n],a=_u(i,o);e(a,o)&&lv(s,ku(o,i),a)}return s}function M5(i,t){var e=i.length;for(i.sort(t);e--;)i[e]=i[e].value;return i}function O5(i,t){if(i!==t){var e=i!==void 0,n=i===null,r=i===i,s=yr(i),o=t!==void 0,a=t===null,l=t===t,c=yr(t);if(!a&&!c&&!s&&i>t||s&&o&&l&&!a&&!c||n&&o&&l||!e&&l||!r)return 1;if(!n&&!s&&!c&&i<t||c&&e&&r&&!n&&!s||a&&e&&r||!o&&r||!l)return-1}return 0}function T5(i,t,e){for(var n=-1,r=i.criteria,s=t.criteria,o=r.length,a=e.length;++n<o;){var l=O5(r[n],s[n]);if(l){if(n>=a)return l;var c=e[n];return l*(c=="desc"?-1:1)}}return i.index-t.index}function P5(i,t,e){t.length?t=Po(t,function(s){return An(s)?function(o){return _u(o,s.length===1?s[0]:s)}:s}):t=[kl];var n=-1;t=Po(t,_l(Lf));var r=l5(i,function(s,o,a){var l=Po(t,function(c){return c(s)});return{criteria:l,index:++n,value:s}});return M5(r,function(s,o){return T5(s,o,e)})}function k5(i,t){return A5(i,t,function(e,n){return Zb(i,n)})}var _5=_A(function(i,t){return i==null?{}:k5(i,t)}),T0=_5;function D5(i,t,e){return i==null?i:lv(i,t,e)}var N5=ns(function(i,t){if(i==null)return[];var e=t.length;return e>1&&ol(i,t[0],t[1])?t=[]:e>2&&ol(t[0],t[1],t[2])&&(t=[t[0]]),P5(i,Nl(t,1),[])}),zf=N5,$5=4294967295,F5=$5-1,L5=Math.floor,I5=Math.min;function cv(i,t,e,n){var r=0,s=i==null?0:i.length;if(s===0)return 0;t=e(t);for(var o=t!==t,a=t===null,l=yr(t),c=t===void 0;r<s;){var u=L5((r+s)/2),h=e(i[u]),f=h!==void 0,p=h===null,b=h===h,v=yr(h);if(o)var w=n||b;else c?w=b&&(n||f):a?w=b&&f&&(n||!p):l?w=b&&f&&!p&&(n||!v):p||v?w=!1:w=n?h<=t:h<t;w?r=u+1:s=u}return I5(s,F5)}var z5=4294967295,j5=z5>>>1;function B5(i,t,e){var n=0,r=i==null?n:i.length;if(typeof t=="number"&&t===t&&r<=j5){for(;n<r;){var s=n+r>>>1,o=i[s];o!==null&&!yr(o)&&(e?o<=t:o<t)?n=s+1:r=s}return r}return cv(i,t,kl,e)}function R5(i,t){return B5(i,t)}function V5(i,t,e){return cv(i,t,Lf(e))}var H5=Ib(function(i,t,e){return i+(e?" ":"")+Bc(t)}),G5=H5,uv=Object.prototype,q5=uv.hasOwnProperty;function P0(i,t,e,n){return i===void 0||no(i,uv[e])&&!q5.call(n,e)?t:i}var U5={"\\":"\\","'":"'","\n":"n","\r":"r","\u2028":"u2028","\u2029":"u2029"};function W5(i){return"\\"+U5[i]}var X5=/<%=([\s\S]+?)%>/g,hv=X5,Y5=/<%-([\s\S]+?)%>/g,K5=Y5,J5=/<%([\s\S]+?)%>/g,Z5=J5,Q5={escape:K5,evaluate:Z5,interpolate:hv,variable:"",imports:{_:{escape:a5}}},k0=Q5,tP="Invalid `variable` option passed into `_.template`",eP=/\b__p \+= '';/g,nP=/\b(__p \+=) '' \+/g,iP=/(__e\(.*?\)|\b__t\)) \+\n'';/g,rP=/[()=,{}\[\]\/\s]/,sP=/\$\{([^\\}]*(?:\\.[^\\}]*)*)\}/g,ac=/($^)/,oP=/['\n\r\u2028\u2029\\]/g,aP=Object.prototype,_0=aP.hasOwnProperty;function So(i,t,e){var n=k0.imports._.templateSettings||k0;e&&ol(i,t,e)&&(t=void 0),i=is(i),t=r0({},t,n,P0);var r=r0({},t.imports,n.imports,P0),s=ua(r),o=m5(r,s),a,l,c=0,u=t.interpolate||ac,h="__p += '",f=RegExp((t.escape||ac).source+"|"+u.source+"|"+(u===hv?sP:ac).source+"|"+(t.evaluate||ac).source+"|$","g"),p=_0.call(t,"sourceURL")?"//# sourceURL="+(t.sourceURL+"").replace(/\s/g," ")+`
`:"";i.replace(f,function(w,x,E,S,O,k){return E||(E=S),h+=i.slice(c,k).replace(oP,W5),x&&(a=!0,h+=`' +
__e(`+x+`) +
'`),O&&(l=!0,h+=`';
`+O+`;
__p += '`),E&&(h+=`' +
((__t = (`+E+`)) == null ? '' : __t) +
'`),c=k+w.length,w}),h+=`';
`;var b=_0.call(t,"variable")&&t.variable;if(!b)h=`with (obj) {
`+h+`
}
`;else if(rP.test(b))throw new Error(tP);h=(l?h.replace(eP,""):h).replace(nP,"$1").replace(iP,"$1;"),h="function("+(b||"obj")+`) {
`+(b?"":`obj || (obj = {});
`)+"var __t, __p = ''"+(a?", __e = _.escape":"")+(l?`, __j = Array.prototype.join;
function print() { __p += __j.call(arguments, '') }
`:`;
`)+h+`return __p
}`;var v=RA(function(){return Function(s,p+"return "+h).apply(void 0,o)});if(v.source=h,pb(v))throw v;return v}var lP=1/0,cP=ko&&1/Ff(new ko([,-0]))[1]==lP?function(i){return new ko(i)}:DE,uP=cP,hP=200;function dv(i,t,e){var n=-1,r=sb,s=i.length,o=!0,a=[],l=a;if(e)o=!1,r=rv;else if(s>=hP){var c=t?null:uP(i);if(c)return Ff(c);o=!1,r=$f,l=new Bo}else l=t?[]:a;t:for(;++n<s;){var u=i[n],h=t?t(u):u;if(u=e||u!==0?u:0,o&&h===h){for(var f=l.length;f--;)if(l[f]===h)continue t;t&&l.push(h),a.push(u)}else r(l,h,e)||(l!==a&&l.push(h),a.push(u))}return a}var dP=ns(function(i){return dv(Nl(i,1,Vc,!0))}),D0=dP;function fv(i){return i&&i.length?dv(i):[]}var fP=0;function pP(i){var t=++fP;return is(i)+t}const go=(i,t,e,n=!1)=>{i&&t&&e&&(i==null||i.addEventListener(t,e,n))},lc=(i,t,e,n=!1)=>{i&&t&&e&&(i==null||i.removeEventListener(t,e,n))},hr=(i,t,{checkForDefaultPrevented:e=!0}={})=>r=>{const s=i==null?void 0:i(r);if(e===!1||!s)return t==null?void 0:t(r)},jf=i=>{let t,e;return i.type==="touchend"?(e=i.changedTouches[0].clientY,t=i.changedTouches[0].clientX):i.type.startsWith("touch")?(e=i.touches[0].clientY,t=i.touches[0].clientX):(e=i.clientY,t=i.clientX),{clientX:t,clientY:e}},xd=i=>i===void 0,cl=i=>typeof Element=="undefined"?!1:i instanceof Element,Ph=(i,t,e)=>({get value(){return Tf(i,t,e)},set value(n){D5(i,t,n)}});class gP extends Error{constructor(t){super(t),this.name="ElementPlusError"}}function mP(i,t){throw new gP(`[${i}] ${t}`)}function wd(i,t="px"){if(!i)return"";if(Me(i))return i;if(ld(i))return`${i}${t}`}/*! Element Plus Icons Vue v2.0.6 */var so=(i,t)=>{let e=i.__vccOpts||i;for(let[n,r]of t)e[n]=r;return e},bP={name:"ArrowDown"},vP={viewBox:"0 0 1024 1024",xmlns:"http://www.w3.org/2000/svg"},yP=Yt("path",{fill:"currentColor",d:"M831.872 340.864 512 652.672 192.128 340.864a30.592 30.592 0 0 0-42.752 0 29.12 29.12 0 0 0 0 41.6L489.664 714.24a32 32 0 0 0 44.672 0l340.288-331.712a29.12 29.12 0 0 0 0-41.728 30.592 30.592 0 0 0-42.752 0z"},null,-1),xP=[yP];function wP(i,t,e,n,r,s){return St(),Zt("svg",vP,xP)}var CP=so(bP,[["render",wP],["__file","arrow-down.vue"]]),EP={name:"CircleCheck"},SP={viewBox:"0 0 1024 1024",xmlns:"http://www.w3.org/2000/svg"},AP=Yt("path",{fill:"currentColor",d:"M512 896a384 384 0 1 0 0-768 384 384 0 0 0 0 768zm0 64a448 448 0 1 1 0-896 448 448 0 0 1 0 896z"},null,-1),MP=Yt("path",{fill:"currentColor",d:"M745.344 361.344a32 32 0 0 1 45.312 45.312l-288 288a32 32 0 0 1-45.312 0l-160-160a32 32 0 1 1 45.312-45.312L480 626.752l265.344-265.408z"},null,-1),OP=[AP,MP];function TP(i,t,e,n,r,s){return St(),Zt("svg",SP,OP)}var PP=so(EP,[["render",TP],["__file","circle-check.vue"]]),kP={name:"CircleClose"},_P={viewBox:"0 0 1024 1024",xmlns:"http://www.w3.org/2000/svg"},DP=Yt("path",{fill:"currentColor",d:"m466.752 512-90.496-90.496a32 32 0 0 1 45.248-45.248L512 466.752l90.496-90.496a32 32 0 1 1 45.248 45.248L557.248 512l90.496 90.496a32 32 0 1 1-45.248 45.248L512 557.248l-90.496 90.496a32 32 0 0 1-45.248-45.248L466.752 512z"},null,-1),NP=Yt("path",{fill:"currentColor",d:"M512 896a384 384 0 1 0 0-768 384 384 0 0 0 0 768zm0 64a448 448 0 1 1 0-896 448 448 0 0 1 0 896z"},null,-1),$P=[DP,NP];function FP(i,t,e,n,r,s){return St(),Zt("svg",_P,$P)}var pv=so(kP,[["render",FP],["__file","circle-close.vue"]]),LP={name:"Close"},IP={viewBox:"0 0 1024 1024",xmlns:"http://www.w3.org/2000/svg"},zP=Yt("path",{fill:"currentColor",d:"M764.288 214.592 512 466.88 259.712 214.592a31.936 31.936 0 0 0-45.12 45.12L466.752 512 214.528 764.224a31.936 31.936 0 1 0 45.12 45.184L512 557.184l252.288 252.288a31.936 31.936 0 0 0 45.12-45.12L557.12 512.064l252.288-252.352a31.936 31.936 0 1 0-45.12-45.184z"},null,-1),jP=[zP];function BP(i,t,e,n,r,s){return St(),Zt("svg",IP,jP)}var RP=so(LP,[["render",BP],["__file","close.vue"]]),VP={name:"Hide"},HP={viewBox:"0 0 1024 1024",xmlns:"http://www.w3.org/2000/svg"},GP=Yt("path",{d:"M876.8 156.8c0-9.6-3.2-16-9.6-22.4-6.4-6.4-12.8-9.6-22.4-9.6-9.6 0-16 3.2-22.4 9.6L736 220.8c-64-32-137.6-51.2-224-60.8-160 16-288 73.6-377.6 176C44.8 438.4 0 496 0 512s48 73.6 134.4 176c22.4 25.6 44.8 48 73.6 67.2l-86.4 89.6c-6.4 6.4-9.6 12.8-9.6 22.4 0 9.6 3.2 16 9.6 22.4 6.4 6.4 12.8 9.6 22.4 9.6 9.6 0 16-3.2 22.4-9.6l704-710.4c3.2-6.4 6.4-12.8 6.4-22.4Zm-646.4 528c-76.8-70.4-128-128-153.6-172.8 28.8-48 80-105.6 153.6-172.8C304 272 400 230.4 512 224c64 3.2 124.8 19.2 176 44.8l-54.4 54.4C598.4 300.8 560 288 512 288c-64 0-115.2 22.4-160 64s-64 96-64 160c0 48 12.8 89.6 35.2 124.8L256 707.2c-9.6-6.4-19.2-16-25.6-22.4Zm140.8-96c-12.8-22.4-19.2-48-19.2-76.8 0-44.8 16-83.2 48-112 32-28.8 67.2-48 112-48 28.8 0 54.4 6.4 73.6 19.2L371.2 588.8ZM889.599 336c-12.8-16-28.8-28.8-41.6-41.6l-48 48c73.6 67.2 124.8 124.8 150.4 169.6-28.8 48-80 105.6-153.6 172.8-73.6 67.2-172.8 108.8-284.8 115.2-51.2-3.2-99.2-12.8-140.8-28.8l-48 48c57.6 22.4 118.4 38.4 188.8 44.8 160-16 288-73.6 377.6-176C979.199 585.6 1024 528 1024 512s-48.001-73.6-134.401-176Z",fill:"currentColor"},null,-1),qP=Yt("path",{d:"M511.998 672c-12.8 0-25.6-3.2-38.4-6.4l-51.2 51.2c28.8 12.8 57.6 19.2 89.6 19.2 64 0 115.2-22.4 160-64 41.6-41.6 64-96 64-160 0-32-6.4-64-19.2-89.6l-51.2 51.2c3.2 12.8 6.4 25.6 6.4 38.4 0 44.8-16 83.2-48 112-32 28.8-67.2 48-112 48Z",fill:"currentColor"},null,-1),UP=[GP,qP];function WP(i,t,e,n,r,s){return St(),Zt("svg",HP,UP)}var XP=so(VP,[["render",WP],["__file","hide.vue"]]),YP={name:"Loading"},KP={viewBox:"0 0 1024 1024",xmlns:"http://www.w3.org/2000/svg"},JP=Yt("path",{fill:"currentColor",d:"M512 64a32 32 0 0 1 32 32v192a32 32 0 0 1-64 0V96a32 32 0 0 1 32-32zm0 640a32 32 0 0 1 32 32v192a32 32 0 1 1-64 0V736a32 32 0 0 1 32-32zm448-192a32 32 0 0 1-32 32H736a32 32 0 1 1 0-64h192a32 32 0 0 1 32 32zm-640 0a32 32 0 0 1-32 32H96a32 32 0 0 1 0-64h192a32 32 0 0 1 32 32zM195.2 195.2a32 32 0 0 1 45.248 0L376.32 331.008a32 32 0 0 1-45.248 45.248L195.2 240.448a32 32 0 0 1 0-45.248zm452.544 452.544a32 32 0 0 1 45.248 0L828.8 783.552a32 32 0 0 1-45.248 45.248L647.744 692.992a32 32 0 0 1 0-45.248zM828.8 195.264a32 32 0 0 1 0 45.184L692.992 376.32a32 32 0 0 1-45.248-45.248l135.808-135.808a32 32 0 0 1 45.248 0zm-452.544 452.48a32 32 0 0 1 0 45.248L240.448 828.8a32 32 0 0 1-45.248-45.248l135.808-135.808a32 32 0 0 1 45.248 0z"},null,-1),ZP=[JP];function QP(i,t,e,n,r,s){return St(),Zt("svg",KP,ZP)}var gv=so(YP,[["render",QP],["__file","loading.vue"]]),t4={name:"View"},e4={viewBox:"0 0 1024 1024",xmlns:"http://www.w3.org/2000/svg"},n4=Yt("path",{fill:"currentColor",d:"M512 160c320 0 512 352 512 352S832 864 512 864 0 512 0 512s192-352 512-352zm0 64c-225.28 0-384.128 208.064-436.8 288 52.608 79.872 211.456 288 436.8 288 225.28 0 384.128-208.064 436.8-288-52.608-79.872-211.456-288-436.8-288zm0 64a224 224 0 1 1 0 448 224 224 0 0 1 0-448zm0 64a160.192 160.192 0 0 0-160 160c0 88.192 71.744 160 160 160s160-71.808 160-160-71.744-160-160-160z"},null,-1),i4=[n4];function r4(i,t,e,n,r,s){return St(),Zt("svg",e4,i4)}var s4=so(t4,[["render",r4],["__file","view.vue"]]);const mv="__epPropKey",Ge=i=>i,o4=i=>Ve(i)&&!!i[mv],Fu=(i,t)=>{if(!Ve(i)||o4(i))return i;const{values:e,required:n,default:r,type:s,validator:o}=i,l={type:s,required:!!n,validator:e||o?c=>{let u=!1,h=[];if(e&&(h=Array.from(e),ue(i,"default")&&h.push(r),u||(u=h.includes(c))),o&&(u||(u=o(c))),!u&&h.length>0){const f=[...new Set(h)].map(p=>JSON.stringify(p)).join(", ");Aw(`Invalid prop: validation failed${t?` for prop "${t}"`:""}. Expected one of [${f}], got value ${JSON.stringify(c)}.`)}return u}:void 0,[mv]:!0};return ue(i,"default")&&(l.default=r),l},Rn=i=>ov(Object.entries(i).map(([t,e])=>[t,Fu(e,t)])),Hc=Ge([String,Object,Function]),a4={validating:gv,success:PP,error:pv},oo=(i,t)=>{if(i.install=e=>{for(const n of[i,...Object.values(t!=null?t:{})])e.component(n.name,n)},t)for(const[e,n]of Object.entries(t))i[e]=n;return i},bv=i=>(i.install=Dn,i),Gc={tab:"Tab",enter:"Enter",space:"Space",left:"ArrowLeft",up:"ArrowUp",right:"ArrowRight",down:"ArrowDown",esc:"Escape",delete:"Delete",backspace:"Backspace",numpadEnter:"NumpadEnter",pageUp:"PageUp",pageDown:"PageDown",home:"Home",end:"End"},_o="update:modelValue",Lu=["","default","small","large"],l4=i=>["",...Lu].includes(i),c4=i=>/([(\uAC00-\uD7AF)|(\u3130-\u318F)])+/gi.test(i),u4=()=>Math.floor(Math.random()*1e4),h4=i=>i,d4=["class","style"],f4=/^on[A-Z]/,p4=(i={})=>{const{excludeListeners:t=!1,excludeKeys:e}=i,n=vt(()=>((e==null?void 0:e.value)||[]).concat(d4)),r=or();return vt(r?()=>{var s;return ov(Object.entries((s=r.proxy)==null?void 0:s.$attrs).filter(([o])=>!n.value.includes(o)&&!(t&&f4.test(o))))}:()=>({}))},vv=Symbol("buttonGroupContextKey"),g4=Symbol(),ao=Symbol("formContextKey"),Kr=Symbol("formItemContextKey"),Bf=Symbol("popper"),yv=Symbol("popperContent"),xv=i=>{const t=or();return vt(()=>{var e,n;return(n=((e=t.proxy)==null?void 0:e.$props)[i])!=null?n:void 0})},N0=Mt();function $l(i,t=void 0){const e=or()?Re(g4,N0):N0;return i?vt(()=>{var n,r;return(r=(n=e.value)==null?void 0:n[i])!=null?r:t}):e}const wv=Fu({type:String,values:Lu,required:!1}),Fl=(i,t={})=>{const e=Mt(void 0),n=t.prop?e:xv("size"),r=t.global?e:$l("size"),s=t.form?{size:void 0}:Re(ao,void 0),o=t.formItem?{size:void 0}:Re(Kr,void 0);return vt(()=>n.value||U(i)||(o==null?void 0:o.size)||(s==null?void 0:s.size)||r.value||"")},Rf=i=>{const t=xv("disabled"),e=Re(ao,void 0);return vt(()=>t.value||U(i)||(e==null?void 0:e.disabled)||!1)},m4=({from:i,replacement:t,scope:e,version:n,ref:r,type:s="API"},o)=>{Qt(()=>U(o),a=>{},{immediate:!0})},b4={prefix:Math.floor(Math.random()*1e4),current:0},v4=Symbol("elIdInjection"),Vf=i=>{const t=Re(v4,b4);return vt(()=>U(i)||`el-id-${t.prefix}-${t.current++}`)},Cv=()=>{const i=Re(ao,void 0),t=Re(Kr,void 0);return{form:i,formItem:t}},Ev=(i,{formItemContext:t,disableIdGeneration:e,disableIdManagement:n})=>{e||(e=Mt(!1)),n||(n=Mt(!1));const r=Mt();let s;const o=vt(()=>{var a;return!!(!i.label&&t&&t.inputIds&&((a=t.inputIds)==null?void 0:a.length)<=1)});return Nn(()=>{s=Qt([Yr(i,"id"),e],([a,l])=>{const c=a!=null?a:l?void 0:Vf().value;c!==r.value&&(t!=null&&t.removeInputId&&(r.value&&t.removeInputId(r.value),!(n!=null&&n.value)&&!l&&c&&t.addInputId(c)),r.value=c)},{immediate:!0})}),df(()=>{s&&s(),t!=null&&t.removeInputId&&r.value&&t.removeInputId(r.value)}),{isLabeledByFormItem:o,inputId:r}};var y4={name:"en",el:{colorpicker:{confirm:"OK",clear:"Clear",defaultLabel:"color picker",description:"current color is {color}. press enter to select a new color."},datepicker:{now:"Now",today:"Today",cancel:"Cancel",clear:"Clear",confirm:"OK",dateTablePrompt:"Use the arrow keys and enter to select the day of the month",monthTablePrompt:"Use the arrow keys and enter to select the month",yearTablePrompt:"Use the arrow keys and enter to select the year",selectedDate:"Selected date",selectDate:"Select date",selectTime:"Select time",startDate:"Start Date",startTime:"Start Time",endDate:"End Date",endTime:"End Time",prevYear:"Previous Year",nextYear:"Next Year",prevMonth:"Previous Month",nextMonth:"Next Month",year:"",month1:"January",month2:"February",month3:"March",month4:"April",month5:"May",month6:"June",month7:"July",month8:"August",month9:"September",month10:"October",month11:"November",month12:"December",week:"week",weeks:{sun:"Sun",mon:"Mon",tue:"Tue",wed:"Wed",thu:"Thu",fri:"Fri",sat:"Sat"},weeksFull:{sun:"Sunday",mon:"Monday",tue:"Tuesday",wed:"Wednesday",thu:"Thursday",fri:"Friday",sat:"Saturday"},months:{jan:"Jan",feb:"Feb",mar:"Mar",apr:"Apr",may:"May",jun:"Jun",jul:"Jul",aug:"Aug",sep:"Sep",oct:"Oct",nov:"Nov",dec:"Dec"}},inputNumber:{decrease:"decrease number",increase:"increase number"},select:{loading:"Loading",noMatch:"No matching data",noData:"No data",placeholder:"Select"},dropdown:{toggleDropdown:"Toggle Dropdown"},cascader:{noMatch:"No matching data",loading:"Loading",placeholder:"Select",noData:"No data"},pagination:{goto:"Go to",pagesize:"/page",total:"Total {total}",pageClassifier:"",deprecationWarning:"Deprecated usages detected, please refer to the el-pagination documentation for more details"},dialog:{close:"Close this dialog"},drawer:{close:"Close this dialog"},messagebox:{title:"Message",confirm:"OK",cancel:"Cancel",error:"Illegal input",close:"Close this dialog"},upload:{deleteTip:"press delete to remove",delete:"Delete",preview:"Preview",continue:"Continue"},slider:{defaultLabel:"slider between {min} and {max}",defaultRangeStartLabel:"pick start value",defaultRangeEndLabel:"pick end value"},table:{emptyText:"No Data",confirmFilter:"Confirm",resetFilter:"Reset",clearFilter:"All",sumText:"Sum"},tree:{emptyText:"No Data"},transfer:{noMatch:"No matching data",noData:"No data",titles:["List 1","List 2"],filterPlaceholder:"Enter keyword",noCheckedFormat:"{total} items",hasCheckedFormat:"{checked}/{total} checked"},image:{error:"FAILED"},pageHeader:{title:"Back"},popconfirm:{confirmButtonText:"Yes",cancelButtonText:"No"}}};const x4=i=>(t,e)=>w4(t,e,U(i)),w4=(i,t,e)=>Tf(e,i,i).replace(/\{(\w+)\}/g,(n,r)=>{var s;return`${(s=t==null?void 0:t[r])!=null?s:`{${r}}`}`}),C4=i=>{const t=vt(()=>U(i).name),e=dn(i)?i:Mt(i);return{lang:t,locale:e,t:x4(i)}},E4=()=>{const i=$l("locale");return C4(vt(()=>i.value||y4))},S4=Fu({type:Ge(Boolean),default:null}),A4=Fu({type:Ge(Function)}),M4=i=>{const t=`update:${i}`,e=`onUpdate:${i}`,n=[t],r={[i]:S4,[e]:A4};return{useModelToggle:({indicator:o,toggleReason:a,shouldHideWhenRouteChanges:l,shouldProceed:c,onShow:u,onHide:h})=>{const f=or(),{emit:p}=f,b=f.props,v=vt(()=>Vt(b[e])),w=vt(()=>b[i]===null),x=T=>{o.value!==!0&&(o.value=!0,a&&(a.value=T),Vt(u)&&u(T))},E=T=>{o.value!==!1&&(o.value=!1,a&&(a.value=T),Vt(h)&&h(T))},S=T=>{if(b.disabled===!0||Vt(c)&&!c())return;const D=v.value&&zn;D&&p(t,!0),(w.value||!D)&&x(T)},O=T=>{if(b.disabled===!0||!zn)return;const D=v.value&&zn;D&&p(t,!1),(w.value||!D)&&E(T)},k=T=>{!sl(T)||(b.disabled&&T?v.value&&p(t,!1):o.value!==T&&(T?x():E()))},m=()=>{o.value?O():S()};return Qt(()=>b[i],k),l&&f.appContext.config.globalProperties.$route!==void 0&&Qt(()=>({...f.proxy.$route}),()=>{l.value&&o.value&&O()}),Nn(()=>{k(b[i])}),{hide:O,show:S,toggle:m}},useModelToggleProps:r,useModelToggleEmits:n}};function O4(){let i;const t=(n,r)=>{e(),i=window.setTimeout(n,r)},e=()=>window.clearTimeout(i);return xf(()=>e()),{registerTimeout:t,cancelTimeout:e}}let mo=[];const T4=i=>{const t=e=>{const n=e;n.key===Gc.esc&&mo.forEach(r=>r(n))};Nn(()=>{mo.length===0&&document.addEventListener("keydown",t),zn&&mo.push(i)}),sr(()=>{mo=mo.filter(e=>e!==i),mo.length===0&&zn&&document.removeEventListener("keydown",t)})};let $0;const Sv=`el-popper-container-${u4()}`,Av=`#${Sv}`,P4=()=>{const i=document.createElement("div");return i.id=Sv,document.body.appendChild(i),i},k4=()=>{Om(()=>{!zn||(!$0||!document.body.querySelector(Av))&&($0=P4())})},_4=Rn({showAfter:{type:Number,default:0},hideAfter:{type:Number,default:200}}),D4=({showAfter:i,hideAfter:t,open:e,close:n})=>{const{registerTimeout:r}=O4();return{onOpen:a=>{r(()=>{e(a)},U(i))},onClose:a=>{r(()=>{n(a)},U(t))}}},Mv=Symbol("elForwardRef"),N4=i=>{zi(Mv,{setForwardRef:e=>{i.value=e}})},$4=i=>({mounted(t){i(t)},updated(t){i(t)},unmounted(){i(null)}}),F4="el",L4="is-",xs=(i,t,e,n,r)=>{let s=`${i}-${t}`;return e&&(s+=`-${e}`),n&&(s+=`__${n}`),r&&(s+=`--${r}`),s},jn=i=>{const t=$l("namespace"),e=vt(()=>t.value||F4);return{namespace:e,b:(v="")=>xs(U(e),i,v,"",""),e:v=>v?xs(U(e),i,"",v,""):"",m:v=>v?xs(U(e),i,"","",v):"",be:(v,w)=>v&&w?xs(U(e),i,v,w,""):"",em:(v,w)=>v&&w?xs(U(e),i,"",v,w):"",bm:(v,w)=>v&&w?xs(U(e),i,v,"",w):"",bem:(v,w,x)=>v&&w&&x?xs(U(e),i,v,w,x):"",is:(v,...w)=>{const x=w.length>=1?w[0]:!0;return v&&x?`${L4}${v}`:""},cssVar:v=>{const w={};for(const x in v)w[`--${e.value}-${x}`]=v[x];return w},cssVarName:v=>`--${e.value}-${v}`,cssVarBlock:v=>{const w={};for(const x in v)w[`--${e.value}-${i}-${x}`]=v[x];return w},cssVarBlockName:v=>`--${e.value}-${i}-${v}`}},F0=Mt(0),I4=()=>{const i=$l("zIndex",2e3),t=vt(()=>i.value+F0.value);return{initialZIndex:i,currentZIndex:t,nextZIndex:()=>(F0.value++,t.value)}};function z4(i){const t=Mt();function e(){if(i.value==null)return;const{selectionStart:r,selectionEnd:s,value:o}=i.value;if(r==null||s==null)return;const a=o.slice(0,Math.max(0,r)),l=o.slice(Math.max(0,s));t.value={selectionStart:r,selectionEnd:s,value:o,beforeTxt:a,afterTxt:l}}function n(){if(i.value==null||t.value==null)return;const{value:r}=i.value,{beforeTxt:s,afterTxt:o,selectionStart:a}=t.value;if(s==null||o==null||a==null)return;let l=r.length;if(r.endsWith(o))l=r.length-o.length;else if(r.startsWith(s))l=s.length;else{const c=s[a-1],u=r.indexOf(c,a-1);u!==-1&&(l=u+1)}i.value.setSelectionRange(l,l)}return[e,n]}var ln=(i,t)=>{const e=i.__vccOpts||i;for(const[n,r]of t)e[n]=r;return e};const j4=Rn({size:{type:Ge([Number,String])},color:{type:String}}),B4={name:"ElIcon",inheritAttrs:!1},R4=Ie({...B4,props:j4,setup(i){const t=i,e=jn("icon"),n=vt(()=>!t.size&&!t.color?{}:{fontSize:xd(t.size)?void 0:wd(t.size),"--color":t.color});return(r,s)=>(St(),Zt("i",Fs({class:U(e).b(),style:U(n)},r.$attrs),[Je(r.$slots,"default")],16))}});var V4=ln(R4,[["__file","/home/runner/work/element-plus/element-plus/packages/components/icon/src/icon.vue"]]);const Rr=oo(V4);let _i;const H4=`
  height:0 !important;
  visibility:hidden !important;
  overflow:hidden !important;
  position:absolute !important;
  z-index:-1000 !important;
  top:0 !important;
  right:0 !important;
`,G4=["letter-spacing","line-height","padding-top","padding-bottom","font-family","font-weight","font-size","text-rendering","text-transform","width","text-indent","padding-left","padding-right","border-width","box-sizing"];function q4(i){const t=window.getComputedStyle(i),e=t.getPropertyValue("box-sizing"),n=Number.parseFloat(t.getPropertyValue("padding-bottom"))+Number.parseFloat(t.getPropertyValue("padding-top")),r=Number.parseFloat(t.getPropertyValue("border-bottom-width"))+Number.parseFloat(t.getPropertyValue("border-top-width"));return{contextStyle:G4.map(o=>`${o}:${t.getPropertyValue(o)}`).join(";"),paddingSize:n,borderSize:r,boxSizing:e}}function L0(i,t=1,e){var n;_i||(_i=document.createElement("textarea"),document.body.appendChild(_i));const{paddingSize:r,borderSize:s,boxSizing:o,contextStyle:a}=q4(i);_i.setAttribute("style",`${a};${H4}`),_i.value=i.value||i.placeholder||"";let l=_i.scrollHeight;const c={};o==="border-box"?l=l+s:o==="content-box"&&(l=l-r),_i.value="";const u=_i.scrollHeight-r;if(ld(t)){let h=u*t;o==="border-box"&&(h=h+r+s),l=Math.max(h,l),c.minHeight=`${h}px`}if(ld(e)){let h=u*e;o==="border-box"&&(h=h+r+s),l=Math.min(h,l)}return c.height=`${l}px`,(n=_i.parentNode)==null||n.removeChild(_i),_i=void 0,c}const U4=Rn({id:{type:String,default:void 0},size:wv,disabled:Boolean,modelValue:{type:Ge([String,Number,Object]),default:""},type:{type:String,default:"text"},resize:{type:String,values:["none","both","horizontal","vertical"]},autosize:{type:Ge([Boolean,Object]),default:!1},autocomplete:{type:String,default:"off"},formatter:{type:Function},parser:{type:Function},placeholder:{type:String},form:{type:String,default:""},readonly:{type:Boolean,default:!1},clearable:{type:Boolean,default:!1},showPassword:{type:Boolean,default:!1},showWordLimit:{type:Boolean,default:!1},suffixIcon:{type:Hc,default:""},prefixIcon:{type:Hc,default:""},containerRole:{type:String,default:void 0},label:{type:String,default:void 0},tabindex:{type:[String,Number],default:0},validateEvent:{type:Boolean,default:!0},inputStyle:{type:Ge([Object,Array,String]),default:()=>h4({})}}),W4={[_o]:i=>Me(i),input:i=>Me(i),change:i=>Me(i),focus:i=>i instanceof FocusEvent,blur:i=>i instanceof FocusEvent,clear:()=>!0,mouseleave:i=>i instanceof MouseEvent,mouseenter:i=>i instanceof MouseEvent,keydown:i=>i instanceof Event,compositionstart:i=>i instanceof CompositionEvent,compositionupdate:i=>i instanceof CompositionEvent,compositionend:i=>i instanceof CompositionEvent},X4=["role"],Y4=["id","type","disabled","formatter","parser","readonly","autocomplete","tabindex","aria-label","placeholder"],K4=["id","tabindex","disabled","readonly","autocomplete","aria-label","placeholder"],J4={name:"ElInput",inheritAttrs:!1},Z4=Ie({...J4,props:U4,emits:W4,setup(i,{expose:t,emit:e}){const n=i,r={suffix:"append",prefix:"prepend"},s=or(),o=LC(),a=vf(),l=vt(()=>{const Y={};return n.containerRole==="combobox"&&(Y["aria-haspopup"]=o["aria-haspopup"],Y["aria-owns"]=o["aria-owns"],Y["aria-expanded"]=o["aria-expanded"]),Y}),c=p4({excludeKeys:vt(()=>Object.keys(l.value))}),{form:u,formItem:h}=Cv(),{inputId:f}=Ev(n,{formItemContext:h}),p=Fl(),b=Rf(),v=jn("input"),w=jn("textarea"),x=To(),E=To(),S=Mt(!1),O=Mt(!1),k=Mt(!1),m=Mt(!1),T=Mt(),D=To(n.inputStyle),z=vt(()=>x.value||E.value),H=vt(()=>{var Y;return(Y=u==null?void 0:u.statusIcon)!=null?Y:!1}),q=vt(()=>(h==null?void 0:h.validateState)||""),R=vt(()=>q.value&&a4[q.value]),rt=vt(()=>m.value?s4:XP),st=vt(()=>[o.style,n.inputStyle]),j=vt(()=>[n.inputStyle,D.value,{resize:n.resize}]),B=vt(()=>$u(n.modelValue)?"":String(n.modelValue)),tt=vt(()=>n.clearable&&!b.value&&!n.readonly&&!!B.value&&(S.value||O.value)),bt=vt(()=>n.showPassword&&!b.value&&!n.readonly&&!!B.value&&(!!B.value||S.value)),Ot=vt(()=>n.showWordLimit&&!!c.value.maxlength&&(n.type==="text"||n.type==="textarea")&&!b.value&&!n.readonly&&!n.showPassword),Gt=vt(()=>Array.from(B.value).length),pt=vt(()=>!!Ot.value&&Gt.value>Number(c.value.maxlength)),$t=vt(()=>!!a.suffix||!!n.suffixIcon||tt.value||n.showPassword||Ot.value||!!q.value&&H.value),[Dt,_t]=z4(x);Qm(E,Y=>{if(!Ot.value||n.resize!=="both")return;const ft=Y[0],{width:kt}=ft.contentRect;T.value={right:`calc(100% - ${kt+15+6}px)`}});const zt=()=>{const{type:Y,autosize:ft}=n;if(!(!zn||Y!=="textarea"))if(ft){const kt=Ve(ft)?ft.minRows:void 0,Wt=Ve(ft)?ft.maxRows:void 0;D.value={...L0(E.value,kt,Wt)}}else D.value={minHeight:L0(E.value).minHeight}},de=()=>{const Y=z.value;!Y||Y.value===B.value||(Y.value=B.value)},at=Y=>{const{el:ft}=s.vnode;if(!ft)return;const Wt=Array.from(ft.querySelectorAll(`.${v.e(Y)}`)).find(xe=>xe.parentNode===ft);if(!Wt)return;const le=r[Y];a[le]?Wt.style.transform=`translateX(${Y==="suffix"?"-":""}${ft.querySelector(`.${v.be("group",le)}`).offsetWidth}px)`:Wt.removeAttribute("style")},Tt=()=>{at("prefix"),at("suffix")},Ut=async Y=>{Dt();let{value:ft}=Y.target;n.formatter&&(ft=n.parser?n.parser(ft):ft,ft=n.formatter(ft)),!k.value&&ft!==B.value&&(e(_o,ft),e("input",ft),await Wn(),de(),_t())},te=Y=>{e("change",Y.target.value)},pn=Y=>{e("compositionstart",Y),k.value=!0},$n=Y=>{var ft;e("compositionupdate",Y);const kt=(ft=Y.target)==null?void 0:ft.value,Wt=kt[kt.length-1]||"";k.value=!c4(Wt)},$=Y=>{e("compositionend",Y),k.value&&(k.value=!1,Ut(Y))},G=()=>{m.value=!m.value,Q()},Q=async()=>{var Y;await Wn(),(Y=z.value)==null||Y.focus()},K=()=>{var Y;return(Y=z.value)==null?void 0:Y.blur()},nt=Y=>{S.value=!0,e("focus",Y)},gt=Y=>{var ft;S.value=!1,e("blur",Y),n.validateEvent&&((ft=h==null?void 0:h.validate)==null||ft.call(h,"blur").catch(kt=>void 0))},wt=Y=>{O.value=!1,e("mouseleave",Y)},dt=Y=>{O.value=!0,e("mouseenter",Y)},mt=Y=>{e("keydown",Y)},ut=()=>{var Y;(Y=z.value)==null||Y.select()},Pt=()=>{e(_o,""),e("change",""),e("clear"),e("input","")};return Qt(()=>n.modelValue,()=>{var Y;Wn(()=>zt()),n.validateEvent&&((Y=h==null?void 0:h.validate)==null||Y.call(h,"change").catch(ft=>void 0))}),Qt(B,()=>de()),Qt(()=>n.type,async()=>{await Wn(),de(),zt(),Tt()}),Nn(async()=>{!n.formatter&&n.parser,de(),Tt(),await Wn(),zt()}),hf(async()=>{await Wn(),Tt()}),t({input:x,textarea:E,ref:z,textareaStyle:j,autosize:Yr(n,"autosize"),focus:Q,blur:K,select:ut,clear:Pt,resizeTextarea:zt}),(Y,ft)=>nl((St(),Zt("div",Fs(U(l),{class:[Y.type==="textarea"?U(w).b():U(v).b(),U(v).m(U(p)),U(v).is("disabled",U(b)),U(v).is("exceed",U(pt)),{[U(v).b("group")]:Y.$slots.prepend||Y.$slots.append,[U(v).bm("group","append")]:Y.$slots.append,[U(v).bm("group","prepend")]:Y.$slots.prepend,[U(v).m("prefix")]:Y.$slots.prefix||Y.prefixIcon,[U(v).m("suffix")]:Y.$slots.suffix||Y.suffixIcon||Y.clearable||Y.showPassword,[U(v).bm("suffix","password-clear")]:U(tt)&&U(bt)},Y.$attrs.class],style:U(st),role:Y.containerRole,onMouseenter:dt,onMouseleave:wt}),[ve(" input "),Y.type!=="textarea"?(St(),Zt(tn,{key:0},[ve(" prepend slot "),Y.$slots.prepend?(St(),Zt("div",{key:0,class:qt(U(v).be("group","prepend"))},[Je(Y.$slots,"prepend")],2)):ve("v-if",!0),Yt("div",{class:qt([U(v).e("wrapper"),U(v).is("focus",S.value)])},[ve(" prefix slot "),Y.$slots.prefix||Y.prefixIcon?(St(),Zt("span",{key:0,class:qt(U(v).e("prefix"))},[Yt("span",{class:qt(U(v).e("prefix-inner"))},[Je(Y.$slots,"prefix"),Y.prefixIcon?(St(),Ae(U(Rr),{key:0,class:qt(U(v).e("icon"))},{default:we(()=>[(St(),Ae(Ps(Y.prefixIcon)))]),_:1},8,["class"])):ve("v-if",!0)],2)],2)):ve("v-if",!0),Yt("input",Fs({id:U(f),ref_key:"input",ref:x,class:U(v).e("inner")},U(c),{type:Y.showPassword?m.value?"text":"password":Y.type,disabled:U(b),formatter:Y.formatter,parser:Y.parser,readonly:Y.readonly,autocomplete:Y.autocomplete,tabindex:Y.tabindex,"aria-label":Y.label,placeholder:Y.placeholder,style:Y.inputStyle,onCompositionstart:pn,onCompositionupdate:$n,onCompositionend:$,onInput:Ut,onFocus:nt,onBlur:gt,onChange:te,onKeydown:mt}),null,16,Y4),ve(" suffix slot "),U($t)?(St(),Zt("span",{key:1,class:qt(U(v).e("suffix"))},[Yt("span",{class:qt(U(v).e("suffix-inner"))},[!U(tt)||!U(bt)||!U(Ot)?(St(),Zt(tn,{key:0},[Je(Y.$slots,"suffix"),Y.suffixIcon?(St(),Ae(U(Rr),{key:0,class:qt(U(v).e("icon"))},{default:we(()=>[(St(),Ae(Ps(Y.suffixIcon)))]),_:1},8,["class"])):ve("v-if",!0)],64)):ve("v-if",!0),U(tt)?(St(),Ae(U(Rr),{key:1,class:qt([U(v).e("icon"),U(v).e("clear")]),onMousedown:h3(U(Dn),["prevent"]),onClick:Pt},{default:we(()=>[Jt(U(pv))]),_:1},8,["class","onMousedown"])):ve("v-if",!0),U(bt)?(St(),Ae(U(Rr),{key:2,class:qt([U(v).e("icon"),U(v).e("password")]),onClick:G},{default:we(()=>[(St(),Ae(Ps(U(rt))))]),_:1},8,["class"])):ve("v-if",!0),U(Ot)?(St(),Zt("span",{key:3,class:qt(U(v).e("count"))},[Yt("span",{class:qt(U(v).e("count-inner"))},Xi(U(Gt))+" / "+Xi(U(c).maxlength),3)],2)):ve("v-if",!0),U(q)&&U(R)&&U(H)?(St(),Ae(U(Rr),{key:4,class:qt([U(v).e("icon"),U(v).e("validateIcon"),U(v).is("loading",U(q)==="validating")])},{default:we(()=>[(St(),Ae(Ps(U(R))))]),_:1},8,["class"])):ve("v-if",!0)],2)],2)):ve("v-if",!0)],2),ve(" append slot "),Y.$slots.append?(St(),Zt("div",{key:1,class:qt(U(v).be("group","append"))},[Je(Y.$slots,"append")],2)):ve("v-if",!0)],64)):(St(),Zt(tn,{key:1},[ve(" textarea "),Yt("textarea",Fs({id:U(f),ref_key:"textarea",ref:E,class:U(w).e("inner")},U(c),{tabindex:Y.tabindex,disabled:U(b),readonly:Y.readonly,autocomplete:Y.autocomplete,style:U(j),"aria-label":Y.label,placeholder:Y.placeholder,onCompositionstart:pn,onCompositionupdate:$n,onCompositionend:$,onInput:Ut,onFocus:nt,onBlur:gt,onChange:te,onKeydown:mt}),null,16,K4),U(Ot)?(St(),Zt("span",{key:0,style:En(T.value),class:qt(U(v).e("count"))},Xi(U(Gt))+" / "+Xi(U(c).maxlength),7)):ve("v-if",!0)],64))],16,X4)),[[yf,Y.type!=="hidden"]])}});var Q4=ln(Z4,[["__file","/home/runner/work/element-plus/element-plus/packages/components/input/src/input.vue"]]);const Ov=oo(Q4),Tv=Rn({role:{type:String,default:"tooltip"}}),tk={name:"ElPopperRoot",inheritAttrs:!1},ek=Ie({...tk,props:Tv,setup(i,{expose:t}){const e=i,n=Mt(),r=Mt(),s=Mt(),o=Mt(),a=vt(()=>e.role),l={triggerRef:n,popperInstanceRef:r,contentRef:s,referenceRef:o,role:a};return t(l),zi(Bf,l),(c,u)=>Je(c.$slots,"default")}});var nk=ln(ek,[["__file","/home/runner/work/element-plus/element-plus/packages/components/popper/src/popper.vue"]]);const Pv=Rn({arrowOffset:{type:Number,default:5}}),ik={name:"ElPopperArrow",inheritAttrs:!1},rk=Ie({...ik,props:Pv,setup(i,{expose:t}){const e=i,n=jn("popper"),{arrowOffset:r,arrowRef:s}=Re(yv,void 0);return Qt(()=>e.arrowOffset,o=>{r.value=o}),sr(()=>{s.value=void 0}),t({arrowRef:s}),(o,a)=>(St(),Zt("span",{ref_key:"arrowRef",ref:s,class:qt(U(n).e("arrow")),"data-popper-arrow":""},null,2))}});var sk=ln(rk,[["__file","/home/runner/work/element-plus/element-plus/packages/components/popper/src/arrow.vue"]]);const ok="ElOnlyChild",ak=Ie({name:ok,setup(i,{slots:t,attrs:e}){var n;const r=Re(Mv),s=$4((n=r==null?void 0:r.setForwardRef)!=null?n:Dn);return()=>{var o;const a=(o=t.default)==null?void 0:o.call(t,e);if(!a||a.length>1)return null;const l=kv(a);return l?nl(vr(l,e),[[s]]):null}}});function kv(i){if(!i)return null;const t=i;for(const e of t){if(Ve(e))switch(e.type){case hi:continue;case Pl:return kh(e);case"svg":return kh(e);case tn:return kv(e.children);default:return e}return kh(e)}return null}function kh(i){return Jt("span",{class:"el-only-child__content"},[i])}const _v=Rn({virtualRef:{type:Ge(Object)},virtualTriggering:Boolean,onMouseenter:Function,onMouseleave:Function,onClick:Function,onKeydown:Function,onFocus:Function,onBlur:Function,onContextmenu:Function,id:String,open:Boolean}),lk={name:"ElPopperTrigger",inheritAttrs:!1},ck=Ie({...lk,props:_v,setup(i,{expose:t}){const e=i,{role:n,triggerRef:r}=Re(Bf,void 0);N4(r);const s=vt(()=>a.value?e.id:void 0),o=vt(()=>{if(n&&n.value==="tooltip")return e.open&&e.id?e.id:void 0}),a=vt(()=>{if(n&&n.value!=="tooltip")return n.value}),l=vt(()=>a.value?`${e.open}`:void 0);let c;return Nn(()=>{Qt(()=>e.virtualRef,u=>{u&&(r.value=Is(u))},{immediate:!0}),Qt(()=>r.value,(u,h)=>{c==null||c(),c=void 0,cl(u)&&(["onMouseenter","onMouseleave","onClick","onKeydown","onFocus","onBlur","onContextmenu"].forEach(f=>{var p;const b=e[f];b&&(u.addEventListener(f.slice(2).toLowerCase(),b),(p=h==null?void 0:h.removeEventListener)==null||p.call(h,f.slice(2).toLowerCase(),b))}),c=Qt([s,o,a,l],f=>{["aria-controls","aria-describedby","aria-haspopup","aria-expanded"].forEach((p,b)=>{$u(f[b])?u.removeAttribute(p):u.setAttribute(p,f[b])})},{immediate:!0})),cl(h)&&["aria-controls","aria-describedby","aria-haspopup","aria-expanded"].forEach(f=>h.removeAttribute(f))},{immediate:!0})}),sr(()=>{c==null||c(),c=void 0}),t({triggerRef:r}),(u,h)=>u.virtualTriggering?ve("v-if",!0):(St(),Ae(U(ak),Fs({key:0},u.$attrs,{"aria-controls":U(s),"aria-describedby":U(o),"aria-expanded":U(l),"aria-haspopup":U(a)}),{default:we(()=>[Je(u.$slots,"default")]),_:3},16,["aria-controls","aria-describedby","aria-expanded","aria-haspopup"]))}});var uk=ln(ck,[["__file","/home/runner/work/element-plus/element-plus/packages/components/popper/src/trigger.vue"]]),Xn="top",Ai="bottom",Mi="right",Yn="left",Hf="auto",Ll=[Xn,Ai,Mi,Yn],Ro="start",ul="end",hk="clippingParents",Dv="viewport",Ma="popper",dk="reference",I0=Ll.reduce(function(i,t){return i.concat([t+"-"+Ro,t+"-"+ul])},[]),Gf=[].concat(Ll,[Hf]).reduce(function(i,t){return i.concat([t,t+"-"+Ro,t+"-"+ul])},[]),fk="beforeRead",pk="read",gk="afterRead",mk="beforeMain",bk="main",vk="afterMain",yk="beforeWrite",xk="write",wk="afterWrite",Ck=[fk,pk,gk,mk,bk,vk,yk,xk,wk];function Qi(i){return i?(i.nodeName||"").toLowerCase():null}function Hi(i){if(i==null)return window;if(i.toString()!=="[object Window]"){var t=i.ownerDocument;return t&&t.defaultView||window}return i}function Vo(i){var t=Hi(i).Element;return i instanceof t||i instanceof Element}function wi(i){var t=Hi(i).HTMLElement;return i instanceof t||i instanceof HTMLElement}function qf(i){if(typeof ShadowRoot=="undefined")return!1;var t=Hi(i).ShadowRoot;return i instanceof t||i instanceof ShadowRoot}function Ek(i){var t=i.state;Object.keys(t.elements).forEach(function(e){var n=t.styles[e]||{},r=t.attributes[e]||{},s=t.elements[e];!wi(s)||!Qi(s)||(Object.assign(s.style,n),Object.keys(r).forEach(function(o){var a=r[o];a===!1?s.removeAttribute(o):s.setAttribute(o,a===!0?"":a)}))})}function Sk(i){var t=i.state,e={popper:{position:t.options.strategy,left:"0",top:"0",margin:"0"},arrow:{position:"absolute"},reference:{}};return Object.assign(t.elements.popper.style,e.popper),t.styles=e,t.elements.arrow&&Object.assign(t.elements.arrow.style,e.arrow),function(){Object.keys(t.elements).forEach(function(n){var r=t.elements[n],s=t.attributes[n]||{},o=Object.keys(t.styles.hasOwnProperty(n)?t.styles[n]:e[n]),a=o.reduce(function(l,c){return l[c]="",l},{});!wi(r)||!Qi(r)||(Object.assign(r.style,a),Object.keys(s).forEach(function(l){r.removeAttribute(l)}))})}}var Nv={name:"applyStyles",enabled:!0,phase:"write",fn:Ek,effect:Sk,requires:["computeStyles"]};function Ki(i){return i.split("-")[0]}var zs=Math.max,qc=Math.min,Ho=Math.round;function Go(i,t){t===void 0&&(t=!1);var e=i.getBoundingClientRect(),n=1,r=1;if(wi(i)&&t){var s=i.offsetHeight,o=i.offsetWidth;o>0&&(n=Ho(e.width)/o||1),s>0&&(r=Ho(e.height)/s||1)}return{width:e.width/n,height:e.height/r,top:e.top/r,right:e.right/n,bottom:e.bottom/r,left:e.left/n,x:e.left/n,y:e.top/r}}function Uf(i){var t=Go(i),e=i.offsetWidth,n=i.offsetHeight;return Math.abs(t.width-e)<=1&&(e=t.width),Math.abs(t.height-n)<=1&&(n=t.height),{x:i.offsetLeft,y:i.offsetTop,width:e,height:n}}function $v(i,t){var e=t.getRootNode&&t.getRootNode();if(i.contains(t))return!0;if(e&&qf(e)){var n=t;do{if(n&&i.isSameNode(n))return!0;n=n.parentNode||n.host}while(n)}return!1}function xr(i){return Hi(i).getComputedStyle(i)}function Ak(i){return["table","td","th"].indexOf(Qi(i))>=0}function rs(i){return((Vo(i)?i.ownerDocument:i.document)||window.document).documentElement}function Iu(i){return Qi(i)==="html"?i:i.assignedSlot||i.parentNode||(qf(i)?i.host:null)||rs(i)}function z0(i){return!wi(i)||xr(i).position==="fixed"?null:i.offsetParent}function Mk(i){var t=navigator.userAgent.toLowerCase().indexOf("firefox")!==-1,e=navigator.userAgent.indexOf("Trident")!==-1;if(e&&wi(i)){var n=xr(i);if(n.position==="fixed")return null}var r=Iu(i);for(qf(r)&&(r=r.host);wi(r)&&["html","body"].indexOf(Qi(r))<0;){var s=xr(r);if(s.transform!=="none"||s.perspective!=="none"||s.contain==="paint"||["transform","perspective"].indexOf(s.willChange)!==-1||t&&s.willChange==="filter"||t&&s.filter&&s.filter!=="none")return r;r=r.parentNode}return null}function Il(i){for(var t=Hi(i),e=z0(i);e&&Ak(e)&&xr(e).position==="static";)e=z0(e);return e&&(Qi(e)==="html"||Qi(e)==="body"&&xr(e).position==="static")?t:e||Mk(i)||t}function Wf(i){return["top","bottom"].indexOf(i)>=0?"x":"y"}function Ha(i,t,e){return zs(i,qc(t,e))}function Ok(i,t,e){var n=Ha(i,t,e);return n>e?e:n}function Fv(){return{top:0,right:0,bottom:0,left:0}}function Lv(i){return Object.assign({},Fv(),i)}function Iv(i,t){return t.reduce(function(e,n){return e[n]=i,e},{})}var Tk=function(i,t){return i=typeof i=="function"?i(Object.assign({},t.rects,{placement:t.placement})):i,Lv(typeof i!="number"?i:Iv(i,Ll))};function Pk(i){var t,e=i.state,n=i.name,r=i.options,s=e.elements.arrow,o=e.modifiersData.popperOffsets,a=Ki(e.placement),l=Wf(a),c=[Yn,Mi].indexOf(a)>=0,u=c?"height":"width";if(!(!s||!o)){var h=Tk(r.padding,e),f=Uf(s),p=l==="y"?Xn:Yn,b=l==="y"?Ai:Mi,v=e.rects.reference[u]+e.rects.reference[l]-o[l]-e.rects.popper[u],w=o[l]-e.rects.reference[l],x=Il(s),E=x?l==="y"?x.clientHeight||0:x.clientWidth||0:0,S=v/2-w/2,O=h[p],k=E-f[u]-h[b],m=E/2-f[u]/2+S,T=Ha(O,m,k),D=l;e.modifiersData[n]=(t={},t[D]=T,t.centerOffset=T-m,t)}}function kk(i){var t=i.state,e=i.options,n=e.element,r=n===void 0?"[data-popper-arrow]":n;r!=null&&(typeof r=="string"&&(r=t.elements.popper.querySelector(r),!r)||!$v(t.elements.popper,r)||(t.elements.arrow=r))}var _k={name:"arrow",enabled:!0,phase:"main",fn:Pk,effect:kk,requires:["popperOffsets"],requiresIfExists:["preventOverflow"]};function qo(i){return i.split("-")[1]}var Dk={top:"auto",right:"auto",bottom:"auto",left:"auto"};function Nk(i){var t=i.x,e=i.y,n=window,r=n.devicePixelRatio||1;return{x:Ho(t*r)/r||0,y:Ho(e*r)/r||0}}function j0(i){var t,e=i.popper,n=i.popperRect,r=i.placement,s=i.variation,o=i.offsets,a=i.position,l=i.gpuAcceleration,c=i.adaptive,u=i.roundOffsets,h=i.isFixed,f=o.x,p=f===void 0?0:f,b=o.y,v=b===void 0?0:b,w=typeof u=="function"?u({x:p,y:v}):{x:p,y:v};p=w.x,v=w.y;var x=o.hasOwnProperty("x"),E=o.hasOwnProperty("y"),S=Yn,O=Xn,k=window;if(c){var m=Il(e),T="clientHeight",D="clientWidth";if(m===Hi(e)&&(m=rs(e),xr(m).position!=="static"&&a==="absolute"&&(T="scrollHeight",D="scrollWidth")),m=m,r===Xn||(r===Yn||r===Mi)&&s===ul){O=Ai;var z=h&&m===k&&k.visualViewport?k.visualViewport.height:m[T];v-=z-n.height,v*=l?1:-1}if(r===Yn||(r===Xn||r===Ai)&&s===ul){S=Mi;var H=h&&m===k&&k.visualViewport?k.visualViewport.width:m[D];p-=H-n.width,p*=l?1:-1}}var q=Object.assign({position:a},c&&Dk),R=u===!0?Nk({x:p,y:v}):{x:p,y:v};if(p=R.x,v=R.y,l){var rt;return Object.assign({},q,(rt={},rt[O]=E?"0":"",rt[S]=x?"0":"",rt.transform=(k.devicePixelRatio||1)<=1?"translate("+p+"px, "+v+"px)":"translate3d("+p+"px, "+v+"px, 0)",rt))}return Object.assign({},q,(t={},t[O]=E?v+"px":"",t[S]=x?p+"px":"",t.transform="",t))}function $k(i){var t=i.state,e=i.options,n=e.gpuAcceleration,r=n===void 0?!0:n,s=e.adaptive,o=s===void 0?!0:s,a=e.roundOffsets,l=a===void 0?!0:a,c={placement:Ki(t.placement),variation:qo(t.placement),popper:t.elements.popper,popperRect:t.rects.popper,gpuAcceleration:r,isFixed:t.options.strategy==="fixed"};t.modifiersData.popperOffsets!=null&&(t.styles.popper=Object.assign({},t.styles.popper,j0(Object.assign({},c,{offsets:t.modifiersData.popperOffsets,position:t.options.strategy,adaptive:o,roundOffsets:l})))),t.modifiersData.arrow!=null&&(t.styles.arrow=Object.assign({},t.styles.arrow,j0(Object.assign({},c,{offsets:t.modifiersData.arrow,position:"absolute",adaptive:!1,roundOffsets:l})))),t.attributes.popper=Object.assign({},t.attributes.popper,{"data-popper-placement":t.placement})}var zv={name:"computeStyles",enabled:!0,phase:"beforeWrite",fn:$k,data:{}},cc={passive:!0};function Fk(i){var t=i.state,e=i.instance,n=i.options,r=n.scroll,s=r===void 0?!0:r,o=n.resize,a=o===void 0?!0:o,l=Hi(t.elements.popper),c=[].concat(t.scrollParents.reference,t.scrollParents.popper);return s&&c.forEach(function(u){u.addEventListener("scroll",e.update,cc)}),a&&l.addEventListener("resize",e.update,cc),function(){s&&c.forEach(function(u){u.removeEventListener("scroll",e.update,cc)}),a&&l.removeEventListener("resize",e.update,cc)}}var jv={name:"eventListeners",enabled:!0,phase:"write",fn:function(){},effect:Fk,data:{}},Lk={left:"right",right:"left",bottom:"top",top:"bottom"};function Ec(i){return i.replace(/left|right|bottom|top/g,function(t){return Lk[t]})}var Ik={start:"end",end:"start"};function B0(i){return i.replace(/start|end/g,function(t){return Ik[t]})}function Xf(i){var t=Hi(i),e=t.pageXOffset,n=t.pageYOffset;return{scrollLeft:e,scrollTop:n}}function Yf(i){return Go(rs(i)).left+Xf(i).scrollLeft}function zk(i){var t=Hi(i),e=rs(i),n=t.visualViewport,r=e.clientWidth,s=e.clientHeight,o=0,a=0;return n&&(r=n.width,s=n.height,/^((?!chrome|android).)*safari/i.test(navigator.userAgent)||(o=n.offsetLeft,a=n.offsetTop)),{width:r,height:s,x:o+Yf(i),y:a}}function jk(i){var t,e=rs(i),n=Xf(i),r=(t=i.ownerDocument)==null?void 0:t.body,s=zs(e.scrollWidth,e.clientWidth,r?r.scrollWidth:0,r?r.clientWidth:0),o=zs(e.scrollHeight,e.clientHeight,r?r.scrollHeight:0,r?r.clientHeight:0),a=-n.scrollLeft+Yf(i),l=-n.scrollTop;return xr(r||e).direction==="rtl"&&(a+=zs(e.clientWidth,r?r.clientWidth:0)-s),{width:s,height:o,x:a,y:l}}function Kf(i){var t=xr(i),e=t.overflow,n=t.overflowX,r=t.overflowY;return/auto|scroll|overlay|hidden/.test(e+r+n)}function Bv(i){return["html","body","#document"].indexOf(Qi(i))>=0?i.ownerDocument.body:wi(i)&&Kf(i)?i:Bv(Iu(i))}function Ga(i,t){var e;t===void 0&&(t=[]);var n=Bv(i),r=n===((e=i.ownerDocument)==null?void 0:e.body),s=Hi(n),o=r?[s].concat(s.visualViewport||[],Kf(n)?n:[]):n,a=t.concat(o);return r?a:a.concat(Ga(Iu(o)))}function Cd(i){return Object.assign({},i,{left:i.x,top:i.y,right:i.x+i.width,bottom:i.y+i.height})}function Bk(i){var t=Go(i);return t.top=t.top+i.clientTop,t.left=t.left+i.clientLeft,t.bottom=t.top+i.clientHeight,t.right=t.left+i.clientWidth,t.width=i.clientWidth,t.height=i.clientHeight,t.x=t.left,t.y=t.top,t}function R0(i,t){return t===Dv?Cd(zk(i)):Vo(t)?Bk(t):Cd(jk(rs(i)))}function Rk(i){var t=Ga(Iu(i)),e=["absolute","fixed"].indexOf(xr(i).position)>=0,n=e&&wi(i)?Il(i):i;return Vo(n)?t.filter(function(r){return Vo(r)&&$v(r,n)&&Qi(r)!=="body"}):[]}function Vk(i,t,e){var n=t==="clippingParents"?Rk(i):[].concat(t),r=[].concat(n,[e]),s=r[0],o=r.reduce(function(a,l){var c=R0(i,l);return a.top=zs(c.top,a.top),a.right=qc(c.right,a.right),a.bottom=qc(c.bottom,a.bottom),a.left=zs(c.left,a.left),a},R0(i,s));return o.width=o.right-o.left,o.height=o.bottom-o.top,o.x=o.left,o.y=o.top,o}function Rv(i){var t=i.reference,e=i.element,n=i.placement,r=n?Ki(n):null,s=n?qo(n):null,o=t.x+t.width/2-e.width/2,a=t.y+t.height/2-e.height/2,l;switch(r){case Xn:l={x:o,y:t.y-e.height};break;case Ai:l={x:o,y:t.y+t.height};break;case Mi:l={x:t.x+t.width,y:a};break;case Yn:l={x:t.x-e.width,y:a};break;default:l={x:t.x,y:t.y}}var c=r?Wf(r):null;if(c!=null){var u=c==="y"?"height":"width";switch(s){case Ro:l[c]=l[c]-(t[u]/2-e[u]/2);break;case ul:l[c]=l[c]+(t[u]/2-e[u]/2);break}}return l}function hl(i,t){t===void 0&&(t={});var e=t,n=e.placement,r=n===void 0?i.placement:n,s=e.boundary,o=s===void 0?hk:s,a=e.rootBoundary,l=a===void 0?Dv:a,c=e.elementContext,u=c===void 0?Ma:c,h=e.altBoundary,f=h===void 0?!1:h,p=e.padding,b=p===void 0?0:p,v=Lv(typeof b!="number"?b:Iv(b,Ll)),w=u===Ma?dk:Ma,x=i.rects.popper,E=i.elements[f?w:u],S=Vk(Vo(E)?E:E.contextElement||rs(i.elements.popper),o,l),O=Go(i.elements.reference),k=Rv({reference:O,element:x,strategy:"absolute",placement:r}),m=Cd(Object.assign({},x,k)),T=u===Ma?m:O,D={top:S.top-T.top+v.top,bottom:T.bottom-S.bottom+v.bottom,left:S.left-T.left+v.left,right:T.right-S.right+v.right},z=i.modifiersData.offset;if(u===Ma&&z){var H=z[r];Object.keys(D).forEach(function(q){var R=[Mi,Ai].indexOf(q)>=0?1:-1,rt=[Xn,Ai].indexOf(q)>=0?"y":"x";D[q]+=H[rt]*R})}return D}function Hk(i,t){t===void 0&&(t={});var e=t,n=e.placement,r=e.boundary,s=e.rootBoundary,o=e.padding,a=e.flipVariations,l=e.allowedAutoPlacements,c=l===void 0?Gf:l,u=qo(n),h=u?a?I0:I0.filter(function(b){return qo(b)===u}):Ll,f=h.filter(function(b){return c.indexOf(b)>=0});f.length===0&&(f=h);var p=f.reduce(function(b,v){return b[v]=hl(i,{placement:v,boundary:r,rootBoundary:s,padding:o})[Ki(v)],b},{});return Object.keys(p).sort(function(b,v){return p[b]-p[v]})}function Gk(i){if(Ki(i)===Hf)return[];var t=Ec(i);return[B0(i),t,B0(t)]}function qk(i){var t=i.state,e=i.options,n=i.name;if(!t.modifiersData[n]._skip){for(var r=e.mainAxis,s=r===void 0?!0:r,o=e.altAxis,a=o===void 0?!0:o,l=e.fallbackPlacements,c=e.padding,u=e.boundary,h=e.rootBoundary,f=e.altBoundary,p=e.flipVariations,b=p===void 0?!0:p,v=e.allowedAutoPlacements,w=t.options.placement,x=Ki(w),E=x===w,S=l||(E||!b?[Ec(w)]:Gk(w)),O=[w].concat(S).reduce(function(_t,zt){return _t.concat(Ki(zt)===Hf?Hk(t,{placement:zt,boundary:u,rootBoundary:h,padding:c,flipVariations:b,allowedAutoPlacements:v}):zt)},[]),k=t.rects.reference,m=t.rects.popper,T=new Map,D=!0,z=O[0],H=0;H<O.length;H++){var q=O[H],R=Ki(q),rt=qo(q)===Ro,st=[Xn,Ai].indexOf(R)>=0,j=st?"width":"height",B=hl(t,{placement:q,boundary:u,rootBoundary:h,altBoundary:f,padding:c}),tt=st?rt?Mi:Yn:rt?Ai:Xn;k[j]>m[j]&&(tt=Ec(tt));var bt=Ec(tt),Ot=[];if(s&&Ot.push(B[R]<=0),a&&Ot.push(B[tt]<=0,B[bt]<=0),Ot.every(function(_t){return _t})){z=q,D=!1;break}T.set(q,Ot)}if(D)for(var Gt=b?3:1,pt=function(_t){var zt=O.find(function(de){var at=T.get(de);if(at)return at.slice(0,_t).every(function(Tt){return Tt})});if(zt)return z=zt,"break"},$t=Gt;$t>0;$t--){var Dt=pt($t);if(Dt==="break")break}t.placement!==z&&(t.modifiersData[n]._skip=!0,t.placement=z,t.reset=!0)}}var Uk={name:"flip",enabled:!0,phase:"main",fn:qk,requiresIfExists:["offset"],data:{_skip:!1}};function V0(i,t,e){return e===void 0&&(e={x:0,y:0}),{top:i.top-t.height-e.y,right:i.right-t.width+e.x,bottom:i.bottom-t.height+e.y,left:i.left-t.width-e.x}}function H0(i){return[Xn,Mi,Ai,Yn].some(function(t){return i[t]>=0})}function Wk(i){var t=i.state,e=i.name,n=t.rects.reference,r=t.rects.popper,s=t.modifiersData.preventOverflow,o=hl(t,{elementContext:"reference"}),a=hl(t,{altBoundary:!0}),l=V0(o,n),c=V0(a,r,s),u=H0(l),h=H0(c);t.modifiersData[e]={referenceClippingOffsets:l,popperEscapeOffsets:c,isReferenceHidden:u,hasPopperEscaped:h},t.attributes.popper=Object.assign({},t.attributes.popper,{"data-popper-reference-hidden":u,"data-popper-escaped":h})}var Xk={name:"hide",enabled:!0,phase:"main",requiresIfExists:["preventOverflow"],fn:Wk};function Yk(i,t,e){var n=Ki(i),r=[Yn,Xn].indexOf(n)>=0?-1:1,s=typeof e=="function"?e(Object.assign({},t,{placement:i})):e,o=s[0],a=s[1];return o=o||0,a=(a||0)*r,[Yn,Mi].indexOf(n)>=0?{x:a,y:o}:{x:o,y:a}}function Kk(i){var t=i.state,e=i.options,n=i.name,r=e.offset,s=r===void 0?[0,0]:r,o=Gf.reduce(function(u,h){return u[h]=Yk(h,t.rects,s),u},{}),a=o[t.placement],l=a.x,c=a.y;t.modifiersData.popperOffsets!=null&&(t.modifiersData.popperOffsets.x+=l,t.modifiersData.popperOffsets.y+=c),t.modifiersData[n]=o}var Jk={name:"offset",enabled:!0,phase:"main",requires:["popperOffsets"],fn:Kk};function Zk(i){var t=i.state,e=i.name;t.modifiersData[e]=Rv({reference:t.rects.reference,element:t.rects.popper,strategy:"absolute",placement:t.placement})}var Vv={name:"popperOffsets",enabled:!0,phase:"read",fn:Zk,data:{}};function Qk(i){return i==="x"?"y":"x"}function t_(i){var t=i.state,e=i.options,n=i.name,r=e.mainAxis,s=r===void 0?!0:r,o=e.altAxis,a=o===void 0?!1:o,l=e.boundary,c=e.rootBoundary,u=e.altBoundary,h=e.padding,f=e.tether,p=f===void 0?!0:f,b=e.tetherOffset,v=b===void 0?0:b,w=hl(t,{boundary:l,rootBoundary:c,padding:h,altBoundary:u}),x=Ki(t.placement),E=qo(t.placement),S=!E,O=Wf(x),k=Qk(O),m=t.modifiersData.popperOffsets,T=t.rects.reference,D=t.rects.popper,z=typeof v=="function"?v(Object.assign({},t.rects,{placement:t.placement})):v,H=typeof z=="number"?{mainAxis:z,altAxis:z}:Object.assign({mainAxis:0,altAxis:0},z),q=t.modifiersData.offset?t.modifiersData.offset[t.placement]:null,R={x:0,y:0};if(m){if(s){var rt,st=O==="y"?Xn:Yn,j=O==="y"?Ai:Mi,B=O==="y"?"height":"width",tt=m[O],bt=tt+w[st],Ot=tt-w[j],Gt=p?-D[B]/2:0,pt=E===Ro?T[B]:D[B],$t=E===Ro?-D[B]:-T[B],Dt=t.elements.arrow,_t=p&&Dt?Uf(Dt):{width:0,height:0},zt=t.modifiersData["arrow#persistent"]?t.modifiersData["arrow#persistent"].padding:Fv(),de=zt[st],at=zt[j],Tt=Ha(0,T[B],_t[B]),Ut=S?T[B]/2-Gt-Tt-de-H.mainAxis:pt-Tt-de-H.mainAxis,te=S?-T[B]/2+Gt+Tt+at+H.mainAxis:$t+Tt+at+H.mainAxis,pn=t.elements.arrow&&Il(t.elements.arrow),$n=pn?O==="y"?pn.clientTop||0:pn.clientLeft||0:0,$=(rt=q==null?void 0:q[O])!=null?rt:0,G=tt+Ut-$-$n,Q=tt+te-$,K=Ha(p?qc(bt,G):bt,tt,p?zs(Ot,Q):Ot);m[O]=K,R[O]=K-tt}if(a){var nt,gt=O==="x"?Xn:Yn,wt=O==="x"?Ai:Mi,dt=m[k],mt=k==="y"?"height":"width",ut=dt+w[gt],Pt=dt-w[wt],Y=[Xn,Yn].indexOf(x)!==-1,ft=(nt=q==null?void 0:q[k])!=null?nt:0,kt=Y?ut:dt-T[mt]-D[mt]-ft+H.altAxis,Wt=Y?dt+T[mt]+D[mt]-ft-H.altAxis:Pt,le=p&&Y?Ok(kt,dt,Wt):Ha(p?kt:ut,dt,p?Wt:Pt);m[k]=le,R[k]=le-dt}t.modifiersData[n]=R}}var e_={name:"preventOverflow",enabled:!0,phase:"main",fn:t_,requiresIfExists:["offset"]};function n_(i){return{scrollLeft:i.scrollLeft,scrollTop:i.scrollTop}}function i_(i){return i===Hi(i)||!wi(i)?Xf(i):n_(i)}function r_(i){var t=i.getBoundingClientRect(),e=Ho(t.width)/i.offsetWidth||1,n=Ho(t.height)/i.offsetHeight||1;return e!==1||n!==1}function s_(i,t,e){e===void 0&&(e=!1);var n=wi(t),r=wi(t)&&r_(t),s=rs(t),o=Go(i,r),a={scrollLeft:0,scrollTop:0},l={x:0,y:0};return(n||!n&&!e)&&((Qi(t)!=="body"||Kf(s))&&(a=i_(t)),wi(t)?(l=Go(t,!0),l.x+=t.clientLeft,l.y+=t.clientTop):s&&(l.x=Yf(s))),{x:o.left+a.scrollLeft-l.x,y:o.top+a.scrollTop-l.y,width:o.width,height:o.height}}function o_(i){var t=new Map,e=new Set,n=[];i.forEach(function(s){t.set(s.name,s)});function r(s){e.add(s.name);var o=[].concat(s.requires||[],s.requiresIfExists||[]);o.forEach(function(a){if(!e.has(a)){var l=t.get(a);l&&r(l)}}),n.push(s)}return i.forEach(function(s){e.has(s.name)||r(s)}),n}function a_(i){var t=o_(i);return Ck.reduce(function(e,n){return e.concat(t.filter(function(r){return r.phase===n}))},[])}function l_(i){var t;return function(){return t||(t=new Promise(function(e){Promise.resolve().then(function(){t=void 0,e(i())})})),t}}function c_(i){var t=i.reduce(function(e,n){var r=e[n.name];return e[n.name]=r?Object.assign({},r,n,{options:Object.assign({},r.options,n.options),data:Object.assign({},r.data,n.data)}):n,e},{});return Object.keys(t).map(function(e){return t[e]})}var G0={placement:"bottom",modifiers:[],strategy:"absolute"};function q0(){for(var i=arguments.length,t=new Array(i),e=0;e<i;e++)t[e]=arguments[e];return!t.some(function(n){return!(n&&typeof n.getBoundingClientRect=="function")})}function Jf(i){i===void 0&&(i={});var t=i,e=t.defaultModifiers,n=e===void 0?[]:e,r=t.defaultOptions,s=r===void 0?G0:r;return function(o,a,l){l===void 0&&(l=s);var c={placement:"bottom",orderedModifiers:[],options:Object.assign({},G0,s),modifiersData:{},elements:{reference:o,popper:a},attributes:{},styles:{}},u=[],h=!1,f={state:c,setOptions:function(v){var w=typeof v=="function"?v(c.options):v;b(),c.options=Object.assign({},s,c.options,w),c.scrollParents={reference:Vo(o)?Ga(o):o.contextElement?Ga(o.contextElement):[],popper:Ga(a)};var x=a_(c_([].concat(n,c.options.modifiers)));return c.orderedModifiers=x.filter(function(E){return E.enabled}),p(),f.update()},forceUpdate:function(){if(!h){var v=c.elements,w=v.reference,x=v.popper;if(q0(w,x)){c.rects={reference:s_(w,Il(x),c.options.strategy==="fixed"),popper:Uf(x)},c.reset=!1,c.placement=c.options.placement,c.orderedModifiers.forEach(function(D){return c.modifiersData[D.name]=Object.assign({},D.data)});for(var E=0;E<c.orderedModifiers.length;E++){if(c.reset===!0){c.reset=!1,E=-1;continue}var S=c.orderedModifiers[E],O=S.fn,k=S.options,m=k===void 0?{}:k,T=S.name;typeof O=="function"&&(c=O({state:c,options:m,name:T,instance:f})||c)}}}},update:l_(function(){return new Promise(function(v){f.forceUpdate(),v(c)})}),destroy:function(){b(),h=!0}};if(!q0(o,a))return f;f.setOptions(l).then(function(v){!h&&l.onFirstUpdate&&l.onFirstUpdate(v)});function p(){c.orderedModifiers.forEach(function(v){var w=v.name,x=v.options,E=x===void 0?{}:x,S=v.effect;if(typeof S=="function"){var O=S({state:c,name:w,instance:f,options:E}),k=function(){};u.push(O||k)}})}function b(){u.forEach(function(v){return v()}),u=[]}return f}}Jf();var u_=[jv,Vv,zv,Nv];Jf({defaultModifiers:u_});var h_=[jv,Vv,zv,Nv,Jk,Uk,e_,_k,Xk],d_=Jf({defaultModifiers:h_});const Hv=i=>{const t=[],e=document.createTreeWalker(i,NodeFilter.SHOW_ELEMENT,{acceptNode:n=>{const r=n.tagName==="INPUT"&&n.type==="hidden";return n.disabled||n.hidden||r?NodeFilter.FILTER_SKIP:n.tabIndex>=0||n===document.activeElement?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;e.nextNode();)t.push(e.currentNode);return t},U0=(i,t)=>{for(const e of i)if(!f_(e,t))return e},f_=(i,t)=>{if(getComputedStyle(i).visibility==="hidden")return!0;for(;i;){if(t&&i===t)return!1;if(getComputedStyle(i).display==="none")return!0;i=i.parentElement}return!1},p_=i=>{const t=Hv(i),e=U0(t,i),n=U0(t.reverse(),i);return[e,n]},g_=i=>i instanceof HTMLInputElement&&"select"in i,Ir=(i,t)=>{if(i&&i.focus){const e=document.activeElement;i.focus({preventScroll:!0}),i!==e&&g_(i)&&t&&i.select()}};function W0(i,t){const e=[...i],n=i.indexOf(t);return n!==-1&&e.splice(n,1),e}const m_=()=>{let i=[];return{push:n=>{const r=i[0];r&&n!==r&&r.pause(),i=W0(i,n),i.unshift(n)},remove:n=>{var r,s;i=W0(i,n),(s=(r=i[0])==null?void 0:r.resume)==null||s.call(r)}}},b_=(i,t=!1)=>{const e=document.activeElement;for(const n of i)if(Ir(n,t),document.activeElement!==e)return},X0=m_(),_h="focus-trap.focus-after-trapped",Dh="focus-trap.focus-after-released",Y0={cancelable:!0,bubbles:!1},K0="focusAfterTrapped",J0="focusAfterReleased",v_=Symbol("elFocusTrap"),y_=Ie({name:"ElFocusTrap",inheritAttrs:!1,props:{loop:Boolean,trapped:Boolean,focusTrapEl:Object,focusStartEl:{type:[Object,String],default:"first"}},emits:[K0,J0,"focusin","focusout","focusout-prevented","release-requested"],setup(i,{emit:t}){const e=Mt();let n,r;T4(p=>{i.trapped&&!s.paused&&t("release-requested",p)});const s={paused:!1,pause(){this.paused=!0},resume(){this.paused=!1}},o=p=>{if(!i.loop&&!i.trapped||s.paused)return;const{key:b,altKey:v,ctrlKey:w,metaKey:x,currentTarget:E,shiftKey:S}=p,{loop:O}=i,k=b===Gc.tab&&!v&&!w&&!x,m=document.activeElement;if(k&&m){const T=E,[D,z]=p_(T);D&&z?!S&&m===z?(p.preventDefault(),O&&Ir(D,!0),t("focusout-prevented")):S&&[D,T].includes(m)&&(p.preventDefault(),O&&Ir(z,!0),t("focusout-prevented")):m===T&&(p.preventDefault(),t("focusout-prevented"))}};zi(v_,{focusTrapRef:e,onKeydown:o}),Qt(()=>i.focusTrapEl,p=>{p&&(e.value=p)},{immediate:!0}),Qt([e],([p],[b])=>{p&&(p.addEventListener("keydown",o),p.addEventListener("focusin",c),p.addEventListener("focusout",u)),b&&(b.removeEventListener("keydown",o),b.removeEventListener("focusin",c),b.removeEventListener("focusout",u))});const a=p=>{t(K0,p)},l=p=>t(J0,p),c=p=>{const b=U(e);if(!b)return;const v=p.target,w=v&&b.contains(v);w&&t("focusin",p),!s.paused&&i.trapped&&(w?r=v:Ir(r,!0))},u=p=>{const b=U(e);if(!(s.paused||!b))if(i.trapped){const v=p.relatedTarget;!$u(v)&&!b.contains(v)&&setTimeout(()=>{!s.paused&&i.trapped&&Ir(r,!0)},0)}else{const v=p.target;v&&b.contains(v)||t("focusout",p)}};async function h(){await Wn();const p=U(e);if(p){X0.push(s);const b=document.activeElement;if(n=b,!p.contains(b)){const w=new Event(_h,Y0);p.addEventListener(_h,a),p.dispatchEvent(w),w.defaultPrevented||Wn(()=>{let x=i.focusStartEl;Me(x)||(Ir(x),document.activeElement!==x&&(x="first")),x==="first"&&b_(Hv(p),!0),(document.activeElement===b||x==="container")&&Ir(p)})}}}function f(){const p=U(e);if(p){p.removeEventListener(_h,a);const b=new Event(Dh,Y0);p.addEventListener(Dh,l),p.dispatchEvent(b),b.defaultPrevented||Ir(n!=null?n:document.body,!0),p.removeEventListener(Dh,a),X0.remove(s)}}return Nn(()=>{i.trapped&&h(),Qt(()=>i.trapped,p=>{p?h():f()})}),sr(()=>{i.trapped&&f()}),{onKeydown:o}}});function x_(i,t,e,n,r,s){return Je(i.$slots,"default",{handleKeydown:i.onKeydown})}var w_=ln(y_,[["render",x_],["__file","/home/runner/work/element-plus/element-plus/packages/components/focus-trap/src/focus-trap.vue"]]);const C_=["fixed","absolute"],E_=Rn({boundariesPadding:{type:Number,default:0},fallbackPlacements:{type:Ge(Array),default:()=>[]},gpuAcceleration:{type:Boolean,default:!0},offset:{type:Number,default:12},placement:{type:String,values:Gf,default:"bottom"},popperOptions:{type:Ge(Object),default:()=>({})},strategy:{type:String,values:C_,default:"absolute"}}),Gv=Rn({...E_,id:String,style:{type:Ge([String,Array,Object])},className:{type:Ge([String,Array,Object])},effect:{type:String,default:"dark"},visible:Boolean,enterable:{type:Boolean,default:!0},pure:Boolean,focusOnShow:{type:Boolean,default:!1},trapping:{type:Boolean,default:!1},popperClass:{type:Ge([String,Array,Object])},popperStyle:{type:Ge([String,Array,Object])},referenceEl:{type:Ge(Object)},triggerTargetEl:{type:Ge(Object)},stopPopperMouseEvent:{type:Boolean,default:!0},ariaLabel:{type:String,default:void 0},virtualTriggering:Boolean,zIndex:Number}),S_=["mouseenter","mouseleave","focus","blur","close"],Z0=(i,t)=>{const{placement:e,strategy:n,popperOptions:r}=i,s={placement:e,strategy:n,...r,modifiers:M_(i)};return O_(s,t),T_(s,r==null?void 0:r.modifiers),s},A_=i=>{if(!!zn)return Is(i)};function M_(i){const{offset:t,gpuAcceleration:e,fallbackPlacements:n}=i;return[{name:"offset",options:{offset:[0,t!=null?t:12]}},{name:"preventOverflow",options:{padding:{top:2,bottom:2,left:5,right:5}}},{name:"flip",options:{padding:5,fallbackPlacements:n!=null?n:[]}},{name:"computeStyles",options:{gpuAcceleration:e,adaptive:e}}]}function O_(i,{arrowEl:t,arrowOffset:e}){i.modifiers.push({name:"arrow",options:{element:t,padding:e!=null?e:5}})}function T_(i,t){t&&(i.modifiers=[...i.modifiers,...t!=null?t:[]])}const P_={name:"ElPopperContent"},k_=Ie({...P_,props:Gv,emits:S_,setup(i,{expose:t,emit:e}){const n=i,{popperInstanceRef:r,contentRef:s,triggerRef:o,role:a}=Re(Bf,void 0),l=Re(Kr,void 0),{nextZIndex:c}=I4(),u=jn("popper"),h=Mt(),f=Mt("first"),p=Mt(),b=Mt();zi(yv,{arrowRef:p,arrowOffset:b}),l&&(l.addInputId||l.removeInputId)&&zi(Kr,{...l,addInputId:Dn,removeInputId:Dn});const v=Mt(n.zIndex||c()),w=Mt(!1);let x;const E=vt(()=>A_(n.referenceEl)||U(o)),S=vt(()=>[{zIndex:U(v)},n.popperStyle]),O=vt(()=>[u.b(),u.is("pure",n.pure),u.is(n.effect),n.popperClass]),k=vt(()=>a&&a.value==="dialog"?"false":void 0),m=({referenceEl:st,popperContentEl:j,arrowEl:B})=>{const tt=Z0(n,{arrowEl:B,arrowOffset:U(b)});return d_(st,j,tt)},T=(st=!0)=>{var j;(j=U(r))==null||j.update(),st&&(v.value=n.zIndex||c())},D=()=>{var st,j;const B={name:"eventListeners",enabled:n.visible};(j=(st=U(r))==null?void 0:st.setOptions)==null||j.call(st,tt=>({...tt,modifiers:[...tt.modifiers||[],B]})),T(!1),n.visible&&n.focusOnShow?w.value=!0:n.visible===!1&&(w.value=!1)},z=()=>{e("focus")},H=()=>{f.value="first",e("blur")},q=st=>{var j;n.visible&&!w.value&&(st.relatedTarget&&((j=st.relatedTarget)==null||j.focus()),st.target&&(f.value=st.target),w.value=!0)},R=()=>{n.trapping||(w.value=!1)},rt=()=>{w.value=!1,e("close")};return Nn(()=>{let st;Qt(E,j=>{var B;st==null||st();const tt=U(r);if((B=tt==null?void 0:tt.destroy)==null||B.call(tt),j){const bt=U(h);s.value=bt,r.value=m({referenceEl:j,popperContentEl:bt,arrowEl:U(p)}),st=Qt(()=>j.getBoundingClientRect(),()=>T(),{immediate:!0})}else r.value=void 0},{immediate:!0}),Qt(()=>n.triggerTargetEl,(j,B)=>{x==null||x(),x=void 0;const tt=U(j||h.value),bt=U(B||h.value);if(cl(tt)){const{ariaLabel:Ot,id:Gt}=lf(n);x=Qt([a,Ot,k,Gt],pt=>{["role","aria-label","aria-modal","id"].forEach(($t,Dt)=>{$u(pt[Dt])?tt.removeAttribute($t):tt.setAttribute($t,pt[Dt])})},{immediate:!0})}cl(bt)&&["role","aria-label","aria-modal","id"].forEach(Ot=>{bt.removeAttribute(Ot)})},{immediate:!0}),Qt(()=>n.visible,D,{immediate:!0}),Qt(()=>Z0(n,{arrowEl:U(p),arrowOffset:U(b)}),j=>{var B;return(B=r.value)==null?void 0:B.setOptions(j)})}),sr(()=>{x==null||x(),x=void 0}),t({popperContentRef:h,popperInstanceRef:r,updatePopper:T,contentStyle:S}),(st,j)=>(St(),Zt("div",{ref_key:"popperContentRef",ref:h,style:En(U(S)),class:qt(U(O)),tabindex:"-1",onMouseenter:j[0]||(j[0]=B=>st.$emit("mouseenter",B)),onMouseleave:j[1]||(j[1]=B=>st.$emit("mouseleave",B))},[Jt(U(w_),{trapped:w.value,"trap-on-focus-in":!0,"focus-trap-el":h.value,"focus-start-el":f.value,onFocusAfterTrapped:z,onFocusAfterReleased:H,onFocusin:q,onFocusoutPrevented:R,onReleaseRequested:rt},{default:we(()=>[Je(st.$slots,"default")]),_:3},8,["trapped","focus-trap-el","focus-start-el"])],38))}});var __=ln(k_,[["__file","/home/runner/work/element-plus/element-plus/packages/components/popper/src/content.vue"]]);const D_=oo(nk),N_=jn("tooltip"),qv=Rn({..._4,...Gv,appendTo:{type:Ge([String,Object]),default:Av},content:{type:String,default:""},rawContent:{type:Boolean,default:!1},persistent:Boolean,ariaLabel:String,visible:{type:Ge(Boolean),default:null},transition:{type:String,default:`${N_.namespace.value}-fade-in-linear`},teleported:{type:Boolean,default:!0},disabled:{type:Boolean}}),Uv=Rn({..._v,disabled:Boolean,trigger:{type:Ge([String,Array]),default:"hover"},triggerKeys:{type:Ge(Array),default:()=>[Gc.enter,Gc.space]}}),$_=Rn({openDelay:{type:Number},visibleArrow:{type:Boolean,default:void 0},hideAfter:{type:Number,default:200},showArrow:{type:Boolean,default:!0}}),Zf=Symbol("elTooltip"),F_=Ie({name:"ElTooltipContent",components:{ElPopperContent:__},inheritAttrs:!1,props:qv,setup(i){const t=Mt(null),e=Mt(!1),n=Mt(!1),r=Mt(!1),s=Mt(!1),{controlled:o,id:a,open:l,trigger:c,onClose:u,onOpen:h,onShow:f,onHide:p,onBeforeShow:b,onBeforeHide:v}=Re(Zf,void 0),w=vt(()=>i.persistent);sr(()=>{s.value=!0});const x=vt(()=>U(w)?!0:U(l)),E=vt(()=>i.disabled?!1:U(l)),S=vt(()=>{var st;return(st=i.style)!=null?st:{}}),O=vt(()=>!U(l)),k=()=>{p()},m=()=>{if(U(o))return!0},T=hr(m,()=>{i.enterable&&U(c)==="hover"&&h()}),D=hr(m,()=>{U(c)==="hover"&&u()}),z=()=>{var st,j;(j=(st=t.value)==null?void 0:st.updatePopper)==null||j.call(st),b==null||b()},H=()=>{v==null||v()},q=()=>{f(),rt=N3(vt(()=>{var st;return(st=t.value)==null?void 0:st.popperContentRef}),()=>{if(U(o))return;U(c)!=="hover"&&u()})},R=()=>{i.virtualTriggering||u()};let rt;return Qt(()=>U(l),st=>{st||rt==null||rt()},{flush:"post"}),{ariaHidden:O,entering:n,leaving:r,id:a,intermediateOpen:e,contentStyle:S,contentRef:t,destroyed:s,shouldRender:x,shouldShow:E,onClose:u,open:l,onAfterShow:q,onBeforeEnter:z,onBeforeLeave:H,onContentEnter:T,onContentLeave:D,onTransitionLeave:k,onBlur:R}}});function L_(i,t,e,n,r,s){const o=Pn("el-popper-content");return St(),Ae(EC,{disabled:!i.teleported,to:i.appendTo},[Jt(Eu,{name:i.transition,onAfterLeave:i.onTransitionLeave,onBeforeEnter:i.onBeforeEnter,onAfterEnter:i.onAfterShow,onBeforeLeave:i.onBeforeLeave},{default:we(()=>[i.shouldRender?nl((St(),Ae(o,Fs({key:0,id:i.id,ref:"contentRef"},i.$attrs,{"aria-label":i.ariaLabel,"aria-hidden":i.ariaHidden,"boundaries-padding":i.boundariesPadding,"fallback-placements":i.fallbackPlacements,"gpu-acceleration":i.gpuAcceleration,offset:i.offset,placement:i.placement,"popper-options":i.popperOptions,strategy:i.strategy,effect:i.effect,enterable:i.enterable,pure:i.pure,"popper-class":i.popperClass,"popper-style":[i.popperStyle,i.contentStyle],"reference-el":i.referenceEl,"trigger-target-el":i.triggerTargetEl,visible:i.shouldShow,"z-index":i.zIndex,onMouseenter:i.onContentEnter,onMouseleave:i.onContentLeave,onBlur:i.onBlur,onClose:i.onClose}),{default:we(()=>[ve(" Workaround bug #6378 "),i.destroyed?ve("v-if",!0):Je(i.$slots,"default",{key:0})]),_:3},16,["id","aria-label","aria-hidden","boundaries-padding","fallback-placements","gpu-acceleration","offset","placement","popper-options","strategy","effect","enterable","pure","popper-class","popper-style","reference-el","trigger-target-el","visible","z-index","onMouseenter","onMouseleave","onBlur","onClose"])),[[yf,i.shouldShow]]):ve("v-if",!0)]),_:3},8,["name","onAfterLeave","onBeforeEnter","onAfterEnter","onBeforeLeave"])],8,["disabled","to"])}var I_=ln(F_,[["render",L_],["__file","/home/runner/work/element-plus/element-plus/packages/components/tooltip/src/content.vue"]]);const z_=(i,t)=>Ht(i)?i.includes(t):i===t,bo=(i,t,e)=>n=>{z_(U(i),t)&&e(n)},j_=Ie({name:"ElTooltipTrigger",components:{ElPopperTrigger:uk},props:Uv,setup(i){const t=jn("tooltip"),{controlled:e,id:n,open:r,onOpen:s,onClose:o,onToggle:a}=Re(Zf,void 0),l=Mt(null),c=()=>{if(U(e)||i.disabled)return!0},u=Yr(i,"trigger"),h=hr(c,bo(u,"hover",s)),f=hr(c,bo(u,"hover",o)),p=hr(c,bo(u,"click",E=>{E.button===0&&a(E)})),b=hr(c,bo(u,"focus",s)),v=hr(c,bo(u,"focus",o)),w=hr(c,bo(u,"contextmenu",E=>{E.preventDefault(),a(E)})),x=hr(c,E=>{const{code:S}=E;i.triggerKeys.includes(S)&&(E.preventDefault(),a(E))});return{onBlur:v,onContextMenu:w,onFocus:b,onMouseenter:h,onMouseleave:f,onClick:p,onKeydown:x,open:r,id:n,triggerRef:l,ns:t}}});function B_(i,t,e,n,r,s){const o=Pn("el-popper-trigger");return St(),Ae(o,{id:i.id,"virtual-ref":i.virtualRef,open:i.open,"virtual-triggering":i.virtualTriggering,class:qt(i.ns.e("trigger")),onBlur:i.onBlur,onClick:i.onClick,onContextmenu:i.onContextMenu,onFocus:i.onFocus,onMouseenter:i.onMouseenter,onMouseleave:i.onMouseleave,onKeydown:i.onKeydown},{default:we(()=>[Je(i.$slots,"default")]),_:3},8,["id","virtual-ref","open","virtual-triggering","class","onBlur","onClick","onContextmenu","onFocus","onMouseenter","onMouseleave","onKeydown"])}var R_=ln(j_,[["render",B_],["__file","/home/runner/work/element-plus/element-plus/packages/components/tooltip/src/trigger.vue"]]);const{useModelToggleProps:V_,useModelToggle:H_,useModelToggleEmits:G_}=M4("visible"),q_=Ie({name:"ElTooltip",components:{ElPopper:D_,ElPopperArrow:sk,ElTooltipContent:I_,ElTooltipTrigger:R_},props:{...Tv,...V_,...qv,...Uv,...Pv,...$_},emits:[...G_,"before-show","before-hide","show","hide","open","close"],setup(i,{emit:t}){k4();const e=vt(()=>(xd(i.openDelay),i.openDelay||i.showAfter)),n=vt(()=>(xd(i.visibleArrow),sl(i.visibleArrow)?i.visibleArrow:i.showArrow)),r=Vf(),s=Mt(null),o=Mt(null),a=()=>{var w;const x=U(s);x&&((w=x.popperInstanceRef)==null||w.update())},l=Mt(!1),c=Mt(void 0),{show:u,hide:h}=H_({indicator:l,toggleReason:c}),{onOpen:f,onClose:p}=D4({showAfter:e,hideAfter:Yr(i,"hideAfter"),open:u,close:h}),b=vt(()=>sl(i.visible));return zi(Zf,{controlled:b,id:r,open:sf(l),trigger:Yr(i,"trigger"),onOpen:w=>{f(w)},onClose:w=>{p(w)},onToggle:w=>{U(l)?p(w):f(w)},onShow:()=>{t("show",c.value)},onHide:()=>{t("hide",c.value)},onBeforeShow:()=>{t("before-show",c.value)},onBeforeHide:()=>{t("before-hide",c.value)},updatePopper:a}),Qt(()=>i.disabled,w=>{w&&l.value&&(l.value=!1)}),{compatShowAfter:e,compatShowArrow:n,popperRef:s,contentRef:o,open:l,hide:h,isFocusInsideContent:()=>{var w,x;const E=(x=(w=o.value)==null?void 0:w.contentRef)==null?void 0:x.popperContentRef;return E&&E.contains(document.activeElement)},updatePopper:a,onOpen:f,onClose:p}}}),U_=["innerHTML"],W_={key:1};function X_(i,t,e,n,r,s){const o=Pn("el-tooltip-trigger"),a=Pn("el-popper-arrow"),l=Pn("el-tooltip-content"),c=Pn("el-popper");return St(),Ae(c,{ref:"popperRef",role:i.role},{default:we(()=>[Jt(o,{disabled:i.disabled,trigger:i.trigger,"trigger-keys":i.triggerKeys,"virtual-ref":i.virtualRef,"virtual-triggering":i.virtualTriggering},{default:we(()=>[i.$slots.default?Je(i.$slots,"default",{key:0}):ve("v-if",!0)]),_:3},8,["disabled","trigger","trigger-keys","virtual-ref","virtual-triggering"]),Jt(l,{ref:"contentRef","aria-label":i.ariaLabel,"boundaries-padding":i.boundariesPadding,content:i.content,disabled:i.disabled,effect:i.effect,enterable:i.enterable,"fallback-placements":i.fallbackPlacements,"hide-after":i.hideAfter,"gpu-acceleration":i.gpuAcceleration,offset:i.offset,persistent:i.persistent,"popper-class":i.popperClass,"popper-style":i.popperStyle,placement:i.placement,"popper-options":i.popperOptions,pure:i.pure,"raw-content":i.rawContent,"reference-el":i.referenceEl,"trigger-target-el":i.triggerTargetEl,"show-after":i.compatShowAfter,strategy:i.strategy,teleported:i.teleported,transition:i.transition,"virtual-triggering":i.virtualTriggering,"z-index":i.zIndex,"append-to":i.appendTo},{default:we(()=>[Je(i.$slots,"content",{},()=>[i.rawContent?(St(),Zt("span",{key:0,innerHTML:i.content},null,8,U_)):(St(),Zt("span",W_,Xi(i.content),1))]),i.compatShowArrow?(St(),Ae(a,{key:0,"arrow-offset":i.arrowOffset},null,8,["arrow-offset"])):ve("v-if",!0)]),_:3},8,["aria-label","boundaries-padding","content","disabled","effect","enterable","fallback-placements","hide-after","gpu-acceleration","offset","persistent","popper-class","popper-style","placement","popper-options","pure","raw-content","reference-el","trigger-target-el","show-after","strategy","teleported","transition","virtual-triggering","z-index","append-to"])]),_:3},8,["role"])}var Y_=ln(q_,[["render",X_],["__file","/home/runner/work/element-plus/element-plus/packages/components/tooltip/src/tooltip.vue"]]);const K_=oo(Y_),J_=["default","primary","success","warning","info","danger","text",""],Z_=["button","submit","reset"],Ed=Rn({size:wv,disabled:Boolean,type:{type:String,values:J_,default:""},icon:{type:Hc,default:""},nativeType:{type:String,values:Z_,default:"button"},loading:Boolean,loadingIcon:{type:Hc,default:()=>gv},plain:Boolean,text:Boolean,link:Boolean,bg:Boolean,autofocus:Boolean,round:Boolean,circle:Boolean,color:String,dark:Boolean,autoInsertSpace:{type:Boolean,default:void 0}}),Q_={click:i=>i instanceof MouseEvent};function wn(i,t){tD(i)&&(i="100%");var e=eD(i);return i=t===360?i:Math.min(t,Math.max(0,parseFloat(i))),e&&(i=parseInt(String(i*t),10)/100),Math.abs(i-t)<1e-6?1:(t===360?i=(i<0?i%t+t:i%t)/parseFloat(String(t)):i=i%t/parseFloat(String(t)),i)}function uc(i){return Math.min(1,Math.max(0,i))}function tD(i){return typeof i=="string"&&i.indexOf(".")!==-1&&parseFloat(i)===1}function eD(i){return typeof i=="string"&&i.indexOf("%")!==-1}function Wv(i){return i=parseFloat(i),(isNaN(i)||i<0||i>1)&&(i=1),i}function hc(i){return i<=1?"".concat(Number(i)*100,"%"):i}function ks(i){return i.length===1?"0"+i:String(i)}function nD(i,t,e){return{r:wn(i,255)*255,g:wn(t,255)*255,b:wn(e,255)*255}}function Q0(i,t,e){i=wn(i,255),t=wn(t,255),e=wn(e,255);var n=Math.max(i,t,e),r=Math.min(i,t,e),s=0,o=0,a=(n+r)/2;if(n===r)o=0,s=0;else{var l=n-r;switch(o=a>.5?l/(2-n-r):l/(n+r),n){case i:s=(t-e)/l+(t<e?6:0);break;case t:s=(e-i)/l+2;break;case e:s=(i-t)/l+4;break}s/=6}return{h:s,s:o,l:a}}function Nh(i,t,e){return e<0&&(e+=1),e>1&&(e-=1),e<1/6?i+(t-i)*(6*e):e<1/2?t:e<2/3?i+(t-i)*(2/3-e)*6:i}function iD(i,t,e){var n,r,s;if(i=wn(i,360),t=wn(t,100),e=wn(e,100),t===0)r=e,s=e,n=e;else{var o=e<.5?e*(1+t):e+t-e*t,a=2*e-o;n=Nh(a,o,i+1/3),r=Nh(a,o,i),s=Nh(a,o,i-1/3)}return{r:n*255,g:r*255,b:s*255}}function t2(i,t,e){i=wn(i,255),t=wn(t,255),e=wn(e,255);var n=Math.max(i,t,e),r=Math.min(i,t,e),s=0,o=n,a=n-r,l=n===0?0:a/n;if(n===r)s=0;else{switch(n){case i:s=(t-e)/a+(t<e?6:0);break;case t:s=(e-i)/a+2;break;case e:s=(i-t)/a+4;break}s/=6}return{h:s,s:l,v:o}}function rD(i,t,e){i=wn(i,360)*6,t=wn(t,100),e=wn(e,100);var n=Math.floor(i),r=i-n,s=e*(1-t),o=e*(1-r*t),a=e*(1-(1-r)*t),l=n%6,c=[e,o,s,s,a,e][l],u=[a,e,e,o,s,s][l],h=[s,s,a,e,e,o][l];return{r:c*255,g:u*255,b:h*255}}function e2(i,t,e,n){var r=[ks(Math.round(i).toString(16)),ks(Math.round(t).toString(16)),ks(Math.round(e).toString(16))];return n&&r[0].startsWith(r[0].charAt(1))&&r[1].startsWith(r[1].charAt(1))&&r[2].startsWith(r[2].charAt(1))?r[0].charAt(0)+r[1].charAt(0)+r[2].charAt(0):r.join("")}function sD(i,t,e,n,r){var s=[ks(Math.round(i).toString(16)),ks(Math.round(t).toString(16)),ks(Math.round(e).toString(16)),ks(oD(n))];return r&&s[0].startsWith(s[0].charAt(1))&&s[1].startsWith(s[1].charAt(1))&&s[2].startsWith(s[2].charAt(1))&&s[3].startsWith(s[3].charAt(1))?s[0].charAt(0)+s[1].charAt(0)+s[2].charAt(0)+s[3].charAt(0):s.join("")}function oD(i){return Math.round(parseFloat(i)*255).toString(16)}function n2(i){return ri(i)/255}function ri(i){return parseInt(i,16)}function aD(i){return{r:i>>16,g:(i&65280)>>8,b:i&255}}var Sd={aliceblue:"#f0f8ff",antiquewhite:"#faebd7",aqua:"#00ffff",aquamarine:"#7fffd4",azure:"#f0ffff",beige:"#f5f5dc",bisque:"#ffe4c4",black:"#000000",blanchedalmond:"#ffebcd",blue:"#0000ff",blueviolet:"#8a2be2",brown:"#a52a2a",burlywood:"#deb887",cadetblue:"#5f9ea0",chartreuse:"#7fff00",chocolate:"#d2691e",coral:"#ff7f50",cornflowerblue:"#6495ed",cornsilk:"#fff8dc",crimson:"#dc143c",cyan:"#00ffff",darkblue:"#00008b",darkcyan:"#008b8b",darkgoldenrod:"#b8860b",darkgray:"#a9a9a9",darkgreen:"#006400",darkgrey:"#a9a9a9",darkkhaki:"#bdb76b",darkmagenta:"#8b008b",darkolivegreen:"#556b2f",darkorange:"#ff8c00",darkorchid:"#9932cc",darkred:"#8b0000",darksalmon:"#e9967a",darkseagreen:"#8fbc8f",darkslateblue:"#483d8b",darkslategray:"#2f4f4f",darkslategrey:"#2f4f4f",darkturquoise:"#00ced1",darkviolet:"#9400d3",deeppink:"#ff1493",deepskyblue:"#00bfff",dimgray:"#696969",dimgrey:"#696969",dodgerblue:"#1e90ff",firebrick:"#b22222",floralwhite:"#fffaf0",forestgreen:"#228b22",fuchsia:"#ff00ff",gainsboro:"#dcdcdc",ghostwhite:"#f8f8ff",goldenrod:"#daa520",gold:"#ffd700",gray:"#808080",green:"#008000",greenyellow:"#adff2f",grey:"#808080",honeydew:"#f0fff0",hotpink:"#ff69b4",indianred:"#cd5c5c",indigo:"#4b0082",ivory:"#fffff0",khaki:"#f0e68c",lavenderblush:"#fff0f5",lavender:"#e6e6fa",lawngreen:"#7cfc00",lemonchiffon:"#fffacd",lightblue:"#add8e6",lightcoral:"#f08080",lightcyan:"#e0ffff",lightgoldenrodyellow:"#fafad2",lightgray:"#d3d3d3",lightgreen:"#90ee90",lightgrey:"#d3d3d3",lightpink:"#ffb6c1",lightsalmon:"#ffa07a",lightseagreen:"#20b2aa",lightskyblue:"#87cefa",lightslategray:"#778899",lightslategrey:"#778899",lightsteelblue:"#b0c4de",lightyellow:"#ffffe0",lime:"#00ff00",limegreen:"#32cd32",linen:"#faf0e6",magenta:"#ff00ff",maroon:"#800000",mediumaquamarine:"#66cdaa",mediumblue:"#0000cd",mediumorchid:"#ba55d3",mediumpurple:"#9370db",mediumseagreen:"#3cb371",mediumslateblue:"#7b68ee",mediumspringgreen:"#00fa9a",mediumturquoise:"#48d1cc",mediumvioletred:"#c71585",midnightblue:"#191970",mintcream:"#f5fffa",mistyrose:"#ffe4e1",moccasin:"#ffe4b5",navajowhite:"#ffdead",navy:"#000080",oldlace:"#fdf5e6",olive:"#808000",olivedrab:"#6b8e23",orange:"#ffa500",orangered:"#ff4500",orchid:"#da70d6",palegoldenrod:"#eee8aa",palegreen:"#98fb98",paleturquoise:"#afeeee",palevioletred:"#db7093",papayawhip:"#ffefd5",peachpuff:"#ffdab9",peru:"#cd853f",pink:"#ffc0cb",plum:"#dda0dd",powderblue:"#b0e0e6",purple:"#800080",rebeccapurple:"#663399",red:"#ff0000",rosybrown:"#bc8f8f",royalblue:"#4169e1",saddlebrown:"#8b4513",salmon:"#fa8072",sandybrown:"#f4a460",seagreen:"#2e8b57",seashell:"#fff5ee",sienna:"#a0522d",silver:"#c0c0c0",skyblue:"#87ceeb",slateblue:"#6a5acd",slategray:"#708090",slategrey:"#708090",snow:"#fffafa",springgreen:"#00ff7f",steelblue:"#4682b4",tan:"#d2b48c",teal:"#008080",thistle:"#d8bfd8",tomato:"#ff6347",turquoise:"#40e0d0",violet:"#ee82ee",wheat:"#f5deb3",white:"#ffffff",whitesmoke:"#f5f5f5",yellow:"#ffff00",yellowgreen:"#9acd32"};function lD(i){var t={r:0,g:0,b:0},e=1,n=null,r=null,s=null,o=!1,a=!1;return typeof i=="string"&&(i=hD(i)),typeof i=="object"&&(ur(i.r)&&ur(i.g)&&ur(i.b)?(t=nD(i.r,i.g,i.b),o=!0,a=String(i.r).substr(-1)==="%"?"prgb":"rgb"):ur(i.h)&&ur(i.s)&&ur(i.v)?(n=hc(i.s),r=hc(i.v),t=rD(i.h,n,r),o=!0,a="hsv"):ur(i.h)&&ur(i.s)&&ur(i.l)&&(n=hc(i.s),s=hc(i.l),t=iD(i.h,n,s),o=!0,a="hsl"),Object.prototype.hasOwnProperty.call(i,"a")&&(e=i.a)),e=Wv(e),{ok:o,format:i.format||a,r:Math.min(255,Math.max(t.r,0)),g:Math.min(255,Math.max(t.g,0)),b:Math.min(255,Math.max(t.b,0)),a:e}}var cD="[-\\+]?\\d+%?",uD="[-\\+]?\\d*\\.\\d+%?",Hr="(?:".concat(uD,")|(?:").concat(cD,")"),$h="[\\s|\\(]+(".concat(Hr,")[,|\\s]+(").concat(Hr,")[,|\\s]+(").concat(Hr,")\\s*\\)?"),Fh="[\\s|\\(]+(".concat(Hr,")[,|\\s]+(").concat(Hr,")[,|\\s]+(").concat(Hr,")[,|\\s]+(").concat(Hr,")\\s*\\)?"),Di={CSS_UNIT:new RegExp(Hr),rgb:new RegExp("rgb"+$h),rgba:new RegExp("rgba"+Fh),hsl:new RegExp("hsl"+$h),hsla:new RegExp("hsla"+Fh),hsv:new RegExp("hsv"+$h),hsva:new RegExp("hsva"+Fh),hex3:/^#?([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})$/,hex6:/^#?([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})$/,hex4:/^#?([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})$/,hex8:/^#?([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})$/};function hD(i){if(i=i.trim().toLowerCase(),i.length===0)return!1;var t=!1;if(Sd[i])i=Sd[i],t=!0;else if(i==="transparent")return{r:0,g:0,b:0,a:0,format:"name"};var e=Di.rgb.exec(i);return e?{r:e[1],g:e[2],b:e[3]}:(e=Di.rgba.exec(i),e?{r:e[1],g:e[2],b:e[3],a:e[4]}:(e=Di.hsl.exec(i),e?{h:e[1],s:e[2],l:e[3]}:(e=Di.hsla.exec(i),e?{h:e[1],s:e[2],l:e[3],a:e[4]}:(e=Di.hsv.exec(i),e?{h:e[1],s:e[2],v:e[3]}:(e=Di.hsva.exec(i),e?{h:e[1],s:e[2],v:e[3],a:e[4]}:(e=Di.hex8.exec(i),e?{r:ri(e[1]),g:ri(e[2]),b:ri(e[3]),a:n2(e[4]),format:t?"name":"hex8"}:(e=Di.hex6.exec(i),e?{r:ri(e[1]),g:ri(e[2]),b:ri(e[3]),format:t?"name":"hex"}:(e=Di.hex4.exec(i),e?{r:ri(e[1]+e[1]),g:ri(e[2]+e[2]),b:ri(e[3]+e[3]),a:n2(e[4]+e[4]),format:t?"name":"hex8"}:(e=Di.hex3.exec(i),e?{r:ri(e[1]+e[1]),g:ri(e[2]+e[2]),b:ri(e[3]+e[3]),format:t?"name":"hex"}:!1)))))))))}function ur(i){return Boolean(Di.CSS_UNIT.exec(String(i)))}var dD=function(){function i(t,e){t===void 0&&(t=""),e===void 0&&(e={});var n;if(t instanceof i)return t;typeof t=="number"&&(t=aD(t)),this.originalInput=t;var r=lD(t);this.originalInput=t,this.r=r.r,this.g=r.g,this.b=r.b,this.a=r.a,this.roundA=Math.round(100*this.a)/100,this.format=(n=e.format)!==null&&n!==void 0?n:r.format,this.gradientType=e.gradientType,this.r<1&&(this.r=Math.round(this.r)),this.g<1&&(this.g=Math.round(this.g)),this.b<1&&(this.b=Math.round(this.b)),this.isValid=r.ok}return i.prototype.isDark=function(){return this.getBrightness()<128},i.prototype.isLight=function(){return!this.isDark()},i.prototype.getBrightness=function(){var t=this.toRgb();return(t.r*299+t.g*587+t.b*114)/1e3},i.prototype.getLuminance=function(){var t=this.toRgb(),e,n,r,s=t.r/255,o=t.g/255,a=t.b/255;return s<=.03928?e=s/12.92:e=Math.pow((s+.055)/1.055,2.4),o<=.03928?n=o/12.92:n=Math.pow((o+.055)/1.055,2.4),a<=.03928?r=a/12.92:r=Math.pow((a+.055)/1.055,2.4),.2126*e+.7152*n+.0722*r},i.prototype.getAlpha=function(){return this.a},i.prototype.setAlpha=function(t){return this.a=Wv(t),this.roundA=Math.round(100*this.a)/100,this},i.prototype.toHsv=function(){var t=t2(this.r,this.g,this.b);return{h:t.h*360,s:t.s,v:t.v,a:this.a}},i.prototype.toHsvString=function(){var t=t2(this.r,this.g,this.b),e=Math.round(t.h*360),n=Math.round(t.s*100),r=Math.round(t.v*100);return this.a===1?"hsv(".concat(e,", ").concat(n,"%, ").concat(r,"%)"):"hsva(".concat(e,", ").concat(n,"%, ").concat(r,"%, ").concat(this.roundA,")")},i.prototype.toHsl=function(){var t=Q0(this.r,this.g,this.b);return{h:t.h*360,s:t.s,l:t.l,a:this.a}},i.prototype.toHslString=function(){var t=Q0(this.r,this.g,this.b),e=Math.round(t.h*360),n=Math.round(t.s*100),r=Math.round(t.l*100);return this.a===1?"hsl(".concat(e,", ").concat(n,"%, ").concat(r,"%)"):"hsla(".concat(e,", ").concat(n,"%, ").concat(r,"%, ").concat(this.roundA,")")},i.prototype.toHex=function(t){return t===void 0&&(t=!1),e2(this.r,this.g,this.b,t)},i.prototype.toHexString=function(t){return t===void 0&&(t=!1),"#"+this.toHex(t)},i.prototype.toHex8=function(t){return t===void 0&&(t=!1),sD(this.r,this.g,this.b,this.a,t)},i.prototype.toHex8String=function(t){return t===void 0&&(t=!1),"#"+this.toHex8(t)},i.prototype.toRgb=function(){return{r:Math.round(this.r),g:Math.round(this.g),b:Math.round(this.b),a:this.a}},i.prototype.toRgbString=function(){var t=Math.round(this.r),e=Math.round(this.g),n=Math.round(this.b);return this.a===1?"rgb(".concat(t,", ").concat(e,", ").concat(n,")"):"rgba(".concat(t,", ").concat(e,", ").concat(n,", ").concat(this.roundA,")")},i.prototype.toPercentageRgb=function(){var t=function(e){return"".concat(Math.round(wn(e,255)*100),"%")};return{r:t(this.r),g:t(this.g),b:t(this.b),a:this.a}},i.prototype.toPercentageRgbString=function(){var t=function(e){return Math.round(wn(e,255)*100)};return this.a===1?"rgb(".concat(t(this.r),"%, ").concat(t(this.g),"%, ").concat(t(this.b),"%)"):"rgba(".concat(t(this.r),"%, ").concat(t(this.g),"%, ").concat(t(this.b),"%, ").concat(this.roundA,")")},i.prototype.toName=function(){if(this.a===0)return"transparent";if(this.a<1)return!1;for(var t="#"+e2(this.r,this.g,this.b,!1),e=0,n=Object.entries(Sd);e<n.length;e++){var r=n[e],s=r[0],o=r[1];if(t===o)return s}return!1},i.prototype.toString=function(t){var e=Boolean(t);t=t!=null?t:this.format;var n=!1,r=this.a<1&&this.a>=0,s=!e&&r&&(t.startsWith("hex")||t==="name");return s?t==="name"&&this.a===0?this.toName():this.toRgbString():(t==="rgb"&&(n=this.toRgbString()),t==="prgb"&&(n=this.toPercentageRgbString()),(t==="hex"||t==="hex6")&&(n=this.toHexString()),t==="hex3"&&(n=this.toHexString(!0)),t==="hex4"&&(n=this.toHex8String(!0)),t==="hex8"&&(n=this.toHex8String()),t==="name"&&(n=this.toName()),t==="hsl"&&(n=this.toHslString()),t==="hsv"&&(n=this.toHsvString()),n||this.toHexString())},i.prototype.toNumber=function(){return(Math.round(this.r)<<16)+(Math.round(this.g)<<8)+Math.round(this.b)},i.prototype.clone=function(){return new i(this.toString())},i.prototype.lighten=function(t){t===void 0&&(t=10);var e=this.toHsl();return e.l+=t/100,e.l=uc(e.l),new i(e)},i.prototype.brighten=function(t){t===void 0&&(t=10);var e=this.toRgb();return e.r=Math.max(0,Math.min(255,e.r-Math.round(255*-(t/100)))),e.g=Math.max(0,Math.min(255,e.g-Math.round(255*-(t/100)))),e.b=Math.max(0,Math.min(255,e.b-Math.round(255*-(t/100)))),new i(e)},i.prototype.darken=function(t){t===void 0&&(t=10);var e=this.toHsl();return e.l-=t/100,e.l=uc(e.l),new i(e)},i.prototype.tint=function(t){return t===void 0&&(t=10),this.mix("white",t)},i.prototype.shade=function(t){return t===void 0&&(t=10),this.mix("black",t)},i.prototype.desaturate=function(t){t===void 0&&(t=10);var e=this.toHsl();return e.s-=t/100,e.s=uc(e.s),new i(e)},i.prototype.saturate=function(t){t===void 0&&(t=10);var e=this.toHsl();return e.s+=t/100,e.s=uc(e.s),new i(e)},i.prototype.greyscale=function(){return this.desaturate(100)},i.prototype.spin=function(t){var e=this.toHsl(),n=(e.h+t)%360;return e.h=n<0?360+n:n,new i(e)},i.prototype.mix=function(t,e){e===void 0&&(e=50);var n=this.toRgb(),r=new i(t).toRgb(),s=e/100,o={r:(r.r-n.r)*s+n.r,g:(r.g-n.g)*s+n.g,b:(r.b-n.b)*s+n.b,a:(r.a-n.a)*s+n.a};return new i(o)},i.prototype.analogous=function(t,e){t===void 0&&(t=6),e===void 0&&(e=30);var n=this.toHsl(),r=360/e,s=[this];for(n.h=(n.h-(r*t>>1)+720)%360;--t;)n.h=(n.h+r)%360,s.push(new i(n));return s},i.prototype.complement=function(){var t=this.toHsl();return t.h=(t.h+180)%360,new i(t)},i.prototype.monochromatic=function(t){t===void 0&&(t=6);for(var e=this.toHsv(),n=e.h,r=e.s,s=e.v,o=[],a=1/t;t--;)o.push(new i({h:n,s:r,v:s})),s=(s+a)%1;return o},i.prototype.splitcomplement=function(){var t=this.toHsl(),e=t.h;return[this,new i({h:(e+72)%360,s:t.s,l:t.l}),new i({h:(e+216)%360,s:t.s,l:t.l})]},i.prototype.onBackground=function(t){var e=this.toRgb(),n=new i(t).toRgb();return new i({r:n.r+(e.r-n.r)*e.a,g:n.g+(e.g-n.g)*e.a,b:n.b+(e.b-n.b)*e.a})},i.prototype.triad=function(){return this.polyad(3)},i.prototype.tetrad=function(){return this.polyad(4)},i.prototype.polyad=function(t){for(var e=this.toHsl(),n=e.h,r=[this],s=360/t,o=1;o<t;o++)r.push(new i({h:(n+o*s)%360,s:e.s,l:e.l}));return r},i.prototype.equals=function(t){return this.toRgbString()===new i(t).toRgbString()},i}();function Fr(i,t=20){return i.mix("#141414",t).toString()}function fD(i){const t=Rf(),e=jn("button");return vt(()=>{let n={};const r=i.color;if(r){const s=new dD(r),o=i.dark?s.tint(20).toString():Fr(s,20);if(i.plain)n=e.cssVarBlock({"bg-color":i.dark?Fr(s,90):s.tint(90).toString(),"text-color":r,"border-color":i.dark?Fr(s,50):s.tint(50).toString(),"hover-text-color":`var(${e.cssVarName("color-white")})`,"hover-bg-color":r,"hover-border-color":r,"active-bg-color":o,"active-text-color":`var(${e.cssVarName("color-white")})`,"active-border-color":o}),t.value&&(n[e.cssVarBlockName("disabled-bg-color")]=i.dark?Fr(s,90):s.tint(90).toString(),n[e.cssVarBlockName("disabled-text-color")]=i.dark?Fr(s,50):s.tint(50).toString(),n[e.cssVarBlockName("disabled-border-color")]=i.dark?Fr(s,80):s.tint(80).toString());else{const a=i.dark?Fr(s,30):s.tint(30).toString(),l=s.isDark()?`var(${e.cssVarName("color-white")})`:`var(${e.cssVarName("color-black")})`;if(n=e.cssVarBlock({"bg-color":r,"text-color":l,"border-color":r,"hover-bg-color":a,"hover-text-color":l,"hover-border-color":a,"active-bg-color":o,"active-border-color":o}),t.value){const c=i.dark?Fr(s,50):s.tint(50).toString();n[e.cssVarBlockName("disabled-bg-color")]=c,n[e.cssVarBlockName("disabled-text-color")]=i.dark?"rgba(255, 255, 255, 0.5)":`var(${e.cssVarName("color-white")})`,n[e.cssVarBlockName("disabled-border-color")]=c}}}return n})}const pD=["aria-disabled","disabled","autofocus","type"],gD={name:"ElButton"},mD=Ie({...gD,props:Ed,emits:Q_,setup(i,{expose:t,emit:e}){const n=i,r=vf();m4({from:"type.text",replacement:"type.link",version:"3.0.0",scope:"props",ref:"https://element-plus.org/en-US/component/button.html#button-attributes"},vt(()=>n.type==="text"));const s=Re(vv,void 0),o=$l("button"),a=jn("button"),{form:l}=Cv(),c=Fl(vt(()=>s==null?void 0:s.size)),u=Rf(),h=Mt(),f=vt(()=>n.type||(s==null?void 0:s.type)||""),p=vt(()=>{var x,E,S;return(S=(E=n.autoInsertSpace)!=null?E:(x=o.value)==null?void 0:x.autoInsertSpace)!=null?S:!1}),b=vt(()=>{var x;const E=(x=r.default)==null?void 0:x.call(r);if(p.value&&(E==null?void 0:E.length)===1){const S=E[0];if((S==null?void 0:S.type)===Pl){const O=S.children;return/^\p{Unified_Ideograph}{2}$/u.test(O.trim())}}return!1}),v=fD(n),w=x=>{n.nativeType==="reset"&&(l==null||l.resetFields()),e("click",x)};return t({ref:h,size:c,type:f,disabled:u,shouldAddSpace:b}),(x,E)=>(St(),Zt("button",{ref_key:"_ref",ref:h,class:qt([U(a).b(),U(a).m(U(f)),U(a).m(U(c)),U(a).is("disabled",U(u)),U(a).is("loading",x.loading),U(a).is("plain",x.plain),U(a).is("round",x.round),U(a).is("circle",x.circle),U(a).is("text",x.text),U(a).is("link",x.link),U(a).is("has-bg",x.bg)]),"aria-disabled":U(u)||x.loading,disabled:U(u)||x.loading,autofocus:x.autofocus,type:x.nativeType,style:En(U(v)),onClick:w},[x.loading?(St(),Zt(tn,{key:0},[x.$slots.loading?Je(x.$slots,"loading",{key:0}):(St(),Ae(U(Rr),{key:1,class:qt(U(a).is("loading"))},{default:we(()=>[(St(),Ae(Ps(x.loadingIcon)))]),_:1},8,["class"]))],64)):x.icon||x.$slots.icon?(St(),Ae(U(Rr),{key:1},{default:we(()=>[x.icon?(St(),Ae(Ps(x.icon),{key:0})):Je(x.$slots,"icon",{key:1})]),_:3})):ve("v-if",!0),x.$slots.default?(St(),Zt("span",{key:2,class:qt({[U(a).em("text","expand")]:U(b)})},[Je(x.$slots,"default")],2)):ve("v-if",!0)],14,pD))}});var bD=ln(mD,[["__file","/home/runner/work/element-plus/element-plus/packages/components/button/src/button.vue"]]);const vD={size:Ed.size,type:Ed.type},yD={name:"ElButtonGroup"},xD=Ie({...yD,props:vD,setup(i){const t=i;zi(vv,Qs({size:Yr(t,"size"),type:Yr(t,"type")}));const e=jn("button");return(n,r)=>(St(),Zt("div",{class:qt(`${U(e).b("group")}`)},[Je(n.$slots,"default")],2))}});var Xv=ln(xD,[["__file","/home/runner/work/element-plus/element-plus/packages/components/button/src/button-group.vue"]]);const Yv=oo(bD,{ButtonGroup:Xv});bv(Xv);var wD=typeof globalThis!="undefined"?globalThis:typeof window!="undefined"?window:typeof global!="undefined"?global:typeof self!="undefined"?self:{};const zr=new Map;let i2;zn&&(document.addEventListener("mousedown",i=>i2=i),document.addEventListener("mouseup",i=>{for(const t of zr.values())for(const{documentHandler:e}of t)e(i,i2)}));function r2(i,t){let e=[];return Array.isArray(t.arg)?e=t.arg:cl(t.arg)&&e.push(t.arg),function(n,r){const s=t.instance.popperRef,o=n.target,a=r==null?void 0:r.target,l=!t||!t.instance,c=!o||!a,u=i.contains(o)||i.contains(a),h=i===o,f=e.length&&e.some(b=>b==null?void 0:b.contains(o))||e.length&&e.includes(a),p=s&&(s.contains(o)||s.contains(a));l||c||u||h||f||p||t.value(n,r)}}const CD={beforeMount(i,t){zr.has(i)||zr.set(i,[]),zr.get(i).push({documentHandler:r2(i,t),bindingFn:t.value})},updated(i,t){zr.has(i)||zr.set(i,[]);const e=zr.get(i),n=e.findIndex(s=>s.bindingFn===t.oldValue),r={documentHandler:r2(i,t),bindingFn:t.value};n>=0?e.splice(n,1,r):e.push(r)},unmounted(i){zr.delete(i)}};let Lh=!1;function dl(i,t){if(!zn)return;const e=function(s){var o;(o=t.drag)==null||o.call(t,s)},n=function(s){var o;lc(document,"mousemove",e),lc(document,"mouseup",n),lc(document,"touchmove",e),lc(document,"touchend",n),document.onselectstart=null,document.ondragstart=null,Lh=!1,(o=t.end)==null||o.call(t,s)},r=function(s){var o;Lh||(s.preventDefault(),document.onselectstart=()=>!1,document.ondragstart=()=>!1,go(document,"mousemove",e),go(document,"mouseup",n),go(document,"touchmove",e),go(document,"touchend",n),Lh=!0,(o=t.start)==null||o.call(t,s))};go(i,"mousedown",r),go(i,"touchstart",r)}const ED=Ie({name:"ElColorAlphaSlider",props:{color:{type:Object,required:!0},vertical:{type:Boolean,default:!1}},setup(i){const t=or(),e=To(null),n=To(null),r=Mt(0),s=Mt(0),o=Mt(null);Qt(()=>i.color.get("alpha"),()=>{f()}),Qt(()=>i.color.value,()=>{f()});function a(){if(i.vertical)return 0;const p=t.vnode.el,b=i.color.get("alpha");return p?Math.round(b*(p.offsetWidth-e.value.offsetWidth/2)/100):0}function l(){const p=t.vnode.el;if(!i.vertical)return 0;const b=i.color.get("alpha");return p?Math.round(b*(p.offsetHeight-e.value.offsetHeight/2)/100):0}function c(){if(i.color&&i.color.value){const{r:p,g:b,b:v}=i.color.toRgb();return`linear-gradient(to right, rgba(${p}, ${b}, ${v}, 0) 0%, rgba(${p}, ${b}, ${v}, 1) 100%)`}return null}function u(p){p.target!==e.value&&h(p)}function h(p){const v=t.vnode.el.getBoundingClientRect(),{clientX:w,clientY:x}=jf(p);if(i.vertical){let E=x-v.top;E=Math.max(e.value.offsetHeight/2,E),E=Math.min(E,v.height-e.value.offsetHeight/2),i.color.set("alpha",Math.round((E-e.value.offsetHeight/2)/(v.height-e.value.offsetHeight)*100))}else{let E=w-v.left;E=Math.max(e.value.offsetWidth/2,E),E=Math.min(E,v.width-e.value.offsetWidth/2),i.color.set("alpha",Math.round((E-e.value.offsetWidth/2)/(v.width-e.value.offsetWidth)*100))}}function f(){r.value=a(),s.value=l(),o.value=c()}return Nn(()=>{const p={drag:b=>{h(b)},end:b=>{h(b)}};dl(n.value,p),dl(e.value,p),f()}),{thumb:e,bar:n,thumbLeft:r,thumbTop:s,background:o,handleClick:u,update:f}}});function SD(i,t,e,n,r,s){return St(),Zt("div",{class:qt(["el-color-alpha-slider",{"is-vertical":i.vertical}])},[Yt("div",{ref:"bar",class:"el-color-alpha-slider__bar",style:En({background:i.background}),onClick:t[0]||(t[0]=(...o)=>i.handleClick&&i.handleClick(...o))},null,4),Yt("div",{ref:"thumb",class:"el-color-alpha-slider__thumb",style:En({left:i.thumbLeft+"px",top:i.thumbTop+"px"})},null,4)],2)}var AD=ln(ED,[["render",SD],["__file","/home/runner/work/element-plus/element-plus/packages/components/color-picker/src/components/alpha-slider.vue"]]);const MD=Ie({name:"ElColorHueSlider",props:{color:{type:Object,required:!0},vertical:Boolean},setup(i){const t=or(),e=Mt(null),n=Mt(null),r=Mt(0),s=Mt(0),o=vt(()=>i.color.get("hue"));Qt(()=>o.value,()=>{h()});function a(f){f.target!==e.value&&l(f)}function l(f){const b=t.vnode.el.getBoundingClientRect(),{clientX:v,clientY:w}=jf(f);let x;if(i.vertical){let E=w-b.top;E=Math.min(E,b.height-e.value.offsetHeight/2),E=Math.max(e.value.offsetHeight/2,E),x=Math.round((E-e.value.offsetHeight/2)/(b.height-e.value.offsetHeight)*360)}else{let E=v-b.left;E=Math.min(E,b.width-e.value.offsetWidth/2),E=Math.max(e.value.offsetWidth/2,E),x=Math.round((E-e.value.offsetWidth/2)/(b.width-e.value.offsetWidth)*360)}i.color.set("hue",x)}function c(){const f=t.vnode.el;if(i.vertical)return 0;const p=i.color.get("hue");return f?Math.round(p*(f.offsetWidth-e.value.offsetWidth/2)/360):0}function u(){const f=t.vnode.el;if(!i.vertical)return 0;const p=i.color.get("hue");return f?Math.round(p*(f.offsetHeight-e.value.offsetHeight/2)/360):0}function h(){r.value=c(),s.value=u()}return Nn(()=>{const f={drag:p=>{l(p)},end:p=>{l(p)}};dl(n.value,f),dl(e.value,f),h()}),{bar:n,thumb:e,thumbLeft:r,thumbTop:s,hueValue:o,handleClick:a,update:h}}});function OD(i,t,e,n,r,s){return St(),Zt("div",{class:qt(["el-color-hue-slider",{"is-vertical":i.vertical}])},[Yt("div",{ref:"bar",class:"el-color-hue-slider__bar",onClick:t[0]||(t[0]=(...o)=>i.handleClick&&i.handleClick(...o))},null,512),Yt("div",{ref:"thumb",class:"el-color-hue-slider__thumb",style:En({left:i.thumbLeft+"px",top:i.thumbTop+"px"})},null,4)],2)}var TD=ln(MD,[["render",OD],["__file","/home/runner/work/element-plus/element-plus/packages/components/color-picker/src/components/hue-slider.vue"]]);const Kv=Symbol(),PD=()=>Re(Kv),s2=function(i,t,e){return[i,t*e/((i=(2-t)*e)<1?i:2-i)||0,i/2]},kD=function(i){return typeof i=="string"&&i.includes(".")&&Number.parseFloat(i)===1},_D=function(i){return typeof i=="string"&&i.includes("%")},Do=function(i,t){kD(i)&&(i="100%");const e=_D(i);return i=Math.min(t,Math.max(0,Number.parseFloat(`${i}`))),e&&(i=Number.parseInt(`${i*t}`,10)/100),Math.abs(i-t)<1e-6?1:i%t/Number.parseFloat(t)},o2={10:"A",11:"B",12:"C",13:"D",14:"E",15:"F"},Sc=function(i){i=Math.min(Math.round(i),255);const t=Math.floor(i/16),e=i%16;return`${o2[t]||t}${o2[e]||e}`},a2=function({r:i,g:t,b:e}){return Number.isNaN(+i)||Number.isNaN(+t)||Number.isNaN(+e)?"":`#${Sc(i)}${Sc(t)}${Sc(e)}`},Ih={A:10,B:11,C:12,D:13,E:14,F:15},ws=function(i){return i.length===2?(Ih[i[0].toUpperCase()]||+i[0])*16+(Ih[i[1].toUpperCase()]||+i[1]):Ih[i[1].toUpperCase()]||+i[1]},DD=function(i,t,e){t=t/100,e=e/100;let n=t;const r=Math.max(e,.01);e*=2,t*=e<=1?e:2-e,n*=r<=1?r:2-r;const s=(e+t)/2,o=e===0?2*n/(r+n):2*t/(e+t);return{h:i,s:o*100,v:s*100}},l2=function(i,t,e){i=Do(i,255),t=Do(t,255),e=Do(e,255);const n=Math.max(i,t,e),r=Math.min(i,t,e);let s;const o=n,a=n-r,l=n===0?0:a/n;if(n===r)s=0;else{switch(n){case i:{s=(t-e)/a+(t<e?6:0);break}case t:{s=(e-i)/a+2;break}case e:{s=(i-t)/a+4;break}}s/=6}return{h:s*360,s:l*100,v:o*100}},Oa=function(i,t,e){i=Do(i,360)*6,t=Do(t,100),e=Do(e,100);const n=Math.floor(i),r=i-n,s=e*(1-t),o=e*(1-r*t),a=e*(1-(1-r)*t),l=n%6,c=[e,o,s,s,a,e][l],u=[a,e,e,o,s,s][l],h=[s,s,a,e,e,o][l];return{r:Math.round(c*255),g:Math.round(u*255),b:Math.round(h*255)}};class qa{constructor(t){this._hue=0,this._saturation=100,this._value=100,this._alpha=100,this.enableAlpha=!1,this.format="hex",this.value="",t=t||{};for(const e in t)ue(t,e)&&(this[e]=t[e]);t.value?this.fromString(t.value):this.doOnChange()}set(t,e){if(arguments.length===1&&typeof t=="object"){for(const n in t)ue(t,n)&&this.set(n,t[n]);return}this[`_${t}`]=e,this.doOnChange()}get(t){return t==="alpha"?Math.floor(this[`_${t}`]):this[`_${t}`]}toRgb(){return Oa(this._hue,this._saturation,this._value)}fromString(t){if(!t){this._hue=0,this._saturation=100,this._value=100,this.doOnChange();return}const e=(n,r,s)=>{this._hue=Math.max(0,Math.min(360,n)),this._saturation=Math.max(0,Math.min(100,r)),this._value=Math.max(0,Math.min(100,s)),this.doOnChange()};if(t.includes("hsl")){const n=t.replace(/hsla|hsl|\(|\)/gm,"").split(/\s|,/g).filter(r=>r!=="").map((r,s)=>s>2?Number.parseFloat(r):Number.parseInt(r,10));if(n.length===4?this._alpha=Number.parseFloat(n[3])*100:n.length===3&&(this._alpha=100),n.length>=3){const{h:r,s,v:o}=DD(n[0],n[1],n[2]);e(r,s,o)}}else if(t.includes("hsv")){const n=t.replace(/hsva|hsv|\(|\)/gm,"").split(/\s|,/g).filter(r=>r!=="").map((r,s)=>s>2?Number.parseFloat(r):Number.parseInt(r,10));n.length===4?this._alpha=Number.parseFloat(n[3])*100:n.length===3&&(this._alpha=100),n.length>=3&&e(n[0],n[1],n[2])}else if(t.includes("rgb")){const n=t.replace(/rgba|rgb|\(|\)/gm,"").split(/\s|,/g).filter(r=>r!=="").map((r,s)=>s>2?Number.parseFloat(r):Number.parseInt(r,10));if(n.length===4?this._alpha=Number.parseFloat(n[3])*100:n.length===3&&(this._alpha=100),n.length>=3){const{h:r,s,v:o}=l2(n[0],n[1],n[2]);e(r,s,o)}}else if(t.includes("#")){const n=t.replace("#","").trim();if(!/^[0-9a-fA-F]{3}$|^[0-9a-fA-F]{6}$|^[0-9a-fA-F]{8}$/.test(n))return;let r,s,o;n.length===3?(r=ws(n[0]+n[0]),s=ws(n[1]+n[1]),o=ws(n[2]+n[2])):(n.length===6||n.length===8)&&(r=ws(n.slice(0,2)),s=ws(n.slice(2,4)),o=ws(n.slice(4,6))),n.length===8?this._alpha=ws(n.slice(6))/255*100:(n.length===3||n.length===6)&&(this._alpha=100);const{h:a,s:l,v:c}=l2(r,s,o);e(a,l,c)}}compare(t){return Math.abs(t._hue-this._hue)<2&&Math.abs(t._saturation-this._saturation)<1&&Math.abs(t._value-this._value)<1&&Math.abs(t._alpha-this._alpha)<1}doOnChange(){const{_hue:t,_saturation:e,_value:n,_alpha:r,format:s}=this;if(this.enableAlpha)switch(s){case"hsl":{const o=s2(t,e/100,n/100);this.value=`hsla(${t}, ${Math.round(o[1]*100)}%, ${Math.round(o[2]*100)}%, ${this.get("alpha")/100})`;break}case"hsv":{this.value=`hsva(${t}, ${Math.round(e)}%, ${Math.round(n)}%, ${this.get("alpha")/100})`;break}case"hex":{this.value=`${a2(Oa(t,e,n))}${Sc(r*255/100)}`;break}default:{const{r:o,g:a,b:l}=Oa(t,e,n);this.value=`rgba(${o}, ${a}, ${l}, ${this.get("alpha")/100})`}}else switch(s){case"hsl":{const o=s2(t,e/100,n/100);this.value=`hsl(${t}, ${Math.round(o[1]*100)}%, ${Math.round(o[2]*100)}%)`;break}case"hsv":{this.value=`hsv(${t}, ${Math.round(e)}%, ${Math.round(n)}%)`;break}case"rgb":{const{r:o,g:a,b:l}=Oa(t,e,n);this.value=`rgb(${o}, ${a}, ${l})`;break}default:this.value=a2(Oa(t,e,n))}}}const ND=Ie({props:{colors:{type:Array,required:!0},color:{type:Object,required:!0}},setup(i){const{currentColor:t}=PD(),e=Mt(r(i.colors,i.color));Qt(()=>t.value,s=>{const o=new qa;o.fromString(s),e.value.forEach(a=>{a.selected=o.compare(a)})}),Gw(()=>{e.value=r(i.colors,i.color)});function n(s){i.color.fromString(i.colors[s])}function r(s,o){return s.map(a=>{const l=new qa;return l.enableAlpha=!0,l.format="rgba",l.fromString(a),l.selected=l.value===o.value,l})}return{rgbaColors:e,handleSelect:n}}}),$D={class:"el-color-predefine"},FD={class:"el-color-predefine__colors"},LD=["onClick"];function ID(i,t,e,n,r,s){return St(),Zt("div",$D,[Yt("div",FD,[(St(!0),Zt(tn,null,Pm(i.rgbaColors,(o,a)=>(St(),Zt("div",{key:i.colors[a],class:qt(["el-color-predefine__color-selector",{selected:o.selected,"is-alpha":o._alpha<100}]),onClick:l=>i.handleSelect(a)},[Yt("div",{style:En({backgroundColor:o.value})},null,4)],10,LD))),128))])])}var zD=ln(ND,[["render",ID],["__file","/home/runner/work/element-plus/element-plus/packages/components/color-picker/src/components/predefine.vue"]]);const jD=Ie({name:"ElSlPanel",props:{color:{type:Object,required:!0}},setup(i){const t=or(),e=Mt(0),n=Mt(0),r=Mt("hsl(0, 100%, 50%)"),s=vt(()=>{const l=i.color.get("hue"),c=i.color.get("value");return{hue:l,value:c}});function o(){const l=i.color.get("saturation"),c=i.color.get("value"),u=t.vnode.el,{clientWidth:h,clientHeight:f}=u;n.value=l*h/100,e.value=(100-c)*f/100,r.value=`hsl(${i.color.get("hue")}, 100%, 50%)`}function a(l){const u=t.vnode.el.getBoundingClientRect(),{clientX:h,clientY:f}=jf(l);let p=h-u.left,b=f-u.top;p=Math.max(0,p),p=Math.min(p,u.width),b=Math.max(0,b),b=Math.min(b,u.height),n.value=p,e.value=b,i.color.set({saturation:p/u.width*100,value:100-b/u.height*100})}return Qt(()=>s.value,()=>{o()}),Nn(()=>{dl(t.vnode.el,{drag:l=>{a(l)},end:l=>{a(l)}}),o()}),{cursorTop:e,cursorLeft:n,background:r,colorValue:s,handleDrag:a,update:o}}}),BD=Yt("div",{class:"el-color-svpanel__white"},null,-1),RD=Yt("div",{class:"el-color-svpanel__black"},null,-1),VD=Yt("div",null,null,-1),HD=[VD];function GD(i,t,e,n,r,s){return St(),Zt("div",{class:"el-color-svpanel",style:En({backgroundColor:i.background})},[BD,RD,Yt("div",{class:"el-color-svpanel__cursor",style:En({top:i.cursorTop+"px",left:i.cursorLeft+"px"})},HD,4)],4)}var qD=ln(jD,[["render",GD],["__file","/home/runner/work/element-plus/element-plus/packages/components/color-picker/src/components/sv-panel.vue"]]);const UD=Ie({name:"ElColorPicker",components:{ElButton:Yv,ElTooltip:K_,ElInput:Ov,ElIcon:Rr,Close:RP,ArrowDown:CP,SvPanel:qD,HueSlider:TD,AlphaSlider:AD,Predefine:zD},directives:{ClickOutside:CD},props:{modelValue:String,id:String,showAlpha:Boolean,colorFormat:String,disabled:Boolean,size:{type:String,validator:l4},popperClass:String,label:{type:String,default:void 0},tabindex:{type:[String,Number],default:0},predefine:Array},emits:["change","active-change",_o],setup(i,{emit:t}){const{t:e}=E4(),n=jn("color"),r=Re(ao,{}),s=Re(Kr,{}),{inputId:o,isLabeledByFormItem:a}=Ev(i,{formItemContext:s}),l=Mt(null),c=Mt(null),u=Mt(null),h=Mt(null);let f=!0;const p=Qs(new qa({enableAlpha:i.showAlpha,format:i.colorFormat,value:i.modelValue})),b=Mt(!1),v=Mt(!1),w=Mt(""),x=vt(()=>!i.modelValue&&!v.value?"transparent":T(p,i.showAlpha)),E=Fl(),S=vt(()=>!!(i.disabled||r.disabled)),O=vt(()=>!i.modelValue&&!v.value?"":p.value),k=vt(()=>a.value?void 0:i.label||e("el.colorpicker.defaultLabel")),m=vt(()=>a.value?s.labelId:void 0);Qt(()=>i.modelValue,B=>{B?B&&B!==p.value&&(f=!1,p.fromString(B)):v.value=!1}),Qt(()=>O.value,B=>{w.value=B,f&&t("active-change",B),f=!0}),Qt(()=>p.value,()=>{!i.modelValue&&!v.value&&(v.value=!0)});function T(B,tt){if(!(B instanceof qa))throw new TypeError("color should be instance of _color Class");const{r:bt,g:Ot,b:Gt}=B.toRgb();return tt?`rgba(${bt}, ${Ot}, ${Gt}, ${B.get("alpha")/100})`:`rgb(${bt}, ${Ot}, ${Gt})`}function D(B){b.value=B}const z=If(D,100);function H(){z(!1),q()}function q(){Wn(()=>{i.modelValue?p.fromString(i.modelValue):v.value=!1})}function R(){S.value||z(!b.value)}function rt(){p.fromString(w.value)}function st(){var B;const tt=p.value;t(_o,tt),t("change",tt),(B=s.validate)==null||B.call(s,"change").catch(bt=>void 0),z(!1),Wn(()=>{const bt=new qa({enableAlpha:i.showAlpha,format:i.colorFormat,value:i.modelValue});p.compare(bt)||q()})}function j(){var B;z(!1),t(_o,null),t("change",null),i.modelValue!==null&&((B=s.validate)==null||B.call(s,"change").catch(tt=>void 0)),q()}return Nn(()=>{i.modelValue&&(w.value=O.value)}),Qt(()=>b.value,()=>{Wn(()=>{var B,tt,bt;(B=l.value)==null||B.update(),(tt=c.value)==null||tt.update(),(bt=u.value)==null||bt.update()})}),zi(Kv,{currentColor:O}),{color:p,colorDisabled:S,colorSize:E,displayedColor:x,showPanelColor:v,showPicker:b,customInput:w,buttonId:o,buttonAriaLabel:k,buttonAriaLabelledby:m,handleConfirm:rt,hide:H,handleTrigger:R,clear:j,confirmValue:st,t:e,ns:n,hue:l,svPanel:c,alpha:u,popper:h}}}),WD=["id","aria-label","aria-labelledby","aria-description","tabindex"];function XD(i,t,e,n,r,s){const o=Pn("hue-slider"),a=Pn("sv-panel"),l=Pn("alpha-slider"),c=Pn("predefine"),u=Pn("el-input"),h=Pn("el-button"),f=Pn("arrow-down"),p=Pn("el-icon"),b=Pn("close"),v=Pn("el-tooltip"),w=iC("click-outside");return St(),Ae(v,{ref:"popper",visible:i.showPicker,"onUpdate:visible":t[3]||(t[3]=x=>i.showPicker=x),"show-arrow":!1,"fallback-placements":["bottom","top","right","left"],offset:0,"gpu-acceleration":!1,"popper-class":[i.ns.be("picker","panel"),i.ns.b("dropdown"),i.popperClass],"stop-popper-mouse-event":!1,effect:"light",trigger:"click",transition:"el-zoom-in-top",persistent:""},{content:we(()=>[nl((St(),Zt("div",null,[Yt("div",{class:qt(i.ns.be("dropdown","main-wrapper"))},[Jt(o,{ref:"hue",class:"hue-slider",color:i.color,vertical:""},null,8,["color"]),Jt(a,{ref:"svPanel",color:i.color},null,8,["color"])],2),i.showAlpha?(St(),Ae(l,{key:0,ref:"alpha",color:i.color},null,8,["color"])):ve("v-if",!0),i.predefine?(St(),Ae(c,{key:1,ref:"predefine",color:i.color,colors:i.predefine},null,8,["color","colors"])):ve("v-if",!0),Yt("div",{class:qt(i.ns.be("dropdown","btns"))},[Yt("span",{class:qt(i.ns.be("dropdown","value"))},[Jt(u,{modelValue:i.customInput,"onUpdate:modelValue":t[0]||(t[0]=x=>i.customInput=x),"validate-event":!1,size:"small",onKeyup:Bg(i.handleConfirm,["enter"]),onBlur:i.handleConfirm},null,8,["modelValue","onKeyup","onBlur"])],2),Jt(h,{class:qt(i.ns.be("dropdown","link-btn")),text:"",size:"small",onClick:i.clear},{default:we(()=>[Zi(Xi(i.t("el.colorpicker.clear")),1)]),_:1},8,["class","onClick"]),Jt(h,{plain:"",size:"small",class:qt(i.ns.be("dropdown","btn")),onClick:i.confirmValue},{default:we(()=>[Zi(Xi(i.t("el.colorpicker.confirm")),1)]),_:1},8,["class","onClick"])],2)])),[[w,i.hide]])]),default:we(()=>[Yt("div",{id:i.buttonId,class:qt([i.ns.b("picker"),i.ns.is("disabled",i.colorDisabled),i.ns.bm("picker",i.colorSize)]),role:"button","aria-label":i.buttonAriaLabel,"aria-labelledby":i.buttonAriaLabelledby,"aria-description":i.t("el.colorpicker.description",{color:i.modelValue}),tabindex:i.tabindex,onKeydown:t[2]||(t[2]=Bg((...x)=>i.handleTrigger&&i.handleTrigger(...x),["enter"]))},[i.colorDisabled?(St(),Zt("div",{key:0,class:qt(i.ns.be("picker","mask"))},null,2)):ve("v-if",!0),Yt("div",{class:qt(i.ns.be("picker","trigger")),onClick:t[1]||(t[1]=(...x)=>i.handleTrigger&&i.handleTrigger(...x))},[Yt("span",{class:qt([i.ns.be("picker","color"),i.ns.is("alpha",i.showAlpha)])},[Yt("span",{class:qt(i.ns.be("picker","color-inner")),style:En({backgroundColor:i.displayedColor})},[nl(Jt(p,{class:qt([i.ns.be("picker","icon"),i.ns.is("icon-arrow-down")])},{default:we(()=>[Jt(f)]),_:1},8,["class"]),[[yf,i.modelValue||i.showPanelColor]]),!i.modelValue&&!i.showPanelColor?(St(),Ae(p,{key:0,class:qt([i.ns.be("picker","empty"),i.ns.is("icon-close")])},{default:we(()=>[Jt(b)]),_:1},8,["class"])):ve("v-if",!0)],6)],2)],2)],42,WD)]),_:1},8,["visible","popper-class"])}var Ac=ln(UD,[["render",XD],["__file","/home/runner/work/element-plus/element-plus/packages/components/color-picker/src/index.vue"]]);Ac.install=i=>{i.component(Ac.name,Ac)};const YD=Ac,Jv=YD,KD=Rn({direction:{type:String,values:["horizontal","vertical"],default:"horizontal"},contentPosition:{type:String,values:["left","center","right"],default:"center"},borderStyle:{type:Ge(String),default:"solid"}}),JD={name:"ElDivider"},ZD=Ie({...JD,props:KD,setup(i){const t=i,e=jn("divider"),n=vt(()=>e.cssVar({"border-style":t.borderStyle}));return(r,s)=>(St(),Zt("div",{class:qt([U(e).b(),U(e).m(r.direction)]),style:En(U(n)),role:"separator"},[r.$slots.default&&r.direction!=="vertical"?(St(),Zt("div",{key:0,class:qt([U(e).e("text"),U(e).is(r.contentPosition)])},[Je(r.$slots,"default")],2)):ve("v-if",!0)],6))}});var QD=ln(ZD,[["__file","/home/runner/work/element-plus/element-plus/packages/components/divider/src/divider.vue"]]);const t8=oo(QD),e8=Rn({model:Object,rules:{type:Ge(Object)},labelPosition:{type:String,values:["left","right","top"],default:"right"},labelWidth:{type:[String,Number],default:""},labelSuffix:{type:String,default:""},inline:Boolean,inlineMessage:Boolean,statusIcon:Boolean,showMessage:{type:Boolean,default:!0},size:{type:String,values:Lu},disabled:Boolean,validateOnRuleChange:{type:Boolean,default:!0},hideRequiredAsterisk:{type:Boolean,default:!1},scrollToError:Boolean}),n8={validate:(i,t,e)=>(Ht(i)||Me(i))&&sl(t)&&Me(e)};function i8(){const i=Mt([]),t=vt(()=>{if(!i.value.length)return"0";const s=Math.max(...i.value);return s?`${s}px`:""});function e(s){return i.value.indexOf(s)}function n(s,o){if(s&&o){const a=e(o);i.value.splice(a,1,s)}else s&&i.value.push(s)}function r(s){const o=e(s);o>-1&&i.value.splice(o,1)}return{autoLabelWidth:t,registerLabelWidth:n,deregisterLabelWidth:r}}const dc=(i,t)=>{const e=pd(t);return e.length>0?i.filter(n=>n.prop&&e.includes(n.prop)):i},r8={name:"ElForm"},s8=Ie({...r8,props:e8,emits:n8,setup(i,{expose:t,emit:e}){const n=i,r=[],s=Fl(),o=jn("form"),a=vt(()=>{const{labelPosition:E,inline:S}=n;return[o.b(),o.m(s.value||"default"),{[o.m(`label-${E}`)]:E,[o.m("inline")]:S}]}),l=E=>{r.push(E)},c=E=>{E.prop&&r.splice(r.indexOf(E),1)},u=(E=[])=>{!n.model||dc(r,E).forEach(S=>S.resetField())},h=(E=[])=>{dc(r,E).forEach(S=>S.clearValidate())},f=vt(()=>!!n.model),p=E=>{if(r.length===0)return[];const S=dc(r,E);return S.length?S:[]},b=async E=>w(void 0,E),v=async(E=[])=>{if(!f.value)return!1;const S=p(E);if(S.length===0)return!0;let O={};for(const k of S)try{await k.validate("")}catch(m){O={...O,...m}}return Object.keys(O).length===0?!0:Promise.reject(O)},w=async(E=[],S)=>{const O=!Vt(S);try{const k=await v(E);return k===!0&&(S==null||S(k)),k}catch(k){const m=k;return n.scrollToError&&x(Object.keys(m)[0]),S==null||S(!1,m),O&&Promise.reject(m)}},x=E=>{var S;const O=dc(r,E)[0];O&&((S=O.$el)==null||S.scrollIntoView())};return Qt(()=>n.rules,()=>{n.validateOnRuleChange&&b().catch(E=>void 0)},{deep:!0}),zi(ao,Qs({...lf(n),emit:e,resetFields:u,clearValidate:h,validateField:w,addField:l,removeField:c,...i8()})),t({validate:b,validateField:w,resetFields:u,clearValidate:h,scrollToField:x}),(E,S)=>(St(),Zt("form",{class:qt(U(a))},[Je(E.$slots,"default")],2))}});var o8=ln(s8,[["__file","/home/runner/work/element-plus/element-plus/packages/components/form/src/form.vue"]]);function _s(){return _s=Object.assign?Object.assign.bind():function(i){for(var t=1;t<arguments.length;t++){var e=arguments[t];for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(i[n]=e[n])}return i},_s.apply(this,arguments)}function a8(i,t){i.prototype=Object.create(t.prototype),i.prototype.constructor=i,fl(i,t)}function Ad(i){return Ad=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},Ad(i)}function fl(i,t){return fl=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,r){return n.__proto__=r,n},fl(i,t)}function l8(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function Mc(i,t,e){return l8()?Mc=Reflect.construct.bind():Mc=function(r,s,o){var a=[null];a.push.apply(a,s);var l=Function.bind.apply(r,a),c=new l;return o&&fl(c,o.prototype),c},Mc.apply(null,arguments)}function c8(i){return Function.toString.call(i).indexOf("[native code]")!==-1}function Md(i){var t=typeof Map=="function"?new Map:void 0;return Md=function(n){if(n===null||!c8(n))return n;if(typeof n!="function")throw new TypeError("Super expression must either be null or a function");if(typeof t!="undefined"){if(t.has(n))return t.get(n);t.set(n,r)}function r(){return Mc(n,arguments,Ad(this).constructor)}return r.prototype=Object.create(n.prototype,{constructor:{value:r,enumerable:!1,writable:!0,configurable:!0}}),fl(r,n)},Md(i)}var u8=/%[sdj%]/g,h8=function(){};typeof process!="undefined"&&process.env;function Od(i){if(!i||!i.length)return null;var t={};return i.forEach(function(e){var n=e.field;t[n]=t[n]||[],t[n].push(e)}),t}function li(i){for(var t=arguments.length,e=new Array(t>1?t-1:0),n=1;n<t;n++)e[n-1]=arguments[n];var r=0,s=e.length;if(typeof i=="function")return i.apply(null,e);if(typeof i=="string"){var o=i.replace(u8,function(a){if(a==="%%")return"%";if(r>=s)return a;switch(a){case"%s":return String(e[r++]);case"%d":return Number(e[r++]);case"%j":try{return JSON.stringify(e[r++])}catch{return"[Circular]"}break;default:return a}});return o}return i}function d8(i){return i==="string"||i==="url"||i==="hex"||i==="email"||i==="date"||i==="pattern"}function fn(i,t){return!!(i==null||t==="array"&&Array.isArray(i)&&!i.length||d8(t)&&typeof i=="string"&&!i)}function f8(i,t,e){var n=[],r=0,s=i.length;function o(a){n.push.apply(n,a||[]),r++,r===s&&e(n)}i.forEach(function(a){t(a,o)})}function c2(i,t,e){var n=0,r=i.length;function s(o){if(o&&o.length){e(o);return}var a=n;n=n+1,a<r?t(i[a],s):e([])}s([])}function p8(i){var t=[];return Object.keys(i).forEach(function(e){t.push.apply(t,i[e]||[])}),t}var u2=function(i){a8(t,i);function t(e,n){var r;return r=i.call(this,"Async Validation Error")||this,r.errors=e,r.fields=n,r}return t}(Md(Error));function g8(i,t,e,n,r){if(t.first){var s=new Promise(function(f,p){var b=function(x){return n(x),x.length?p(new u2(x,Od(x))):f(r)},v=p8(i);c2(v,e,b)});return s.catch(function(f){return f}),s}var o=t.firstFields===!0?Object.keys(i):t.firstFields||[],a=Object.keys(i),l=a.length,c=0,u=[],h=new Promise(function(f,p){var b=function(w){if(u.push.apply(u,w),c++,c===l)return n(u),u.length?p(new u2(u,Od(u))):f(r)};a.length||(n(u),f(r)),a.forEach(function(v){var w=i[v];o.indexOf(v)!==-1?c2(w,e,b):f8(w,e,b)})});return h.catch(function(f){return f}),h}function m8(i){return!!(i&&i.message!==void 0)}function b8(i,t){for(var e=i,n=0;n<t.length;n++){if(e==null)return e;e=e[t[n]]}return e}function h2(i,t){return function(e){var n;return i.fullFields?n=b8(t,i.fullFields):n=t[e.field||i.fullField],m8(e)?(e.field=e.field||i.fullField,e.fieldValue=n,e):{message:typeof e=="function"?e():e,fieldValue:n,field:e.field||i.fullField}}}function d2(i,t){if(t){for(var e in t)if(t.hasOwnProperty(e)){var n=t[e];typeof n=="object"&&typeof i[e]=="object"?i[e]=_s({},i[e],n):i[e]=n}}return i}var Zv=function(t,e,n,r,s,o){t.required&&(!n.hasOwnProperty(t.field)||fn(e,o||t.type))&&r.push(li(s.messages.required,t.fullField))},v8=function(t,e,n,r,s){(/^\s+$/.test(e)||e==="")&&r.push(li(s.messages.whitespace,t.fullField))},fc,y8=function(){if(fc)return fc;var i="[a-fA-F\\d:]",t=function(O){return O&&O.includeBoundaries?"(?:(?<=\\s|^)(?="+i+")|(?<="+i+")(?=\\s|$))":""},e="(?:25[0-5]|2[0-4]\\d|1\\d\\d|[1-9]\\d|\\d)(?:\\.(?:25[0-5]|2[0-4]\\d|1\\d\\d|[1-9]\\d|\\d)){3}",n="[a-fA-F\\d]{1,4}",r=(`
(?:
(?:`+n+":){7}(?:"+n+`|:)|                                    // 1:2:3:4:5:6:7::  1:2:3:4:5:6:7:8
(?:`+n+":){6}(?:"+e+"|:"+n+`|:)|                             // 1:2:3:4:5:6::    1:2:3:4:5:6::8   1:2:3:4:5:6::8  1:2:3:4:5:6::1.2.3.4
(?:`+n+":){5}(?::"+e+"|(?::"+n+`){1,2}|:)|                   // 1:2:3:4:5::      1:2:3:4:5::7:8   1:2:3:4:5::8    1:2:3:4:5::7:1.2.3.4
(?:`+n+":){4}(?:(?::"+n+"){0,1}:"+e+"|(?::"+n+`){1,3}|:)| // 1:2:3:4::        1:2:3:4::6:7:8   1:2:3:4::8      1:2:3:4::6:7:1.2.3.4
(?:`+n+":){3}(?:(?::"+n+"){0,2}:"+e+"|(?::"+n+`){1,4}|:)| // 1:2:3::          1:2:3::5:6:7:8   1:2:3::8        1:2:3::5:6:7:1.2.3.4
(?:`+n+":){2}(?:(?::"+n+"){0,3}:"+e+"|(?::"+n+`){1,5}|:)| // 1:2::            1:2::4:5:6:7:8   1:2::8          1:2::4:5:6:7:1.2.3.4
(?:`+n+":){1}(?:(?::"+n+"){0,4}:"+e+"|(?::"+n+`){1,6}|:)| // 1::              1::3:4:5:6:7:8   1::8            1::3:4:5:6:7:1.2.3.4
(?::(?:(?::`+n+"){0,5}:"+e+"|(?::"+n+`){1,7}|:))             // ::2:3:4:5:6:7:8  ::2:3:4:5:6:7:8  ::8             ::1.2.3.4
)(?:%[0-9a-zA-Z]{1,})?                                             // %eth0            %1
`).replace(/\s*\/\/.*$/gm,"").replace(/\n/g,"").trim(),s=new RegExp("(?:^"+e+"$)|(?:^"+r+"$)"),o=new RegExp("^"+e+"$"),a=new RegExp("^"+r+"$"),l=function(O){return O&&O.exact?s:new RegExp("(?:"+t(O)+e+t(O)+")|(?:"+t(O)+r+t(O)+")","g")};l.v4=function(S){return S&&S.exact?o:new RegExp(""+t(S)+e+t(S),"g")},l.v6=function(S){return S&&S.exact?a:new RegExp(""+t(S)+r+t(S),"g")};var c="(?:(?:[a-z]+:)?//)",u="(?:\\S+(?::\\S*)?@)?",h=l.v4().source,f=l.v6().source,p="(?:(?:[a-z\\u00a1-\\uffff0-9][-_]*)*[a-z\\u00a1-\\uffff0-9]+)",b="(?:\\.(?:[a-z\\u00a1-\\uffff0-9]-*)*[a-z\\u00a1-\\uffff0-9]+)*",v="(?:\\.(?:[a-z\\u00a1-\\uffff]{2,}))",w="(?::\\d{2,5})?",x='(?:[/?#][^\\s"]*)?',E="(?:"+c+"|www\\.)"+u+"(?:localhost|"+h+"|"+f+"|"+p+b+v+")"+w+x;return fc=new RegExp("(?:^"+E+"$)","i"),fc},f2={email:/^(([^<>()\[\]\\.,;:\s@"]+(\.[^<>()\[\]\\.,;:\s@"]+)*)|(".+"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}])|(([a-zA-Z\-0-9\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF]+\.)+[a-zA-Z\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF]{2,}))$/,hex:/^#?([a-f0-9]{6}|[a-f0-9]{3})$/i},_a={integer:function(t){return _a.number(t)&&parseInt(t,10)===t},float:function(t){return _a.number(t)&&!_a.integer(t)},array:function(t){return Array.isArray(t)},regexp:function(t){if(t instanceof RegExp)return!0;try{return!!new RegExp(t)}catch{return!1}},date:function(t){return typeof t.getTime=="function"&&typeof t.getMonth=="function"&&typeof t.getYear=="function"&&!isNaN(t.getTime())},number:function(t){return isNaN(t)?!1:typeof t=="number"},object:function(t){return typeof t=="object"&&!_a.array(t)},method:function(t){return typeof t=="function"},email:function(t){return typeof t=="string"&&t.length<=320&&!!t.match(f2.email)},url:function(t){return typeof t=="string"&&t.length<=2048&&!!t.match(y8())},hex:function(t){return typeof t=="string"&&!!t.match(f2.hex)}},x8=function(t,e,n,r,s){if(t.required&&e===void 0){Zv(t,e,n,r,s);return}var o=["integer","float","array","regexp","object","method","email","number","date","url","hex"],a=t.type;o.indexOf(a)>-1?_a[a](e)||r.push(li(s.messages.types[a],t.fullField,t.type)):a&&typeof e!==t.type&&r.push(li(s.messages.types[a],t.fullField,t.type))},w8=function(t,e,n,r,s){var o=typeof t.len=="number",a=typeof t.min=="number",l=typeof t.max=="number",c=/[\uD800-\uDBFF][\uDC00-\uDFFF]/g,u=e,h=null,f=typeof e=="number",p=typeof e=="string",b=Array.isArray(e);if(f?h="number":p?h="string":b&&(h="array"),!h)return!1;b&&(u=e.length),p&&(u=e.replace(c,"_").length),o?u!==t.len&&r.push(li(s.messages[h].len,t.fullField,t.len)):a&&!l&&u<t.min?r.push(li(s.messages[h].min,t.fullField,t.min)):l&&!a&&u>t.max?r.push(li(s.messages[h].max,t.fullField,t.max)):a&&l&&(u<t.min||u>t.max)&&r.push(li(s.messages[h].range,t.fullField,t.min,t.max))},vo="enum",C8=function(t,e,n,r,s){t[vo]=Array.isArray(t[vo])?t[vo]:[],t[vo].indexOf(e)===-1&&r.push(li(s.messages[vo],t.fullField,t[vo].join(", ")))},E8=function(t,e,n,r,s){if(t.pattern){if(t.pattern instanceof RegExp)t.pattern.lastIndex=0,t.pattern.test(e)||r.push(li(s.messages.pattern.mismatch,t.fullField,e,t.pattern));else if(typeof t.pattern=="string"){var o=new RegExp(t.pattern);o.test(e)||r.push(li(s.messages.pattern.mismatch,t.fullField,e,t.pattern))}}},fe={required:Zv,whitespace:v8,type:x8,range:w8,enum:C8,pattern:E8},S8=function(t,e,n,r,s){var o=[],a=t.required||!t.required&&r.hasOwnProperty(t.field);if(a){if(fn(e,"string")&&!t.required)return n();fe.required(t,e,r,o,s,"string"),fn(e,"string")||(fe.type(t,e,r,o,s),fe.range(t,e,r,o,s),fe.pattern(t,e,r,o,s),t.whitespace===!0&&fe.whitespace(t,e,r,o,s))}n(o)},A8=function(t,e,n,r,s){var o=[],a=t.required||!t.required&&r.hasOwnProperty(t.field);if(a){if(fn(e)&&!t.required)return n();fe.required(t,e,r,o,s),e!==void 0&&fe.type(t,e,r,o,s)}n(o)},M8=function(t,e,n,r,s){var o=[],a=t.required||!t.required&&r.hasOwnProperty(t.field);if(a){if(e===""&&(e=void 0),fn(e)&&!t.required)return n();fe.required(t,e,r,o,s),e!==void 0&&(fe.type(t,e,r,o,s),fe.range(t,e,r,o,s))}n(o)},O8=function(t,e,n,r,s){var o=[],a=t.required||!t.required&&r.hasOwnProperty(t.field);if(a){if(fn(e)&&!t.required)return n();fe.required(t,e,r,o,s),e!==void 0&&fe.type(t,e,r,o,s)}n(o)},T8=function(t,e,n,r,s){var o=[],a=t.required||!t.required&&r.hasOwnProperty(t.field);if(a){if(fn(e)&&!t.required)return n();fe.required(t,e,r,o,s),fn(e)||fe.type(t,e,r,o,s)}n(o)},P8=function(t,e,n,r,s){var o=[],a=t.required||!t.required&&r.hasOwnProperty(t.field);if(a){if(fn(e)&&!t.required)return n();fe.required(t,e,r,o,s),e!==void 0&&(fe.type(t,e,r,o,s),fe.range(t,e,r,o,s))}n(o)},k8=function(t,e,n,r,s){var o=[],a=t.required||!t.required&&r.hasOwnProperty(t.field);if(a){if(fn(e)&&!t.required)return n();fe.required(t,e,r,o,s),e!==void 0&&(fe.type(t,e,r,o,s),fe.range(t,e,r,o,s))}n(o)},_8=function(t,e,n,r,s){var o=[],a=t.required||!t.required&&r.hasOwnProperty(t.field);if(a){if(e==null&&!t.required)return n();fe.required(t,e,r,o,s,"array"),e!=null&&(fe.type(t,e,r,o,s),fe.range(t,e,r,o,s))}n(o)},D8=function(t,e,n,r,s){var o=[],a=t.required||!t.required&&r.hasOwnProperty(t.field);if(a){if(fn(e)&&!t.required)return n();fe.required(t,e,r,o,s),e!==void 0&&fe.type(t,e,r,o,s)}n(o)},N8="enum",$8=function(t,e,n,r,s){var o=[],a=t.required||!t.required&&r.hasOwnProperty(t.field);if(a){if(fn(e)&&!t.required)return n();fe.required(t,e,r,o,s),e!==void 0&&fe[N8](t,e,r,o,s)}n(o)},F8=function(t,e,n,r,s){var o=[],a=t.required||!t.required&&r.hasOwnProperty(t.field);if(a){if(fn(e,"string")&&!t.required)return n();fe.required(t,e,r,o,s),fn(e,"string")||fe.pattern(t,e,r,o,s)}n(o)},L8=function(t,e,n,r,s){var o=[],a=t.required||!t.required&&r.hasOwnProperty(t.field);if(a){if(fn(e,"date")&&!t.required)return n();if(fe.required(t,e,r,o,s),!fn(e,"date")){var l;e instanceof Date?l=e:l=new Date(e),fe.type(t,l,r,o,s),l&&fe.range(t,l.getTime(),r,o,s)}}n(o)},I8=function(t,e,n,r,s){var o=[],a=Array.isArray(e)?"array":typeof e;fe.required(t,e,r,o,s,a),n(o)},zh=function(t,e,n,r,s){var o=t.type,a=[],l=t.required||!t.required&&r.hasOwnProperty(t.field);if(l){if(fn(e,o)&&!t.required)return n();fe.required(t,e,r,a,s,o),fn(e,o)||fe.type(t,e,r,a,s)}n(a)},z8=function(t,e,n,r,s){var o=[],a=t.required||!t.required&&r.hasOwnProperty(t.field);if(a){if(fn(e)&&!t.required)return n();fe.required(t,e,r,o,s)}n(o)},Ua={string:S8,method:A8,number:M8,boolean:O8,regexp:T8,integer:P8,float:k8,array:_8,object:D8,enum:$8,pattern:F8,date:L8,url:zh,hex:zh,email:zh,required:I8,any:z8};function Td(){return{default:"Validation error on field %s",required:"%s is required",enum:"%s must be one of %s",whitespace:"%s cannot be empty",date:{format:"%s date %s is invalid for format %s",parse:"%s date could not be parsed, %s is invalid ",invalid:"%s date %s is invalid"},types:{string:"%s is not a %s",method:"%s is not a %s (function)",array:"%s is not an %s",object:"%s is not an %s",number:"%s is not a %s",date:"%s is not a %s",boolean:"%s is not a %s",integer:"%s is not an %s",float:"%s is not a %s",regexp:"%s is not a valid %s",email:"%s is not a valid %s",url:"%s is not a valid %s",hex:"%s is not a valid %s"},string:{len:"%s must be exactly %s characters",min:"%s must be at least %s characters",max:"%s cannot be longer than %s characters",range:"%s must be between %s and %s characters"},number:{len:"%s must equal %s",min:"%s cannot be less than %s",max:"%s cannot be greater than %s",range:"%s must be between %s and %s"},array:{len:"%s must be exactly %s in length",min:"%s cannot be less than %s in length",max:"%s cannot be greater than %s in length",range:"%s must be between %s and %s in length"},pattern:{mismatch:"%s value %s does not match pattern %s"},clone:function(){var t=JSON.parse(JSON.stringify(this));return t.clone=this.clone,t}}}var Pd=Td(),zl=function(){function i(e){this.rules=null,this._messages=Pd,this.define(e)}var t=i.prototype;return t.define=function(n){var r=this;if(!n)throw new Error("Cannot configure a schema with no rules");if(typeof n!="object"||Array.isArray(n))throw new Error("Rules must be an object");this.rules={},Object.keys(n).forEach(function(s){var o=n[s];r.rules[s]=Array.isArray(o)?o:[o]})},t.messages=function(n){return n&&(this._messages=d2(Td(),n)),this._messages},t.validate=function(n,r,s){var o=this;r===void 0&&(r={}),s===void 0&&(s=function(){});var a=n,l=r,c=s;if(typeof l=="function"&&(c=l,l={}),!this.rules||Object.keys(this.rules).length===0)return c&&c(null,a),Promise.resolve(a);function u(v){var w=[],x={};function E(O){if(Array.isArray(O)){var k;w=(k=w).concat.apply(k,O)}else w.push(O)}for(var S=0;S<v.length;S++)E(v[S]);w.length?(x=Od(w),c(w,x)):c(null,a)}if(l.messages){var h=this.messages();h===Pd&&(h=Td()),d2(h,l.messages),l.messages=h}else l.messages=this.messages();var f={},p=l.keys||Object.keys(this.rules);p.forEach(function(v){var w=o.rules[v],x=a[v];w.forEach(function(E){var S=E;typeof S.transform=="function"&&(a===n&&(a=_s({},a)),x=a[v]=S.transform(x)),typeof S=="function"?S={validator:S}:S=_s({},S),S.validator=o.getValidationMethod(S),S.validator&&(S.field=v,S.fullField=S.fullField||v,S.type=o.getType(S),f[v]=f[v]||[],f[v].push({rule:S,value:x,source:a,field:v}))})});var b={};return g8(f,l,function(v,w){var x=v.rule,E=(x.type==="object"||x.type==="array")&&(typeof x.fields=="object"||typeof x.defaultField=="object");E=E&&(x.required||!x.required&&v.value),x.field=v.field;function S(m,T){return _s({},T,{fullField:x.fullField+"."+m,fullFields:x.fullFields?[].concat(x.fullFields,[m]):[m]})}function O(m){m===void 0&&(m=[]);var T=Array.isArray(m)?m:[m];!l.suppressWarning&&T.length&&i.warning("async-validator:",T),T.length&&x.message!==void 0&&(T=[].concat(x.message));var D=T.map(h2(x,a));if(l.first&&D.length)return b[x.field]=1,w(D);if(!E)w(D);else{if(x.required&&!v.value)return x.message!==void 0?D=[].concat(x.message).map(h2(x,a)):l.error&&(D=[l.error(x,li(l.messages.required,x.field))]),w(D);var z={};x.defaultField&&Object.keys(v.value).map(function(R){z[R]=x.defaultField}),z=_s({},z,v.rule.fields);var H={};Object.keys(z).forEach(function(R){var rt=z[R],st=Array.isArray(rt)?rt:[rt];H[R]=st.map(S.bind(null,R))});var q=new i(H);q.messages(l.messages),v.rule.options&&(v.rule.options.messages=l.messages,v.rule.options.error=l.error),q.validate(v.value,v.rule.options||l,function(R){var rt=[];D&&D.length&&rt.push.apply(rt,D),R&&R.length&&rt.push.apply(rt,R),w(rt.length?rt:null)})}}var k;if(x.asyncValidator)k=x.asyncValidator(x,v.value,O,v.source,l);else if(x.validator){try{k=x.validator(x,v.value,O,v.source,l)}catch(m){console.error==null||console.error(m),l.suppressValidatorError||setTimeout(function(){throw m},0),O(m.message)}k===!0?O():k===!1?O(typeof x.message=="function"?x.message(x.fullField||x.field):x.message||(x.fullField||x.field)+" fails"):k instanceof Array?O(k):k instanceof Error&&O(k.message)}k&&k.then&&k.then(function(){return O()},function(m){return O(m)})},function(v){u(v)},a)},t.getType=function(n){if(n.type===void 0&&n.pattern instanceof RegExp&&(n.type="pattern"),typeof n.validator!="function"&&n.type&&!Ua.hasOwnProperty(n.type))throw new Error(li("Unknown rule type %s",n.type));return n.type||"string"},t.getValidationMethod=function(n){if(typeof n.validator=="function")return n.validator;var r=Object.keys(n),s=r.indexOf("message");return s!==-1&&r.splice(s,1),r.length===1&&r[0]==="required"?Ua.required:Ua[this.getType(n)]||void 0},i}();zl.register=function(t,e){if(typeof e!="function")throw new Error("Cannot register a validator by type, validator is not a function");Ua[t]=e};zl.warning=h8;zl.messages=Pd;zl.validators=Ua;const j8=["","error","validating","success"],B8=Rn({label:String,labelWidth:{type:[String,Number],default:""},prop:{type:Ge([String,Array])},required:{type:Boolean,default:void 0},rules:{type:Ge([Object,Array])},error:String,validateStatus:{type:String,values:j8},for:String,inlineMessage:{type:[String,Boolean],default:""},showMessage:{type:Boolean,default:!0},size:{type:String,values:Lu}}),p2="ElLabelWrap";var R8=Ie({name:p2,props:{isAutoWidth:Boolean,updateAll:Boolean},setup(i,{slots:t}){const e=Re(ao,void 0);Re(Kr)||mP(p2,"usage: <el-form-item><label-wrap /></el-form-item>");const r=jn("form"),s=Mt(),o=Mt(0),a=()=>{var u;if((u=s.value)!=null&&u.firstElementChild){const h=window.getComputedStyle(s.value.firstElementChild).width;return Math.ceil(Number.parseFloat(h))}else return 0},l=(u="update")=>{Wn(()=>{t.default&&i.isAutoWidth&&(u==="update"?o.value=a():u==="remove"&&(e==null||e.deregisterLabelWidth(o.value)))})},c=()=>l("update");return Nn(()=>{c()}),sr(()=>{l("remove")}),hf(()=>c()),Qt(o,(u,h)=>{i.updateAll&&(e==null||e.registerLabelWidth(u,h))}),Qm(vt(()=>{var u,h;return(h=(u=s.value)==null?void 0:u.firstElementChild)!=null?h:null}),c),()=>{var u,h;if(!t)return null;const{isAutoWidth:f}=i;if(f){const p=e==null?void 0:e.autoLabelWidth,b={};if(p&&p!=="auto"){const v=Math.max(0,Number.parseInt(p,10)-o.value),w=e.labelPosition==="left"?"marginRight":"marginLeft";v&&(b[w]=`${v}px`)}return Jt("div",{ref:s,class:[r.be("item","label-wrap")],style:b},[(u=t.default)==null?void 0:u.call(t)])}else return Jt(tn,{ref:s},[(h=t.default)==null?void 0:h.call(t)])}}});const V8=["role","aria-labelledby"],H8={name:"ElFormItem"},G8=Ie({...H8,props:B8,setup(i,{expose:t}){const e=i,n=vf(),r=Re(ao,void 0),s=Re(Kr,void 0),o=Fl(void 0,{formItem:!1}),a=jn("form-item"),l=Vf().value,c=Mt([]),u=Mt(""),h=w3(u,100),f=Mt(""),p=Mt();let b,v=!1;const w=vt(()=>{if((r==null?void 0:r.labelPosition)==="top")return{};const at=wd(e.labelWidth||(r==null?void 0:r.labelWidth)||"");return at?{width:at}:{}}),x=vt(()=>{if((r==null?void 0:r.labelPosition)==="top"||(r==null?void 0:r.inline))return{};if(!e.label&&!e.labelWidth&&z)return{};const at=wd(e.labelWidth||(r==null?void 0:r.labelWidth)||"");return!e.label&&!n.label?{marginLeft:at}:{}}),E=vt(()=>[a.b(),a.m(o.value),a.is("error",u.value==="error"),a.is("validating",u.value==="validating"),a.is("success",u.value==="success"),a.is("required",st.value||e.required),a.is("no-asterisk",r==null?void 0:r.hideRequiredAsterisk),{[a.m("feedback")]:r==null?void 0:r.statusIcon}]),S=vt(()=>sl(e.inlineMessage)?e.inlineMessage:(r==null?void 0:r.inlineMessage)||!1),O=vt(()=>[a.e("error"),{[a.em("error","inline")]:S.value}]),k=vt(()=>e.prop?Me(e.prop)?e.prop:e.prop.join("."):""),m=vt(()=>!!(e.label||n.label)),T=vt(()=>e.for||c.value.length===1?c.value[0]:void 0),D=vt(()=>!T.value&&m.value),z=!!s,H=vt(()=>{const at=r==null?void 0:r.model;if(!(!at||!e.prop))return Ph(at,e.prop).value}),q=vt(()=>{const at=e.rules?pd(e.rules):[],Tt=r==null?void 0:r.rules;if(Tt&&e.prop){const Ut=Ph(Tt,e.prop).value;Ut&&at.push(...pd(Ut))}return e.required!==void 0&&at.push({required:!!e.required}),at}),R=vt(()=>q.value.length>0),rt=at=>q.value.filter(Ut=>!Ut.trigger||!at?!0:Array.isArray(Ut.trigger)?Ut.trigger.includes(at):Ut.trigger===at).map(({trigger:Ut,...te})=>te),st=vt(()=>q.value.some(at=>at.required===!0)),j=vt(()=>{var at;return h.value==="error"&&e.showMessage&&((at=r==null?void 0:r.showMessage)!=null?at:!0)}),B=vt(()=>`${e.label||""}${(r==null?void 0:r.labelSuffix)||""}`),tt=at=>{u.value=at},bt=at=>{var Tt,Ut;const{errors:te,fields:pn}=at;(!te||!pn)&&console.error(at),tt("error"),f.value=te?(Ut=(Tt=te==null?void 0:te[0])==null?void 0:Tt.message)!=null?Ut:`${e.prop} is required`:"",r==null||r.emit("validate",e.prop,!1,f.value)},Ot=()=>{tt("success"),r==null||r.emit("validate",e.prop,!0,"")},Gt=async at=>{const Tt=k.value;return new zl({[Tt]:at}).validate({[Tt]:H.value},{firstFields:!0}).then(()=>(Ot(),!0)).catch(te=>(bt(te),Promise.reject(te)))},pt=async(at,Tt)=>{if(v)return v=!1,!1;const Ut=Vt(Tt);if(!R.value)return Tt==null||Tt(!1),!1;const te=rt(at);return te.length===0?(Tt==null||Tt(!0),!0):(tt("validating"),Gt(te).then(()=>(Tt==null||Tt(!0),!0)).catch(pn=>{const{fields:$n}=pn;return Tt==null||Tt(!1,$n),Ut?!1:Promise.reject($n)}))},$t=()=>{tt(""),f.value=""},Dt=async()=>{const at=r==null?void 0:r.model;if(!at||!e.prop)return;const Tt=Ph(at,e.prop);Ii(Tt.value,b)||(v=!0),Tt.value=Vs(b),await Wn(),$t()},_t=at=>{c.value.includes(at)||c.value.push(at)},zt=at=>{c.value=c.value.filter(Tt=>Tt!==at)};Qt(()=>e.error,at=>{f.value=at||"",tt(at?"error":"")},{immediate:!0}),Qt(()=>e.validateStatus,at=>tt(at||""));const de=Qs({...lf(e),$el:p,size:o,validateState:u,labelId:l,inputIds:c,isGroup:D,addInputId:_t,removeInputId:zt,resetField:Dt,clearValidate:$t,validate:pt});return zi(Kr,de),Nn(()=>{e.prop&&(r==null||r.addField(de),b=Vs(H.value))}),sr(()=>{r==null||r.removeField(de)}),t({size:o,validateMessage:f,validateState:u,validate:pt,clearValidate:$t,resetField:Dt}),(at,Tt)=>{var Ut;return St(),Zt("div",{ref_key:"formItemRef",ref:p,class:qt(U(E)),role:U(D)?"group":void 0,"aria-labelledby":U(D)?U(l):void 0},[Jt(U(R8),{"is-auto-width":U(w).width==="auto","update-all":((Ut=U(r))==null?void 0:Ut.labelWidth)==="auto"},{default:we(()=>[U(m)?(St(),Ae(Ps(U(T)?"label":"div"),{key:0,id:U(l),for:U(T),class:qt(U(a).e("label")),style:En(U(w))},{default:we(()=>[Je(at.$slots,"label",{label:U(B)},()=>[Zi(Xi(U(B)),1)])]),_:3},8,["id","for","class","style"])):ve("v-if",!0)]),_:3},8,["is-auto-width","update-all"]),Yt("div",{class:qt(U(a).e("content")),style:En(U(x))},[Je(at.$slots,"default"),Jt(Eu,{name:`${U(a).namespace.value}-zoom-in-top`},{default:we(()=>[U(j)?Je(at.$slots,"error",{key:0,error:f.value},()=>[Yt("div",{class:qt(U(O))},Xi(f.value),3)]):ve("v-if",!0)]),_:3},8,["name"])],6)],10,V8)}}});var Qv=ln(G8,[["__file","/home/runner/work/element-plus/element-plus/packages/components/form/src/form-item.vue"]]);const q8=oo(o8,{FormItem:Qv}),U8=bv(Qv),W8={class:"form-detail"},X8=Yt("div",{class:"title"},"\u4FEE\u6539\u5C5E\u6027",-1),Y8={class:"content"},K8={key:1,class:"demo-color-block"},J8={class:"demonstration"},Z8=Ie({__name:"FromDettail",props:["detailData"],setup(i){return(t,e)=>{const n=Ov,r=Jv,s=U8,o=q8;return St(),Zt("div",W8,[X8,Yt("div",Y8,[Jt(o,{"label-width":"auto"},{default:we(()=>[(St(!0),Zt(tn,null,Pm(i.detailData,a=>(St(),Ae(s,{label:a.title,prop:a.key},{default:we(()=>[a.key!=="color"?(St(),Ae(n,{key:0,modelValue:a.value,"onUpdate:modelValue":l=>a.value=l},null,8,["modelValue","onUpdate:modelValue"])):(St(),Zt("div",K8,[Yt("span",J8,Xi(a.title),1),Jt(r,{modelValue:a.value,"onUpdate:modelValue":l=>a.value=l},null,8,["modelValue","onUpdate:modelValue"])]))]),_:2},1032,["label","prop"]))),256))]),_:1})])])}}});var ty={exports:{}};/*!
 * jQuery JavaScript Library v3.6.0
 * https://jquery.com/
 *
 * Includes Sizzle.js
 * https://sizzlejs.com/
 *
 * Copyright OpenJS Foundation and other contributors
 * Released under the MIT license
 * https://jquery.org/license
 *
 * Date: 2021-03-02T17:08Z
 */(function(i){(function(t,e){i.exports=t.document?e(t,!0):function(n){if(!n.document)throw new Error("jQuery requires a window with a document");return e(n)}})(typeof window!="undefined"?window:wD,function(t,e){var n=[],r=Object.getPrototypeOf,s=n.slice,o=n.flat?function(d){return n.flat.call(d)}:function(d){return n.concat.apply([],d)},a=n.push,l=n.indexOf,c={},u=c.toString,h=c.hasOwnProperty,f=h.toString,p=f.call(Object),b={},v=function(g){return typeof g=="function"&&typeof g.nodeType!="number"&&typeof g.item!="function"},w=function(g){return g!=null&&g===g.window},x=t.document,E={type:!0,src:!0,nonce:!0,noModule:!0};function S(d,g,y){y=y||x;var C,A,M=y.createElement("script");if(M.text=d,g)for(C in E)A=g[C]||g.getAttribute&&g.getAttribute(C),A&&M.setAttribute(C,A);y.head.appendChild(M).parentNode.removeChild(M)}function O(d){return d==null?d+"":typeof d=="object"||typeof d=="function"?c[u.call(d)]||"object":typeof d}var k="3.6.0",m=function(d,g){return new m.fn.init(d,g)};m.fn=m.prototype={jquery:k,constructor:m,length:0,toArray:function(){return s.call(this)},get:function(d){return d==null?s.call(this):d<0?this[d+this.length]:this[d]},pushStack:function(d){var g=m.merge(this.constructor(),d);return g.prevObject=this,g},each:function(d){return m.each(this,d)},map:function(d){return this.pushStack(m.map(this,function(g,y){return d.call(g,y,g)}))},slice:function(){return this.pushStack(s.apply(this,arguments))},first:function(){return this.eq(0)},last:function(){return this.eq(-1)},even:function(){return this.pushStack(m.grep(this,function(d,g){return(g+1)%2}))},odd:function(){return this.pushStack(m.grep(this,function(d,g){return g%2}))},eq:function(d){var g=this.length,y=+d+(d<0?g:0);return this.pushStack(y>=0&&y<g?[this[y]]:[])},end:function(){return this.prevObject||this.constructor()},push:a,sort:n.sort,splice:n.splice},m.extend=m.fn.extend=function(){var d,g,y,C,A,M,P=arguments[0]||{},L=1,I=arguments.length,W=!1;for(typeof P=="boolean"&&(W=P,P=arguments[L]||{},L++),typeof P!="object"&&!v(P)&&(P={}),L===I&&(P=this,L--);L<I;L++)if((d=arguments[L])!=null)for(g in d)C=d[g],!(g==="__proto__"||P===C)&&(W&&C&&(m.isPlainObject(C)||(A=Array.isArray(C)))?(y=P[g],A&&!Array.isArray(y)?M=[]:!A&&!m.isPlainObject(y)?M={}:M=y,A=!1,P[g]=m.extend(W,M,C)):C!==void 0&&(P[g]=C));return P},m.extend({expando:"jQuery"+(k+Math.random()).replace(/\D/g,""),isReady:!0,error:function(d){throw new Error(d)},noop:function(){},isPlainObject:function(d){var g,y;return!d||u.call(d)!=="[object Object]"?!1:(g=r(d),g?(y=h.call(g,"constructor")&&g.constructor,typeof y=="function"&&f.call(y)===p):!0)},isEmptyObject:function(d){var g;for(g in d)return!1;return!0},globalEval:function(d,g,y){S(d,{nonce:g&&g.nonce},y)},each:function(d,g){var y,C=0;if(T(d))for(y=d.length;C<y&&g.call(d[C],C,d[C])!==!1;C++);else for(C in d)if(g.call(d[C],C,d[C])===!1)break;return d},makeArray:function(d,g){var y=g||[];return d!=null&&(T(Object(d))?m.merge(y,typeof d=="string"?[d]:d):a.call(y,d)),y},inArray:function(d,g,y){return g==null?-1:l.call(g,d,y)},merge:function(d,g){for(var y=+g.length,C=0,A=d.length;C<y;C++)d[A++]=g[C];return d.length=A,d},grep:function(d,g,y){for(var C,A=[],M=0,P=d.length,L=!y;M<P;M++)C=!g(d[M],M),C!==L&&A.push(d[M]);return A},map:function(d,g,y){var C,A,M=0,P=[];if(T(d))for(C=d.length;M<C;M++)A=g(d[M],M,y),A!=null&&P.push(A);else for(M in d)A=g(d[M],M,y),A!=null&&P.push(A);return o(P)},guid:1,support:b}),typeof Symbol=="function"&&(m.fn[Symbol.iterator]=n[Symbol.iterator]),m.each("Boolean Number String Function Array Date RegExp Object Error Symbol".split(" "),function(d,g){c["[object "+g+"]"]=g.toLowerCase()});function T(d){var g=!!d&&"length"in d&&d.length,y=O(d);return v(d)||w(d)?!1:y==="array"||g===0||typeof g=="number"&&g>0&&g-1 in d}var D=function(d){var g,y,C,A,M,P,L,I,W,Z,lt,J,et,Ft,Kt,Lt,cn,nn,ti,Te="sizzle"+1*new Date,Xt=d.document,Hn=0,be=0,qe=Kl(),ya=Kl(),Wl=Kl(),ei=Kl(),hs=function(_,F){return _===F&&(lt=!0),0},ds={}.hasOwnProperty,Gn=[],kr=Gn.pop,pi=Gn.push,_r=Gn.push,Zp=Gn.slice,fs=function(_,F){for(var V=0,it=_.length;V<it;V++)if(_[V]===F)return V;return-1},ch="checked|selected|async|autofocus|autoplay|controls|defer|disabled|hidden|ismap|loop|multiple|open|readonly|required|scoped",Se="[\\x20\\t\\r\\n\\f]",ps="(?:\\\\[\\da-fA-F]{1,6}"+Se+"?|\\\\[^\\r\\n\\f]|[\\w-]|[^\0-\\x7f])+",Qp="\\["+Se+"*("+ps+")(?:"+Se+"*([*^$|!~]?=)"+Se+`*(?:'((?:\\\\.|[^\\\\'])*)'|"((?:\\\\.|[^\\\\"])*)"|(`+ps+"))|)"+Se+"*\\]",uh=":("+ps+`)(?:\\((('((?:\\\\.|[^\\\\'])*)'|"((?:\\\\.|[^\\\\"])*)")|((?:\\\\.|[^\\\\()[\\]]|`+Qp+")*)|.*)\\)|)",mx=new RegExp(Se+"+","g"),Xl=new RegExp("^"+Se+"+|((?:^|[^\\\\])(?:\\\\.)*)"+Se+"+$","g"),bx=new RegExp("^"+Se+"*,"+Se+"*"),tg=new RegExp("^"+Se+"*([>+~]|"+Se+")"+Se+"*"),vx=new RegExp(Se+"|>"),yx=new RegExp(uh),xx=new RegExp("^"+ps+"$"),Yl={ID:new RegExp("^#("+ps+")"),CLASS:new RegExp("^\\.("+ps+")"),TAG:new RegExp("^("+ps+"|[*])"),ATTR:new RegExp("^"+Qp),PSEUDO:new RegExp("^"+uh),CHILD:new RegExp("^:(only|first|last|nth|nth-last)-(child|of-type)(?:\\("+Se+"*(even|odd|(([+-]|)(\\d*)n|)"+Se+"*(?:([+-]|)"+Se+"*(\\d+)|))"+Se+"*\\)|)","i"),bool:new RegExp("^(?:"+ch+")$","i"),needsContext:new RegExp("^"+Se+"*[>+~]|:(even|odd|eq|gt|lt|nth|first|last)(?:\\("+Se+"*((?:-\\d)?\\d*)"+Se+"*\\)|)(?=[^-]|$)","i")},wx=/HTML$/i,Cx=/^(?:input|select|textarea|button)$/i,Ex=/^h\d$/i,xa=/^[^{]+\{\s*\[native \w/,Sx=/^(?:#([\w-]+)|(\w+)|\.([\w-]+))$/,hh=/[+~]/,lr=new RegExp("\\\\[\\da-fA-F]{1,6}"+Se+"?|\\\\([^\\r\\n\\f])","g"),cr=function(_,F){var V="0x"+_.slice(1)-65536;return F||(V<0?String.fromCharCode(V+65536):String.fromCharCode(V>>10|55296,V&1023|56320))},eg=/([\0-\x1f\x7f]|^-?\d)|^-$|[^\0-\x1f\x7f-\uFFFF\w-]/g,ng=function(_,F){return F?_==="\0"?"\uFFFD":_.slice(0,-1)+"\\"+_.charCodeAt(_.length-1).toString(16)+" ":"\\"+_},ig=function(){J()},Ax=Zl(function(_){return _.disabled===!0&&_.nodeName.toLowerCase()==="fieldset"},{dir:"parentNode",next:"legend"});try{_r.apply(Gn=Zp.call(Xt.childNodes),Xt.childNodes),Gn[Xt.childNodes.length].nodeType}catch{_r={apply:Gn.length?function(F,V){pi.apply(F,Zp.call(V))}:function(F,V){for(var it=F.length,X=0;F[it++]=V[X++];);F.length=it-1}}}function Pe(_,F,V,it){var X,ot,ct,yt,Ct,jt,It,Rt=F&&F.ownerDocument,ce=F?F.nodeType:9;if(V=V||[],typeof _!="string"||!_||ce!==1&&ce!==9&&ce!==11)return V;if(!it&&(J(F),F=F||et,Kt)){if(ce!==11&&(Ct=Sx.exec(_)))if(X=Ct[1]){if(ce===9)if(ct=F.getElementById(X)){if(ct.id===X)return V.push(ct),V}else return V;else if(Rt&&(ct=Rt.getElementById(X))&&ti(F,ct)&&ct.id===X)return V.push(ct),V}else{if(Ct[2])return _r.apply(V,F.getElementsByTagName(_)),V;if((X=Ct[3])&&y.getElementsByClassName&&F.getElementsByClassName)return _r.apply(V,F.getElementsByClassName(X)),V}if(y.qsa&&!ei[_+" "]&&(!Lt||!Lt.test(_))&&(ce!==1||F.nodeName.toLowerCase()!=="object")){if(It=_,Rt=F,ce===1&&(vx.test(_)||tg.test(_))){for(Rt=hh.test(_)&&fh(F.parentNode)||F,(Rt!==F||!y.scope)&&((yt=F.getAttribute("id"))?yt=yt.replace(eg,ng):F.setAttribute("id",yt=Te)),jt=P(_),ot=jt.length;ot--;)jt[ot]=(yt?"#"+yt:":scope")+" "+Jl(jt[ot]);It=jt.join(",")}try{return _r.apply(V,Rt.querySelectorAll(It)),V}catch{ei(_,!0)}finally{yt===Te&&F.removeAttribute("id")}}}return I(_.replace(Xl,"$1"),F,V,it)}function Kl(){var _=[];function F(V,it){return _.push(V+" ")>C.cacheLength&&delete F[_.shift()],F[V+" "]=it}return F}function Pi(_){return _[Te]=!0,_}function ki(_){var F=et.createElement("fieldset");try{return!!_(F)}catch{return!1}finally{F.parentNode&&F.parentNode.removeChild(F),F=null}}function dh(_,F){for(var V=_.split("|"),it=V.length;it--;)C.attrHandle[V[it]]=F}function rg(_,F){var V=F&&_,it=V&&_.nodeType===1&&F.nodeType===1&&_.sourceIndex-F.sourceIndex;if(it)return it;if(V){for(;V=V.nextSibling;)if(V===F)return-1}return _?1:-1}function Mx(_){return function(F){var V=F.nodeName.toLowerCase();return V==="input"&&F.type===_}}function Ox(_){return function(F){var V=F.nodeName.toLowerCase();return(V==="input"||V==="button")&&F.type===_}}function sg(_){return function(F){return"form"in F?F.parentNode&&F.disabled===!1?"label"in F?"label"in F.parentNode?F.parentNode.disabled===_:F.disabled===_:F.isDisabled===_||F.isDisabled!==!_&&Ax(F)===_:F.disabled===_:"label"in F?F.disabled===_:!1}}function gs(_){return Pi(function(F){return F=+F,Pi(function(V,it){for(var X,ot=_([],V.length,F),ct=ot.length;ct--;)V[X=ot[ct]]&&(V[X]=!(it[X]=V[X]))})})}function fh(_){return _&&typeof _.getElementsByTagName!="undefined"&&_}y=Pe.support={},M=Pe.isXML=function(_){var F=_&&_.namespaceURI,V=_&&(_.ownerDocument||_).documentElement;return!wx.test(F||V&&V.nodeName||"HTML")},J=Pe.setDocument=function(_){var F,V,it=_?_.ownerDocument||_:Xt;return it==et||it.nodeType!==9||!it.documentElement||(et=it,Ft=et.documentElement,Kt=!M(et),Xt!=et&&(V=et.defaultView)&&V.top!==V&&(V.addEventListener?V.addEventListener("unload",ig,!1):V.attachEvent&&V.attachEvent("onunload",ig)),y.scope=ki(function(X){return Ft.appendChild(X).appendChild(et.createElement("div")),typeof X.querySelectorAll!="undefined"&&!X.querySelectorAll(":scope fieldset div").length}),y.attributes=ki(function(X){return X.className="i",!X.getAttribute("className")}),y.getElementsByTagName=ki(function(X){return X.appendChild(et.createComment("")),!X.getElementsByTagName("*").length}),y.getElementsByClassName=xa.test(et.getElementsByClassName),y.getById=ki(function(X){return Ft.appendChild(X).id=Te,!et.getElementsByName||!et.getElementsByName(Te).length}),y.getById?(C.filter.ID=function(X){var ot=X.replace(lr,cr);return function(ct){return ct.getAttribute("id")===ot}},C.find.ID=function(X,ot){if(typeof ot.getElementById!="undefined"&&Kt){var ct=ot.getElementById(X);return ct?[ct]:[]}}):(C.filter.ID=function(X){var ot=X.replace(lr,cr);return function(ct){var yt=typeof ct.getAttributeNode!="undefined"&&ct.getAttributeNode("id");return yt&&yt.value===ot}},C.find.ID=function(X,ot){if(typeof ot.getElementById!="undefined"&&Kt){var ct,yt,Ct,jt=ot.getElementById(X);if(jt){if(ct=jt.getAttributeNode("id"),ct&&ct.value===X)return[jt];for(Ct=ot.getElementsByName(X),yt=0;jt=Ct[yt++];)if(ct=jt.getAttributeNode("id"),ct&&ct.value===X)return[jt]}return[]}}),C.find.TAG=y.getElementsByTagName?function(X,ot){if(typeof ot.getElementsByTagName!="undefined")return ot.getElementsByTagName(X);if(y.qsa)return ot.querySelectorAll(X)}:function(X,ot){var ct,yt=[],Ct=0,jt=ot.getElementsByTagName(X);if(X==="*"){for(;ct=jt[Ct++];)ct.nodeType===1&&yt.push(ct);return yt}return jt},C.find.CLASS=y.getElementsByClassName&&function(X,ot){if(typeof ot.getElementsByClassName!="undefined"&&Kt)return ot.getElementsByClassName(X)},cn=[],Lt=[],(y.qsa=xa.test(et.querySelectorAll))&&(ki(function(X){var ot;Ft.appendChild(X).innerHTML="<a id='"+Te+"'></a><select id='"+Te+"-\r\\' msallowcapture=''><option selected=''></option></select>",X.querySelectorAll("[msallowcapture^='']").length&&Lt.push("[*^$]="+Se+`*(?:''|"")`),X.querySelectorAll("[selected]").length||Lt.push("\\["+Se+"*(?:value|"+ch+")"),X.querySelectorAll("[id~="+Te+"-]").length||Lt.push("~="),ot=et.createElement("input"),ot.setAttribute("name",""),X.appendChild(ot),X.querySelectorAll("[name='']").length||Lt.push("\\["+Se+"*name"+Se+"*="+Se+`*(?:''|"")`),X.querySelectorAll(":checked").length||Lt.push(":checked"),X.querySelectorAll("a#"+Te+"+*").length||Lt.push(".#.+[+~]"),X.querySelectorAll("\\\f"),Lt.push("[\\r\\n\\f]")}),ki(function(X){X.innerHTML="<a href='' disabled='disabled'></a><select disabled='disabled'><option/></select>";var ot=et.createElement("input");ot.setAttribute("type","hidden"),X.appendChild(ot).setAttribute("name","D"),X.querySelectorAll("[name=d]").length&&Lt.push("name"+Se+"*[*^$|!~]?="),X.querySelectorAll(":enabled").length!==2&&Lt.push(":enabled",":disabled"),Ft.appendChild(X).disabled=!0,X.querySelectorAll(":disabled").length!==2&&Lt.push(":enabled",":disabled"),X.querySelectorAll("*,:x"),Lt.push(",.*:")})),(y.matchesSelector=xa.test(nn=Ft.matches||Ft.webkitMatchesSelector||Ft.mozMatchesSelector||Ft.oMatchesSelector||Ft.msMatchesSelector))&&ki(function(X){y.disconnectedMatch=nn.call(X,"*"),nn.call(X,"[s!='']:x"),cn.push("!=",uh)}),Lt=Lt.length&&new RegExp(Lt.join("|")),cn=cn.length&&new RegExp(cn.join("|")),F=xa.test(Ft.compareDocumentPosition),ti=F||xa.test(Ft.contains)?function(X,ot){var ct=X.nodeType===9?X.documentElement:X,yt=ot&&ot.parentNode;return X===yt||!!(yt&&yt.nodeType===1&&(ct.contains?ct.contains(yt):X.compareDocumentPosition&&X.compareDocumentPosition(yt)&16))}:function(X,ot){if(ot){for(;ot=ot.parentNode;)if(ot===X)return!0}return!1},hs=F?function(X,ot){if(X===ot)return lt=!0,0;var ct=!X.compareDocumentPosition-!ot.compareDocumentPosition;return ct||(ct=(X.ownerDocument||X)==(ot.ownerDocument||ot)?X.compareDocumentPosition(ot):1,ct&1||!y.sortDetached&&ot.compareDocumentPosition(X)===ct?X==et||X.ownerDocument==Xt&&ti(Xt,X)?-1:ot==et||ot.ownerDocument==Xt&&ti(Xt,ot)?1:Z?fs(Z,X)-fs(Z,ot):0:ct&4?-1:1)}:function(X,ot){if(X===ot)return lt=!0,0;var ct,yt=0,Ct=X.parentNode,jt=ot.parentNode,It=[X],Rt=[ot];if(!Ct||!jt)return X==et?-1:ot==et?1:Ct?-1:jt?1:Z?fs(Z,X)-fs(Z,ot):0;if(Ct===jt)return rg(X,ot);for(ct=X;ct=ct.parentNode;)It.unshift(ct);for(ct=ot;ct=ct.parentNode;)Rt.unshift(ct);for(;It[yt]===Rt[yt];)yt++;return yt?rg(It[yt],Rt[yt]):It[yt]==Xt?-1:Rt[yt]==Xt?1:0}),et},Pe.matches=function(_,F){return Pe(_,null,null,F)},Pe.matchesSelector=function(_,F){if(J(_),y.matchesSelector&&Kt&&!ei[F+" "]&&(!cn||!cn.test(F))&&(!Lt||!Lt.test(F)))try{var V=nn.call(_,F);if(V||y.disconnectedMatch||_.document&&_.document.nodeType!==11)return V}catch{ei(F,!0)}return Pe(F,et,null,[_]).length>0},Pe.contains=function(_,F){return(_.ownerDocument||_)!=et&&J(_),ti(_,F)},Pe.attr=function(_,F){(_.ownerDocument||_)!=et&&J(_);var V=C.attrHandle[F.toLowerCase()],it=V&&ds.call(C.attrHandle,F.toLowerCase())?V(_,F,!Kt):void 0;return it!==void 0?it:y.attributes||!Kt?_.getAttribute(F):(it=_.getAttributeNode(F))&&it.specified?it.value:null},Pe.escape=function(_){return(_+"").replace(eg,ng)},Pe.error=function(_){throw new Error("Syntax error, unrecognized expression: "+_)},Pe.uniqueSort=function(_){var F,V=[],it=0,X=0;if(lt=!y.detectDuplicates,Z=!y.sortStable&&_.slice(0),_.sort(hs),lt){for(;F=_[X++];)F===_[X]&&(it=V.push(X));for(;it--;)_.splice(V[it],1)}return Z=null,_},A=Pe.getText=function(_){var F,V="",it=0,X=_.nodeType;if(X){if(X===1||X===9||X===11){if(typeof _.textContent=="string")return _.textContent;for(_=_.firstChild;_;_=_.nextSibling)V+=A(_)}else if(X===3||X===4)return _.nodeValue}else for(;F=_[it++];)V+=A(F);return V},C=Pe.selectors={cacheLength:50,createPseudo:Pi,match:Yl,attrHandle:{},find:{},relative:{">":{dir:"parentNode",first:!0}," ":{dir:"parentNode"},"+":{dir:"previousSibling",first:!0},"~":{dir:"previousSibling"}},preFilter:{ATTR:function(_){return _[1]=_[1].replace(lr,cr),_[3]=(_[3]||_[4]||_[5]||"").replace(lr,cr),_[2]==="~="&&(_[3]=" "+_[3]+" "),_.slice(0,4)},CHILD:function(_){return _[1]=_[1].toLowerCase(),_[1].slice(0,3)==="nth"?(_[3]||Pe.error(_[0]),_[4]=+(_[4]?_[5]+(_[6]||1):2*(_[3]==="even"||_[3]==="odd")),_[5]=+(_[7]+_[8]||_[3]==="odd")):_[3]&&Pe.error(_[0]),_},PSEUDO:function(_){var F,V=!_[6]&&_[2];return Yl.CHILD.test(_[0])?null:(_[3]?_[2]=_[4]||_[5]||"":V&&yx.test(V)&&(F=P(V,!0))&&(F=V.indexOf(")",V.length-F)-V.length)&&(_[0]=_[0].slice(0,F),_[2]=V.slice(0,F)),_.slice(0,3))}},filter:{TAG:function(_){var F=_.replace(lr,cr).toLowerCase();return _==="*"?function(){return!0}:function(V){return V.nodeName&&V.nodeName.toLowerCase()===F}},CLASS:function(_){var F=qe[_+" "];return F||(F=new RegExp("(^|"+Se+")"+_+"("+Se+"|$)"))&&qe(_,function(V){return F.test(typeof V.className=="string"&&V.className||typeof V.getAttribute!="undefined"&&V.getAttribute("class")||"")})},ATTR:function(_,F,V){return function(it){var X=Pe.attr(it,_);return X==null?F==="!=":F?(X+="",F==="="?X===V:F==="!="?X!==V:F==="^="?V&&X.indexOf(V)===0:F==="*="?V&&X.indexOf(V)>-1:F==="$="?V&&X.slice(-V.length)===V:F==="~="?(" "+X.replace(mx," ")+" ").indexOf(V)>-1:F==="|="?X===V||X.slice(0,V.length+1)===V+"-":!1):!0}},CHILD:function(_,F,V,it,X){var ot=_.slice(0,3)!=="nth",ct=_.slice(-4)!=="last",yt=F==="of-type";return it===1&&X===0?function(Ct){return!!Ct.parentNode}:function(Ct,jt,It){var Rt,ce,ke,Bt,un,On,ni=ot!==ct?"nextSibling":"previousSibling",He=Ct.parentNode,wa=yt&&Ct.nodeName.toLowerCase(),Ca=!It&&!yt,ii=!1;if(He){if(ot){for(;ni;){for(Bt=Ct;Bt=Bt[ni];)if(yt?Bt.nodeName.toLowerCase()===wa:Bt.nodeType===1)return!1;On=ni=_==="only"&&!On&&"nextSibling"}return!0}if(On=[ct?He.firstChild:He.lastChild],ct&&Ca){for(Bt=He,ke=Bt[Te]||(Bt[Te]={}),ce=ke[Bt.uniqueID]||(ke[Bt.uniqueID]={}),Rt=ce[_]||[],un=Rt[0]===Hn&&Rt[1],ii=un&&Rt[2],Bt=un&&He.childNodes[un];Bt=++un&&Bt&&Bt[ni]||(ii=un=0)||On.pop();)if(Bt.nodeType===1&&++ii&&Bt===Ct){ce[_]=[Hn,un,ii];break}}else if(Ca&&(Bt=Ct,ke=Bt[Te]||(Bt[Te]={}),ce=ke[Bt.uniqueID]||(ke[Bt.uniqueID]={}),Rt=ce[_]||[],un=Rt[0]===Hn&&Rt[1],ii=un),ii===!1)for(;(Bt=++un&&Bt&&Bt[ni]||(ii=un=0)||On.pop())&&!((yt?Bt.nodeName.toLowerCase()===wa:Bt.nodeType===1)&&++ii&&(Ca&&(ke=Bt[Te]||(Bt[Te]={}),ce=ke[Bt.uniqueID]||(ke[Bt.uniqueID]={}),ce[_]=[Hn,ii]),Bt===Ct)););return ii-=X,ii===it||ii%it===0&&ii/it>=0}}},PSEUDO:function(_,F){var V,it=C.pseudos[_]||C.setFilters[_.toLowerCase()]||Pe.error("unsupported pseudo: "+_);return it[Te]?it(F):it.length>1?(V=[_,_,"",F],C.setFilters.hasOwnProperty(_.toLowerCase())?Pi(function(X,ot){for(var ct,yt=it(X,F),Ct=yt.length;Ct--;)ct=fs(X,yt[Ct]),X[ct]=!(ot[ct]=yt[Ct])}):function(X){return it(X,0,V)}):it}},pseudos:{not:Pi(function(_){var F=[],V=[],it=L(_.replace(Xl,"$1"));return it[Te]?Pi(function(X,ot,ct,yt){for(var Ct,jt=it(X,null,yt,[]),It=X.length;It--;)(Ct=jt[It])&&(X[It]=!(ot[It]=Ct))}):function(X,ot,ct){return F[0]=X,it(F,null,ct,V),F[0]=null,!V.pop()}}),has:Pi(function(_){return function(F){return Pe(_,F).length>0}}),contains:Pi(function(_){return _=_.replace(lr,cr),function(F){return(F.textContent||A(F)).indexOf(_)>-1}}),lang:Pi(function(_){return xx.test(_||"")||Pe.error("unsupported lang: "+_),_=_.replace(lr,cr).toLowerCase(),function(F){var V;do if(V=Kt?F.lang:F.getAttribute("xml:lang")||F.getAttribute("lang"))return V=V.toLowerCase(),V===_||V.indexOf(_+"-")===0;while((F=F.parentNode)&&F.nodeType===1);return!1}}),target:function(_){var F=d.location&&d.location.hash;return F&&F.slice(1)===_.id},root:function(_){return _===Ft},focus:function(_){return _===et.activeElement&&(!et.hasFocus||et.hasFocus())&&!!(_.type||_.href||~_.tabIndex)},enabled:sg(!1),disabled:sg(!0),checked:function(_){var F=_.nodeName.toLowerCase();return F==="input"&&!!_.checked||F==="option"&&!!_.selected},selected:function(_){return _.parentNode&&_.parentNode.selectedIndex,_.selected===!0},empty:function(_){for(_=_.firstChild;_;_=_.nextSibling)if(_.nodeType<6)return!1;return!0},parent:function(_){return!C.pseudos.empty(_)},header:function(_){return Ex.test(_.nodeName)},input:function(_){return Cx.test(_.nodeName)},button:function(_){var F=_.nodeName.toLowerCase();return F==="input"&&_.type==="button"||F==="button"},text:function(_){var F;return _.nodeName.toLowerCase()==="input"&&_.type==="text"&&((F=_.getAttribute("type"))==null||F.toLowerCase()==="text")},first:gs(function(){return[0]}),last:gs(function(_,F){return[F-1]}),eq:gs(function(_,F,V){return[V<0?V+F:V]}),even:gs(function(_,F){for(var V=0;V<F;V+=2)_.push(V);return _}),odd:gs(function(_,F){for(var V=1;V<F;V+=2)_.push(V);return _}),lt:gs(function(_,F,V){for(var it=V<0?V+F:V>F?F:V;--it>=0;)_.push(it);return _}),gt:gs(function(_,F,V){for(var it=V<0?V+F:V;++it<F;)_.push(it);return _})}},C.pseudos.nth=C.pseudos.eq;for(g in{radio:!0,checkbox:!0,file:!0,password:!0,image:!0})C.pseudos[g]=Mx(g);for(g in{submit:!0,reset:!0})C.pseudos[g]=Ox(g);function og(){}og.prototype=C.filters=C.pseudos,C.setFilters=new og,P=Pe.tokenize=function(_,F){var V,it,X,ot,ct,yt,Ct,jt=ya[_+" "];if(jt)return F?0:jt.slice(0);for(ct=_,yt=[],Ct=C.preFilter;ct;){(!V||(it=bx.exec(ct)))&&(it&&(ct=ct.slice(it[0].length)||ct),yt.push(X=[])),V=!1,(it=tg.exec(ct))&&(V=it.shift(),X.push({value:V,type:it[0].replace(Xl," ")}),ct=ct.slice(V.length));for(ot in C.filter)(it=Yl[ot].exec(ct))&&(!Ct[ot]||(it=Ct[ot](it)))&&(V=it.shift(),X.push({value:V,type:ot,matches:it}),ct=ct.slice(V.length));if(!V)break}return F?ct.length:ct?Pe.error(_):ya(_,yt).slice(0)};function Jl(_){for(var F=0,V=_.length,it="";F<V;F++)it+=_[F].value;return it}function Zl(_,F,V){var it=F.dir,X=F.next,ot=X||it,ct=V&&ot==="parentNode",yt=be++;return F.first?function(Ct,jt,It){for(;Ct=Ct[it];)if(Ct.nodeType===1||ct)return _(Ct,jt,It);return!1}:function(Ct,jt,It){var Rt,ce,ke,Bt=[Hn,yt];if(It){for(;Ct=Ct[it];)if((Ct.nodeType===1||ct)&&_(Ct,jt,It))return!0}else for(;Ct=Ct[it];)if(Ct.nodeType===1||ct)if(ke=Ct[Te]||(Ct[Te]={}),ce=ke[Ct.uniqueID]||(ke[Ct.uniqueID]={}),X&&X===Ct.nodeName.toLowerCase())Ct=Ct[it]||Ct;else{if((Rt=ce[ot])&&Rt[0]===Hn&&Rt[1]===yt)return Bt[2]=Rt[2];if(ce[ot]=Bt,Bt[2]=_(Ct,jt,It))return!0}return!1}}function ph(_){return _.length>1?function(F,V,it){for(var X=_.length;X--;)if(!_[X](F,V,it))return!1;return!0}:_[0]}function Tx(_,F,V){for(var it=0,X=F.length;it<X;it++)Pe(_,F[it],V);return V}function Ql(_,F,V,it,X){for(var ot,ct=[],yt=0,Ct=_.length,jt=F!=null;yt<Ct;yt++)(ot=_[yt])&&(!V||V(ot,it,X))&&(ct.push(ot),jt&&F.push(yt));return ct}function gh(_,F,V,it,X,ot){return it&&!it[Te]&&(it=gh(it)),X&&!X[Te]&&(X=gh(X,ot)),Pi(function(ct,yt,Ct,jt){var It,Rt,ce,ke=[],Bt=[],un=yt.length,On=ct||Tx(F||"*",Ct.nodeType?[Ct]:Ct,[]),ni=_&&(ct||!F)?Ql(On,ke,_,Ct,jt):On,He=V?X||(ct?_:un||it)?[]:yt:ni;if(V&&V(ni,He,Ct,jt),it)for(It=Ql(He,Bt),it(It,[],Ct,jt),Rt=It.length;Rt--;)(ce=It[Rt])&&(He[Bt[Rt]]=!(ni[Bt[Rt]]=ce));if(ct){if(X||_){if(X){for(It=[],Rt=He.length;Rt--;)(ce=He[Rt])&&It.push(ni[Rt]=ce);X(null,He=[],It,jt)}for(Rt=He.length;Rt--;)(ce=He[Rt])&&(It=X?fs(ct,ce):ke[Rt])>-1&&(ct[It]=!(yt[It]=ce))}}else He=Ql(He===yt?He.splice(un,He.length):He),X?X(null,yt,He,jt):_r.apply(yt,He)})}function mh(_){for(var F,V,it,X=_.length,ot=C.relative[_[0].type],ct=ot||C.relative[" "],yt=ot?1:0,Ct=Zl(function(Rt){return Rt===F},ct,!0),jt=Zl(function(Rt){return fs(F,Rt)>-1},ct,!0),It=[function(Rt,ce,ke){var Bt=!ot&&(ke||ce!==W)||((F=ce).nodeType?Ct(Rt,ce,ke):jt(Rt,ce,ke));return F=null,Bt}];yt<X;yt++)if(V=C.relative[_[yt].type])It=[Zl(ph(It),V)];else{if(V=C.filter[_[yt].type].apply(null,_[yt].matches),V[Te]){for(it=++yt;it<X&&!C.relative[_[it].type];it++);return gh(yt>1&&ph(It),yt>1&&Jl(_.slice(0,yt-1).concat({value:_[yt-2].type===" "?"*":""})).replace(Xl,"$1"),V,yt<it&&mh(_.slice(yt,it)),it<X&&mh(_=_.slice(it)),it<X&&Jl(_))}It.push(V)}return ph(It)}function Px(_,F){var V=F.length>0,it=_.length>0,X=function(ot,ct,yt,Ct,jt){var It,Rt,ce,ke=0,Bt="0",un=ot&&[],On=[],ni=W,He=ot||it&&C.find.TAG("*",jt),wa=Hn+=ni==null?1:Math.random()||.1,Ca=He.length;for(jt&&(W=ct==et||ct||jt);Bt!==Ca&&(It=He[Bt])!=null;Bt++){if(it&&It){for(Rt=0,!ct&&It.ownerDocument!=et&&(J(It),yt=!Kt);ce=_[Rt++];)if(ce(It,ct||et,yt)){Ct.push(It);break}jt&&(Hn=wa)}V&&((It=!ce&&It)&&ke--,ot&&un.push(It))}if(ke+=Bt,V&&Bt!==ke){for(Rt=0;ce=F[Rt++];)ce(un,On,ct,yt);if(ot){if(ke>0)for(;Bt--;)un[Bt]||On[Bt]||(On[Bt]=kr.call(Ct));On=Ql(On)}_r.apply(Ct,On),jt&&!ot&&On.length>0&&ke+F.length>1&&Pe.uniqueSort(Ct)}return jt&&(Hn=wa,W=ni),un};return V?Pi(X):X}return L=Pe.compile=function(_,F){var V,it=[],X=[],ot=Wl[_+" "];if(!ot){for(F||(F=P(_)),V=F.length;V--;)ot=mh(F[V]),ot[Te]?it.push(ot):X.push(ot);ot=Wl(_,Px(X,it)),ot.selector=_}return ot},I=Pe.select=function(_,F,V,it){var X,ot,ct,yt,Ct,jt=typeof _=="function"&&_,It=!it&&P(_=jt.selector||_);if(V=V||[],It.length===1){if(ot=It[0]=It[0].slice(0),ot.length>2&&(ct=ot[0]).type==="ID"&&F.nodeType===9&&Kt&&C.relative[ot[1].type]){if(F=(C.find.ID(ct.matches[0].replace(lr,cr),F)||[])[0],F)jt&&(F=F.parentNode);else return V;_=_.slice(ot.shift().value.length)}for(X=Yl.needsContext.test(_)?0:ot.length;X--&&(ct=ot[X],!C.relative[yt=ct.type]);)if((Ct=C.find[yt])&&(it=Ct(ct.matches[0].replace(lr,cr),hh.test(ot[0].type)&&fh(F.parentNode)||F))){if(ot.splice(X,1),_=it.length&&Jl(ot),!_)return _r.apply(V,it),V;break}}return(jt||L(_,It))(it,F,!Kt,V,!F||hh.test(_)&&fh(F.parentNode)||F),V},y.sortStable=Te.split("").sort(hs).join("")===Te,y.detectDuplicates=!!lt,J(),y.sortDetached=ki(function(_){return _.compareDocumentPosition(et.createElement("fieldset"))&1}),ki(function(_){return _.innerHTML="<a href='#'></a>",_.firstChild.getAttribute("href")==="#"})||dh("type|href|height|width",function(_,F,V){if(!V)return _.getAttribute(F,F.toLowerCase()==="type"?1:2)}),(!y.attributes||!ki(function(_){return _.innerHTML="<input/>",_.firstChild.setAttribute("value",""),_.firstChild.getAttribute("value")===""}))&&dh("value",function(_,F,V){if(!V&&_.nodeName.toLowerCase()==="input")return _.defaultValue}),ki(function(_){return _.getAttribute("disabled")==null})||dh(ch,function(_,F,V){var it;if(!V)return _[F]===!0?F.toLowerCase():(it=_.getAttributeNode(F))&&it.specified?it.value:null}),Pe}(t);m.find=D,m.expr=D.selectors,m.expr[":"]=m.expr.pseudos,m.uniqueSort=m.unique=D.uniqueSort,m.text=D.getText,m.isXMLDoc=D.isXML,m.contains=D.contains,m.escapeSelector=D.escape;var z=function(d,g,y){for(var C=[],A=y!==void 0;(d=d[g])&&d.nodeType!==9;)if(d.nodeType===1){if(A&&m(d).is(y))break;C.push(d)}return C},H=function(d,g){for(var y=[];d;d=d.nextSibling)d.nodeType===1&&d!==g&&y.push(d);return y},q=m.expr.match.needsContext;function R(d,g){return d.nodeName&&d.nodeName.toLowerCase()===g.toLowerCase()}var rt=/^<([a-z][^\/\0>:\x20\t\r\n\f]*)[\x20\t\r\n\f]*\/?>(?:<\/\1>|)$/i;function st(d,g,y){return v(g)?m.grep(d,function(C,A){return!!g.call(C,A,C)!==y}):g.nodeType?m.grep(d,function(C){return C===g!==y}):typeof g!="string"?m.grep(d,function(C){return l.call(g,C)>-1!==y}):m.filter(g,d,y)}m.filter=function(d,g,y){var C=g[0];return y&&(d=":not("+d+")"),g.length===1&&C.nodeType===1?m.find.matchesSelector(C,d)?[C]:[]:m.find.matches(d,m.grep(g,function(A){return A.nodeType===1}))},m.fn.extend({find:function(d){var g,y,C=this.length,A=this;if(typeof d!="string")return this.pushStack(m(d).filter(function(){for(g=0;g<C;g++)if(m.contains(A[g],this))return!0}));for(y=this.pushStack([]),g=0;g<C;g++)m.find(d,A[g],y);return C>1?m.uniqueSort(y):y},filter:function(d){return this.pushStack(st(this,d||[],!1))},not:function(d){return this.pushStack(st(this,d||[],!0))},is:function(d){return!!st(this,typeof d=="string"&&q.test(d)?m(d):d||[],!1).length}});var j,B=/^(?:\s*(<[\w\W]+>)[^>]*|#([\w-]+))$/,tt=m.fn.init=function(d,g,y){var C,A;if(!d)return this;if(y=y||j,typeof d=="string")if(d[0]==="<"&&d[d.length-1]===">"&&d.length>=3?C=[null,d,null]:C=B.exec(d),C&&(C[1]||!g))if(C[1]){if(g=g instanceof m?g[0]:g,m.merge(this,m.parseHTML(C[1],g&&g.nodeType?g.ownerDocument||g:x,!0)),rt.test(C[1])&&m.isPlainObject(g))for(C in g)v(this[C])?this[C](g[C]):this.attr(C,g[C]);return this}else return A=x.getElementById(C[2]),A&&(this[0]=A,this.length=1),this;else return!g||g.jquery?(g||y).find(d):this.constructor(g).find(d);else{if(d.nodeType)return this[0]=d,this.length=1,this;if(v(d))return y.ready!==void 0?y.ready(d):d(m)}return m.makeArray(d,this)};tt.prototype=m.fn,j=m(x);var bt=/^(?:parents|prev(?:Until|All))/,Ot={children:!0,contents:!0,next:!0,prev:!0};m.fn.extend({has:function(d){var g=m(d,this),y=g.length;return this.filter(function(){for(var C=0;C<y;C++)if(m.contains(this,g[C]))return!0})},closest:function(d,g){var y,C=0,A=this.length,M=[],P=typeof d!="string"&&m(d);if(!q.test(d)){for(;C<A;C++)for(y=this[C];y&&y!==g;y=y.parentNode)if(y.nodeType<11&&(P?P.index(y)>-1:y.nodeType===1&&m.find.matchesSelector(y,d))){M.push(y);break}}return this.pushStack(M.length>1?m.uniqueSort(M):M)},index:function(d){return d?typeof d=="string"?l.call(m(d),this[0]):l.call(this,d.jquery?d[0]:d):this[0]&&this[0].parentNode?this.first().prevAll().length:-1},add:function(d,g){return this.pushStack(m.uniqueSort(m.merge(this.get(),m(d,g))))},addBack:function(d){return this.add(d==null?this.prevObject:this.prevObject.filter(d))}});function Gt(d,g){for(;(d=d[g])&&d.nodeType!==1;);return d}m.each({parent:function(d){var g=d.parentNode;return g&&g.nodeType!==11?g:null},parents:function(d){return z(d,"parentNode")},parentsUntil:function(d,g,y){return z(d,"parentNode",y)},next:function(d){return Gt(d,"nextSibling")},prev:function(d){return Gt(d,"previousSibling")},nextAll:function(d){return z(d,"nextSibling")},prevAll:function(d){return z(d,"previousSibling")},nextUntil:function(d,g,y){return z(d,"nextSibling",y)},prevUntil:function(d,g,y){return z(d,"previousSibling",y)},siblings:function(d){return H((d.parentNode||{}).firstChild,d)},children:function(d){return H(d.firstChild)},contents:function(d){return d.contentDocument!=null&&r(d.contentDocument)?d.contentDocument:(R(d,"template")&&(d=d.content||d),m.merge([],d.childNodes))}},function(d,g){m.fn[d]=function(y,C){var A=m.map(this,g,y);return d.slice(-5)!=="Until"&&(C=y),C&&typeof C=="string"&&(A=m.filter(C,A)),this.length>1&&(Ot[d]||m.uniqueSort(A),bt.test(d)&&A.reverse()),this.pushStack(A)}});var pt=/[^\x20\t\r\n\f]+/g;function $t(d){var g={};return m.each(d.match(pt)||[],function(y,C){g[C]=!0}),g}m.Callbacks=function(d){d=typeof d=="string"?$t(d):m.extend({},d);var g,y,C,A,M=[],P=[],L=-1,I=function(){for(A=A||d.once,C=g=!0;P.length;L=-1)for(y=P.shift();++L<M.length;)M[L].apply(y[0],y[1])===!1&&d.stopOnFalse&&(L=M.length,y=!1);d.memory||(y=!1),g=!1,A&&(y?M=[]:M="")},W={add:function(){return M&&(y&&!g&&(L=M.length-1,P.push(y)),function Z(lt){m.each(lt,function(J,et){v(et)?(!d.unique||!W.has(et))&&M.push(et):et&&et.length&&O(et)!=="string"&&Z(et)})}(arguments),y&&!g&&I()),this},remove:function(){return m.each(arguments,function(Z,lt){for(var J;(J=m.inArray(lt,M,J))>-1;)M.splice(J,1),J<=L&&L--}),this},has:function(Z){return Z?m.inArray(Z,M)>-1:M.length>0},empty:function(){return M&&(M=[]),this},disable:function(){return A=P=[],M=y="",this},disabled:function(){return!M},lock:function(){return A=P=[],!y&&!g&&(M=y=""),this},locked:function(){return!!A},fireWith:function(Z,lt){return A||(lt=lt||[],lt=[Z,lt.slice?lt.slice():lt],P.push(lt),g||I()),this},fire:function(){return W.fireWith(this,arguments),this},fired:function(){return!!C}};return W};function Dt(d){return d}function _t(d){throw d}function zt(d,g,y,C){var A;try{d&&v(A=d.promise)?A.call(d).done(g).fail(y):d&&v(A=d.then)?A.call(d,g,y):g.apply(void 0,[d].slice(C))}catch(M){y.apply(void 0,[M])}}m.extend({Deferred:function(d){var g=[["notify","progress",m.Callbacks("memory"),m.Callbacks("memory"),2],["resolve","done",m.Callbacks("once memory"),m.Callbacks("once memory"),0,"resolved"],["reject","fail",m.Callbacks("once memory"),m.Callbacks("once memory"),1,"rejected"]],y="pending",C={state:function(){return y},always:function(){return A.done(arguments).fail(arguments),this},catch:function(M){return C.then(null,M)},pipe:function(){var M=arguments;return m.Deferred(function(P){m.each(g,function(L,I){var W=v(M[I[4]])&&M[I[4]];A[I[1]](function(){var Z=W&&W.apply(this,arguments);Z&&v(Z.promise)?Z.promise().progress(P.notify).done(P.resolve).fail(P.reject):P[I[0]+"With"](this,W?[Z]:arguments)})}),M=null}).promise()},then:function(M,P,L){var I=0;function W(Z,lt,J,et){return function(){var Ft=this,Kt=arguments,Lt=function(){var nn,ti;if(!(Z<I)){if(nn=J.apply(Ft,Kt),nn===lt.promise())throw new TypeError("Thenable self-resolution");ti=nn&&(typeof nn=="object"||typeof nn=="function")&&nn.then,v(ti)?et?ti.call(nn,W(I,lt,Dt,et),W(I,lt,_t,et)):(I++,ti.call(nn,W(I,lt,Dt,et),W(I,lt,_t,et),W(I,lt,Dt,lt.notifyWith))):(J!==Dt&&(Ft=void 0,Kt=[nn]),(et||lt.resolveWith)(Ft,Kt))}},cn=et?Lt:function(){try{Lt()}catch(nn){m.Deferred.exceptionHook&&m.Deferred.exceptionHook(nn,cn.stackTrace),Z+1>=I&&(J!==_t&&(Ft=void 0,Kt=[nn]),lt.rejectWith(Ft,Kt))}};Z?cn():(m.Deferred.getStackHook&&(cn.stackTrace=m.Deferred.getStackHook()),t.setTimeout(cn))}}return m.Deferred(function(Z){g[0][3].add(W(0,Z,v(L)?L:Dt,Z.notifyWith)),g[1][3].add(W(0,Z,v(M)?M:Dt)),g[2][3].add(W(0,Z,v(P)?P:_t))}).promise()},promise:function(M){return M!=null?m.extend(M,C):C}},A={};return m.each(g,function(M,P){var L=P[2],I=P[5];C[P[1]]=L.add,I&&L.add(function(){y=I},g[3-M][2].disable,g[3-M][3].disable,g[0][2].lock,g[0][3].lock),L.add(P[3].fire),A[P[0]]=function(){return A[P[0]+"With"](this===A?void 0:this,arguments),this},A[P[0]+"With"]=L.fireWith}),C.promise(A),d&&d.call(A,A),A},when:function(d){var g=arguments.length,y=g,C=Array(y),A=s.call(arguments),M=m.Deferred(),P=function(L){return function(I){C[L]=this,A[L]=arguments.length>1?s.call(arguments):I,--g||M.resolveWith(C,A)}};if(g<=1&&(zt(d,M.done(P(y)).resolve,M.reject,!g),M.state()==="pending"||v(A[y]&&A[y].then)))return M.then();for(;y--;)zt(A[y],P(y),M.reject);return M.promise()}});var de=/^(Eval|Internal|Range|Reference|Syntax|Type|URI)Error$/;m.Deferred.exceptionHook=function(d,g){t.console&&t.console.warn&&d&&de.test(d.name)&&t.console.warn("jQuery.Deferred exception: "+d.message,d.stack,g)},m.readyException=function(d){t.setTimeout(function(){throw d})};var at=m.Deferred();m.fn.ready=function(d){return at.then(d).catch(function(g){m.readyException(g)}),this},m.extend({isReady:!1,readyWait:1,ready:function(d){(d===!0?--m.readyWait:m.isReady)||(m.isReady=!0,!(d!==!0&&--m.readyWait>0)&&at.resolveWith(x,[m]))}}),m.ready.then=at.then;function Tt(){x.removeEventListener("DOMContentLoaded",Tt),t.removeEventListener("load",Tt),m.ready()}x.readyState==="complete"||x.readyState!=="loading"&&!x.documentElement.doScroll?t.setTimeout(m.ready):(x.addEventListener("DOMContentLoaded",Tt),t.addEventListener("load",Tt));var Ut=function(d,g,y,C,A,M,P){var L=0,I=d.length,W=y==null;if(O(y)==="object"){A=!0;for(L in y)Ut(d,g,L,y[L],!0,M,P)}else if(C!==void 0&&(A=!0,v(C)||(P=!0),W&&(P?(g.call(d,C),g=null):(W=g,g=function(Z,lt,J){return W.call(m(Z),J)})),g))for(;L<I;L++)g(d[L],y,P?C:C.call(d[L],L,g(d[L],y)));return A?d:W?g.call(d):I?g(d[0],y):M},te=/^-ms-/,pn=/-([a-z])/g;function $n(d,g){return g.toUpperCase()}function $(d){return d.replace(te,"ms-").replace(pn,$n)}var G=function(d){return d.nodeType===1||d.nodeType===9||!+d.nodeType};function Q(){this.expando=m.expando+Q.uid++}Q.uid=1,Q.prototype={cache:function(d){var g=d[this.expando];return g||(g={},G(d)&&(d.nodeType?d[this.expando]=g:Object.defineProperty(d,this.expando,{value:g,configurable:!0}))),g},set:function(d,g,y){var C,A=this.cache(d);if(typeof g=="string")A[$(g)]=y;else for(C in g)A[$(C)]=g[C];return A},get:function(d,g){return g===void 0?this.cache(d):d[this.expando]&&d[this.expando][$(g)]},access:function(d,g,y){return g===void 0||g&&typeof g=="string"&&y===void 0?this.get(d,g):(this.set(d,g,y),y!==void 0?y:g)},remove:function(d,g){var y,C=d[this.expando];if(C!==void 0){if(g!==void 0)for(Array.isArray(g)?g=g.map($):(g=$(g),g=g in C?[g]:g.match(pt)||[]),y=g.length;y--;)delete C[g[y]];(g===void 0||m.isEmptyObject(C))&&(d.nodeType?d[this.expando]=void 0:delete d[this.expando])}},hasData:function(d){var g=d[this.expando];return g!==void 0&&!m.isEmptyObject(g)}};var K=new Q,nt=new Q,gt=/^(?:\{[\w\W]*\}|\[[\w\W]*\])$/,wt=/[A-Z]/g;function dt(d){return d==="true"?!0:d==="false"?!1:d==="null"?null:d===+d+""?+d:gt.test(d)?JSON.parse(d):d}function mt(d,g,y){var C;if(y===void 0&&d.nodeType===1)if(C="data-"+g.replace(wt,"-$&").toLowerCase(),y=d.getAttribute(C),typeof y=="string"){try{y=dt(y)}catch{}nt.set(d,g,y)}else y=void 0;return y}m.extend({hasData:function(d){return nt.hasData(d)||K.hasData(d)},data:function(d,g,y){return nt.access(d,g,y)},removeData:function(d,g){nt.remove(d,g)},_data:function(d,g,y){return K.access(d,g,y)},_removeData:function(d,g){K.remove(d,g)}}),m.fn.extend({data:function(d,g){var y,C,A,M=this[0],P=M&&M.attributes;if(d===void 0){if(this.length&&(A=nt.get(M),M.nodeType===1&&!K.get(M,"hasDataAttrs"))){for(y=P.length;y--;)P[y]&&(C=P[y].name,C.indexOf("data-")===0&&(C=$(C.slice(5)),mt(M,C,A[C])));K.set(M,"hasDataAttrs",!0)}return A}return typeof d=="object"?this.each(function(){nt.set(this,d)}):Ut(this,function(L){var I;if(M&&L===void 0)return I=nt.get(M,d),I!==void 0||(I=mt(M,d),I!==void 0)?I:void 0;this.each(function(){nt.set(this,d,L)})},null,g,arguments.length>1,null,!0)},removeData:function(d){return this.each(function(){nt.remove(this,d)})}}),m.extend({queue:function(d,g,y){var C;if(d)return g=(g||"fx")+"queue",C=K.get(d,g),y&&(!C||Array.isArray(y)?C=K.access(d,g,m.makeArray(y)):C.push(y)),C||[]},dequeue:function(d,g){g=g||"fx";var y=m.queue(d,g),C=y.length,A=y.shift(),M=m._queueHooks(d,g),P=function(){m.dequeue(d,g)};A==="inprogress"&&(A=y.shift(),C--),A&&(g==="fx"&&y.unshift("inprogress"),delete M.stop,A.call(d,P,M)),!C&&M&&M.empty.fire()},_queueHooks:function(d,g){var y=g+"queueHooks";return K.get(d,y)||K.access(d,y,{empty:m.Callbacks("once memory").add(function(){K.remove(d,[g+"queue",y])})})}}),m.fn.extend({queue:function(d,g){var y=2;return typeof d!="string"&&(g=d,d="fx",y--),arguments.length<y?m.queue(this[0],d):g===void 0?this:this.each(function(){var C=m.queue(this,d,g);m._queueHooks(this,d),d==="fx"&&C[0]!=="inprogress"&&m.dequeue(this,d)})},dequeue:function(d){return this.each(function(){m.dequeue(this,d)})},clearQueue:function(d){return this.queue(d||"fx",[])},promise:function(d,g){var y,C=1,A=m.Deferred(),M=this,P=this.length,L=function(){--C||A.resolveWith(M,[M])};for(typeof d!="string"&&(g=d,d=void 0),d=d||"fx";P--;)y=K.get(M[P],d+"queueHooks"),y&&y.empty&&(C++,y.empty.add(L));return L(),A.promise(g)}});var ut=/[+-]?(?:\d*\.|)\d+(?:[eE][+-]?\d+|)/.source,Pt=new RegExp("^(?:([+-])=|)("+ut+")([a-z%]*)$","i"),Y=["Top","Right","Bottom","Left"],ft=x.documentElement,kt=function(d){return m.contains(d.ownerDocument,d)},Wt={composed:!0};ft.getRootNode&&(kt=function(d){return m.contains(d.ownerDocument,d)||d.getRootNode(Wt)===d.ownerDocument});var le=function(d,g){return d=g||d,d.style.display==="none"||d.style.display===""&&kt(d)&&m.css(d,"display")==="none"};function xe(d,g,y,C){var A,M,P=20,L=C?function(){return C.cur()}:function(){return m.css(d,g,"")},I=L(),W=y&&y[3]||(m.cssNumber[g]?"":"px"),Z=d.nodeType&&(m.cssNumber[g]||W!=="px"&&+I)&&Pt.exec(m.css(d,g));if(Z&&Z[3]!==W){for(I=I/2,W=W||Z[3],Z=+I||1;P--;)m.style(d,g,Z+W),(1-M)*(1-(M=L()/I||.5))<=0&&(P=0),Z=Z/M;Z=Z*2,m.style(d,g,Z+W),y=y||[]}return y&&(Z=+Z||+I||0,A=y[1]?Z+(y[1]+1)*y[2]:+y[2],C&&(C.unit=W,C.start=Z,C.end=A)),A}var Oe={};function Zn(d){var g,y=d.ownerDocument,C=d.nodeName,A=Oe[C];return A||(g=y.body.appendChild(y.createElement(C)),A=m.css(g,"display"),g.parentNode.removeChild(g),A==="none"&&(A="block"),Oe[C]=A,A)}function Qn(d,g){for(var y,C,A=[],M=0,P=d.length;M<P;M++)C=d[M],C.style&&(y=C.style.display,g?(y==="none"&&(A[M]=K.get(C,"display")||null,A[M]||(C.style.display="")),C.style.display===""&&le(C)&&(A[M]=Zn(C))):y!=="none"&&(A[M]="none",K.set(C,"display",y)));for(M=0;M<P;M++)A[M]!=null&&(d[M].style.display=A[M]);return d}m.fn.extend({show:function(){return Qn(this,!0)},hide:function(){return Qn(this)},toggle:function(d){return typeof d=="boolean"?d?this.show():this.hide():this.each(function(){le(this)?m(this).show():m(this).hide()})}});var Tr=/^(?:checkbox|radio)$/i,Pr=/<([a-z][^\/\0>\x20\t\r\n\f]*)/i,pa=/^$|^module$|\/(?:java|ecma)script/i;(function(){var d=x.createDocumentFragment(),g=d.appendChild(x.createElement("div")),y=x.createElement("input");y.setAttribute("type","radio"),y.setAttribute("checked","checked"),y.setAttribute("name","t"),g.appendChild(y),b.checkClone=g.cloneNode(!0).cloneNode(!0).lastChild.checked,g.innerHTML="<textarea>x</textarea>",b.noCloneChecked=!!g.cloneNode(!0).lastChild.defaultValue,g.innerHTML="<option></option>",b.option=!!g.lastChild})();var $e={thead:[1,"<table>","</table>"],col:[2,"<table><colgroup>","</colgroup></table>"],tr:[2,"<table><tbody>","</tbody></table>"],td:[3,"<table><tbody><tr>","</tr></tbody></table>"],_default:[0,"",""]};$e.tbody=$e.tfoot=$e.colgroup=$e.caption=$e.thead,$e.th=$e.td,b.option||($e.optgroup=$e.option=[1,"<select multiple='multiple'>","</select>"]);function ze(d,g){var y;return typeof d.getElementsByTagName!="undefined"?y=d.getElementsByTagName(g||"*"):typeof d.querySelectorAll!="undefined"?y=d.querySelectorAll(g||"*"):y=[],g===void 0||g&&R(d,g)?m.merge([d],y):y}function co(d,g){for(var y=0,C=d.length;y<C;y++)K.set(d[y],"globalEval",!g||K.get(g[y],"globalEval"))}var $1=/<|&#?\w+;/;function Mp(d,g,y,C,A){for(var M,P,L,I,W,Z,lt=g.createDocumentFragment(),J=[],et=0,Ft=d.length;et<Ft;et++)if(M=d[et],M||M===0)if(O(M)==="object")m.merge(J,M.nodeType?[M]:M);else if(!$1.test(M))J.push(g.createTextNode(M));else{for(P=P||lt.appendChild(g.createElement("div")),L=(Pr.exec(M)||["",""])[1].toLowerCase(),I=$e[L]||$e._default,P.innerHTML=I[1]+m.htmlPrefilter(M)+I[2],Z=I[0];Z--;)P=P.lastChild;m.merge(J,P.childNodes),P=lt.firstChild,P.textContent=""}for(lt.textContent="",et=0;M=J[et++];){if(C&&m.inArray(M,C)>-1){A&&A.push(M);continue}if(W=kt(M),P=ze(lt.appendChild(M),"script"),W&&co(P),y)for(Z=0;M=P[Z++];)pa.test(M.type||"")&&y.push(M)}return lt}var Op=/^([^.]*)(?:\.(.+)|)/;function uo(){return!0}function ho(){return!1}function F1(d,g){return d===L1()==(g==="focus")}function L1(){try{return x.activeElement}catch{}}function Ju(d,g,y,C,A,M){var P,L;if(typeof g=="object"){typeof y!="string"&&(C=C||y,y=void 0);for(L in g)Ju(d,L,y,C,g[L],M);return d}if(C==null&&A==null?(A=y,C=y=void 0):A==null&&(typeof y=="string"?(A=C,C=void 0):(A=C,C=y,y=void 0)),A===!1)A=ho;else if(!A)return d;return M===1&&(P=A,A=function(I){return m().off(I),P.apply(this,arguments)},A.guid=P.guid||(P.guid=m.guid++)),d.each(function(){m.event.add(this,g,A,C,y)})}m.event={global:{},add:function(d,g,y,C,A){var M,P,L,I,W,Z,lt,J,et,Ft,Kt,Lt=K.get(d);if(!!G(d))for(y.handler&&(M=y,y=M.handler,A=M.selector),A&&m.find.matchesSelector(ft,A),y.guid||(y.guid=m.guid++),(I=Lt.events)||(I=Lt.events=Object.create(null)),(P=Lt.handle)||(P=Lt.handle=function(cn){return typeof m!="undefined"&&m.event.triggered!==cn.type?m.event.dispatch.apply(d,arguments):void 0}),g=(g||"").match(pt)||[""],W=g.length;W--;)L=Op.exec(g[W])||[],et=Kt=L[1],Ft=(L[2]||"").split(".").sort(),et&&(lt=m.event.special[et]||{},et=(A?lt.delegateType:lt.bindType)||et,lt=m.event.special[et]||{},Z=m.extend({type:et,origType:Kt,data:C,handler:y,guid:y.guid,selector:A,needsContext:A&&m.expr.match.needsContext.test(A),namespace:Ft.join(".")},M),(J=I[et])||(J=I[et]=[],J.delegateCount=0,(!lt.setup||lt.setup.call(d,C,Ft,P)===!1)&&d.addEventListener&&d.addEventListener(et,P)),lt.add&&(lt.add.call(d,Z),Z.handler.guid||(Z.handler.guid=y.guid)),A?J.splice(J.delegateCount++,0,Z):J.push(Z),m.event.global[et]=!0)},remove:function(d,g,y,C,A){var M,P,L,I,W,Z,lt,J,et,Ft,Kt,Lt=K.hasData(d)&&K.get(d);if(!(!Lt||!(I=Lt.events))){for(g=(g||"").match(pt)||[""],W=g.length;W--;){if(L=Op.exec(g[W])||[],et=Kt=L[1],Ft=(L[2]||"").split(".").sort(),!et){for(et in I)m.event.remove(d,et+g[W],y,C,!0);continue}for(lt=m.event.special[et]||{},et=(C?lt.delegateType:lt.bindType)||et,J=I[et]||[],L=L[2]&&new RegExp("(^|\\.)"+Ft.join("\\.(?:.*\\.|)")+"(\\.|$)"),P=M=J.length;M--;)Z=J[M],(A||Kt===Z.origType)&&(!y||y.guid===Z.guid)&&(!L||L.test(Z.namespace))&&(!C||C===Z.selector||C==="**"&&Z.selector)&&(J.splice(M,1),Z.selector&&J.delegateCount--,lt.remove&&lt.remove.call(d,Z));P&&!J.length&&((!lt.teardown||lt.teardown.call(d,Ft,Lt.handle)===!1)&&m.removeEvent(d,et,Lt.handle),delete I[et])}m.isEmptyObject(I)&&K.remove(d,"handle events")}},dispatch:function(d){var g,y,C,A,M,P,L=new Array(arguments.length),I=m.event.fix(d),W=(K.get(this,"events")||Object.create(null))[I.type]||[],Z=m.event.special[I.type]||{};for(L[0]=I,g=1;g<arguments.length;g++)L[g]=arguments[g];if(I.delegateTarget=this,!(Z.preDispatch&&Z.preDispatch.call(this,I)===!1)){for(P=m.event.handlers.call(this,I,W),g=0;(A=P[g++])&&!I.isPropagationStopped();)for(I.currentTarget=A.elem,y=0;(M=A.handlers[y++])&&!I.isImmediatePropagationStopped();)(!I.rnamespace||M.namespace===!1||I.rnamespace.test(M.namespace))&&(I.handleObj=M,I.data=M.data,C=((m.event.special[M.origType]||{}).handle||M.handler).apply(A.elem,L),C!==void 0&&(I.result=C)===!1&&(I.preventDefault(),I.stopPropagation()));return Z.postDispatch&&Z.postDispatch.call(this,I),I.result}},handlers:function(d,g){var y,C,A,M,P,L=[],I=g.delegateCount,W=d.target;if(I&&W.nodeType&&!(d.type==="click"&&d.button>=1)){for(;W!==this;W=W.parentNode||this)if(W.nodeType===1&&!(d.type==="click"&&W.disabled===!0)){for(M=[],P={},y=0;y<I;y++)C=g[y],A=C.selector+" ",P[A]===void 0&&(P[A]=C.needsContext?m(A,this).index(W)>-1:m.find(A,this,null,[W]).length),P[A]&&M.push(C);M.length&&L.push({elem:W,handlers:M})}}return W=this,I<g.length&&L.push({elem:W,handlers:g.slice(I)}),L},addProp:function(d,g){Object.defineProperty(m.Event.prototype,d,{enumerable:!0,configurable:!0,get:v(g)?function(){if(this.originalEvent)return g(this.originalEvent)}:function(){if(this.originalEvent)return this.originalEvent[d]},set:function(y){Object.defineProperty(this,d,{enumerable:!0,configurable:!0,writable:!0,value:y})}})},fix:function(d){return d[m.expando]?d:new m.Event(d)},special:{load:{noBubble:!0},click:{setup:function(d){var g=this||d;return Tr.test(g.type)&&g.click&&R(g,"input")&&Hl(g,"click",uo),!1},trigger:function(d){var g=this||d;return Tr.test(g.type)&&g.click&&R(g,"input")&&Hl(g,"click"),!0},_default:function(d){var g=d.target;return Tr.test(g.type)&&g.click&&R(g,"input")&&K.get(g,"click")||R(g,"a")}},beforeunload:{postDispatch:function(d){d.result!==void 0&&d.originalEvent&&(d.originalEvent.returnValue=d.result)}}}};function Hl(d,g,y){if(!y){K.get(d,g)===void 0&&m.event.add(d,g,uo);return}K.set(d,g,!1),m.event.add(d,g,{namespace:!1,handler:function(C){var A,M,P=K.get(this,g);if(C.isTrigger&1&&this[g]){if(P.length)(m.event.special[g]||{}).delegateType&&C.stopPropagation();else if(P=s.call(arguments),K.set(this,g,P),A=y(this,g),this[g](),M=K.get(this,g),P!==M||A?K.set(this,g,!1):M={},P!==M)return C.stopImmediatePropagation(),C.preventDefault(),M&&M.value}else P.length&&(K.set(this,g,{value:m.event.trigger(m.extend(P[0],m.Event.prototype),P.slice(1),this)}),C.stopImmediatePropagation())}})}m.removeEvent=function(d,g,y){d.removeEventListener&&d.removeEventListener(g,y)},m.Event=function(d,g){if(!(this instanceof m.Event))return new m.Event(d,g);d&&d.type?(this.originalEvent=d,this.type=d.type,this.isDefaultPrevented=d.defaultPrevented||d.defaultPrevented===void 0&&d.returnValue===!1?uo:ho,this.target=d.target&&d.target.nodeType===3?d.target.parentNode:d.target,this.currentTarget=d.currentTarget,this.relatedTarget=d.relatedTarget):this.type=d,g&&m.extend(this,g),this.timeStamp=d&&d.timeStamp||Date.now(),this[m.expando]=!0},m.Event.prototype={constructor:m.Event,isDefaultPrevented:ho,isPropagationStopped:ho,isImmediatePropagationStopped:ho,isSimulated:!1,preventDefault:function(){var d=this.originalEvent;this.isDefaultPrevented=uo,d&&!this.isSimulated&&d.preventDefault()},stopPropagation:function(){var d=this.originalEvent;this.isPropagationStopped=uo,d&&!this.isSimulated&&d.stopPropagation()},stopImmediatePropagation:function(){var d=this.originalEvent;this.isImmediatePropagationStopped=uo,d&&!this.isSimulated&&d.stopImmediatePropagation(),this.stopPropagation()}},m.each({altKey:!0,bubbles:!0,cancelable:!0,changedTouches:!0,ctrlKey:!0,detail:!0,eventPhase:!0,metaKey:!0,pageX:!0,pageY:!0,shiftKey:!0,view:!0,char:!0,code:!0,charCode:!0,key:!0,keyCode:!0,button:!0,buttons:!0,clientX:!0,clientY:!0,offsetX:!0,offsetY:!0,pointerId:!0,pointerType:!0,screenX:!0,screenY:!0,targetTouches:!0,toElement:!0,touches:!0,which:!0},m.event.addProp),m.each({focus:"focusin",blur:"focusout"},function(d,g){m.event.special[d]={setup:function(){return Hl(this,d,F1),!1},trigger:function(){return Hl(this,d),!0},_default:function(){return!0},delegateType:g}}),m.each({mouseenter:"mouseover",mouseleave:"mouseout",pointerenter:"pointerover",pointerleave:"pointerout"},function(d,g){m.event.special[d]={delegateType:g,bindType:g,handle:function(y){var C,A=this,M=y.relatedTarget,P=y.handleObj;return(!M||M!==A&&!m.contains(A,M))&&(y.type=P.origType,C=P.handler.apply(this,arguments),y.type=g),C}}}),m.fn.extend({on:function(d,g,y,C){return Ju(this,d,g,y,C)},one:function(d,g,y,C){return Ju(this,d,g,y,C,1)},off:function(d,g,y){var C,A;if(d&&d.preventDefault&&d.handleObj)return C=d.handleObj,m(d.delegateTarget).off(C.namespace?C.origType+"."+C.namespace:C.origType,C.selector,C.handler),this;if(typeof d=="object"){for(A in d)this.off(A,g,d[A]);return this}return(g===!1||typeof g=="function")&&(y=g,g=void 0),y===!1&&(y=ho),this.each(function(){m.event.remove(this,d,y,g)})}});var I1=/<script|<style|<link/i,z1=/checked\s*(?:[^=]|=\s*.checked.)/i,j1=/^\s*<!(?:\[CDATA\[|--)|(?:\]\]|--)>\s*$/g;function Tp(d,g){return R(d,"table")&&R(g.nodeType!==11?g:g.firstChild,"tr")&&m(d).children("tbody")[0]||d}function B1(d){return d.type=(d.getAttribute("type")!==null)+"/"+d.type,d}function R1(d){return(d.type||"").slice(0,5)==="true/"?d.type=d.type.slice(5):d.removeAttribute("type"),d}function Pp(d,g){var y,C,A,M,P,L,I;if(g.nodeType===1){if(K.hasData(d)&&(M=K.get(d),I=M.events,I)){K.remove(g,"handle events");for(A in I)for(y=0,C=I[A].length;y<C;y++)m.event.add(g,A,I[A][y])}nt.hasData(d)&&(P=nt.access(d),L=m.extend({},P),nt.set(g,L))}}function V1(d,g){var y=g.nodeName.toLowerCase();y==="input"&&Tr.test(d.type)?g.checked=d.checked:(y==="input"||y==="textarea")&&(g.defaultValue=d.defaultValue)}function fo(d,g,y,C){g=o(g);var A,M,P,L,I,W,Z=0,lt=d.length,J=lt-1,et=g[0],Ft=v(et);if(Ft||lt>1&&typeof et=="string"&&!b.checkClone&&z1.test(et))return d.each(function(Kt){var Lt=d.eq(Kt);Ft&&(g[0]=et.call(this,Kt,Lt.html())),fo(Lt,g,y,C)});if(lt&&(A=Mp(g,d[0].ownerDocument,!1,d,C),M=A.firstChild,A.childNodes.length===1&&(A=M),M||C)){for(P=m.map(ze(A,"script"),B1),L=P.length;Z<lt;Z++)I=A,Z!==J&&(I=m.clone(I,!0,!0),L&&m.merge(P,ze(I,"script"))),y.call(d[Z],I,Z);if(L)for(W=P[P.length-1].ownerDocument,m.map(P,R1),Z=0;Z<L;Z++)I=P[Z],pa.test(I.type||"")&&!K.access(I,"globalEval")&&m.contains(W,I)&&(I.src&&(I.type||"").toLowerCase()!=="module"?m._evalUrl&&!I.noModule&&m._evalUrl(I.src,{nonce:I.nonce||I.getAttribute("nonce")},W):S(I.textContent.replace(j1,""),I,W))}return d}function kp(d,g,y){for(var C,A=g?m.filter(g,d):d,M=0;(C=A[M])!=null;M++)!y&&C.nodeType===1&&m.cleanData(ze(C)),C.parentNode&&(y&&kt(C)&&co(ze(C,"script")),C.parentNode.removeChild(C));return d}m.extend({htmlPrefilter:function(d){return d},clone:function(d,g,y){var C,A,M,P,L=d.cloneNode(!0),I=kt(d);if(!b.noCloneChecked&&(d.nodeType===1||d.nodeType===11)&&!m.isXMLDoc(d))for(P=ze(L),M=ze(d),C=0,A=M.length;C<A;C++)V1(M[C],P[C]);if(g)if(y)for(M=M||ze(d),P=P||ze(L),C=0,A=M.length;C<A;C++)Pp(M[C],P[C]);else Pp(d,L);return P=ze(L,"script"),P.length>0&&co(P,!I&&ze(d,"script")),L},cleanData:function(d){for(var g,y,C,A=m.event.special,M=0;(y=d[M])!==void 0;M++)if(G(y)){if(g=y[K.expando]){if(g.events)for(C in g.events)A[C]?m.event.remove(y,C):m.removeEvent(y,C,g.handle);y[K.expando]=void 0}y[nt.expando]&&(y[nt.expando]=void 0)}}}),m.fn.extend({detach:function(d){return kp(this,d,!0)},remove:function(d){return kp(this,d)},text:function(d){return Ut(this,function(g){return g===void 0?m.text(this):this.empty().each(function(){(this.nodeType===1||this.nodeType===11||this.nodeType===9)&&(this.textContent=g)})},null,d,arguments.length)},append:function(){return fo(this,arguments,function(d){if(this.nodeType===1||this.nodeType===11||this.nodeType===9){var g=Tp(this,d);g.appendChild(d)}})},prepend:function(){return fo(this,arguments,function(d){if(this.nodeType===1||this.nodeType===11||this.nodeType===9){var g=Tp(this,d);g.insertBefore(d,g.firstChild)}})},before:function(){return fo(this,arguments,function(d){this.parentNode&&this.parentNode.insertBefore(d,this)})},after:function(){return fo(this,arguments,function(d){this.parentNode&&this.parentNode.insertBefore(d,this.nextSibling)})},empty:function(){for(var d,g=0;(d=this[g])!=null;g++)d.nodeType===1&&(m.cleanData(ze(d,!1)),d.textContent="");return this},clone:function(d,g){return d=d==null?!1:d,g=g==null?d:g,this.map(function(){return m.clone(this,d,g)})},html:function(d){return Ut(this,function(g){var y=this[0]||{},C=0,A=this.length;if(g===void 0&&y.nodeType===1)return y.innerHTML;if(typeof g=="string"&&!I1.test(g)&&!$e[(Pr.exec(g)||["",""])[1].toLowerCase()]){g=m.htmlPrefilter(g);try{for(;C<A;C++)y=this[C]||{},y.nodeType===1&&(m.cleanData(ze(y,!1)),y.innerHTML=g);y=0}catch{}}y&&this.empty().append(g)},null,d,arguments.length)},replaceWith:function(){var d=[];return fo(this,arguments,function(g){var y=this.parentNode;m.inArray(this,d)<0&&(m.cleanData(ze(this)),y&&y.replaceChild(g,this))},d)}}),m.each({appendTo:"append",prependTo:"prepend",insertBefore:"before",insertAfter:"after",replaceAll:"replaceWith"},function(d,g){m.fn[d]=function(y){for(var C,A=[],M=m(y),P=M.length-1,L=0;L<=P;L++)C=L===P?this:this.clone(!0),m(M[L])[g](C),a.apply(A,C.get());return this.pushStack(A)}});var Zu=new RegExp("^("+ut+")(?!px)[a-z%]+$","i"),Gl=function(d){var g=d.ownerDocument.defaultView;return(!g||!g.opener)&&(g=t),g.getComputedStyle(d)},_p=function(d,g,y){var C,A,M={};for(A in g)M[A]=d.style[A],d.style[A]=g[A];C=y.call(d);for(A in g)d.style[A]=M[A];return C},H1=new RegExp(Y.join("|"),"i");(function(){function d(){if(!!W){I.style.cssText="position:absolute;left:-11111px;width:60px;margin-top:1px;padding:0;border:0",W.style.cssText="position:relative;display:block;box-sizing:border-box;overflow:scroll;margin:auto;border:1px;padding:1px;width:60%;top:1%",ft.appendChild(I).appendChild(W);var Z=t.getComputedStyle(W);y=Z.top!=="1%",L=g(Z.marginLeft)===12,W.style.right="60%",M=g(Z.right)===36,C=g(Z.width)===36,W.style.position="absolute",A=g(W.offsetWidth/3)===12,ft.removeChild(I),W=null}}function g(Z){return Math.round(parseFloat(Z))}var y,C,A,M,P,L,I=x.createElement("div"),W=x.createElement("div");!W.style||(W.style.backgroundClip="content-box",W.cloneNode(!0).style.backgroundClip="",b.clearCloneStyle=W.style.backgroundClip==="content-box",m.extend(b,{boxSizingReliable:function(){return d(),C},pixelBoxStyles:function(){return d(),M},pixelPosition:function(){return d(),y},reliableMarginLeft:function(){return d(),L},scrollboxSize:function(){return d(),A},reliableTrDimensions:function(){var Z,lt,J,et;return P==null&&(Z=x.createElement("table"),lt=x.createElement("tr"),J=x.createElement("div"),Z.style.cssText="position:absolute;left:-11111px;border-collapse:separate",lt.style.cssText="border:1px solid",lt.style.height="1px",J.style.height="9px",J.style.display="block",ft.appendChild(Z).appendChild(lt).appendChild(J),et=t.getComputedStyle(lt),P=parseInt(et.height,10)+parseInt(et.borderTopWidth,10)+parseInt(et.borderBottomWidth,10)===lt.offsetHeight,ft.removeChild(Z)),P}}))})();function ga(d,g,y){var C,A,M,P,L=d.style;return y=y||Gl(d),y&&(P=y.getPropertyValue(g)||y[g],P===""&&!kt(d)&&(P=m.style(d,g)),!b.pixelBoxStyles()&&Zu.test(P)&&H1.test(g)&&(C=L.width,A=L.minWidth,M=L.maxWidth,L.minWidth=L.maxWidth=L.width=P,P=y.width,L.width=C,L.minWidth=A,L.maxWidth=M)),P!==void 0?P+"":P}function Dp(d,g){return{get:function(){if(d()){delete this.get;return}return(this.get=g).apply(this,arguments)}}}var Np=["Webkit","Moz","ms"],$p=x.createElement("div").style,Fp={};function G1(d){for(var g=d[0].toUpperCase()+d.slice(1),y=Np.length;y--;)if(d=Np[y]+g,d in $p)return d}function Qu(d){var g=m.cssProps[d]||Fp[d];return g||(d in $p?d:Fp[d]=G1(d)||d)}var q1=/^(none|table(?!-c[ea]).+)/,Lp=/^--/,U1={position:"absolute",visibility:"hidden",display:"block"},Ip={letterSpacing:"0",fontWeight:"400"};function zp(d,g,y){var C=Pt.exec(g);return C?Math.max(0,C[2]-(y||0))+(C[3]||"px"):g}function th(d,g,y,C,A,M){var P=g==="width"?1:0,L=0,I=0;if(y===(C?"border":"content"))return 0;for(;P<4;P+=2)y==="margin"&&(I+=m.css(d,y+Y[P],!0,A)),C?(y==="content"&&(I-=m.css(d,"padding"+Y[P],!0,A)),y!=="margin"&&(I-=m.css(d,"border"+Y[P]+"Width",!0,A))):(I+=m.css(d,"padding"+Y[P],!0,A),y!=="padding"?I+=m.css(d,"border"+Y[P]+"Width",!0,A):L+=m.css(d,"border"+Y[P]+"Width",!0,A));return!C&&M>=0&&(I+=Math.max(0,Math.ceil(d["offset"+g[0].toUpperCase()+g.slice(1)]-M-I-L-.5))||0),I}function jp(d,g,y){var C=Gl(d),A=!b.boxSizingReliable()||y,M=A&&m.css(d,"boxSizing",!1,C)==="border-box",P=M,L=ga(d,g,C),I="offset"+g[0].toUpperCase()+g.slice(1);if(Zu.test(L)){if(!y)return L;L="auto"}return(!b.boxSizingReliable()&&M||!b.reliableTrDimensions()&&R(d,"tr")||L==="auto"||!parseFloat(L)&&m.css(d,"display",!1,C)==="inline")&&d.getClientRects().length&&(M=m.css(d,"boxSizing",!1,C)==="border-box",P=I in d,P&&(L=d[I])),L=parseFloat(L)||0,L+th(d,g,y||(M?"border":"content"),P,C,L)+"px"}m.extend({cssHooks:{opacity:{get:function(d,g){if(g){var y=ga(d,"opacity");return y===""?"1":y}}}},cssNumber:{animationIterationCount:!0,columnCount:!0,fillOpacity:!0,flexGrow:!0,flexShrink:!0,fontWeight:!0,gridArea:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnStart:!0,gridRow:!0,gridRowEnd:!0,gridRowStart:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,widows:!0,zIndex:!0,zoom:!0},cssProps:{},style:function(d,g,y,C){if(!(!d||d.nodeType===3||d.nodeType===8||!d.style)){var A,M,P,L=$(g),I=Lp.test(g),W=d.style;if(I||(g=Qu(L)),P=m.cssHooks[g]||m.cssHooks[L],y!==void 0){if(M=typeof y,M==="string"&&(A=Pt.exec(y))&&A[1]&&(y=xe(d,g,A),M="number"),y==null||y!==y)return;M==="number"&&!I&&(y+=A&&A[3]||(m.cssNumber[L]?"":"px")),!b.clearCloneStyle&&y===""&&g.indexOf("background")===0&&(W[g]="inherit"),(!P||!("set"in P)||(y=P.set(d,y,C))!==void 0)&&(I?W.setProperty(g,y):W[g]=y)}else return P&&"get"in P&&(A=P.get(d,!1,C))!==void 0?A:W[g]}},css:function(d,g,y,C){var A,M,P,L=$(g),I=Lp.test(g);return I||(g=Qu(L)),P=m.cssHooks[g]||m.cssHooks[L],P&&"get"in P&&(A=P.get(d,!0,y)),A===void 0&&(A=ga(d,g,C)),A==="normal"&&g in Ip&&(A=Ip[g]),y===""||y?(M=parseFloat(A),y===!0||isFinite(M)?M||0:A):A}}),m.each(["height","width"],function(d,g){m.cssHooks[g]={get:function(y,C,A){if(C)return q1.test(m.css(y,"display"))&&(!y.getClientRects().length||!y.getBoundingClientRect().width)?_p(y,U1,function(){return jp(y,g,A)}):jp(y,g,A)},set:function(y,C,A){var M,P=Gl(y),L=!b.scrollboxSize()&&P.position==="absolute",I=L||A,W=I&&m.css(y,"boxSizing",!1,P)==="border-box",Z=A?th(y,g,A,W,P):0;return W&&L&&(Z-=Math.ceil(y["offset"+g[0].toUpperCase()+g.slice(1)]-parseFloat(P[g])-th(y,g,"border",!1,P)-.5)),Z&&(M=Pt.exec(C))&&(M[3]||"px")!=="px"&&(y.style[g]=C,C=m.css(y,g)),zp(y,C,Z)}}}),m.cssHooks.marginLeft=Dp(b.reliableMarginLeft,function(d,g){if(g)return(parseFloat(ga(d,"marginLeft"))||d.getBoundingClientRect().left-_p(d,{marginLeft:0},function(){return d.getBoundingClientRect().left}))+"px"}),m.each({margin:"",padding:"",border:"Width"},function(d,g){m.cssHooks[d+g]={expand:function(y){for(var C=0,A={},M=typeof y=="string"?y.split(" "):[y];C<4;C++)A[d+Y[C]+g]=M[C]||M[C-2]||M[0];return A}},d!=="margin"&&(m.cssHooks[d+g].set=zp)}),m.fn.extend({css:function(d,g){return Ut(this,function(y,C,A){var M,P,L={},I=0;if(Array.isArray(C)){for(M=Gl(y),P=C.length;I<P;I++)L[C[I]]=m.css(y,C[I],!1,M);return L}return A!==void 0?m.style(y,C,A):m.css(y,C)},d,g,arguments.length>1)}});function Vn(d,g,y,C,A){return new Vn.prototype.init(d,g,y,C,A)}m.Tween=Vn,Vn.prototype={constructor:Vn,init:function(d,g,y,C,A,M){this.elem=d,this.prop=y,this.easing=A||m.easing._default,this.options=g,this.start=this.now=this.cur(),this.end=C,this.unit=M||(m.cssNumber[y]?"":"px")},cur:function(){var d=Vn.propHooks[this.prop];return d&&d.get?d.get(this):Vn.propHooks._default.get(this)},run:function(d){var g,y=Vn.propHooks[this.prop];return this.options.duration?this.pos=g=m.easing[this.easing](d,this.options.duration*d,0,1,this.options.duration):this.pos=g=d,this.now=(this.end-this.start)*g+this.start,this.options.step&&this.options.step.call(this.elem,this.now,this),y&&y.set?y.set(this):Vn.propHooks._default.set(this),this}},Vn.prototype.init.prototype=Vn.prototype,Vn.propHooks={_default:{get:function(d){var g;return d.elem.nodeType!==1||d.elem[d.prop]!=null&&d.elem.style[d.prop]==null?d.elem[d.prop]:(g=m.css(d.elem,d.prop,""),!g||g==="auto"?0:g)},set:function(d){m.fx.step[d.prop]?m.fx.step[d.prop](d):d.elem.nodeType===1&&(m.cssHooks[d.prop]||d.elem.style[Qu(d.prop)]!=null)?m.style(d.elem,d.prop,d.now+d.unit):d.elem[d.prop]=d.now}}},Vn.propHooks.scrollTop=Vn.propHooks.scrollLeft={set:function(d){d.elem.nodeType&&d.elem.parentNode&&(d.elem[d.prop]=d.now)}},m.easing={linear:function(d){return d},swing:function(d){return .5-Math.cos(d*Math.PI)/2},_default:"swing"},m.fx=Vn.prototype.init,m.fx.step={};var po,ql,W1=/^(?:toggle|show|hide)$/,X1=/queueHooks$/;function eh(){ql&&(x.hidden===!1&&t.requestAnimationFrame?t.requestAnimationFrame(eh):t.setTimeout(eh,m.fx.interval),m.fx.tick())}function Bp(){return t.setTimeout(function(){po=void 0}),po=Date.now()}function Ul(d,g){var y,C=0,A={height:d};for(g=g?1:0;C<4;C+=2-g)y=Y[C],A["margin"+y]=A["padding"+y]=d;return g&&(A.opacity=A.width=d),A}function Rp(d,g,y){for(var C,A=(Ti.tweeners[g]||[]).concat(Ti.tweeners["*"]),M=0,P=A.length;M<P;M++)if(C=A[M].call(y,g,d))return C}function Y1(d,g,y){var C,A,M,P,L,I,W,Z,lt="width"in g||"height"in g,J=this,et={},Ft=d.style,Kt=d.nodeType&&le(d),Lt=K.get(d,"fxshow");y.queue||(P=m._queueHooks(d,"fx"),P.unqueued==null&&(P.unqueued=0,L=P.empty.fire,P.empty.fire=function(){P.unqueued||L()}),P.unqueued++,J.always(function(){J.always(function(){P.unqueued--,m.queue(d,"fx").length||P.empty.fire()})}));for(C in g)if(A=g[C],W1.test(A)){if(delete g[C],M=M||A==="toggle",A===(Kt?"hide":"show"))if(A==="show"&&Lt&&Lt[C]!==void 0)Kt=!0;else continue;et[C]=Lt&&Lt[C]||m.style(d,C)}if(I=!m.isEmptyObject(g),!(!I&&m.isEmptyObject(et))){lt&&d.nodeType===1&&(y.overflow=[Ft.overflow,Ft.overflowX,Ft.overflowY],W=Lt&&Lt.display,W==null&&(W=K.get(d,"display")),Z=m.css(d,"display"),Z==="none"&&(W?Z=W:(Qn([d],!0),W=d.style.display||W,Z=m.css(d,"display"),Qn([d]))),(Z==="inline"||Z==="inline-block"&&W!=null)&&m.css(d,"float")==="none"&&(I||(J.done(function(){Ft.display=W}),W==null&&(Z=Ft.display,W=Z==="none"?"":Z)),Ft.display="inline-block")),y.overflow&&(Ft.overflow="hidden",J.always(function(){Ft.overflow=y.overflow[0],Ft.overflowX=y.overflow[1],Ft.overflowY=y.overflow[2]})),I=!1;for(C in et)I||(Lt?"hidden"in Lt&&(Kt=Lt.hidden):Lt=K.access(d,"fxshow",{display:W}),M&&(Lt.hidden=!Kt),Kt&&Qn([d],!0),J.done(function(){Kt||Qn([d]),K.remove(d,"fxshow");for(C in et)m.style(d,C,et[C])})),I=Rp(Kt?Lt[C]:0,C,J),C in Lt||(Lt[C]=I.start,Kt&&(I.end=I.start,I.start=0))}}function K1(d,g){var y,C,A,M,P;for(y in d)if(C=$(y),A=g[C],M=d[y],Array.isArray(M)&&(A=M[1],M=d[y]=M[0]),y!==C&&(d[C]=M,delete d[y]),P=m.cssHooks[C],P&&"expand"in P){M=P.expand(M),delete d[C];for(y in M)y in d||(d[y]=M[y],g[y]=A)}else g[C]=A}function Ti(d,g,y){var C,A,M=0,P=Ti.prefilters.length,L=m.Deferred().always(function(){delete I.elem}),I=function(){if(A)return!1;for(var lt=po||Bp(),J=Math.max(0,W.startTime+W.duration-lt),et=J/W.duration||0,Ft=1-et,Kt=0,Lt=W.tweens.length;Kt<Lt;Kt++)W.tweens[Kt].run(Ft);return L.notifyWith(d,[W,Ft,J]),Ft<1&&Lt?J:(Lt||L.notifyWith(d,[W,1,0]),L.resolveWith(d,[W]),!1)},W=L.promise({elem:d,props:m.extend({},g),opts:m.extend(!0,{specialEasing:{},easing:m.easing._default},y),originalProperties:g,originalOptions:y,startTime:po||Bp(),duration:y.duration,tweens:[],createTween:function(lt,J){var et=m.Tween(d,W.opts,lt,J,W.opts.specialEasing[lt]||W.opts.easing);return W.tweens.push(et),et},stop:function(lt){var J=0,et=lt?W.tweens.length:0;if(A)return this;for(A=!0;J<et;J++)W.tweens[J].run(1);return lt?(L.notifyWith(d,[W,1,0]),L.resolveWith(d,[W,lt])):L.rejectWith(d,[W,lt]),this}}),Z=W.props;for(K1(Z,W.opts.specialEasing);M<P;M++)if(C=Ti.prefilters[M].call(W,d,Z,W.opts),C)return v(C.stop)&&(m._queueHooks(W.elem,W.opts.queue).stop=C.stop.bind(C)),C;return m.map(Z,Rp,W),v(W.opts.start)&&W.opts.start.call(d,W),W.progress(W.opts.progress).done(W.opts.done,W.opts.complete).fail(W.opts.fail).always(W.opts.always),m.fx.timer(m.extend(I,{elem:d,anim:W,queue:W.opts.queue})),W}m.Animation=m.extend(Ti,{tweeners:{"*":[function(d,g){var y=this.createTween(d,g);return xe(y.elem,d,Pt.exec(g),y),y}]},tweener:function(d,g){v(d)?(g=d,d=["*"]):d=d.match(pt);for(var y,C=0,A=d.length;C<A;C++)y=d[C],Ti.tweeners[y]=Ti.tweeners[y]||[],Ti.tweeners[y].unshift(g)},prefilters:[Y1],prefilter:function(d,g){g?Ti.prefilters.unshift(d):Ti.prefilters.push(d)}}),m.speed=function(d,g,y){var C=d&&typeof d=="object"?m.extend({},d):{complete:y||!y&&g||v(d)&&d,duration:d,easing:y&&g||g&&!v(g)&&g};return m.fx.off?C.duration=0:typeof C.duration!="number"&&(C.duration in m.fx.speeds?C.duration=m.fx.speeds[C.duration]:C.duration=m.fx.speeds._default),(C.queue==null||C.queue===!0)&&(C.queue="fx"),C.old=C.complete,C.complete=function(){v(C.old)&&C.old.call(this),C.queue&&m.dequeue(this,C.queue)},C},m.fn.extend({fadeTo:function(d,g,y,C){return this.filter(le).css("opacity",0).show().end().animate({opacity:g},d,y,C)},animate:function(d,g,y,C){var A=m.isEmptyObject(d),M=m.speed(g,y,C),P=function(){var L=Ti(this,m.extend({},d),M);(A||K.get(this,"finish"))&&L.stop(!0)};return P.finish=P,A||M.queue===!1?this.each(P):this.queue(M.queue,P)},stop:function(d,g,y){var C=function(A){var M=A.stop;delete A.stop,M(y)};return typeof d!="string"&&(y=g,g=d,d=void 0),g&&this.queue(d||"fx",[]),this.each(function(){var A=!0,M=d!=null&&d+"queueHooks",P=m.timers,L=K.get(this);if(M)L[M]&&L[M].stop&&C(L[M]);else for(M in L)L[M]&&L[M].stop&&X1.test(M)&&C(L[M]);for(M=P.length;M--;)P[M].elem===this&&(d==null||P[M].queue===d)&&(P[M].anim.stop(y),A=!1,P.splice(M,1));(A||!y)&&m.dequeue(this,d)})},finish:function(d){return d!==!1&&(d=d||"fx"),this.each(function(){var g,y=K.get(this),C=y[d+"queue"],A=y[d+"queueHooks"],M=m.timers,P=C?C.length:0;for(y.finish=!0,m.queue(this,d,[]),A&&A.stop&&A.stop.call(this,!0),g=M.length;g--;)M[g].elem===this&&M[g].queue===d&&(M[g].anim.stop(!0),M.splice(g,1));for(g=0;g<P;g++)C[g]&&C[g].finish&&C[g].finish.call(this);delete y.finish})}}),m.each(["toggle","show","hide"],function(d,g){var y=m.fn[g];m.fn[g]=function(C,A,M){return C==null||typeof C=="boolean"?y.apply(this,arguments):this.animate(Ul(g,!0),C,A,M)}}),m.each({slideDown:Ul("show"),slideUp:Ul("hide"),slideToggle:Ul("toggle"),fadeIn:{opacity:"show"},fadeOut:{opacity:"hide"},fadeToggle:{opacity:"toggle"}},function(d,g){m.fn[d]=function(y,C,A){return this.animate(g,y,C,A)}}),m.timers=[],m.fx.tick=function(){var d,g=0,y=m.timers;for(po=Date.now();g<y.length;g++)d=y[g],!d()&&y[g]===d&&y.splice(g--,1);y.length||m.fx.stop(),po=void 0},m.fx.timer=function(d){m.timers.push(d),m.fx.start()},m.fx.interval=13,m.fx.start=function(){ql||(ql=!0,eh())},m.fx.stop=function(){ql=null},m.fx.speeds={slow:600,fast:200,_default:400},m.fn.delay=function(d,g){return d=m.fx&&m.fx.speeds[d]||d,g=g||"fx",this.queue(g,function(y,C){var A=t.setTimeout(y,d);C.stop=function(){t.clearTimeout(A)}})},function(){var d=x.createElement("input"),g=x.createElement("select"),y=g.appendChild(x.createElement("option"));d.type="checkbox",b.checkOn=d.value!=="",b.optSelected=y.selected,d=x.createElement("input"),d.value="t",d.type="radio",b.radioValue=d.value==="t"}();var Vp,ma=m.expr.attrHandle;m.fn.extend({attr:function(d,g){return Ut(this,m.attr,d,g,arguments.length>1)},removeAttr:function(d){return this.each(function(){m.removeAttr(this,d)})}}),m.extend({attr:function(d,g,y){var C,A,M=d.nodeType;if(!(M===3||M===8||M===2)){if(typeof d.getAttribute=="undefined")return m.prop(d,g,y);if((M!==1||!m.isXMLDoc(d))&&(A=m.attrHooks[g.toLowerCase()]||(m.expr.match.bool.test(g)?Vp:void 0)),y!==void 0){if(y===null){m.removeAttr(d,g);return}return A&&"set"in A&&(C=A.set(d,y,g))!==void 0?C:(d.setAttribute(g,y+""),y)}return A&&"get"in A&&(C=A.get(d,g))!==null?C:(C=m.find.attr(d,g),C==null?void 0:C)}},attrHooks:{type:{set:function(d,g){if(!b.radioValue&&g==="radio"&&R(d,"input")){var y=d.value;return d.setAttribute("type",g),y&&(d.value=y),g}}}},removeAttr:function(d,g){var y,C=0,A=g&&g.match(pt);if(A&&d.nodeType===1)for(;y=A[C++];)d.removeAttribute(y)}}),Vp={set:function(d,g,y){return g===!1?m.removeAttr(d,y):d.setAttribute(y,y),y}},m.each(m.expr.match.bool.source.match(/\w+/g),function(d,g){var y=ma[g]||m.find.attr;ma[g]=function(C,A,M){var P,L,I=A.toLowerCase();return M||(L=ma[I],ma[I]=P,P=y(C,A,M)!=null?I:null,ma[I]=L),P}});var J1=/^(?:input|select|textarea|button)$/i,Z1=/^(?:a|area)$/i;m.fn.extend({prop:function(d,g){return Ut(this,m.prop,d,g,arguments.length>1)},removeProp:function(d){return this.each(function(){delete this[m.propFix[d]||d]})}}),m.extend({prop:function(d,g,y){var C,A,M=d.nodeType;if(!(M===3||M===8||M===2))return(M!==1||!m.isXMLDoc(d))&&(g=m.propFix[g]||g,A=m.propHooks[g]),y!==void 0?A&&"set"in A&&(C=A.set(d,y,g))!==void 0?C:d[g]=y:A&&"get"in A&&(C=A.get(d,g))!==null?C:d[g]},propHooks:{tabIndex:{get:function(d){var g=m.find.attr(d,"tabindex");return g?parseInt(g,10):J1.test(d.nodeName)||Z1.test(d.nodeName)&&d.href?0:-1}}},propFix:{for:"htmlFor",class:"className"}}),b.optSelected||(m.propHooks.selected={get:function(d){var g=d.parentNode;return g&&g.parentNode&&g.parentNode.selectedIndex,null},set:function(d){var g=d.parentNode;g&&(g.selectedIndex,g.parentNode&&g.parentNode.selectedIndex)}}),m.each(["tabIndex","readOnly","maxLength","cellSpacing","cellPadding","rowSpan","colSpan","useMap","frameBorder","contentEditable"],function(){m.propFix[this.toLowerCase()]=this});function cs(d){var g=d.match(pt)||[];return g.join(" ")}function us(d){return d.getAttribute&&d.getAttribute("class")||""}function nh(d){return Array.isArray(d)?d:typeof d=="string"?d.match(pt)||[]:[]}m.fn.extend({addClass:function(d){var g,y,C,A,M,P,L,I=0;if(v(d))return this.each(function(W){m(this).addClass(d.call(this,W,us(this)))});if(g=nh(d),g.length){for(;y=this[I++];)if(A=us(y),C=y.nodeType===1&&" "+cs(A)+" ",C){for(P=0;M=g[P++];)C.indexOf(" "+M+" ")<0&&(C+=M+" ");L=cs(C),A!==L&&y.setAttribute("class",L)}}return this},removeClass:function(d){var g,y,C,A,M,P,L,I=0;if(v(d))return this.each(function(W){m(this).removeClass(d.call(this,W,us(this)))});if(!arguments.length)return this.attr("class","");if(g=nh(d),g.length){for(;y=this[I++];)if(A=us(y),C=y.nodeType===1&&" "+cs(A)+" ",C){for(P=0;M=g[P++];)for(;C.indexOf(" "+M+" ")>-1;)C=C.replace(" "+M+" "," ");L=cs(C),A!==L&&y.setAttribute("class",L)}}return this},toggleClass:function(d,g){var y=typeof d,C=y==="string"||Array.isArray(d);return typeof g=="boolean"&&C?g?this.addClass(d):this.removeClass(d):v(d)?this.each(function(A){m(this).toggleClass(d.call(this,A,us(this),g),g)}):this.each(function(){var A,M,P,L;if(C)for(M=0,P=m(this),L=nh(d);A=L[M++];)P.hasClass(A)?P.removeClass(A):P.addClass(A);else(d===void 0||y==="boolean")&&(A=us(this),A&&K.set(this,"__className__",A),this.setAttribute&&this.setAttribute("class",A||d===!1?"":K.get(this,"__className__")||""))})},hasClass:function(d){var g,y,C=0;for(g=" "+d+" ";y=this[C++];)if(y.nodeType===1&&(" "+cs(us(y))+" ").indexOf(g)>-1)return!0;return!1}});var Q1=/\r/g;m.fn.extend({val:function(d){var g,y,C,A=this[0];return arguments.length?(C=v(d),this.each(function(M){var P;this.nodeType===1&&(C?P=d.call(this,M,m(this).val()):P=d,P==null?P="":typeof P=="number"?P+="":Array.isArray(P)&&(P=m.map(P,function(L){return L==null?"":L+""})),g=m.valHooks[this.type]||m.valHooks[this.nodeName.toLowerCase()],(!g||!("set"in g)||g.set(this,P,"value")===void 0)&&(this.value=P))})):A?(g=m.valHooks[A.type]||m.valHooks[A.nodeName.toLowerCase()],g&&"get"in g&&(y=g.get(A,"value"))!==void 0?y:(y=A.value,typeof y=="string"?y.replace(Q1,""):y==null?"":y)):void 0}}),m.extend({valHooks:{option:{get:function(d){var g=m.find.attr(d,"value");return g!=null?g:cs(m.text(d))}},select:{get:function(d){var g,y,C,A=d.options,M=d.selectedIndex,P=d.type==="select-one",L=P?null:[],I=P?M+1:A.length;for(M<0?C=I:C=P?M:0;C<I;C++)if(y=A[C],(y.selected||C===M)&&!y.disabled&&(!y.parentNode.disabled||!R(y.parentNode,"optgroup"))){if(g=m(y).val(),P)return g;L.push(g)}return L},set:function(d,g){for(var y,C,A=d.options,M=m.makeArray(g),P=A.length;P--;)C=A[P],(C.selected=m.inArray(m.valHooks.option.get(C),M)>-1)&&(y=!0);return y||(d.selectedIndex=-1),M}}}}),m.each(["radio","checkbox"],function(){m.valHooks[this]={set:function(d,g){if(Array.isArray(g))return d.checked=m.inArray(m(d).val(),g)>-1}},b.checkOn||(m.valHooks[this].get=function(d){return d.getAttribute("value")===null?"on":d.value})}),b.focusin="onfocusin"in t;var Hp=/^(?:focusinfocus|focusoutblur)$/,Gp=function(d){d.stopPropagation()};m.extend(m.event,{trigger:function(d,g,y,C){var A,M,P,L,I,W,Z,lt,J=[y||x],et=h.call(d,"type")?d.type:d,Ft=h.call(d,"namespace")?d.namespace.split("."):[];if(M=lt=P=y=y||x,!(y.nodeType===3||y.nodeType===8)&&!Hp.test(et+m.event.triggered)&&(et.indexOf(".")>-1&&(Ft=et.split("."),et=Ft.shift(),Ft.sort()),I=et.indexOf(":")<0&&"on"+et,d=d[m.expando]?d:new m.Event(et,typeof d=="object"&&d),d.isTrigger=C?2:3,d.namespace=Ft.join("."),d.rnamespace=d.namespace?new RegExp("(^|\\.)"+Ft.join("\\.(?:.*\\.|)")+"(\\.|$)"):null,d.result=void 0,d.target||(d.target=y),g=g==null?[d]:m.makeArray(g,[d]),Z=m.event.special[et]||{},!(!C&&Z.trigger&&Z.trigger.apply(y,g)===!1))){if(!C&&!Z.noBubble&&!w(y)){for(L=Z.delegateType||et,Hp.test(L+et)||(M=M.parentNode);M;M=M.parentNode)J.push(M),P=M;P===(y.ownerDocument||x)&&J.push(P.defaultView||P.parentWindow||t)}for(A=0;(M=J[A++])&&!d.isPropagationStopped();)lt=M,d.type=A>1?L:Z.bindType||et,W=(K.get(M,"events")||Object.create(null))[d.type]&&K.get(M,"handle"),W&&W.apply(M,g),W=I&&M[I],W&&W.apply&&G(M)&&(d.result=W.apply(M,g),d.result===!1&&d.preventDefault());return d.type=et,!C&&!d.isDefaultPrevented()&&(!Z._default||Z._default.apply(J.pop(),g)===!1)&&G(y)&&I&&v(y[et])&&!w(y)&&(P=y[I],P&&(y[I]=null),m.event.triggered=et,d.isPropagationStopped()&&lt.addEventListener(et,Gp),y[et](),d.isPropagationStopped()&&lt.removeEventListener(et,Gp),m.event.triggered=void 0,P&&(y[I]=P)),d.result}},simulate:function(d,g,y){var C=m.extend(new m.Event,y,{type:d,isSimulated:!0});m.event.trigger(C,null,g)}}),m.fn.extend({trigger:function(d,g){return this.each(function(){m.event.trigger(d,g,this)})},triggerHandler:function(d,g){var y=this[0];if(y)return m.event.trigger(d,g,y,!0)}}),b.focusin||m.each({focus:"focusin",blur:"focusout"},function(d,g){var y=function(C){m.event.simulate(g,C.target,m.event.fix(C))};m.event.special[g]={setup:function(){var C=this.ownerDocument||this.document||this,A=K.access(C,g);A||C.addEventListener(d,y,!0),K.access(C,g,(A||0)+1)},teardown:function(){var C=this.ownerDocument||this.document||this,A=K.access(C,g)-1;A?K.access(C,g,A):(C.removeEventListener(d,y,!0),K.remove(C,g))}}});var ba=t.location,qp={guid:Date.now()},ih=/\?/;m.parseXML=function(d){var g,y;if(!d||typeof d!="string")return null;try{g=new t.DOMParser().parseFromString(d,"text/xml")}catch{}return y=g&&g.getElementsByTagName("parsererror")[0],(!g||y)&&m.error("Invalid XML: "+(y?m.map(y.childNodes,function(C){return C.textContent}).join(`
`):d)),g};var tx=/\[\]$/,Up=/\r?\n/g,ex=/^(?:submit|button|image|reset|file)$/i,nx=/^(?:input|select|textarea|keygen)/i;function rh(d,g,y,C){var A;if(Array.isArray(g))m.each(g,function(M,P){y||tx.test(d)?C(d,P):rh(d+"["+(typeof P=="object"&&P!=null?M:"")+"]",P,y,C)});else if(!y&&O(g)==="object")for(A in g)rh(d+"["+A+"]",g[A],y,C);else C(d,g)}m.param=function(d,g){var y,C=[],A=function(M,P){var L=v(P)?P():P;C[C.length]=encodeURIComponent(M)+"="+encodeURIComponent(L==null?"":L)};if(d==null)return"";if(Array.isArray(d)||d.jquery&&!m.isPlainObject(d))m.each(d,function(){A(this.name,this.value)});else for(y in d)rh(y,d[y],g,A);return C.join("&")},m.fn.extend({serialize:function(){return m.param(this.serializeArray())},serializeArray:function(){return this.map(function(){var d=m.prop(this,"elements");return d?m.makeArray(d):this}).filter(function(){var d=this.type;return this.name&&!m(this).is(":disabled")&&nx.test(this.nodeName)&&!ex.test(d)&&(this.checked||!Tr.test(d))}).map(function(d,g){var y=m(this).val();return y==null?null:Array.isArray(y)?m.map(y,function(C){return{name:g.name,value:C.replace(Up,`\r
`)}}):{name:g.name,value:y.replace(Up,`\r
`)}}).get()}});var ix=/%20/g,rx=/#.*$/,sx=/([?&])_=[^&]*/,ox=/^(.*?):[ \t]*([^\r\n]*)$/mg,ax=/^(?:about|app|app-storage|.+-extension|file|res|widget):$/,lx=/^(?:GET|HEAD)$/,cx=/^\/\//,Wp={},sh={},Xp="*/".concat("*"),oh=x.createElement("a");oh.href=ba.href;function Yp(d){return function(g,y){typeof g!="string"&&(y=g,g="*");var C,A=0,M=g.toLowerCase().match(pt)||[];if(v(y))for(;C=M[A++];)C[0]==="+"?(C=C.slice(1)||"*",(d[C]=d[C]||[]).unshift(y)):(d[C]=d[C]||[]).push(y)}}function Kp(d,g,y,C){var A={},M=d===sh;function P(L){var I;return A[L]=!0,m.each(d[L]||[],function(W,Z){var lt=Z(g,y,C);if(typeof lt=="string"&&!M&&!A[lt])return g.dataTypes.unshift(lt),P(lt),!1;if(M)return!(I=lt)}),I}return P(g.dataTypes[0])||!A["*"]&&P("*")}function ah(d,g){var y,C,A=m.ajaxSettings.flatOptions||{};for(y in g)g[y]!==void 0&&((A[y]?d:C||(C={}))[y]=g[y]);return C&&m.extend(!0,d,C),d}function ux(d,g,y){for(var C,A,M,P,L=d.contents,I=d.dataTypes;I[0]==="*";)I.shift(),C===void 0&&(C=d.mimeType||g.getResponseHeader("Content-Type"));if(C){for(A in L)if(L[A]&&L[A].test(C)){I.unshift(A);break}}if(I[0]in y)M=I[0];else{for(A in y){if(!I[0]||d.converters[A+" "+I[0]]){M=A;break}P||(P=A)}M=M||P}if(M)return M!==I[0]&&I.unshift(M),y[M]}function hx(d,g,y,C){var A,M,P,L,I,W={},Z=d.dataTypes.slice();if(Z[1])for(P in d.converters)W[P.toLowerCase()]=d.converters[P];for(M=Z.shift();M;)if(d.responseFields[M]&&(y[d.responseFields[M]]=g),!I&&C&&d.dataFilter&&(g=d.dataFilter(g,d.dataType)),I=M,M=Z.shift(),M){if(M==="*")M=I;else if(I!=="*"&&I!==M){if(P=W[I+" "+M]||W["* "+M],!P){for(A in W)if(L=A.split(" "),L[1]===M&&(P=W[I+" "+L[0]]||W["* "+L[0]],P)){P===!0?P=W[A]:W[A]!==!0&&(M=L[0],Z.unshift(L[1]));break}}if(P!==!0)if(P&&d.throws)g=P(g);else try{g=P(g)}catch(lt){return{state:"parsererror",error:P?lt:"No conversion from "+I+" to "+M}}}}return{state:"success",data:g}}m.extend({active:0,lastModified:{},etag:{},ajaxSettings:{url:ba.href,type:"GET",isLocal:ax.test(ba.protocol),global:!0,processData:!0,async:!0,contentType:"application/x-www-form-urlencoded; charset=UTF-8",accepts:{"*":Xp,text:"text/plain",html:"text/html",xml:"application/xml, text/xml",json:"application/json, text/javascript"},contents:{xml:/\bxml\b/,html:/\bhtml/,json:/\bjson\b/},responseFields:{xml:"responseXML",text:"responseText",json:"responseJSON"},converters:{"* text":String,"text html":!0,"text json":JSON.parse,"text xml":m.parseXML},flatOptions:{url:!0,context:!0}},ajaxSetup:function(d,g){return g?ah(ah(d,m.ajaxSettings),g):ah(m.ajaxSettings,d)},ajaxPrefilter:Yp(Wp),ajaxTransport:Yp(sh),ajax:function(d,g){typeof d=="object"&&(g=d,d=void 0),g=g||{};var y,C,A,M,P,L,I,W,Z,lt,J=m.ajaxSetup({},g),et=J.context||J,Ft=J.context&&(et.nodeType||et.jquery)?m(et):m.event,Kt=m.Deferred(),Lt=m.Callbacks("once memory"),cn=J.statusCode||{},nn={},ti={},Te="canceled",Xt={readyState:0,getResponseHeader:function(be){var qe;if(I){if(!M)for(M={};qe=ox.exec(A);)M[qe[1].toLowerCase()+" "]=(M[qe[1].toLowerCase()+" "]||[]).concat(qe[2]);qe=M[be.toLowerCase()+" "]}return qe==null?null:qe.join(", ")},getAllResponseHeaders:function(){return I?A:null},setRequestHeader:function(be,qe){return I==null&&(be=ti[be.toLowerCase()]=ti[be.toLowerCase()]||be,nn[be]=qe),this},overrideMimeType:function(be){return I==null&&(J.mimeType=be),this},statusCode:function(be){var qe;if(be)if(I)Xt.always(be[Xt.status]);else for(qe in be)cn[qe]=[cn[qe],be[qe]];return this},abort:function(be){var qe=be||Te;return y&&y.abort(qe),Hn(0,qe),this}};if(Kt.promise(Xt),J.url=((d||J.url||ba.href)+"").replace(cx,ba.protocol+"//"),J.type=g.method||g.type||J.method||J.type,J.dataTypes=(J.dataType||"*").toLowerCase().match(pt)||[""],J.crossDomain==null){L=x.createElement("a");try{L.href=J.url,L.href=L.href,J.crossDomain=oh.protocol+"//"+oh.host!=L.protocol+"//"+L.host}catch{J.crossDomain=!0}}if(J.data&&J.processData&&typeof J.data!="string"&&(J.data=m.param(J.data,J.traditional)),Kp(Wp,J,g,Xt),I)return Xt;W=m.event&&J.global,W&&m.active++===0&&m.event.trigger("ajaxStart"),J.type=J.type.toUpperCase(),J.hasContent=!lx.test(J.type),C=J.url.replace(rx,""),J.hasContent?J.data&&J.processData&&(J.contentType||"").indexOf("application/x-www-form-urlencoded")===0&&(J.data=J.data.replace(ix,"+")):(lt=J.url.slice(C.length),J.data&&(J.processData||typeof J.data=="string")&&(C+=(ih.test(C)?"&":"?")+J.data,delete J.data),J.cache===!1&&(C=C.replace(sx,"$1"),lt=(ih.test(C)?"&":"?")+"_="+qp.guid+++lt),J.url=C+lt),J.ifModified&&(m.lastModified[C]&&Xt.setRequestHeader("If-Modified-Since",m.lastModified[C]),m.etag[C]&&Xt.setRequestHeader("If-None-Match",m.etag[C])),(J.data&&J.hasContent&&J.contentType!==!1||g.contentType)&&Xt.setRequestHeader("Content-Type",J.contentType),Xt.setRequestHeader("Accept",J.dataTypes[0]&&J.accepts[J.dataTypes[0]]?J.accepts[J.dataTypes[0]]+(J.dataTypes[0]!=="*"?", "+Xp+"; q=0.01":""):J.accepts["*"]);for(Z in J.headers)Xt.setRequestHeader(Z,J.headers[Z]);if(J.beforeSend&&(J.beforeSend.call(et,Xt,J)===!1||I))return Xt.abort();if(Te="abort",Lt.add(J.complete),Xt.done(J.success),Xt.fail(J.error),y=Kp(sh,J,g,Xt),!y)Hn(-1,"No Transport");else{if(Xt.readyState=1,W&&Ft.trigger("ajaxSend",[Xt,J]),I)return Xt;J.async&&J.timeout>0&&(P=t.setTimeout(function(){Xt.abort("timeout")},J.timeout));try{I=!1,y.send(nn,Hn)}catch(be){if(I)throw be;Hn(-1,be)}}function Hn(be,qe,ya,Wl){var ei,hs,ds,Gn,kr,pi=qe;I||(I=!0,P&&t.clearTimeout(P),y=void 0,A=Wl||"",Xt.readyState=be>0?4:0,ei=be>=200&&be<300||be===304,ya&&(Gn=ux(J,Xt,ya)),!ei&&m.inArray("script",J.dataTypes)>-1&&m.inArray("json",J.dataTypes)<0&&(J.converters["text script"]=function(){}),Gn=hx(J,Gn,Xt,ei),ei?(J.ifModified&&(kr=Xt.getResponseHeader("Last-Modified"),kr&&(m.lastModified[C]=kr),kr=Xt.getResponseHeader("etag"),kr&&(m.etag[C]=kr)),be===204||J.type==="HEAD"?pi="nocontent":be===304?pi="notmodified":(pi=Gn.state,hs=Gn.data,ds=Gn.error,ei=!ds)):(ds=pi,(be||!pi)&&(pi="error",be<0&&(be=0))),Xt.status=be,Xt.statusText=(qe||pi)+"",ei?Kt.resolveWith(et,[hs,pi,Xt]):Kt.rejectWith(et,[Xt,pi,ds]),Xt.statusCode(cn),cn=void 0,W&&Ft.trigger(ei?"ajaxSuccess":"ajaxError",[Xt,J,ei?hs:ds]),Lt.fireWith(et,[Xt,pi]),W&&(Ft.trigger("ajaxComplete",[Xt,J]),--m.active||m.event.trigger("ajaxStop")))}return Xt},getJSON:function(d,g,y){return m.get(d,g,y,"json")},getScript:function(d,g){return m.get(d,void 0,g,"script")}}),m.each(["get","post"],function(d,g){m[g]=function(y,C,A,M){return v(C)&&(M=M||A,A=C,C=void 0),m.ajax(m.extend({url:y,type:g,dataType:M,data:C,success:A},m.isPlainObject(y)&&y))}}),m.ajaxPrefilter(function(d){var g;for(g in d.headers)g.toLowerCase()==="content-type"&&(d.contentType=d.headers[g]||"")}),m._evalUrl=function(d,g,y){return m.ajax({url:d,type:"GET",dataType:"script",cache:!0,async:!1,global:!1,converters:{"text script":function(){}},dataFilter:function(C){m.globalEval(C,g,y)}})},m.fn.extend({wrapAll:function(d){var g;return this[0]&&(v(d)&&(d=d.call(this[0])),g=m(d,this[0].ownerDocument).eq(0).clone(!0),this[0].parentNode&&g.insertBefore(this[0]),g.map(function(){for(var y=this;y.firstElementChild;)y=y.firstElementChild;return y}).append(this)),this},wrapInner:function(d){return v(d)?this.each(function(g){m(this).wrapInner(d.call(this,g))}):this.each(function(){var g=m(this),y=g.contents();y.length?y.wrapAll(d):g.append(d)})},wrap:function(d){var g=v(d);return this.each(function(y){m(this).wrapAll(g?d.call(this,y):d)})},unwrap:function(d){return this.parent(d).not("body").each(function(){m(this).replaceWith(this.childNodes)}),this}}),m.expr.pseudos.hidden=function(d){return!m.expr.pseudos.visible(d)},m.expr.pseudos.visible=function(d){return!!(d.offsetWidth||d.offsetHeight||d.getClientRects().length)},m.ajaxSettings.xhr=function(){try{return new t.XMLHttpRequest}catch{}};var dx={0:200,1223:204},va=m.ajaxSettings.xhr();b.cors=!!va&&"withCredentials"in va,b.ajax=va=!!va,m.ajaxTransport(function(d){var g,y;if(b.cors||va&&!d.crossDomain)return{send:function(C,A){var M,P=d.xhr();if(P.open(d.type,d.url,d.async,d.username,d.password),d.xhrFields)for(M in d.xhrFields)P[M]=d.xhrFields[M];d.mimeType&&P.overrideMimeType&&P.overrideMimeType(d.mimeType),!d.crossDomain&&!C["X-Requested-With"]&&(C["X-Requested-With"]="XMLHttpRequest");for(M in C)P.setRequestHeader(M,C[M]);g=function(L){return function(){g&&(g=y=P.onload=P.onerror=P.onabort=P.ontimeout=P.onreadystatechange=null,L==="abort"?P.abort():L==="error"?typeof P.status!="number"?A(0,"error"):A(P.status,P.statusText):A(dx[P.status]||P.status,P.statusText,(P.responseType||"text")!=="text"||typeof P.responseText!="string"?{binary:P.response}:{text:P.responseText},P.getAllResponseHeaders()))}},P.onload=g(),y=P.onerror=P.ontimeout=g("error"),P.onabort!==void 0?P.onabort=y:P.onreadystatechange=function(){P.readyState===4&&t.setTimeout(function(){g&&y()})},g=g("abort");try{P.send(d.hasContent&&d.data||null)}catch(L){if(g)throw L}},abort:function(){g&&g()}}}),m.ajaxPrefilter(function(d){d.crossDomain&&(d.contents.script=!1)}),m.ajaxSetup({accepts:{script:"text/javascript, application/javascript, application/ecmascript, application/x-ecmascript"},contents:{script:/\b(?:java|ecma)script\b/},converters:{"text script":function(d){return m.globalEval(d),d}}}),m.ajaxPrefilter("script",function(d){d.cache===void 0&&(d.cache=!1),d.crossDomain&&(d.type="GET")}),m.ajaxTransport("script",function(d){if(d.crossDomain||d.scriptAttrs){var g,y;return{send:function(C,A){g=m("<script>").attr(d.scriptAttrs||{}).prop({charset:d.scriptCharset,src:d.url}).on("load error",y=function(M){g.remove(),y=null,M&&A(M.type==="error"?404:200,M.type)}),x.head.appendChild(g[0])},abort:function(){y&&y()}}}});var Jp=[],lh=/(=)\?(?=&|$)|\?\?/;m.ajaxSetup({jsonp:"callback",jsonpCallback:function(){var d=Jp.pop()||m.expando+"_"+qp.guid++;return this[d]=!0,d}}),m.ajaxPrefilter("json jsonp",function(d,g,y){var C,A,M,P=d.jsonp!==!1&&(lh.test(d.url)?"url":typeof d.data=="string"&&(d.contentType||"").indexOf("application/x-www-form-urlencoded")===0&&lh.test(d.data)&&"data");if(P||d.dataTypes[0]==="jsonp")return C=d.jsonpCallback=v(d.jsonpCallback)?d.jsonpCallback():d.jsonpCallback,P?d[P]=d[P].replace(lh,"$1"+C):d.jsonp!==!1&&(d.url+=(ih.test(d.url)?"&":"?")+d.jsonp+"="+C),d.converters["script json"]=function(){return M||m.error(C+" was not called"),M[0]},d.dataTypes[0]="json",A=t[C],t[C]=function(){M=arguments},y.always(function(){A===void 0?m(t).removeProp(C):t[C]=A,d[C]&&(d.jsonpCallback=g.jsonpCallback,Jp.push(C)),M&&v(A)&&A(M[0]),M=A=void 0}),"script"}),b.createHTMLDocument=function(){var d=x.implementation.createHTMLDocument("").body;return d.innerHTML="<form></form><form></form>",d.childNodes.length===2}(),m.parseHTML=function(d,g,y){if(typeof d!="string")return[];typeof g=="boolean"&&(y=g,g=!1);var C,A,M;return g||(b.createHTMLDocument?(g=x.implementation.createHTMLDocument(""),C=g.createElement("base"),C.href=x.location.href,g.head.appendChild(C)):g=x),A=rt.exec(d),M=!y&&[],A?[g.createElement(A[1])]:(A=Mp([d],g,M),M&&M.length&&m(M).remove(),m.merge([],A.childNodes))},m.fn.load=function(d,g,y){var C,A,M,P=this,L=d.indexOf(" ");return L>-1&&(C=cs(d.slice(L)),d=d.slice(0,L)),v(g)?(y=g,g=void 0):g&&typeof g=="object"&&(A="POST"),P.length>0&&m.ajax({url:d,type:A||"GET",dataType:"html",data:g}).done(function(I){M=arguments,P.html(C?m("<div>").append(m.parseHTML(I)).find(C):I)}).always(y&&function(I,W){P.each(function(){y.apply(this,M||[I.responseText,W,I])})}),this},m.expr.pseudos.animated=function(d){return m.grep(m.timers,function(g){return d===g.elem}).length},m.offset={setOffset:function(d,g,y){var C,A,M,P,L,I,W,Z=m.css(d,"position"),lt=m(d),J={};Z==="static"&&(d.style.position="relative"),L=lt.offset(),M=m.css(d,"top"),I=m.css(d,"left"),W=(Z==="absolute"||Z==="fixed")&&(M+I).indexOf("auto")>-1,W?(C=lt.position(),P=C.top,A=C.left):(P=parseFloat(M)||0,A=parseFloat(I)||0),v(g)&&(g=g.call(d,y,m.extend({},L))),g.top!=null&&(J.top=g.top-L.top+P),g.left!=null&&(J.left=g.left-L.left+A),"using"in g?g.using.call(d,J):lt.css(J)}},m.fn.extend({offset:function(d){if(arguments.length)return d===void 0?this:this.each(function(A){m.offset.setOffset(this,d,A)});var g,y,C=this[0];if(!!C)return C.getClientRects().length?(g=C.getBoundingClientRect(),y=C.ownerDocument.defaultView,{top:g.top+y.pageYOffset,left:g.left+y.pageXOffset}):{top:0,left:0}},position:function(){if(!!this[0]){var d,g,y,C=this[0],A={top:0,left:0};if(m.css(C,"position")==="fixed")g=C.getBoundingClientRect();else{for(g=this.offset(),y=C.ownerDocument,d=C.offsetParent||y.documentElement;d&&(d===y.body||d===y.documentElement)&&m.css(d,"position")==="static";)d=d.parentNode;d&&d!==C&&d.nodeType===1&&(A=m(d).offset(),A.top+=m.css(d,"borderTopWidth",!0),A.left+=m.css(d,"borderLeftWidth",!0))}return{top:g.top-A.top-m.css(C,"marginTop",!0),left:g.left-A.left-m.css(C,"marginLeft",!0)}}},offsetParent:function(){return this.map(function(){for(var d=this.offsetParent;d&&m.css(d,"position")==="static";)d=d.offsetParent;return d||ft})}}),m.each({scrollLeft:"pageXOffset",scrollTop:"pageYOffset"},function(d,g){var y=g==="pageYOffset";m.fn[d]=function(C){return Ut(this,function(A,M,P){var L;if(w(A)?L=A:A.nodeType===9&&(L=A.defaultView),P===void 0)return L?L[g]:A[M];L?L.scrollTo(y?L.pageXOffset:P,y?P:L.pageYOffset):A[M]=P},d,C,arguments.length)}}),m.each(["top","left"],function(d,g){m.cssHooks[g]=Dp(b.pixelPosition,function(y,C){if(C)return C=ga(y,g),Zu.test(C)?m(y).position()[g]+"px":C})}),m.each({Height:"height",Width:"width"},function(d,g){m.each({padding:"inner"+d,content:g,"":"outer"+d},function(y,C){m.fn[C]=function(A,M){var P=arguments.length&&(y||typeof A!="boolean"),L=y||(A===!0||M===!0?"margin":"border");return Ut(this,function(I,W,Z){var lt;return w(I)?C.indexOf("outer")===0?I["inner"+d]:I.document.documentElement["client"+d]:I.nodeType===9?(lt=I.documentElement,Math.max(I.body["scroll"+d],lt["scroll"+d],I.body["offset"+d],lt["offset"+d],lt["client"+d])):Z===void 0?m.css(I,W,L):m.style(I,W,Z,L)},g,P?A:void 0,P)}})}),m.each(["ajaxStart","ajaxStop","ajaxComplete","ajaxError","ajaxSuccess","ajaxSend"],function(d,g){m.fn[g]=function(y){return this.on(g,y)}}),m.fn.extend({bind:function(d,g,y){return this.on(d,null,g,y)},unbind:function(d,g){return this.off(d,null,g)},delegate:function(d,g,y,C){return this.on(g,d,y,C)},undelegate:function(d,g,y){return arguments.length===1?this.off(d,"**"):this.off(g,d||"**",y)},hover:function(d,g){return this.mouseenter(d).mouseleave(g||d)}}),m.each("blur focus focusin focusout resize scroll click dblclick mousedown mouseup mousemove mouseover mouseout mouseenter mouseleave change select submit keydown keypress keyup contextmenu".split(" "),function(d,g){m.fn[g]=function(y,C){return arguments.length>0?this.on(g,null,y,C):this.trigger(g)}});var fx=/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g;m.proxy=function(d,g){var y,C,A;if(typeof g=="string"&&(y=d[g],g=d,d=y),!!v(d))return C=s.call(arguments,2),A=function(){return d.apply(g||this,C.concat(s.call(arguments)))},A.guid=d.guid=d.guid||m.guid++,A},m.holdReady=function(d){d?m.readyWait++:m.ready(!0)},m.isArray=Array.isArray,m.parseJSON=JSON.parse,m.nodeName=R,m.isFunction=v,m.isWindow=w,m.camelCase=$,m.type=O,m.now=Date.now,m.isNumeric=function(d){var g=m.type(d);return(g==="number"||g==="string")&&!isNaN(d-parseFloat(d))},m.trim=function(d){return d==null?"":(d+"").replace(fx,"")};var px=t.jQuery,gx=t.$;return m.noConflict=function(d){return t.$===m&&(t.$=gx),d&&t.jQuery===m&&(t.jQuery=px),m},typeof e=="undefined"&&(t.jQuery=t.$=m),m})})(ty);var Ke=ty.exports,Q8={exports:{}};/*!
 * jQuery Mousewheel 3.1.13
 *
 * Copyright jQuery Foundation and other contributors
 * Released under the MIT license
 * http://jquery.org/license
 */(function(i,t){(function(e){i.exports=e})(function(e){var n=["wheel","mousewheel","DOMMouseScroll","MozMousePixelScroll"],r="onwheel"in document||document.documentMode>=9?["wheel"]:["mousewheel","DomMouseScroll","MozMousePixelScroll"],s=Array.prototype.slice,o,a;if(e.event.fixHooks)for(var l=n.length;l;)e.event.fixHooks[n[--l]]=e.event.mouseHooks;var c=e.event.special.mousewheel={version:"3.1.12",setup:function(){if(this.addEventListener)for(var p=r.length;p;)this.addEventListener(r[--p],u,!1);else this.onmousewheel=u;e.data(this,"mousewheel-line-height",c.getLineHeight(this)),e.data(this,"mousewheel-page-height",c.getPageHeight(this))},teardown:function(){if(this.removeEventListener)for(var p=r.length;p;)this.removeEventListener(r[--p],u,!1);else this.onmousewheel=null;e.removeData(this,"mousewheel-line-height"),e.removeData(this,"mousewheel-page-height")},getLineHeight:function(p){var b=e(p),v=b["offsetParent"in e.fn?"offsetParent":"parent"]();return v.length||(v=e("body")),parseInt(v.css("fontSize"),10)||parseInt(b.css("fontSize"),10)||16},getPageHeight:function(p){return e(p).height()},settings:{adjustOldDeltas:!0,normalizeOffset:!0}};e.fn.extend({mousewheel:function(p){return p?this.bind("mousewheel",p):this.trigger("mousewheel")},unmousewheel:function(p){return this.unbind("mousewheel",p)}});function u(p){var b=p||window.event,v=s.call(arguments,1),w=0,x=0,E=0,S=0,O=0,k=0;if(p=e.event.fix(b),p.type="mousewheel","detail"in b&&(E=b.detail*-1),"wheelDelta"in b&&(E=b.wheelDelta),"wheelDeltaY"in b&&(E=b.wheelDeltaY),"wheelDeltaX"in b&&(x=b.wheelDeltaX*-1),"axis"in b&&b.axis===b.HORIZONTAL_AXIS&&(x=E*-1,E=0),w=E===0?x:E,"deltaY"in b&&(E=b.deltaY*-1,w=E),"deltaX"in b&&(x=b.deltaX,E===0&&(w=x*-1)),!(E===0&&x===0)){if(b.deltaMode===1){var m=e.data(this,"mousewheel-line-height");w*=m,E*=m,x*=m}else if(b.deltaMode===2){var T=e.data(this,"mousewheel-page-height");w*=T,E*=T,x*=T}if(S=Math.max(Math.abs(E),Math.abs(x)),(!a||S<a)&&(a=S,f(b,S)&&(a/=40)),f(b,S)&&(w/=40,x/=40,E/=40),w=Math[w>=1?"floor":"ceil"](w/a),x=Math[x>=1?"floor":"ceil"](x/a),E=Math[E>=1?"floor":"ceil"](E/a),c.settings.normalizeOffset&&this.getBoundingClientRect){var D=this.getBoundingClientRect();O=p.clientX-D.left,k=p.clientY-D.top}return p.deltaX=x,p.deltaY=E,p.deltaFactor=a,p.offsetX=O,p.offsetY=k,p.deltaMode=0,v.unshift(p,w,x,E),o&&clearTimeout(o),o=setTimeout(h,200),(e.event.dispatch||e.event.handle).apply(this,v)}}function h(){a=null}function f(p,b){return c.settings.adjustOldDeltas&&p.type==="mousewheel"&&b%120===0}})})(Q8);const Tn=navigator.userAgent;var Ze;(function(i){i.IS_MAC=navigator.appVersion.indexOf("Mac")>0,i.IS_IOS=!!Tn.match(/(iPad|iPhone|iPod)/g),i.IS_WINDOWS=navigator.appVersion.indexOf("Win")>0,i.IS_IE=Tn.indexOf("MSIE")>=0,i.IS_IE11=!!Tn.match(/Trident\/7\./),i.IS_EDGE=!!Tn.match(/Edge\//),i.IS_NETSCAPE=Tn.indexOf("Mozilla/")>=0&&Tn.indexOf("MSIE")<0&&Tn.indexOf("Edge/")<0,i.IS_CHROME_APP=window.chrome!=null&&window.chrome.app!=null&&window.chrome.app.runtime!=null,i.IS_CHROME=Tn.indexOf("Chrome/")>=0&&Tn.indexOf("Edge/")<0,i.IS_OPERA=Tn.indexOf("Opera/")>=0||Tn.indexOf("OPR/")>=0,i.IS_FIREFOX=Tn.indexOf("Firefox/")>=0,i.IS_SAFARI=Tn.indexOf("AppleWebKit/")>=0&&Tn.indexOf("Chrome/")<0&&Tn.indexOf("Edge/")<0,i.SUPPORT_TOUCH="ontouchstart"in document.documentElement,i.SUPPORT_POINTER=window.PointerEvent!=null&&!i.IS_MAC,i.SUPPORT_PASSIVE=!1;try{const t=Object.defineProperty({},"passive",{get(){i.SUPPORT_PASSIVE=!0}}),e=document.createElement("div");e.addEventListener&&e.addEventListener("click",()=>{},t)}catch{}i.NO_FOREIGNOBJECT=!document.createElementNS||`${document.createElementNS("http://www.w3.org/2000/svg","foreignObject")}`!="[object SVGForeignObjectElement]"||Tn.indexOf("Opera/")>=0,i.SUPPORT_FOREIGNOBJECT=!i.NO_FOREIGNOBJECT})(Ze||(Ze={}));(function(i){function t(){const s=window.module;return s!=null&&s.hot!=null&&s.hot.status!=null?s.hot.status():"unkonwn"}i.getHMRStatus=t;function e(){return t()==="apply"}i.isApplyingHMR=e;const n={select:"input",change:"input",submit:"form",reset:"form",error:"img",load:"img",abort:"img"};function r(s){const o=document.createElement(n[s]||"div"),a=`on${s}`;let l=a in o;return l||(o.setAttribute(a,"return;"),l=typeof o[a]=="function"),l}i.isEventSupported=r})(Ze||(Ze={}));if(Ze.SUPPORT_PASSIVE){Ke.event.special.touchstart={setup(t,e,n){if(!this.addEventListener)return!1;this.addEventListener("touchstart",n,{passive:!0})}};const i=Ke.event.special.mousewheel;if(i){const t=i.setup;i.setup=function(){const e=this.addEventListener;if(!e)return!1;this.addEventListener=(n,r)=>{e.call(this,n,r,{passive:!0})},t.call(this),this.addEventListener=e}}}window.NodeList&&!NodeList.prototype.forEach&&(NodeList.prototype.forEach=Array.prototype.forEach);(function(i){i.forEach(t=>{Object.prototype.hasOwnProperty.call(t,"append")||Object.defineProperty(t,"append",{configurable:!0,enumerable:!0,writable:!0,value(...e){const n=document.createDocumentFragment();e.forEach(r=>{const s=r instanceof Node;n.appendChild(s?r:document.createTextNode(String(r)))}),this.appendChild(n)}})})})([Element.prototype,Document.prototype,DocumentFragment.prototype]);const tN=i=>!Array.isArray(i)&&i-parseFloat(i)+1>=0;function ey(i,...t){t.forEach(e=>{Object.getOwnPropertyNames(e.prototype).forEach(n=>{n!=="constructor"&&Object.defineProperty(i.prototype,n,Object.getOwnPropertyDescriptor(e.prototype,n))})})}const eN=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,t){i.__proto__=t}||function(i,t){for(const e in t)Object.prototype.hasOwnProperty.call(t,e)&&(i[e]=t[e])};function nN(i,t){eN(i,t);function e(){this.constructor=i}i.prototype=t===null?Object.create(t):(e.prototype=t.prototype,new e)}class iN{}const rN=/^\s*class\s+/.test(`${iN}`)||/^\s*class\s*\{/.test(`${class{}}`);function Qf(i,t){let e;return rN?e=class extends t{}:(e=function(){return t.apply(this,arguments)},nN(e,t)),Object.defineProperty(e,"name",{value:i}),e}function g2(i){return i==="__proto__"}function tp(i,t,e="/"){let n;const r=Array.isArray(t)?t:t.split(e);if(r.length)for(n=i;r.length;){const s=r.shift();if(Object(n)===n&&s&&s in n)n=n[s];else return}return n}function ha(i,t,e,n="/"){const r=Array.isArray(t)?t:t.split(n),s=r.pop();if(s&&!g2(s)){let o=i;r.forEach(a=>{g2(a)||(o[a]==null&&(o[a]={}),o=o[a])}),o[s]=e}return i}function m2(i,t,e="/"){const n=Array.isArray(t)?t.slice():t.split(e),r=n.pop();if(r)if(n.length>0){const s=tp(i,n);s&&delete s[r]}else delete i[r];return i}const ny=i=>{const t=Object.create(null);return e=>t[e]||(t[e]=i(e))},iy=ny(i=>i.replace(/\B([A-Z])/g,"-$1").toLowerCase()),ep=ny(i=>G5(_f(i)).replace(/ /g,""));function jh(i){let t=2166136261,e=!1,n=i;for(let r=0,s=n.length;r<s;r+=1){let o=n.charCodeAt(r);o>127&&!e&&(n=unescape(encodeURIComponent(n)),o=n.charCodeAt(r),e=!0),t^=o,t+=(t<<1)+(t<<4)+(t<<7)+(t<<8)+(t<<24)}return t>>>0}function kd(){let i="";const t="xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx";for(let e=0,n=t.length;e<n;e+=1){const r=t[e],s=Math.random()*16|0;i+=(r==="x"?s:r==="y"?s&3|8:r).toString(16)}return i}function ry(i,t={}){const e=Ke.parseHTML(i,null,!1);return e.forEach(n=>{const r=n;if(r){const s=r.attributes;if(s)for(let o=0,a=s.length;o<a;o+=1){const l=s.item(o);if(l){const c=l.value.toLowerCase(),u=l.name.toLowerCase();(u.startsWith("on")||c.startsWith("javascript:")||c.startsWith("data:")||c.startsWith("vbscript:"))&&r.removeAttribute(u)}}}}),t.raw?e:Ke("<div/>").append(e).html()}function sN(i,t,e){const n=Math.min(2,Math.floor(i.length*.34));let r=Math.floor(i.length*.4)+1,s,o=!1;const a=i.toLowerCase();for(const l of t){const c=e(l);if(c!==void 0&&Math.abs(c.length-a.length)<=n){const u=c.toLowerCase();if(u===a){if(c===i)continue;return l}if(o||c.length<3)continue;const h=oN(a,u,r-1);if(h===void 0)continue;h<3?(o=!0,s=l):(r=h,s=l)}}return s}function oN(i,t,e){let n=new Array(t.length+1),r=new Array(t.length+1);const s=e+1;for(let a=0;a<=t.length;a+=1)n[a]=a;for(let a=1;a<=i.length;a+=1){const l=i.charCodeAt(a-1),c=a>e?a-e:1,u=t.length>e+a?e+a:t.length;r[0]=a;let h=a;for(let p=1;p<c;p+=1)r[p]=s;for(let p=c;p<=u;p+=1){const b=l===t.charCodeAt(p-1)?n[p-1]:Math.min(n[p]+1,r[p-1]+1,n[p-1]+2);r[p]=b,h=Math.min(h,b)}for(let p=u+1;p<=t.length;p+=1)r[p]=s;if(h>e)return;const f=n;n=r,r=f}const o=n[t.length];return o>e?void 0:o}function ji(i){return typeof i=="string"&&i.slice(-1)==="%"}function tr(i,t){if(i==null)return 0;let e;if(typeof i=="string"){if(e=parseFloat(i),ji(i)&&(e/=100,Number.isFinite(e)))return e*t}else e=i;return Number.isFinite(e)?e>0&&e<1?e*t:e:0}function aN(i,t){function e(o){const a=new RegExp(`(?:\\d+(?:\\.\\d+)*)(${o})$`).exec(i);return a?a[1]:null}const n=parseFloat(i);if(Number.isNaN(n))return null;let r;if(t==null)r="[A-Za-z]*";else if(Array.isArray(t)){if(t.length===0)return null;r=t.join("|")}else typeof t=="string"&&(r=t);const s=e(r);return s===null?null:{unit:s,value:n}}function Kn(i){if(typeof i=="object"){let e=0,n=0,r=0,s=0;return i.vertical!=null&&Number.isFinite(i.vertical)&&(n=s=i.vertical),i.horizontal!=null&&Number.isFinite(i.horizontal)&&(r=e=i.horizontal),i.left!=null&&Number.isFinite(i.left)&&(e=i.left),i.top!=null&&Number.isFinite(i.top)&&(n=i.top),i.right!=null&&Number.isFinite(i.right)&&(r=i.right),i.bottom!=null&&Number.isFinite(i.bottom)&&(s=i.bottom),{top:n,right:r,bottom:s,left:e}}let t=0;return i!=null&&Number.isFinite(i)&&(t=i),{top:t,right:t,bottom:t,left:t}}function sy(i,t,e){if(e)switch(e.length){case 0:return i.call(t);case 1:return i.call(t,e[0]);case 2:return i.call(t,e[0],e[1]);case 3:return i.call(t,e[0],e[1],e[2]);case 4:return i.call(t,e[0],e[1],e[2],e[3]);case 5:return i.call(t,e[0],e[1],e[2],e[3],e[4]);case 6:return i.call(t,e[0],e[1],e[2],e[3],e[4],e[5]);default:return i.apply(t,e)}return i.call(t)}function xt(i,t,...e){return sy(i,t,e)}function lN(i){return typeof i=="object"&&i.then&&typeof i.then=="function"}function _d(i){return i!=null&&(i instanceof Promise||lN(i))}function np(...i){const t=[];if(i.forEach(n=>{Array.isArray(n)?t.push(...n):t.push(n)}),t.some(n=>_d(n))){const n=t.map(r=>_d(r)?r:Promise.resolve(r!==!1));return Promise.all(n).then(r=>r.reduce((s,o)=>o!==!1&&s,!0))}return t.every(n=>n!==!1)}function cN(...i){const t=np(i);return typeof t=="boolean"?Promise.resolve(t):t}const ip=/[\t\r\n\f]/g,rp=/\S+/g,Uo=i=>` ${i} `;function Wo(i){return i&&i.getAttribute&&i.getAttribute("class")||""}function zu(i,t){if(i==null||t==null)return!1;const e=Uo(Wo(i)),n=Uo(t);return i.nodeType===1?e.replace(ip," ").includes(n):!1}function ge(i,t){if(!(i==null||t==null)){if(typeof t=="function")return ge(i,t(Wo(i)));if(typeof t=="string"&&i.nodeType===1){const e=t.match(rp)||[],n=Uo(Wo(i)).replace(ip," ");let r=e.reduce((s,o)=>s.indexOf(Uo(o))<0?`${s}${o} `:s,n);r=r.trim(),n!==r&&i.setAttribute("class",r)}}}function yi(i,t){if(i!=null){if(typeof t=="function")return yi(i,t(Wo(i)));if((!t||typeof t=="string")&&i.nodeType===1){const e=(t||"").match(rp)||[],n=Uo(Wo(i)).replace(ip," ");let r=e.reduce((s,o)=>{const a=Uo(o);return s.indexOf(a)>-1?s.replace(a," "):s},n);r=t?r.trim():"",n!==r&&i.setAttribute("class",r)}}}function oy(i,t,e){if(!(i==null||t==null)){if(e!=null&&typeof t=="string"){e?ge(i,t):yi(i,t);return}if(typeof t=="function")return oy(i,t(Wo(i),e),e);typeof t=="string"&&(t.match(rp)||[]).forEach(r=>{zu(i,r)?yi(i,r):ge(i,r)})}}let b2=0;function uN(){return b2+=1,`v${b2}`}function ju(i){return(i.id==null||i.id==="")&&(i.id=uN()),i.id}function pl(i){return i==null?!1:typeof i.getScreenCTM=="function"&&i instanceof SVGElement}const sn={svg:"http://www.w3.org/2000/svg",xmlns:"http://www.w3.org/2000/xmlns/",xml:"http://www.w3.org/XML/1998/namespace",xlink:"http://www.w3.org/1999/xlink",xhtml:"http://www.w3.org/1999/xhtml"},v2="1.1";function y2(i,t=document){return t.createElement(i)}function sp(i,t=sn.xhtml,e=document){return e.createElementNS(t,i)}function Jn(i,t=document){return sp(i,sn.svg,t)}function Uc(i){if(i){const e=`<svg xmlns="${sn.svg}" xmlns:xlink="${sn.xlink}" version="${v2}">${i}</svg>`,{documentElement:n}=ay(e,{async:!1});return n}const t=document.createElementNS(sn.svg,"svg");return t.setAttributeNS(sn.xmlns,"xmlns:xlink",sn.xlink),t.setAttribute("version",v2),t}function ay(i,t={}){let e;try{const n=new DOMParser;if(t.async!=null){const r=n;r.async=t.async}e=n.parseFromString(i,t.mimeType||"text/xml")}catch{e=void 0}if(!e||e.getElementsByTagName("parsererror").length)throw new Error(`Invalid XML: ${i}`);return e}function hN(i,t=!0){const e=i.nodeName;return t?e.toLowerCase():e.toUpperCase()}function op(i){let t=0,e=i.previousSibling;for(;e;)e.nodeType===1&&(t+=1),e=e.previousSibling;return t}function dN(i,t){return i.querySelectorAll(t)}function Dd(i,t){return i.querySelector(t)}function ly(i,t,e){const n=i.ownerSVGElement;let r=i.parentNode;for(;r&&r!==e&&r!==n;){if(zu(r,t))return r;r=r.parentNode}return null}function ap(i,t){const e=t&&t.parentNode;return i===e||!!(e&&e.nodeType===1&&i.compareDocumentPosition(e)&16)}function er(i){i.parentNode&&i.parentNode.removeChild(i)}function lp(i){for(;i.firstChild;)i.removeChild(i.firstChild)}function gl(i,t){(Array.isArray(t)?t:[t]).forEach(n=>{n!=null&&i.appendChild(n)})}function fN(i,t){const e=i.firstChild;return e?cp(e,t):gl(i,t)}function cp(i,t){const e=i.parentNode;e&&(Array.isArray(t)?t:[t]).forEach(r=>{r!=null&&e.insertBefore(r,i)})}function pN(i,t){t!=null&&t.appendChild(i)}function Nd(i){try{return i instanceof HTMLElement}catch{return typeof i=="object"&&i.nodeType===1&&typeof i.style=="object"&&typeof i.ownerDocument=="object"}}const gN=["viewBox"];function mN(i,t){return i.getAttribute(t)}function cy(i,t){const e=hy(t);e.ns?i.hasAttributeNS(e.ns,e.local)&&i.removeAttributeNS(e.ns,e.local):i.hasAttribute(t)&&i.removeAttribute(t)}function up(i,t,e){if(e==null)return cy(i,t);const n=hy(t);n.ns&&typeof e=="string"?i.setAttributeNS(n.ns,t,e):t==="id"?i.id=`${e}`:i.setAttribute(t,`${e}`)}function uy(i,t){Object.keys(t).forEach(e=>{up(i,e,t[e])})}function me(i,t,e){if(t==null){const n=i.attributes,r={};for(let s=0;s<n.length;s+=1)r[n[s].name]=n[s].value;return r}if(typeof t=="string"&&e===void 0)return i.getAttribute(t);typeof t=="object"?uy(i,t):up(i,t,e)}function hy(i){if(i.indexOf(":")!==-1){const t=i.split(":");return{ns:sn[t[0]],local:t[1]}}return{ns:null,local:i}}function ml(i){const t={};return Object.keys(i).forEach(e=>{const n=gN.includes(e)?e:iy(e);t[n]=i[e]}),t}function pc(i){const t={};return i.split(";").forEach(n=>{const r=n.trim();if(r){const s=r.split("=");s.length&&(t[s[0].trim()]=s[1]?s[1].trim():"")}}),t}function $d(i,t){return Object.keys(t).forEach(e=>{if(e==="class")i[e]=i[e]?`${i[e]} ${t[e]}`:t[e];else if(e==="style"){const n=typeof i[e]=="object",r=typeof t[e]=="object";let s,o;n&&r?(s=i[e],o=t[e]):n?(s=i[e],o=pc(t[e])):r?(s=pc(i[e]),o=t[e]):(s=pc(i[e]),o=pc(t[e])),i[e]=$d(s,o)}else i[e]=t[e]}),i}function bN(i,t,e={}){const n=e.offset||0,r=[],s=[];let o,a,l=null;for(let c=0;c<i.length;c+=1){o=s[c]=i[c];for(let u=0,h=t.length;u<h;u+=1){const f=t[u],p=f.start+n,b=f.end+n;c>=p&&c<b&&(typeof o=="string"?o=s[c]={t:i[c],attrs:f.attrs}:o.attrs=$d($d({},o.attrs),f.attrs),e.includeAnnotationIndices&&(o.annotations==null&&(o.annotations=[]),o.annotations.push(u)))}a=s[c-1],a?en(o)&&en(a)?(l=l,JSON.stringify(o.attrs)===JSON.stringify(a.attrs)?l.t+=o.t:(r.push(l),l=o)):en(o)||en(a)?(l=l,r.push(l),l=o):l=(l||"")+o:l=o}return l!=null&&r.push(l),r}function vN(i){return i.replace(/ /g,"\xA0")}var x2;(function(i){i.emptyObject=Object.freeze({}),i.emptyArray=Object.freeze([]);function t(u){return u==null||typeof u=="boolean"||typeof u=="number"||typeof u=="string"}i.isPrimitive=t;function e(u){return Array.isArray(u)}i.isArray=e;function n(u){return!t(u)&&!e(u)}i.isObject=n;function r(u,h){if(u===h)return!0;if(t(u)||t(h))return!1;const f=e(u),p=e(h);return f!==p?!1:f&&p?o(u,h):a(u,h)}i.deepEqual=r;function s(u){return t(u)?u:e(u)?l(u):c(u)}i.deepCopy=s;function o(u,h){if(u===h)return!0;if(u.length!==h.length)return!1;for(let f=0,p=u.length;f<p;f+=1)if(!r(u[f],h[f]))return!1;return!0}function a(u,h){if(u===h)return!0;for(const f in u)if(!(f in h))return!1;for(const f in h)if(!(f in u))return!1;for(const f in u)if(!r(u[f],h[f]))return!1;return!0}function l(u){const h=new Array(u.length);for(let f=0,p=u.length;f<p;f+=1)h[f]=s(u[f]);return h}function c(u){const h={};return Object.keys(u).forEach(f=>{h[f]=s(u[f])}),h}})(x2||(x2={}));var Fd;(function(i){function t(c){const u="data:";return c.substr(0,u.length)===u}i.isDataUrl=t;function e(c,u){if(!c||t(c)){setTimeout(()=>u(null,c));return}const h=()=>{u(new Error(`Failed to load image: ${c}`))},f=window.FileReader?b=>{if(b.status===200){const v=new FileReader;v.onload=w=>{const x=w.target.result;u(null,x)},v.onerror=h,v.readAsDataURL(b.response)}else h()}:b=>{const v=w=>{const E=[];for(let S=0;S<w.length;S+=32768)E.push(String.fromCharCode.apply(null,w.subarray(S,S+32768)));return E.join("")};if(b.status===200){let w=c.split(".").pop()||"png";w==="svg"&&(w="svg+xml");const x=`data:image/${w};base64,`,E=new Uint8Array(b.response),S=x+btoa(v(E));u(null,S)}else h()},p=new XMLHttpRequest;p.responseType=window.FileReader?"blob":"arraybuffer",p.open("GET",c,!0),p.addEventListener("error",h),p.addEventListener("load",()=>f(p)),p.send()}i.imageToDataUri=e;function n(c){let u=c.replace(/\s/g,"");u=decodeURIComponent(u);const h=u.indexOf(","),f=u.slice(0,h),p=f.split(":")[1].split(";")[0],b=u.slice(h+1);let v;f.indexOf("base64")>=0?v=atob(b):v=unescape(encodeURIComponent(b));const w=new Uint8Array(v.length);for(let x=0;x<v.length;x+=1)w[x]=v.charCodeAt(x);return new Blob([w],{type:p})}i.dataUriToBlob=n;function r(c,u){const h=window.navigator.msSaveBlob;if(h)h(c,u);else{const f=window.URL.createObjectURL(c),p=document.createElement("a");p.href=f,p.download=u,document.body.appendChild(p),p.click(),document.body.removeChild(p),window.URL.revokeObjectURL(f)}}i.downloadBlob=r;function s(c,u){const h=n(c);r(h,u)}i.downloadDataUri=s;function o(c){const u=c.match(/<svg[^>]*viewBox\s*=\s*(["']?)(.+?)\1[^>]*>/i);return u&&u[2]?u[2].replace(/\s+/," ").split(" "):null}function a(c){const u=parseFloat(c);return Number.isNaN(u)?null:u}function l(c,u={}){let h=null;const f=S=>(h==null&&(h=o(c)),h!=null?a(h[S]):null),p=S=>{const O=c.match(S);return O&&O[2]?a(O[2]):null};let b=u.width;if(b==null&&(b=p(/<svg[^>]*width\s*=\s*(["']?)(.+?)\1[^>]*>/i)),b==null&&(b=f(2)),b==null)throw new Error("Can not parse width from svg string");let v=u.height;if(v==null&&(v=p(/<svg[^>]*height\s*=\s*(["']?)(.+?)\1[^>]*>/i)),v==null&&(v=f(3)),v==null)throw new Error("Can not parse height from svg string");return`data:image/svg+xml,${encodeURIComponent(c).replace(/'/g,"%27").replace(/"/g,"%22")}`}i.svgToDataUrl=l})(Fd||(Fd={}));let Ms;const yN={px(i){return i},mm(i){return Ms*i},cm(i){return Ms*i*10},in(i){return Ms*i*25.4},pt(i){return Ms*(25.4*i/72)},pc(i){return Ms*(25.4*i/6)}};var Ld;(function(i){function t(n,r,s){const o=Ke("<div/>").css({display:"inline-block",position:"absolute",left:-15e3,top:-15e3,width:n+(s||""),height:r+(s||"")}).appendTo(document.body),a={width:o.width()||0,height:o.height()||0};return o.remove(),a}i.measure=t;function e(n,r){Ms==null&&(Ms=t("1","1","mm").width);const s=r?yN[r]:null;return s?s(n):n}i.toPx=e})(Ld||(Ld={}));const Id=function(){let i;const t=window;if(t!=null&&(i=t.requestAnimationFrame||t.webkitRequestAnimationFrame||t.mozRequestAnimationFrame||t.oRequestAnimationFrame||t.msRequestAnimationFrame,i!=null&&(i=i.bind(t))),i==null){let e=0;i=n=>{const r=new Date().getTime(),s=Math.max(0,16-(r-e)),o=setTimeout(()=>{n(r+s)},s);return e=r+s,o}}return i}(),zd=function(){let i;const t=window;return t!=null&&(i=t.cancelAnimationFrame||t.webkitCancelAnimationFrame||t.webkitCancelRequestAnimationFrame||t.msCancelAnimationFrame||t.msCancelRequestAnimationFrame||t.oCancelAnimationFrame||t.oCancelRequestAnimationFrame||t.mozCancelAnimationFrame||t.mozCancelRequestAnimationFrame,i&&(i=i.bind(t))),i==null&&(i=clearTimeout),i}();document&&document.createElement("div").style;function w2(i,t){const e=i.ownerDocument&&i.ownerDocument.defaultView&&i.ownerDocument.defaultView.opener?i.ownerDocument.defaultView.getComputedStyle(i,null):window.getComputedStyle(i,null);return e&&t?e.getPropertyValue(t)||e[t]:e}var re;(function(i){function t(n){return 180*n/Math.PI%360}i.toDeg=t,i.toRad=function(n,r=!1){return(r?n:n%360)*Math.PI/180};function e(n){return n%360+(n<0?360:0)}i.normalize=e})(re||(re={}));function Ds(i,t=0){return Number.isInteger(i)?i:+i.toFixed(t)}function C2(i,t){let e,n;if(t==null?(n=i==null?1:i,e=0):(n=t,e=i==null?0:i),n<e){const r=e;e=n,n=r}return Math.floor(Math.random()*(n-e+1)+e)}function yo(i,t,e){return Number.isNaN(i)?NaN:Number.isNaN(t)||Number.isNaN(e)?0:t<e?i<t?t:i>e?e:i:i<e?e:i>t?t:i}function jd(i,t){return t*Math.round(i/t)}function dy(i,t){return t!=null&&i!=null&&t.x>=i.x&&t.x<=i.x+i.width&&t.y>=i.y&&t.y<=i.y+i.height}function E2(i,t){const e=i.x-t.x,n=i.y-t.y;return e*e+n*n}class ss{valueOf(){return this.toJSON()}toString(){return JSON.stringify(this.toJSON())}}class N extends ss{constructor(t,e){super(),this.x=t==null?0:t,this.y=e==null?0:e}get[Symbol.toStringTag](){return N.toStringTag}round(t=0){return this.x=Ds(this.x,t),this.y=Ds(this.y,t),this}add(t,e){const n=N.create(t,e);return this.x+=n.x,this.y+=n.y,this}update(t,e){const n=N.create(t,e);return this.x=n.x,this.y=n.y,this}translate(t,e){const n=N.create(t,e);return this.x+=n.x,this.y+=n.y,this}rotate(t,e){const n=N.rotate(this,t,e);return this.x=n.x,this.y=n.y,this}scale(t,e,n=new N){const r=N.create(n);return this.x=r.x+t*(this.x-r.x),this.y=r.y+e*(this.y-r.y),this}closest(t){if(t.length===1)return N.create(t[0]);let e=null,n=1/0;return t.forEach(r=>{const s=this.squaredDistance(r);s<n&&(e=r,n=s)}),e?N.create(e):null}distance(t){return Math.sqrt(this.squaredDistance(t))}squaredDistance(t){const e=N.create(t),n=this.x-e.x,r=this.y-e.y;return n*n+r*r}manhattanDistance(t){const e=N.create(t);return Math.abs(e.x-this.x)+Math.abs(e.y-this.y)}magnitude(){return Math.sqrt(this.x*this.x+this.y*this.y)||.01}theta(t=new N){const e=N.create(t),n=-(e.y-this.y),r=e.x-this.x;let s=Math.atan2(n,r);return s<0&&(s=2*Math.PI+s),180*s/Math.PI}angleBetween(t,e){if(this.equals(t)||this.equals(e))return NaN;let n=this.theta(e)-this.theta(t);return n<0&&(n+=360),n}vectorAngle(t){return new N(0,0).angleBetween(this,t)}toPolar(t){return this.update(N.toPolar(this,t)),this}changeInAngle(t,e,n=new N){return this.clone().translate(-t,-e).theta(n)-this.theta(n)}adhereToRect(t){return dy(t,this)||(this.x=Math.min(Math.max(this.x,t.x),t.x+t.width),this.y=Math.min(Math.max(this.y,t.y),t.y+t.height)),this}bearing(t){const e=N.create(t),n=re.toRad(this.y),r=re.toRad(e.y),s=this.x,o=e.x,a=re.toRad(o-s),l=Math.sin(a)*Math.cos(r),c=Math.cos(n)*Math.sin(r)-Math.sin(n)*Math.cos(r)*Math.cos(a),u=re.toDeg(Math.atan2(l,c)),h=["NE","E","SE","S","SW","W","NW","N"];let f=u-22.5;return f<0&&(f+=360),f=parseInt(f/45,10),h[f]}cross(t,e){if(t!=null&&e!=null){const n=N.create(t),r=N.create(e);return(r.x-this.x)*(n.y-this.y)-(r.y-this.y)*(n.x-this.x)}return NaN}dot(t){const e=N.create(t);return this.x*e.x+this.y*e.y}diff(t,e){if(typeof t=="number")return new N(this.x-t,this.y-e);const n=N.create(t);return new N(this.x-n.x,this.y-n.y)}lerp(t,e){const n=N.create(t);return new N((1-e)*this.x+e*n.x,(1-e)*this.y+e*n.y)}normalize(t=1){const e=t/this.magnitude();return this.scale(e,e)}move(t,e){const n=N.create(t),r=re.toRad(n.theta(this));return this.translate(Math.cos(r)*e,-Math.sin(r)*e)}reflection(t){return N.create(t).move(this,this.distance(t))}snapToGrid(t,e){return this.x=jd(this.x,t),this.y=jd(this.y,e==null?t:e),this}equals(t){const e=N.create(t);return e!=null&&e.x===this.x&&e.y===this.y}clone(){return N.clone(this)}toJSON(){return N.toJSON(this)}serialize(){return`${this.x} ${this.y}`}}(function(i){i.toStringTag=`X6.Geometry.${i.name}`;function t(e){if(e==null)return!1;if(e instanceof i)return!0;const n=e[Symbol.toStringTag],r=e;return(n==null||n===i.toStringTag)&&typeof r.x=="number"&&typeof r.y=="number"&&typeof r.toPolar=="function"}i.isPoint=t})(N||(N={}));(function(i){function t(n){return n!=null&&typeof n=="object"&&typeof n.x=="number"&&typeof n.y=="number"}i.isPointLike=t;function e(n){return n!=null&&Array.isArray(n)&&n.length===2&&typeof n[0]=="number"&&typeof n[1]=="number"}i.isPointData=e})(N||(N={}));(function(i){function t(h,f){return h==null||typeof h=="number"?new i(h,f):e(h)}i.create=t;function e(h){return i.isPoint(h)?new i(h.x,h.y):Array.isArray(h)?new i(h[0],h[1]):new i(h.x,h.y)}i.clone=e;function n(h){return i.isPoint(h)?{x:h.x,y:h.y}:Array.isArray(h)?{x:h[0],y:h[1]}:{x:h.x,y:h.y}}i.toJSON=n;function r(h,f,p=new i){let b=Math.abs(h*Math.cos(f)),v=Math.abs(h*Math.sin(f));const w=e(p),x=re.normalize(re.toDeg(f));return x<90?v=-v:x<180?(b=-b,v=-v):x<270&&(b=-b),new i(w.x+b,w.y+v)}i.fromPolar=r;function s(h,f=new i){const p=e(h),b=e(f),v=p.x-b.x,w=p.y-b.y;return new i(Math.sqrt(v*v+w*w),re.toRad(b.theta(p)))}i.toPolar=s;function o(h,f){return h===f?!0:h!=null&&f!=null?h.x===f.x&&h.y===f.y:!1}i.equals=o;function a(h,f){if(h==null&&f!=null||h!=null&&f==null||h!=null&&f!=null&&h.length!==f.length)return!1;if(h!=null&&f!=null){for(let p=0,b=h.length;p<b;p+=1)if(!o(h[p],f[p]))return!1}return!0}i.equalPoints=a;function l(h,f,p,b){return new i(C2(h,f),C2(p,b))}i.random=l;function c(h,f,p){const b=re.toRad(re.normalize(-f)),v=Math.sin(b),w=Math.cos(b);return u(h,w,v,p)}i.rotate=c;function u(h,f,p,b=new i){const v=e(h),w=e(b),x=v.x-w.x,E=v.y-w.y,S=x*f-E*p,O=E*f+x*p;return new i(S+w.x,O+w.y)}i.rotateEx=u})(N||(N={}));class ht extends ss{constructor(t,e,n,r){super(),this.x=t==null?0:t,this.y=e==null?0:e,this.width=n==null?0:n,this.height=r==null?0:r}get[Symbol.toStringTag](){return ht.toStringTag}get left(){return this.x}get top(){return this.y}get right(){return this.x+this.width}get bottom(){return this.y+this.height}get origin(){return new N(this.x,this.y)}get topLeft(){return new N(this.x,this.y)}get topCenter(){return new N(this.x+this.width/2,this.y)}get topRight(){return new N(this.x+this.width,this.y)}get center(){return new N(this.x+this.width/2,this.y+this.height/2)}get bottomLeft(){return new N(this.x,this.y+this.height)}get bottomCenter(){return new N(this.x+this.width/2,this.y+this.height)}get bottomRight(){return new N(this.x+this.width,this.y+this.height)}get corner(){return new N(this.x+this.width,this.y+this.height)}get rightMiddle(){return new N(this.x+this.width,this.y+this.height/2)}get leftMiddle(){return new N(this.x,this.y+this.height/2)}get topLine(){return new At(this.topLeft,this.topRight)}get rightLine(){return new At(this.topRight,this.bottomRight)}get bottomLine(){return new At(this.bottomLeft,this.bottomRight)}get leftLine(){return new At(this.topLeft,this.bottomLeft)}getOrigin(){return this.origin}getTopLeft(){return this.topLeft}getTopCenter(){return this.topCenter}getTopRight(){return this.topRight}getCenter(){return this.center}getCenterX(){return this.x+this.width/2}getCenterY(){return this.y+this.height/2}getBottomLeft(){return this.bottomLeft}getBottomCenter(){return this.bottomCenter}getBottomRight(){return this.bottomRight}getCorner(){return this.corner}getRightMiddle(){return this.rightMiddle}getLeftMiddle(){return this.leftMiddle}getTopLine(){return this.topLine}getRightLine(){return this.rightLine}getBottomLine(){return this.bottomLine}getLeftLine(){return this.leftLine}bbox(t){if(!t)return this.clone();const e=re.toRad(t),n=Math.abs(Math.sin(e)),r=Math.abs(Math.cos(e)),s=this.width*r+this.height*n,o=this.width*n+this.height*r;return new ht(this.x+(this.width-s)/2,this.y+(this.height-o)/2,s,o)}round(t=0){return this.x=Ds(this.x,t),this.y=Ds(this.y,t),this.width=Ds(this.width,t),this.height=Ds(this.height,t),this}add(t,e,n,r){const s=ht.create(t,e,n,r),o=Math.min(this.x,s.x),a=Math.min(this.y,s.y),l=Math.max(this.x+this.width,s.x+s.width),c=Math.max(this.y+this.height,s.y+s.height);return this.x=o,this.y=a,this.width=l-o,this.height=c-a,this}update(t,e,n,r){const s=ht.create(t,e,n,r);return this.x=s.x,this.y=s.y,this.width=s.width,this.height=s.height,this}inflate(t,e){const n=t,r=e!=null?e:t;return this.x-=n,this.y-=r,this.width+=2*n,this.height+=2*r,this}snapToGrid(t,e){const n=this.origin.snapToGrid(t,e),r=this.corner.snapToGrid(t,e);return this.x=n.x,this.y=n.y,this.width=r.x-n.x,this.height=r.y-n.y,this}translate(t,e){const n=N.create(t,e);return this.x+=n.x,this.y+=n.y,this}scale(t,e,n=new N){const r=this.origin.scale(t,e,n);return this.x=r.x,this.y=r.y,this.width*=t,this.height*=e,this}rotate(t,e=this.getCenter()){if(t!==0){const n=re.toRad(t),r=Math.cos(n),s=Math.sin(n);let o=this.getOrigin(),a=this.getTopRight(),l=this.getBottomRight(),c=this.getBottomLeft();o=N.rotateEx(o,r,s,e),a=N.rotateEx(a,r,s,e),l=N.rotateEx(l,r,s,e),c=N.rotateEx(c,r,s,e);const u=new ht(o.x,o.y,0,0);u.add(a.x,a.y,0,0),u.add(l.x,l.y,0,0),u.add(c.x,c.y,0,0),this.update(u)}return this}rotate90(){const t=(this.width-this.height)/2;this.x+=t,this.y-=t;const e=this.width;return this.width=this.height,this.height=e,this}moveAndExpand(t){const e=ht.clone(t);return this.x+=e.x||0,this.y+=e.y||0,this.width+=e.width||0,this.height+=e.height||0,this}getMaxScaleToFit(t,e=this.center){const n=ht.clone(t),r=e.x,s=e.y;let o=1/0,a=1/0,l=1/0,c=1/0,u=1/0,h=1/0,f=1/0,p=1/0;const b=n.topLeft;b.x<r&&(o=(this.x-r)/(b.x-r)),b.y<s&&(u=(this.y-s)/(b.y-s));const v=n.bottomRight;v.x>r&&(a=(this.x+this.width-r)/(v.x-r)),v.y>s&&(h=(this.y+this.height-s)/(v.y-s));const w=n.topRight;w.x>r&&(l=(this.x+this.width-r)/(w.x-r)),w.y<s&&(f=(this.y-s)/(w.y-s));const x=n.bottomLeft;return x.x<r&&(c=(this.x-r)/(x.x-r)),x.y>s&&(p=(this.y+this.height-s)/(x.y-s)),{sx:Math.min(o,a,l,c),sy:Math.min(u,h,f,p)}}getMaxUniformScaleToFit(t,e=this.center){const n=this.getMaxScaleToFit(t,e);return Math.min(n.sx,n.sy)}containsPoint(t,e){return dy(this,N.create(t,e))}containsRect(t,e,n,r){const s=ht.create(t,e,n,r),o=this.x,a=this.y,l=this.width,c=this.height,u=s.x,h=s.y,f=s.width,p=s.height;return l===0||c===0||f===0||p===0?!1:u>=o&&h>=a&&u+f<=o+l&&h+p<=a+c}intersectsWithLine(t){const e=[this.topLine,this.rightLine,this.bottomLine,this.leftLine],n=[],r=[];return e.forEach(s=>{const o=t.intersectsWithLine(s);o!==null&&r.indexOf(o.toString())<0&&(n.push(o),r.push(o.toString()))}),n.length>0?n:null}intersectsWithLineFromCenterToPoint(t,e){const n=N.clone(t),r=this.center;let s=null;e!=null&&e!==0&&n.rotate(e,r);const o=[this.topLine,this.rightLine,this.bottomLine,this.leftLine],a=new At(r,n);for(let l=o.length-1;l>=0;l-=1){const c=o[l].intersectsWithLine(a);if(c!==null){s=c;break}}return s&&e!=null&&e!==0&&s.rotate(-e,r),s}intersectsWithRect(t,e,n,r){const s=ht.create(t,e,n,r);if(!this.isIntersectWithRect(s))return null;const o=this.origin,a=this.corner,l=s.origin,c=s.corner,u=Math.max(o.x,l.x),h=Math.max(o.y,l.y);return new ht(u,h,Math.min(a.x,c.x)-u,Math.min(a.y,c.y)-h)}isIntersectWithRect(t,e,n,r){const s=ht.create(t,e,n,r),o=this.origin,a=this.corner,l=s.origin,c=s.corner;return!(c.x<=o.x||c.y<=o.y||l.x>=a.x||l.y>=a.y)}normalize(){let t=this.x,e=this.y,n=this.width,r=this.height;return this.width<0&&(t=this.x+this.width,n=-this.width),this.height<0&&(e=this.y+this.height,r=-this.height),this.x=t,this.y=e,this.width=n,this.height=r,this}union(t){const e=ht.clone(t),n=this.origin,r=this.corner,s=e.origin,o=e.corner,a=Math.min(n.x,s.x),l=Math.min(n.y,s.y),c=Math.max(r.x,o.x),u=Math.max(r.y,o.y);return new ht(a,l,c-a,u-l)}getNearestSideToPoint(t){const e=N.clone(t),n=e.x-this.x,r=this.x+this.width-e.x,s=e.y-this.y,o=this.y+this.height-e.y;let a=n,l="left";return r<a&&(a=r,l="right"),s<a&&(a=s,l="top"),o<a&&(l="bottom"),l}getNearestPointToPoint(t){const e=N.clone(t);if(this.containsPoint(e))switch(this.getNearestSideToPoint(e)){case"right":return new N(this.x+this.width,e.y);case"left":return new N(this.x,e.y);case"bottom":return new N(e.x,this.y+this.height);case"top":return new N(e.x,this.y)}return e.adhereToRect(this)}equals(t){return t!=null&&t.x===this.x&&t.y===this.y&&t.width===this.width&&t.height===this.height}clone(){return new ht(this.x,this.y,this.width,this.height)}toJSON(){return{x:this.x,y:this.y,width:this.width,height:this.height}}serialize(){return`${this.x} ${this.y} ${this.width} ${this.height}`}}(function(i){i.toStringTag=`X6.Geometry.${i.name}`;function t(e){if(e==null)return!1;if(e instanceof i)return!0;const n=e[Symbol.toStringTag],r=e;return(n==null||n===i.toStringTag)&&typeof r.x=="number"&&typeof r.y=="number"&&typeof r.width=="number"&&typeof r.height=="number"&&typeof r.inflate=="function"&&typeof r.moveAndExpand=="function"}i.isRectangle=t})(ht||(ht={}));(function(i){function t(e){return e!=null&&typeof e=="object"&&typeof e.x=="number"&&typeof e.y=="number"&&typeof e.width=="number"&&typeof e.height=="number"}i.isRectangleLike=t})(ht||(ht={}));(function(i){function t(o,a,l,c){return o==null||typeof o=="number"?new i(o,a,l,c):e(o)}i.create=t;function e(o){return i.isRectangle(o)?o.clone():Array.isArray(o)?new i(o[0],o[1],o[2],o[3]):new i(o.x,o.y,o.width,o.height)}i.clone=e;function n(o){return new i(0,0,o.width,o.height)}i.fromSize=n;function r(o,a){return new i(o.x,o.y,a.width,a.height)}i.fromPositionAndSize=r;function s(o){return new i(o.x-o.a,o.y-o.b,2*o.a,2*o.b)}i.fromEllipse=s})(ht||(ht={}));class At extends ss{constructor(t,e,n,r){super(),typeof t=="number"&&typeof e=="number"?(this.start=new N(t,e),this.end=new N(n,r)):(this.start=N.create(t),this.end=N.create(e))}get[Symbol.toStringTag](){return At.toStringTag}get center(){return new N((this.start.x+this.end.x)/2,(this.start.y+this.end.y)/2)}getCenter(){return this.center}round(t=0){return this.start.round(t),this.end.round(t),this}translate(t,e){return typeof t=="number"?(this.start.translate(t,e),this.end.translate(t,e)):(this.start.translate(t),this.end.translate(t)),this}rotate(t,e){return this.start.rotate(t,e),this.end.rotate(t,e),this}scale(t,e,n){return this.start.scale(t,e,n),this.end.scale(t,e,n),this}length(){return Math.sqrt(this.squaredLength())}squaredLength(){const t=this.start.x-this.end.x,e=this.start.y-this.end.y;return t*t+e*e}setLength(t){const e=this.length();if(!e)return this;const n=t/e;return this.scale(n,n,this.start)}parallel(t){const e=this.clone();if(!e.isDifferentiable())return e;const{start:n,end:r}=e,s=n.clone().rotate(270,r),o=r.clone().rotate(90,n);return n.move(o,t),r.move(s,t),e}vector(){return new N(this.end.x-this.start.x,this.end.y-this.start.y)}angle(){const t=new N(this.start.x+1,this.start.y);return this.start.angleBetween(this.end,t)}bbox(){const t=Math.min(this.start.x,this.end.x),e=Math.min(this.start.y,this.end.y),n=Math.max(this.start.x,this.end.x),r=Math.max(this.start.y,this.end.y);return new ht(t,e,n-t,r-e)}bearing(){return this.start.bearing(this.end)}closestPoint(t){return this.pointAt(this.closestPointNormalizedLength(t))}closestPointLength(t){return this.closestPointNormalizedLength(t)*this.length()}closestPointTangent(t){return this.tangentAt(this.closestPointNormalizedLength(t))}closestPointNormalizedLength(t){const e=this.vector().dot(new At(this.start,t).vector()),n=Math.min(1,Math.max(0,e/this.squaredLength()));return Number.isNaN(n)?0:n}pointAt(t){const e=this.start,n=this.end;return t<=0?e.clone():t>=1?n.clone():e.lerp(n,t)}pointAtLength(t){const e=this.start,n=this.end;let r=!0;t<0&&(r=!1,t=-t);const s=this.length();if(t>=s)return r?n.clone():e.clone();const o=(r?t:s-t)/s;return this.pointAt(o)}divideAt(t){const e=this.pointAt(t);return[new At(this.start,e),new At(e,this.end)]}divideAtLength(t){const e=this.pointAtLength(t);return[new At(this.start,e),new At(e,this.end)]}containsPoint(t){const e=this.start,n=this.end;if(e.cross(t,n)!==0)return!1;const r=this.length();return!(new At(e,t).length()>r||new At(t,n).length()>r)}intersect(t,e){const n=t.intersectsWithLine(this,e);return n?Array.isArray(n)?n:[n]:null}intersectsWithLine(t){const e=new N(this.end.x-this.start.x,this.end.y-this.start.y),n=new N(t.end.x-t.start.x,t.end.y-t.start.y),r=e.x*n.y-e.y*n.x,s=new N(t.start.x-this.start.x,t.start.y-this.start.y),o=s.x*n.y-s.y*n.x,a=s.x*e.y-s.y*e.x;if(r===0||o*r<0||a*r<0)return null;if(r>0){if(o>r||a>r)return null}else if(o<r||a<r)return null;return new N(this.start.x+o*e.x/r,this.start.y+o*e.y/r)}isDifferentiable(){return!this.start.equals(this.end)}pointOffset(t){const e=N.clone(t),n=this.start,r=this.end;return((r.x-n.x)*(e.y-n.y)-(r.y-n.y)*(e.x-n.x))/this.length()}pointSquaredDistance(t,e){const n=N.create(t,e);return this.closestPoint(n).squaredDistance(n)}pointDistance(t,e){const n=N.create(t,e);return this.closestPoint(n).distance(n)}tangentAt(t){if(!this.isDifferentiable())return null;const e=this.start,n=this.end,r=this.pointAt(t),s=new At(e,n);return s.translate(r.x-e.x,r.y-e.y),s}tangentAtLength(t){if(!this.isDifferentiable())return null;const e=this.start,n=this.end,r=this.pointAtLength(t),s=new At(e,n);return s.translate(r.x-e.x,r.y-e.y),s}relativeCcw(t,e){const n=N.create(t,e);let r=n.x-this.start.x,s=n.y-this.start.y;const o=this.end.x-this.start.x,a=this.end.y-this.start.y;let l=r*a-s*o;return l===0&&(l=r*o+s*a,l>0&&(r-=o,s-=a,l=r*o+s*a,l<0&&(l=0))),l<0?-1:l>0?1:0}equals(t){return t!=null&&this.start.x===t.start.x&&this.start.y===t.start.y&&this.end.x===t.end.x&&this.end.y===t.end.y}clone(){return new At(this.start,this.end)}toJSON(){return{start:this.start.toJSON(),end:this.end.toJSON()}}serialize(){return[this.start.serialize(),this.end.serialize()].join(" ")}}(function(i){i.toStringTag=`X6.Geometry.${i.name}`;function t(e){if(e==null)return!1;if(e instanceof i)return!0;const n=e[Symbol.toStringTag],r=e;try{if((n==null||n===i.toStringTag)&&N.isPoint(r.start)&&N.isPoint(r.end)&&typeof r.vector=="function"&&typeof r.bearing=="function"&&typeof r.parallel=="function"&&typeof r.intersect=="function")return!0}catch{return!1}return!1}i.isLine=t})(At||(At={}));class Ci extends ss{constructor(t,e,n,r){super(),this.x=t==null?0:t,this.y=e==null?0:e,this.a=n==null?0:n,this.b=r==null?0:r}get[Symbol.toStringTag](){return Ci.toStringTag}get center(){return new N(this.x,this.y)}bbox(){return ht.fromEllipse(this)}getCenter(){return this.center}inflate(t,e){const n=t,r=e!=null?e:t;return this.a+=2*n,this.b+=2*r,this}normalizedDistance(t,e){const n=N.create(t,e),r=n.x-this.x,s=n.y-this.y,o=this.a,a=this.b;return r*r/(o*o)+s*s/(a*a)}containsPoint(t,e){return this.normalizedDistance(t,e)<=1}intersectsWithLine(t){const e=[],n=this.a,r=this.b,s=t.start,o=t.end,a=t.vector(),l=s.diff(new N(this.x,this.y)),c=new N(a.x/(n*n),a.y/(r*r)),u=new N(l.x/(n*n),l.y/(r*r)),h=a.dot(c),f=a.dot(u),p=l.dot(u)-1,b=f*f-h*p;if(b<0)return null;if(b>0){const v=Math.sqrt(b),w=(-f-v)/h,x=(-f+v)/h;if((w<0||w>1)&&(x<0||x>1))return null;w>=0&&w<=1&&e.push(s.lerp(o,w)),x>=0&&x<=1&&e.push(s.lerp(o,x))}else{const v=-f/h;if(v>=0&&v<=1)e.push(s.lerp(o,v));else return null}return e}intersectsWithLineFromCenterToPoint(t,e=0){const n=N.clone(t);e&&n.rotate(e,this.getCenter());const r=n.x-this.x,s=n.y-this.y;let o;if(r===0)return o=this.bbox().getNearestPointToPoint(n),e?o.rotate(-e,this.getCenter()):o;const a=s/r,l=a*a,c=this.a*this.a,u=this.b*this.b;let h=Math.sqrt(1/(1/c+l/u));h=r<0?-h:h;const f=a*h;return o=new N(this.x+h,this.y+f),e?o.rotate(-e,this.getCenter()):o}tangentTheta(t){const e=N.clone(t),n=e.x,r=e.y,s=this.a,o=this.b,a=this.bbox().center,l=a.x,c=a.y,u=30,h=n>a.x+s/2,f=n<a.x-s/2;let p,b;return h||f?(b=n>a.x?r-u:r+u,p=s*s/(n-l)-s*s*(r-c)*(b-c)/(o*o*(n-l))+l):(p=r>a.y?n+u:n-u,b=o*o/(r-c)-o*o*(n-l)*(p-l)/(s*s*(r-c))+c),new N(p,b).theta(e)}scale(t,e){return this.a*=t,this.b*=e,this}rotate(t,e){const n=ht.fromEllipse(this);n.rotate(t,e);const r=Ci.fromRect(n);return this.a=r.a,this.b=r.b,this.x=r.x,this.y=r.y,this}translate(t,e){const n=N.create(t,e);return this.x+=n.x,this.y+=n.y,this}equals(t){return t!=null&&t.x===this.x&&t.y===this.y&&t.a===this.a&&t.b===this.b}clone(){return new Ci(this.x,this.y,this.a,this.b)}toJSON(){return{x:this.x,y:this.y,a:this.a,b:this.b}}serialize(){return`${this.x} ${this.y} ${this.a} ${this.b}`}}(function(i){i.toStringTag=`X6.Geometry.${i.name}`;function t(e){if(e==null)return!1;if(e instanceof i)return!0;const n=e[Symbol.toStringTag],r=e;return(n==null||n===i.toStringTag)&&typeof r.x=="number"&&typeof r.y=="number"&&typeof r.a=="number"&&typeof r.b=="number"&&typeof r.inflate=="function"&&typeof r.normalizedDistance=="function"}i.isEllipse=t})(Ci||(Ci={}));(function(i){function t(r,s,o,a){return r==null||typeof r=="number"?new i(r,s,o,a):e(r)}i.create=t;function e(r){return i.isEllipse(r)?r.clone():Array.isArray(r)?new i(r[0],r[1],r[2],r[3]):new i(r.x,r.y,r.a,r.b)}i.parse=e;function n(r){const s=r.center;return new i(s.x,s.y,r.width/2,r.height/2)}i.fromRect=n})(Ci||(Ci={}));class on extends ss{constructor(t){if(super(),t!=null){if(typeof t=="string")return on.parse(t);this.points=t.map(e=>N.create(e))}else this.points=[]}get[Symbol.toStringTag](){return on.toStringTag}get start(){return this.points.length===0?null:this.points[0]}get end(){return this.points.length===0?null:this.points[this.points.length-1]}scale(t,e,n=new N){return this.points.forEach(r=>r.scale(t,e,n)),this}rotate(t,e){return this.points.forEach(n=>n.rotate(t,e)),this}translate(t,e){const n=N.create(t,e);return this.points.forEach(r=>r.translate(n.x,n.y)),this}bbox(){if(this.points.length===0)return new ht;let t=1/0,e=-1/0,n=1/0,r=-1/0;const s=this.points;for(let o=0,a=s.length;o<a;o+=1){const l=s[o],c=l.x,u=l.y;c<t&&(t=c),c>e&&(e=c),u<n&&(n=u),u>r&&(r=u)}return new ht(t,n,e-t,r-n)}closestPoint(t){const e=this.closestPointLength(t);return this.pointAtLength(e)}closestPointLength(t){const e=this.points,n=e.length;if(n===0||n===1)return 0;let r=0,s=0,o=1/0;for(let a=0,l=n-1;a<l;a+=1){const c=new At(e[a],e[a+1]),u=c.length(),h=c.closestPointNormalizedLength(t),p=c.pointAt(h).squaredDistance(t);p<o&&(o=p,s=r+h*u),r+=u}return s}closestPointNormalizedLength(t){const e=this.closestPointLength(t);if(e===0)return 0;const n=this.length();return n===0?0:e/n}closestPointTangent(t){const e=this.closestPointLength(t);return this.tangentAtLength(e)}containsPoint(t){if(this.points.length===0)return!1;const e=N.clone(t),n=e.x,r=e.y,s=this.points,o=s.length;let a=o-1,l=0;for(let c=0;c<o;c+=1){const u=s[a],h=s[c];if(e.equals(u))return!0;const f=new At(u,h);if(f.containsPoint(t))return!0;if(r<=u.y&&r>h.y||r>u.y&&r<=h.y){const p=u.x-n>h.x-n?u.x-n:h.x-n;if(p>=0){const b=new N(n+p,r),v=new At(t,b);f.intersectsWithLine(v)&&(l+=1)}}a=c}return l%2===1}intersectsWithLine(t){const e=[];for(let n=0,r=this.points.length-1;n<r;n+=1){const s=this.points[n],o=this.points[n+1],a=t.intersectsWithLine(new At(s,o));a&&e.push(a)}return e.length>0?e:null}isDifferentiable(){for(let t=0,e=this.points.length-1;t<e;t+=1){const n=this.points[t],r=this.points[t+1];if(new At(n,r).isDifferentiable())return!0}return!1}length(){let t=0;for(let e=0,n=this.points.length-1;e<n;e+=1){const r=this.points[e],s=this.points[e+1];t+=r.distance(s)}return t}pointAt(t){const e=this.points,n=e.length;if(n===0)return null;if(n===1||t<=0)return e[0].clone();if(t>=1)return e[n-1].clone();const s=this.length()*t;return this.pointAtLength(s)}pointAtLength(t){const e=this.points,n=e.length;if(n===0)return null;if(n===1)return e[0].clone();let r=!0;t<0&&(r=!1,t=-t);let s=0;for(let a=0,l=n-1;a<l;a+=1){const c=r?a:l-1-a,u=e[c],h=e[c+1],f=new At(u,h),p=u.distance(h);if(t<=s+p)return f.pointAtLength((r?1:-1)*(t-s));s+=p}return(r?e[n-1]:e[0]).clone()}tangentAt(t){const n=this.points.length;if(n===0||n===1)return null;t<0&&(t=0),t>1&&(t=1);const s=this.length()*t;return this.tangentAtLength(s)}tangentAtLength(t){const e=this.points,n=e.length;if(n===0||n===1)return null;let r=!0;t<0&&(r=!1,t=-t);let s,o=0;for(let a=0,l=n-1;a<l;a+=1){const c=r?a:l-1-a,u=e[c],h=e[c+1],f=new At(u,h),p=u.distance(h);if(f.isDifferentiable()){if(t<=o+p)return f.tangentAtLength((r?1:-1)*(t-o));s=f}o+=p}if(s){const a=r?1:0;return s.tangentAt(a)}return null}simplify(t={}){const e=this.points;if(e.length<3)return this;const n=t.threshold||0;let r=0;for(;e[r+2];){const s=r,o=r+1,a=r+2,l=e[s],c=e[o],u=e[a];new At(l,u).closestPoint(c).distance(c)<=n?e.splice(o,1):r+=1}return this}toHull(){const t=this.points,e=t.length;if(e===0)return new on;let n=t[0];for(let f=1;f<e;f+=1)(t[f].y<n.y||t[f].y===n.y&&t[f].x>n.x)&&(n=t[f]);const r=[];for(let f=0;f<e;f+=1){let p=n.theta(t[f]);p===0&&(p=360),r.push([t[f],f,p])}if(r.sort((f,p)=>{let b=f[2]-p[2];return b===0&&(b=p[1]-f[1]),b}),r.length>2){const f=r[r.length-1];r.unshift(f)}const s={},o=[],a=f=>`${f[0].toString()}@${f[1]}`;for(;r.length!==0;){const f=r.pop(),p=f[0];if(s[a(f)])continue;let b=!1;for(;!b;)if(o.length<2)o.push(f),b=!0;else{const v=o.pop(),w=v[0],x=o.pop(),E=x[0],S=E.cross(w,p);if(S<0)o.push(x),o.push(v),o.push(f),b=!0;else if(S===0){const k=w.angleBetween(E,p);Math.abs(k-180)<1e-10||w.equals(p)||E.equals(w)?(s[a(v)]=w,o.push(x)):Math.abs((k+1)%360-1)<1e-10&&(o.push(x),r.push(v))}else s[a(v)]=w,o.push(x)}}o.length>2&&o.pop();let l,c=-1;for(let f=0,p=o.length;f<p;f+=1){const b=o[f][1];(l===void 0||b<l)&&(l=b,c=f)}let u=[];if(c>0){const f=o.slice(c),p=o.slice(0,c);u=f.concat(p)}else u=o;const h=[];for(let f=0,p=u.length;f<p;f+=1)h.push(u[f][0]);return new on(h)}equals(t){return t==null||t.points.length!==this.points.length?!1:t.points.every((e,n)=>e.equals(this.points[n]))}clone(){return new on(this.points.map(t=>t.clone()))}toJSON(){return this.points.map(t=>t.toJSON())}serialize(){return this.points.map(t=>`${t.x}, ${t.y}`).join(" ")}}(function(i){i.toStringTag=`X6.Geometry.${i.name}`;function t(e){if(e==null)return!1;if(e instanceof i)return!0;const n=e[Symbol.toStringTag],r=e;return(n==null||n===i.toStringTag)&&typeof r.toHull=="function"&&typeof r.simplify=="function"}i.isPolyline=t})(on||(on={}));(function(i){function t(e){const n=e.trim();if(n==="")return new i;const r=[],s=n.split(/\s*,\s*|\s+/);for(let o=0,a=s.length;o<a;o+=2)r.push({x:+s[o],y:+s[o+1]});return new i(r)}i.parse=t})(on||(on={}));class We extends ss{constructor(t,e,n,r){super(),this.PRECISION=3,this.start=N.create(t),this.controlPoint1=N.create(e),this.controlPoint2=N.create(n),this.end=N.create(r)}get[Symbol.toStringTag](){return We.toStringTag}bbox(){const t=this.start,e=this.controlPoint1,n=this.controlPoint2,r=this.end,s=t.x,o=t.y,a=e.x,l=e.y,c=n.x,u=n.y,h=r.x,f=r.y,p=[],b=[[],[]];let v,w,x,E,S,O,k,m;for(let B=0;B<2;B+=1){if(B===0?(w=6*s-12*a+6*c,v=-3*s+9*a-9*c+3*h,x=3*a-3*s):(w=6*o-12*l+6*u,v=-3*o+9*l-9*u+3*f,x=3*l-3*o),Math.abs(v)<1e-12){if(Math.abs(w)<1e-12)continue;E=-x/w,E>0&&E<1&&p.push(E);continue}k=w*w-4*x*v,m=Math.sqrt(k),!(k<0)&&(S=(-w+m)/(2*v),S>0&&S<1&&p.push(S),O=(-w-m)/(2*v),O>0&&O<1&&p.push(O))}let T,D,z,H=p.length;const q=H;for(;H;)H-=1,E=p[H],z=1-E,T=z*z*z*s+3*z*z*E*a+3*z*E*E*c+E*E*E*h,b[0][H]=T,D=z*z*z*o+3*z*z*E*l+3*z*E*E*u+E*E*E*f,b[1][H]=D;p[q]=0,p[q+1]=1,b[0][q]=s,b[1][q]=o,b[0][q+1]=h,b[1][q+1]=f,p.length=q+2,b[0].length=q+2,b[1].length=q+2;const R=Math.min.apply(null,b[0]),rt=Math.min.apply(null,b[1]),st=Math.max.apply(null,b[0]),j=Math.max.apply(null,b[1]);return new ht(R,rt,st-R,j-rt)}closestPoint(t,e={}){return this.pointAtT(this.closestPointT(t,e))}closestPointLength(t,e={}){const n=this.getOptions(e);return this.lengthAtT(this.closestPointT(t,n),n)}closestPointNormalizedLength(t,e={}){const n=this.getOptions(e),r=this.closestPointLength(t,n);if(!r)return 0;const s=this.length(n);return s===0?0:r/s}closestPointT(t,e={}){const n=this.getPrecision(e),r=this.getDivisions(e),s=Math.pow(10,-n);let o=null,a=0,l=0,c=0,u=0,h=0,f=null;const p=r.length;let b=p>0?1/p:0;for(r.forEach((v,w)=>{const x=v.start.distance(t),E=v.end.distance(t),S=x+E;(f==null||S<f)&&(o=v,a=w*b,l=(w+1)*b,c=x,u=E,f=S,h=v.endpointDistance())});;){const v=c?Math.abs(c-u)/c:0,w=u!=null?Math.abs(c-u)/u:0,x=v<s||w<s,E=c?c<h*s:!0,S=u?u<h*s:!0;if(x||(E||S))return c<=u?a:l;const k=o.divide(.5);b/=2;const m=k[0].start.distance(t),T=k[0].end.distance(t),D=m+T,z=k[1].start.distance(t),H=k[1].end.distance(t),q=z+H;D<=q?(o=k[0],l-=b,c=m,u=T):(o=k[1],a+=b,c=z,u=H)}}closestPointTangent(t,e={}){return this.tangentAtT(this.closestPointT(t,e))}containsPoint(t,e={}){return this.toPolyline(e).containsPoint(t)}divideAt(t,e={}){if(t<=0)return this.divideAtT(0);if(t>=1)return this.divideAtT(1);const n=this.tAt(t,e);return this.divideAtT(n)}divideAtLength(t,e={}){const n=this.tAtLength(t,e);return this.divideAtT(n)}divide(t){return this.divideAtT(t)}divideAtT(t){const e=this.start,n=this.controlPoint1,r=this.controlPoint2,s=this.end;if(t<=0)return[new We(e,e,e,e),new We(e,n,r,s)];if(t>=1)return[new We(e,n,r,s),new We(s,s,s,s)];const o=this.getSkeletonPoints(t),a=o.startControlPoint1,l=o.startControlPoint2,c=o.divider,u=o.dividerControlPoint1,h=o.dividerControlPoint2;return[new We(e,a,l,c),new We(c,u,h,s)]}endpointDistance(){return this.start.distance(this.end)}getSkeletonPoints(t){const e=this.start,n=this.controlPoint1,r=this.controlPoint2,s=this.end;if(t<=0)return{startControlPoint1:e.clone(),startControlPoint2:e.clone(),divider:e.clone(),dividerControlPoint1:n.clone(),dividerControlPoint2:r.clone()};if(t>=1)return{startControlPoint1:n.clone(),startControlPoint2:r.clone(),divider:s.clone(),dividerControlPoint1:s.clone(),dividerControlPoint2:s.clone()};const o=new At(e,n).pointAt(t),a=new At(n,r).pointAt(t),l=new At(r,s).pointAt(t),c=new At(o,a).pointAt(t),u=new At(a,l).pointAt(t),h=new At(c,u).pointAt(t);return{startControlPoint1:o,startControlPoint2:c,divider:h,dividerControlPoint1:u,dividerControlPoint2:l}}getSubdivisions(t={}){const e=this.getPrecision(t);let n=[new We(this.start,this.controlPoint1,this.controlPoint2,this.end)];if(e===0)return n;let r=this.endpointDistance();const s=Math.pow(10,-e);let o=0;for(;;){o+=1;const a=[];n.forEach(u=>{const h=u.divide(.5);a.push(h[0],h[1])});const l=a.reduce((u,h)=>u+h.endpointDistance(),0),c=l!==0?(l-r)/l:0;if(o>1&&c<s)return a;n=a,r=l}}length(t={}){return this.getDivisions(t).reduce((n,r)=>n+r.endpointDistance(),0)}lengthAtT(t,e={}){if(t<=0)return 0;const n=e.precision===void 0?this.PRECISION:e.precision;return this.divide(t)[0].length({precision:n})}pointAt(t,e={}){if(t<=0)return this.start.clone();if(t>=1)return this.end.clone();const n=this.tAt(t,e);return this.pointAtT(n)}pointAtLength(t,e={}){const n=this.tAtLength(t,e);return this.pointAtT(n)}pointAtT(t){return t<=0?this.start.clone():t>=1?this.end.clone():this.getSkeletonPoints(t).divider}isDifferentiable(){const t=this.start,e=this.controlPoint1,n=this.controlPoint2,r=this.end;return!(t.equals(e)&&e.equals(n)&&n.equals(r))}tangentAt(t,e={}){if(!this.isDifferentiable())return null;t<0?t=0:t>1&&(t=1);const n=this.tAt(t,e);return this.tangentAtT(n)}tangentAtLength(t,e={}){if(!this.isDifferentiable())return null;const n=this.tAtLength(t,e);return this.tangentAtT(n)}tangentAtT(t){if(!this.isDifferentiable())return null;t<0&&(t=0),t>1&&(t=1);const e=this.getSkeletonPoints(t),n=e.startControlPoint2,r=e.dividerControlPoint1,s=e.divider,o=new At(n,r);return o.translate(s.x-n.x,s.y-n.y),o}getPrecision(t={}){return t.precision==null?this.PRECISION:t.precision}getDivisions(t={}){if(t.subdivisions!=null)return t.subdivisions;const e=this.getPrecision(t);return this.getSubdivisions({precision:e})}getOptions(t={}){const e=this.getPrecision(t),n=this.getDivisions(t);return{precision:e,subdivisions:n}}tAt(t,e={}){if(t<=0)return 0;if(t>=1)return 1;const n=this.getOptions(e),s=this.length(n)*t;return this.tAtLength(s,n)}tAtLength(t,e={}){let n=!0;t<0&&(n=!1,t=-t);const r=this.getPrecision(e),s=this.getDivisions(e),o={precision:r,subdivisions:s};let a=null,l,c,u=0,h=0,f=0;const p=s.length;let b=p>0?1/p:0;for(let x=0;x<p;x+=1){const E=n?x:p-1-x,S=s[x],O=S.endpointDistance();if(t<=f+O){a=S,l=E*b,c=(E+1)*b,u=n?t-f:O+f-t,h=n?O+f-t:t-f;break}f+=O}if(a==null)return n?1:0;const v=this.length(o),w=Math.pow(10,-r);for(;;){let x;if(x=v!==0?u/v:0,x<w)return l;if(x=v!==0?h/v:0,x<w)return c;let E,S;const O=a.divide(.5);b/=2;const k=O[0].endpointDistance(),m=O[1].endpointDistance();u<=k?(a=O[0],c-=b,E=u,S=k-E):(a=O[1],l+=b,E=u-k,S=m-E),u=E,h=S}}toPoints(t={}){const e=this.getDivisions(t),n=[e[0].start.clone()];return e.forEach(r=>n.push(r.end.clone())),n}toPolyline(t={}){return new on(this.toPoints(t))}scale(t,e,n){return this.start.scale(t,e,n),this.controlPoint1.scale(t,e,n),this.controlPoint2.scale(t,e,n),this.end.scale(t,e,n),this}rotate(t,e){return this.start.rotate(t,e),this.controlPoint1.rotate(t,e),this.controlPoint2.rotate(t,e),this.end.rotate(t,e),this}translate(t,e){return typeof t=="number"?(this.start.translate(t,e),this.controlPoint1.translate(t,e),this.controlPoint2.translate(t,e),this.end.translate(t,e)):(this.start.translate(t),this.controlPoint1.translate(t),this.controlPoint2.translate(t),this.end.translate(t)),this}equals(t){return t!=null&&this.start.equals(t.start)&&this.controlPoint1.equals(t.controlPoint1)&&this.controlPoint2.equals(t.controlPoint2)&&this.end.equals(t.end)}clone(){return new We(this.start,this.controlPoint1,this.controlPoint2,this.end)}toJSON(){return{start:this.start.toJSON(),controlPoint1:this.controlPoint1.toJSON(),controlPoint2:this.controlPoint2.toJSON(),end:this.end.toJSON()}}serialize(){return[this.start.serialize(),this.controlPoint1.serialize(),this.controlPoint2.serialize(),this.end.serialize()].join(" ")}}(function(i){i.toStringTag=`X6.Geometry.${i.name}`;function t(e){if(e==null)return!1;if(e instanceof i)return!0;const n=e[Symbol.toStringTag],r=e;try{if((n==null||n===i.toStringTag)&&N.isPoint(r.start)&&N.isPoint(r.controlPoint1)&&N.isPoint(r.controlPoint2)&&N.isPoint(r.end)&&typeof r.toPoints=="function"&&typeof r.toPolyline=="function")return!0}catch{return!1}return!1}i.isCurve=t})(We||(We={}));(function(i){function t(r){const s=r.length,o=[],a=[];let l=2;o[0]=r[0]/l;for(let c=1;c<s;c+=1)a[c]=1/l,l=(c<s-1?4:3.5)-a[c],o[c]=(r[c]-o[c-1])/l;for(let c=1;c<s;c+=1)o[s-c-1]-=a[s-c]*o[s-c];return o}function e(r){const s=r.map(f=>N.clone(f)),o=[],a=[],l=s.length-1;if(l===1)return o[0]=new N((2*s[0].x+s[1].x)/3,(2*s[0].y+s[1].y)/3),a[0]=new N(2*o[0].x-s[0].x,2*o[0].y-s[0].y),[o,a];const c=[];for(let f=1;f<l-1;f+=1)c[f]=4*s[f].x+2*s[f+1].x;c[0]=s[0].x+2*s[1].x,c[l-1]=(8*s[l-1].x+s[l].x)/2;const u=t(c);for(let f=1;f<l-1;f+=1)c[f]=4*s[f].y+2*s[f+1].y;c[0]=s[0].y+2*s[1].y,c[l-1]=(8*s[l-1].y+s[l].y)/2;const h=t(c);for(let f=0;f<l;f+=1)o.push(new N(u[f],h[f])),f<l-1?a.push(new N(2*s[f+1].x-u[f+1],2*s[f+1].y-h[f+1])):a.push(new N((s[l].x+u[l-1])/2,(s[l].y+h[l-1])/2));return[o,a]}function n(r){if(r==null||Array.isArray(r)&&r.length<2)throw new Error("At least 2 points are required");const s=e(r),o=[];for(let a=0,l=s[0].length;a<l;a+=1){const c=new N(s[0][a].x,s[0][a].y),u=new N(s[1][a].x,s[1][a].y);o.push(new i(r[a],c,u,r[a+1]))}return o}i.throughPoints=n})(We||(We={}));class Bu extends ss{constructor(){super(...arguments),this.isVisible=!0,this.isSegment=!0,this.isSubpathStart=!1}get end(){return this.endPoint}get start(){if(this.previousSegment==null)throw new Error("Missing previous segment. (This segment cannot be the first segment of a path, or segment has not yet been added to a path.)");return this.previousSegment.end}closestPointT(t,e){if(this.closestPointNormalizedLength)return this.closestPointNormalizedLength(t);throw new Error("Neither `closestPointT` nor `closestPointNormalizedLength` method is implemented.")}lengthAtT(t,e){if(t<=0)return 0;const n=this.length();return t>=1?n:n*t}divideAtT(t){if(this.divideAt)return this.divideAt(t);throw new Error("Neither `divideAtT` nor `divideAt` method is implemented.")}pointAtT(t){if(this.pointAt)return this.pointAt(t);throw new Error("Neither `pointAtT` nor `pointAt` method is implemented.")}tangentAtT(t){if(this.tangentAt)return this.tangentAt(t);throw new Error("Neither `tangentAtT` nor `tangentAt` method is implemented.")}}class kn extends Bu{constructor(t,e){super(),At.isLine(t)?this.endPoint=t.end.clone().round(2):this.endPoint=N.create(t,e).round(2)}get type(){return"L"}get line(){return new At(this.start,this.end)}bbox(){return this.line.bbox()}closestPoint(t){return this.line.closestPoint(t)}closestPointLength(t){return this.line.closestPointLength(t)}closestPointNormalizedLength(t){return this.line.closestPointNormalizedLength(t)}closestPointTangent(t){return this.line.closestPointTangent(t)}length(){return this.line.length()}divideAt(t){const e=this.line.divideAt(t);return[new kn(e[0]),new kn(e[1])]}divideAtLength(t){const e=this.line.divideAtLength(t);return[new kn(e[0]),new kn(e[1])]}getSubdivisions(){return[]}pointAt(t){return this.line.pointAt(t)}pointAtLength(t){return this.line.pointAtLength(t)}tangentAt(t){return this.line.tangentAt(t)}tangentAtLength(t){return this.line.tangentAtLength(t)}isDifferentiable(){return this.previousSegment==null?!1:!this.start.equals(this.end)}clone(){return new kn(this.end)}scale(t,e,n){return this.end.scale(t,e,n),this}rotate(t,e){return this.end.rotate(t,e),this}translate(t,e){return typeof t=="number"?this.end.translate(t,e):this.end.translate(t),this}equals(t){return this.type===t.type&&this.start.equals(t.start)&&this.end.equals(t.end)}toJSON(){return{type:this.type,start:this.start.toJSON(),end:this.end.toJSON()}}serialize(){const t=this.end;return`${this.type} ${t.x} ${t.y}`}}(function(i){function t(...e){const n=e.length,r=e[0];if(At.isLine(r))return new i(r);if(N.isPointLike(r))return n===1?new i(r):e.map(o=>new i(o));if(n===2)return new i(+e[0],+e[1]);const s=[];for(let o=0;o<n;o+=2){const a=+e[o],l=+e[o+1];s.push(new i(a,l))}return s}i.create=t})(kn||(kn={}));class Xo extends Bu{get end(){if(!this.subpathStartSegment)throw new Error("Missing subpath start segment. (This segment needs a subpath start segment (e.g. MoveTo), or segment has not yet been added to a path.)");return this.subpathStartSegment.end}get type(){return"Z"}get line(){return new At(this.start,this.end)}bbox(){return this.line.bbox()}closestPoint(t){return this.line.closestPoint(t)}closestPointLength(t){return this.line.closestPointLength(t)}closestPointNormalizedLength(t){return this.line.closestPointNormalizedLength(t)}closestPointTangent(t){return this.line.closestPointTangent(t)}length(){return this.line.length()}divideAt(t){const e=this.line.divideAt(t);return[e[1].isDifferentiable()?new kn(e[0]):this.clone(),new kn(e[1])]}divideAtLength(t){const e=this.line.divideAtLength(t);return[e[1].isDifferentiable()?new kn(e[0]):this.clone(),new kn(e[1])]}getSubdivisions(){return[]}pointAt(t){return this.line.pointAt(t)}pointAtLength(t){return this.line.pointAtLength(t)}tangentAt(t){return this.line.tangentAt(t)}tangentAtLength(t){return this.line.tangentAtLength(t)}isDifferentiable(){return!this.previousSegment||!this.subpathStartSegment?!1:!this.start.equals(this.end)}scale(){return this}rotate(){return this}translate(){return this}equals(t){return this.type===t.type&&this.start.equals(t.start)&&this.end.equals(t.end)}clone(){return new Xo}toJSON(){return{type:this.type,start:this.start.toJSON(),end:this.end.toJSON()}}serialize(){return this.type}}(function(i){function t(){return new i}i.create=t})(Xo||(Xo={}));class Yo extends Bu{constructor(t,e){super(),this.isVisible=!1,this.isSubpathStart=!0,At.isLine(t)||We.isCurve(t)?this.endPoint=t.end.clone().round(2):this.endPoint=N.create(t,e).round(2)}get start(){throw new Error("Illegal access. Moveto segments should not need a start property.")}get type(){return"M"}bbox(){return null}closestPoint(){return this.end.clone()}closestPointLength(){return 0}closestPointNormalizedLength(){return 0}closestPointT(){return 1}closestPointTangent(){return null}length(){return 0}lengthAtT(){return 0}divideAt(){return[this.clone(),this.clone()]}divideAtLength(){return[this.clone(),this.clone()]}getSubdivisions(){return[]}pointAt(){return this.end.clone()}pointAtLength(){return this.end.clone()}pointAtT(){return this.end.clone()}tangentAt(){return null}tangentAtLength(){return null}tangentAtT(){return null}isDifferentiable(){return!1}scale(t,e,n){return this.end.scale(t,e,n),this}rotate(t,e){return this.end.rotate(t,e),this}translate(t,e){return typeof t=="number"?this.end.translate(t,e):this.end.translate(t),this}clone(){return new Yo(this.end)}equals(t){return this.type===t.type&&this.end.equals(t.end)}toJSON(){return{type:this.type,end:this.end.toJSON()}}serialize(){const t=this.end;return`${this.type} ${t.x} ${t.y}`}}(function(i){function t(...e){const n=e.length,r=e[0];if(At.isLine(r))return new i(r);if(We.isCurve(r))return new i(r);if(N.isPointLike(r)){if(n===1)return new i(r);const o=[];for(let a=0;a<n;a+=1)a===0?o.push(new i(e[a])):o.push(new kn(e[a]));return o}if(n===2)return new i(+e[0],+e[1]);const s=[];for(let o=0;o<n;o+=2){const a=+e[o],l=+e[o+1];o===0?s.push(new i(a,l)):s.push(new kn(a,l))}return s}i.create=t})(Yo||(Yo={}));class vi extends Bu{constructor(t,e,n,r,s,o){super(),We.isCurve(t)?(this.controlPoint1=t.controlPoint1.clone().round(2),this.controlPoint2=t.controlPoint2.clone().round(2),this.endPoint=t.end.clone().round(2)):typeof t=="number"?(this.controlPoint1=new N(t,e).round(2),this.controlPoint2=new N(n,r).round(2),this.endPoint=new N(s,o).round(2)):(this.controlPoint1=N.create(t).round(2),this.controlPoint2=N.create(e).round(2),this.endPoint=N.create(n).round(2))}get type(){return"C"}get curve(){return new We(this.start,this.controlPoint1,this.controlPoint2,this.end)}bbox(){return this.curve.bbox()}closestPoint(t){return this.curve.closestPoint(t)}closestPointLength(t){return this.curve.closestPointLength(t)}closestPointNormalizedLength(t){return this.curve.closestPointNormalizedLength(t)}closestPointTangent(t){return this.curve.closestPointTangent(t)}length(){return this.curve.length()}divideAt(t,e={}){const n=this.curve.divideAt(t,e);return[new vi(n[0]),new vi(n[1])]}divideAtLength(t,e={}){const n=this.curve.divideAtLength(t,e);return[new vi(n[0]),new vi(n[1])]}divideAtT(t){const e=this.curve.divideAtT(t);return[new vi(e[0]),new vi(e[1])]}getSubdivisions(){return[]}pointAt(t){return this.curve.pointAt(t)}pointAtLength(t){return this.curve.pointAtLength(t)}tangentAt(t){return this.curve.tangentAt(t)}tangentAtLength(t){return this.curve.tangentAtLength(t)}isDifferentiable(){if(!this.previousSegment)return!1;const t=this.start,e=this.controlPoint1,n=this.controlPoint2,r=this.end;return!(t.equals(e)&&e.equals(n)&&n.equals(r))}scale(t,e,n){return this.controlPoint1.scale(t,e,n),this.controlPoint2.scale(t,e,n),this.end.scale(t,e,n),this}rotate(t,e){return this.controlPoint1.rotate(t,e),this.controlPoint2.rotate(t,e),this.end.rotate(t,e),this}translate(t,e){return typeof t=="number"?(this.controlPoint1.translate(t,e),this.controlPoint2.translate(t,e),this.end.translate(t,e)):(this.controlPoint1.translate(t),this.controlPoint2.translate(t),this.end.translate(t)),this}equals(t){return this.start.equals(t.start)&&this.end.equals(t.end)&&this.controlPoint1.equals(t.controlPoint1)&&this.controlPoint2.equals(t.controlPoint2)}clone(){return new vi(this.controlPoint1,this.controlPoint2,this.end)}toJSON(){return{type:this.type,start:this.start.toJSON(),controlPoint1:this.controlPoint1.toJSON(),controlPoint2:this.controlPoint2.toJSON(),end:this.end.toJSON()}}serialize(){const t=this.controlPoint1,e=this.controlPoint2,n=this.end;return[this.type,t.x,t.y,e.x,e.y,n.x,n.y].join(" ")}}(function(i){function t(...e){const n=e.length,r=e[0];if(We.isCurve(r))return new i(r);if(N.isPointLike(r)){if(n===3)return new i(e[0],e[1],e[2]);const o=[];for(let a=0;a<n;a+=3)o.push(new i(e[a],e[a+1],e[a+2]));return o}if(n===6)return new i(e[0],e[1],e[2],e[3],e[4],e[5]);const s=[];for(let o=0;o<n;o+=6)s.push(new i(e[o],e[o+1],e[o+2],e[o+3],e[o+4],e[o+5]));return s}i.create=t})(vi||(vi={}));function gc(i,t,e){return{x:i*Math.cos(e)-t*Math.sin(e),y:i*Math.sin(e)+t*Math.cos(e)}}function S2(i,t,e,n,r,s){const o=.3333333333333333,a=2/3;return[o*i+a*e,o*t+a*n,o*r+a*e,o*s+a*n,r,s]}function fy(i,t,e,n,r,s,o,a,l,c){const u=Math.PI*120/180,h=Math.PI/180*(+r||0);let f=[],p,b,v,w,x;if(c)b=c[0],v=c[1],w=c[2],x=c[3];else{p=gc(i,t,-h),i=p.x,t=p.y,p=gc(a,l,-h),a=p.x,l=p.y;const st=(i-a)/2,j=(t-l)/2;let B=st*st/(e*e)+j*j/(n*n);B>1&&(B=Math.sqrt(B),e=B*e,n=B*n);const tt=e*e,bt=n*n,Ot=(s===o?-1:1)*Math.sqrt(Math.abs((tt*bt-tt*j*j-bt*st*st)/(tt*j*j+bt*st*st)));w=Ot*e*j/n+(i+a)/2,x=Ot*-n*st/e+(t+l)/2,b=Math.asin((t-x)/n),v=Math.asin((l-x)/n),b=i<w?Math.PI-b:b,v=a<w?Math.PI-v:v,b<0&&(b=Math.PI*2+b),v<0&&(v=Math.PI*2+v),o&&b>v&&(b-=Math.PI*2),!o&&v>b&&(v-=Math.PI*2)}let E=v-b;if(Math.abs(E)>u){const st=v,j=a,B=l;v=b+u*(o&&v>b?1:-1),a=w+e*Math.cos(v),l=x+n*Math.sin(v),f=fy(a,l,e,n,r,0,o,j,B,[v,st,w,x])}E=v-b;const S=Math.cos(b),O=Math.sin(b),k=Math.cos(v),m=Math.sin(v),T=Math.tan(E/4),D=4/3*(e*T),z=4/3*(n*T),H=[i,t],q=[i+D*O,t-z*S],R=[a+D*m,l-z*k],rt=[a,l];if(q[0]=2*H[0]-q[0],q[1]=2*H[1]-q[1],c)return[q,R,rt].concat(f);{f=[q,R,rt].concat(f).join().split(",");const st=[],j=f.length;for(let B=0;B<j;B+=1)st[B]=B%2?gc(+f[B-1],+f[B],h).y:gc(+f[B],+f[B+1],h).x;return st}}function xN(i){if(!i)return null;const t=`	
\v\f\r \xA0\u1680\u180E\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200A\u202F\u205F\u3000\u2028\u2029`,e=new RegExp(`([a-z])[${t},]*((-?\\d*\\.?\\d*(?:e[\\-+]?\\d+)?[${t}]*,?[${t}]*)+)`,"ig"),n=new RegExp(`(-?\\d*\\.?\\d*(?:e[\\-+]?\\d+)?)[${t}]*,?[${t}]*`,"ig"),r={a:7,c:6,h:1,l:2,m:2,q:4,s:4,t:2,v:1,z:0},s=[];return i.replace(e,(o,a,l)=>{const c=[];let u=a.toLowerCase();l.replace(n,(f,p)=>(p&&c.push(+p),f)),u==="m"&&c.length>2&&(s.push([a,...c.splice(0,2)]),u="l",a=a==="m"?"l":"L");const h=r[u];for(;c.length>=h&&(s.push([a,...c.splice(0,h)]),!!h););return o}),s}function wN(i){const t=xN(i);if(!t||!t.length)return[["M",0,0]];let e=0,n=0,r=0,s=0;const o=[];for(let a=0,l=t.length;a<l;a+=1){const c=[];o.push(c);const u=t[a],h=u[0];if(h!==h.toUpperCase())switch(c[0]=h.toUpperCase(),c[0]){case"A":c[1]=u[1],c[2]=u[2],c[3]=u[3],c[4]=u[4],c[5]=u[5],c[6]=+u[6]+e,c[7]=+u[7]+n;break;case"V":c[1]=+u[1]+n;break;case"H":c[1]=+u[1]+e;break;case"M":r=+u[1]+e,s=+u[2]+n;for(let f=1,p=u.length;f<p;f+=1)c[f]=+u[f]+(f%2?e:n);break;default:for(let f=1,p=u.length;f<p;f+=1)c[f]=+u[f]+(f%2?e:n);break}else for(let f=0,p=u.length;f<p;f+=1)c[f]=u[f];switch(c[0]){case"Z":e=+r,n=+s;break;case"H":e=c[1];break;case"V":n=c[1];break;case"M":r=c[c.length-2],s=c[c.length-1],e=c[c.length-2],n=c[c.length-1];break;default:e=c[c.length-2],n=c[c.length-1];break}}return o}function CN(i){const t=wN(i),e={x:0,y:0,bx:0,by:0,X:0,Y:0,qx:null,qy:null};function n(l,c,u){let h,f;if(!l)return["C",c.x,c.y,c.x,c.y,c.x,c.y];switch(l[0]in{T:1,Q:1}||(c.qx=null,c.qy=null),l[0]){case"M":c.X=l[1],c.Y=l[2];break;case"A":return parseFloat(l[1])===0||parseFloat(l[2])===0?["L",l[6],l[7]]:["C"].concat(fy.apply(0,[c.x,c.y].concat(l.slice(1))));case"S":return u==="C"||u==="S"?(h=c.x*2-c.bx,f=c.y*2-c.by):(h=c.x,f=c.y),["C",h,f].concat(l.slice(1));case"T":return u==="Q"||u==="T"?(c.qx=c.x*2-c.qx,c.qy=c.y*2-c.qy):(c.qx=c.x,c.qy=c.y),["C"].concat(S2(c.x,c.y,c.qx,c.qy,l[1],l[2]));case"Q":return c.qx=l[1],c.qy=l[2],["C"].concat(S2(c.x,c.y,l[1],l[2],l[3],l[4]));case"H":return["L"].concat(l[1],c.y);case"V":return["L"].concat(c.x,l[1])}return l}function r(l,c){if(l[c].length>7){l[c].shift();const u=l[c];for(;u.length;)s[c]="A",c+=1,l.splice(c,0,["C"].concat(u.splice(0,6)));l.splice(c,1),a=t.length}}const s=[];let o="",a=t.length;for(let l=0;l<a;l+=1){let c="";t[l]&&(c=t[l][0]),c!=="C"&&(s[l]=c,l>0&&(o=s[l-1])),t[l]=n(t[l],e,o),s[l]!=="A"&&c==="C"&&(s[l]="C"),r(t,l);const u=t[l],h=u.length;e.x=u[h-2],e.y=u[h-1],e.bx=parseFloat(u[h-4])||e.x,e.by=parseFloat(u[h-3])||e.y}return(!t[0][0]||t[0][0]!=="M")&&t.unshift(["M",0,0]),t}function EN(i){return CN(i).map(t=>t.map(e=>typeof e=="string"?e:Ds(e,2))).join(",").split(",").join(" ")}const SN=new RegExp("^[\\s\\dLMCZz,.]*$");function AN(i){return typeof i!="string"?!1:SN.test(i)}function Bh(i,t){return(i%t+t)%t}function MN(i,t,e,n,r){const s=[],o=i[i.length-1],a=t!=null&&t>0,l=t||0;if(n&&a){i=i.slice();const h=i[0],f=new N(o.x+(h.x-o.x)/2,o.y+(h.y-o.y)/2);i.splice(0,0,f)}let c=i[0],u=1;for(e?s.push("M",c.x,c.y):s.push("L",c.x,c.y);u<(n?i.length:i.length-1);){let h=i[Bh(u,i.length)],f=c.x-h.x,p=c.y-h.y;if(a&&(f!==0||p!==0)&&(r==null||r.indexOf(u-1)<0)){let b=Math.sqrt(f*f+p*p);const v=f*Math.min(l,b/2)/b,w=p*Math.min(l,b/2)/b,x=h.x+v,E=h.y+w;s.push("L",x,E);let S=i[Bh(u+1,i.length)];for(;u<i.length-2&&Math.round(S.x-h.x)===0&&Math.round(S.y-h.y)===0;)S=i[Bh(u+2,i.length)],u+=1;f=S.x-h.x,p=S.y-h.y,b=Math.max(1,Math.sqrt(f*f+p*p));const O=f*Math.min(l,b/2)/b,k=p*Math.min(l,b/2)/b,m=h.x+O,T=h.y+k;s.push("Q",h.x,h.y,m,T),h=new N(m,T)}else s.push("L",h.x,h.y);c=h,u+=1}return n?s.push("Z"):s.push("L",o.x,o.y),s.map(h=>typeof h=="string"?h:+h.toFixed(3)).join(" ")}function py(i,t={}){const e=[];return i&&i.length&&i.forEach(n=>{Array.isArray(n)?e.push({x:n[0],y:n[1]}):e.push({x:n.x,y:n.y})}),MN(e,t.round,t.initialMove==null||t.initialMove,t.close,t.exclude)}function Wc(i,t,e,n,r=0,s=0,o=0,a,l){if(e===0||n===0)return[];a-=i,l-=t,e=Math.abs(e),n=Math.abs(n);const c=-a/2,u=-l/2,h=Math.cos(r*Math.PI/180),f=Math.sin(r*Math.PI/180),p=h*c+f*u,b=-1*f*c+h*u,v=p*p,w=b*b,x=e*e,E=n*n,S=v/x+w/E;let O;if(S>1)e=Math.sqrt(S)*e,n=Math.sqrt(S)*n,O=0;else{let at=1;s===o&&(at=-1),O=at*Math.sqrt((x*E-x*w-E*v)/(x*w+E*v))}const k=O*e*b/n,m=-1*O*n*p/e,T=h*k-f*m+a/2,D=f*k+h*m+l/2;let z=Math.atan2((b-m)/n,(p-k)/e)-Math.atan2(0,1),H=z>=0?z:2*Math.PI+z;z=Math.atan2((-b-m)/n,(-p-k)/e)-Math.atan2((b-m)/n,(p-k)/e);let q=z>=0?z:2*Math.PI+z;o===0&&q>0?q-=2*Math.PI:o!==0&&q<0&&(q+=2*Math.PI);const R=q*2/Math.PI,rt=Math.ceil(R<0?-1*R:R),st=q/rt,j=8/3*Math.sin(st/4)*Math.sin(st/4)/Math.sin(st/2),B=h*e,tt=h*n,bt=f*e,Ot=f*n;let Gt=Math.cos(H),pt=Math.sin(H),$t=-j*(B*pt+Ot*Gt),Dt=-j*(bt*pt-tt*Gt),_t=0,zt=0;const de=[];for(let at=0;at<rt;at+=1){H+=st,Gt=Math.cos(H),pt=Math.sin(H),_t=B*Gt-Ot*pt+T,zt=bt*Gt+tt*pt+D;const Tt=-j*(B*pt+Ot*Gt),Ut=-j*(bt*pt-tt*Gt),te=at*6;de[te]=Number($t+i),de[te+1]=Number(Dt+t),de[te+2]=Number(_t-Tt+i),de[te+3]=Number(zt-Ut+t),de[te+4]=Number(_t+i),de[te+5]=Number(zt+t),$t=_t+Tt,Dt=zt+Ut}return de.map(at=>+at.toFixed(2))}function ON(i,t,e,n,r=0,s=0,o=0,a,l){const c=[],u=Wc(i,t,e,n,r,s,o,a,l);if(u!=null)for(let h=0,f=u.length;h<f;h+=6)c.push("C",u[h],u[h+1],u[h+2],u[h+3],u[h+4],u[h+5]);return c.join(" ")}class Nt extends ss{constructor(t){if(super(),this.PRECISION=3,this.segments=[],Array.isArray(t))if(At.isLine(t[0])||We.isCurve(t[0])){let e=null;t.forEach((r,s)=>{s===0&&this.appendSegment(Nt.createSegment("M",r.start)),e!=null&&!e.end.equals(r.start)&&this.appendSegment(Nt.createSegment("M",r.start)),At.isLine(r)?this.appendSegment(Nt.createSegment("L",r.end)):We.isCurve(r)&&this.appendSegment(Nt.createSegment("C",r.controlPoint1,r.controlPoint2,r.end)),e=r})}else t.forEach(n=>{n.isSegment&&this.appendSegment(n)});else t!=null&&(At.isLine(t)?(this.appendSegment(Nt.createSegment("M",t.start)),this.appendSegment(Nt.createSegment("L",t.end))):We.isCurve(t)?(this.appendSegment(Nt.createSegment("M",t.start)),this.appendSegment(Nt.createSegment("C",t.controlPoint1,t.controlPoint2,t.end))):on.isPolyline(t)?t.points&&t.points.length&&t.points.forEach((e,n)=>{const r=n===0?Nt.createSegment("M",e):Nt.createSegment("L",e);this.appendSegment(r)}):t.isSegment&&this.appendSegment(t))}get[Symbol.toStringTag](){return Nt.toStringTag}get start(){const t=this.segments,e=t.length;if(e===0)return null;for(let n=0;n<e;n+=1){const r=t[n];if(r.isVisible)return r.start}return t[e-1].end}get end(){const t=this.segments,e=t.length;if(e===0)return null;for(let n=e-1;n>=0;n-=1){const r=t[n];if(r.isVisible)return r.end}return t[e-1].end}moveTo(...t){return this.appendSegment(Yo.create.call(null,...t))}lineTo(...t){return this.appendSegment(kn.create.call(null,...t))}curveTo(...t){return this.appendSegment(vi.create.call(null,...t))}arcTo(t,e,n,r,s,o,a){const l=this.end||new N,c=typeof o=="number"?Wc(l.x,l.y,t,e,n,r,s,o,a):Wc(l.x,l.y,t,e,n,r,s,o.x,o.y);if(c!=null)for(let u=0,h=c.length;u<h;u+=6)this.curveTo(c[u],c[u+1],c[u+2],c[u+3],c[u+4],c[u+5]);return this}quadTo(t,e,n,r){const s=this.end||new N,o=["M",s.x,s.y];if(typeof t=="number")o.push("Q",t,e,n,r);else{const l=e;o.push("Q",t.x,t.y,l.x,l.y)}const a=Nt.parse(o.join(" "));return this.appendSegment(a.segments.slice(1)),this}close(){return this.appendSegment(Xo.create())}drawPoints(t,e={}){const n=py(t,e),r=Nt.parse(n);r&&r.segments&&this.appendSegment(r.segments)}bbox(){const t=this.segments,e=t.length;if(e===0)return null;let n;for(let s=0;s<e;s+=1){const o=t[s];if(o.isVisible){const a=o.bbox();a!=null&&(n=n?n.union(a):a)}}if(n!=null)return n;const r=t[e-1];return new ht(r.end.x,r.end.y,0,0)}appendSegment(t){const e=this.segments.length;let n=e!==0?this.segments[e-1]:null,r;const s=null;if(Array.isArray(t))for(let o=0,a=t.length;o<a;o+=1){const l=t[o];r=this.prepareSegment(l,n,s),this.segments.push(r),n=r}else t!=null&&t.isSegment&&(r=this.prepareSegment(t,n,s),this.segments.push(r));return this}insertSegment(t,e){const n=this.segments.length;if(t<0&&(t=n+t+1),t>n||t<0)throw new Error("Index out of range.");let r,s=null,o=null;if(n!==0&&(t>=1?(s=this.segments[t-1],o=s.nextSegment):(s=null,o=this.segments[0])),!Array.isArray(e))r=this.prepareSegment(e,s,o),this.segments.splice(t,0,r);else for(let a=0,l=e.length;a<l;a+=1){const c=e[a];r=this.prepareSegment(c,s,o),this.segments.splice(t+a,0,r),s=r}return this}removeSegment(t){const e=this.fixIndex(t),n=this.segments.splice(e,1)[0],r=n.previousSegment,s=n.nextSegment;return r&&(r.nextSegment=s),s&&(s.previousSegment=r),n.isSubpathStart&&s&&this.updateSubpathStartSegment(s),n}replaceSegment(t,e){const n=this.fixIndex(t);let r;const s=this.segments[n];let o=s.previousSegment;const a=s.nextSegment;let l=s.isSubpathStart;if(!Array.isArray(e))r=this.prepareSegment(e,o,a),this.segments.splice(n,1,r),l&&r.isSubpathStart&&(l=!1);else{this.segments.splice(t,1);for(let c=0,u=e.length;c<u;c+=1){const h=e[c];r=this.prepareSegment(h,o,a),this.segments.splice(t+c,0,r),o=r,l&&r.isSubpathStart&&(l=!1)}}l&&a&&this.updateSubpathStartSegment(a)}getSegment(t){const e=this.fixIndex(t);return this.segments[e]}fixIndex(t){const e=this.segments.length;if(e===0)throw new Error("Path has no segments.");let n=t;for(;n<0;)n=e+n;if(n>=e||n<0)throw new Error("Index out of range.");return n}segmentAt(t,e={}){const n=this.segmentIndexAt(t,e);return n?this.getSegment(n):null}segmentAtLength(t,e={}){const n=this.segmentIndexAtLength(t,e);return n?this.getSegment(n):null}segmentIndexAt(t,e={}){if(this.segments.length===0)return null;const n=yo(t,0,1),r=this.getOptions(e),o=this.length(r)*n;return this.segmentIndexAtLength(o,r)}segmentIndexAtLength(t,e={}){const n=this.segments.length;if(n===0)return null;let r=!0;t<0&&(r=!1,t=-t);const s=this.getPrecision(e),o=this.getSubdivisions(e);let a=0,l=null;for(let c=0;c<n;c+=1){const u=r?c:n-1-c,h=this.segments[u],f=o[u],p=h.length({precision:s,subdivisions:f});if(h.isVisible){if(t<=a+p)return u;l=u}a+=p}return l}getSegmentSubdivisions(t={}){const e=this.getPrecision(t),n=[];for(let r=0,s=this.segments.length;r<s;r+=1){const a=this.segments[r].getSubdivisions({precision:e});n.push(a)}return n}updateSubpathStartSegment(t){let e=t.previousSegment,n=t;for(;n&&!n.isSubpathStart;)e!=null?n.subpathStartSegment=e.subpathStartSegment:n.subpathStartSegment=null,e=n,n=n.nextSegment}prepareSegment(t,e,n){t.previousSegment=e,t.nextSegment=n,e!=null&&(e.nextSegment=t),n!=null&&(n.previousSegment=t);let r=t;return t.isSubpathStart&&(t.subpathStartSegment=t,r=n),r!=null&&this.updateSubpathStartSegment(r),t}closestPoint(t,e={}){const n=this.closestPointT(t,e);return n?this.pointAtT(n):null}closestPointLength(t,e={}){const n=this.getOptions(e),r=this.closestPointT(t,n);return r?this.lengthAtT(r,n):0}closestPointNormalizedLength(t,e={}){const n=this.getOptions(e),r=this.closestPointLength(t,n);if(r===0)return 0;const s=this.length(n);return s===0?0:r/s}closestPointT(t,e={}){if(this.segments.length===0)return null;const n=this.getPrecision(e),r=this.getSubdivisions(e);let s,o=1/0;for(let a=0,l=this.segments.length;a<l;a+=1){const c=this.segments[a],u=r[a];if(c.isVisible){const h=c.closestPointT(t,{precision:n,subdivisions:u}),f=c.pointAtT(h),p=E2(f,t);p<o&&(s={segmentIndex:a,value:h},o=p)}}return s||{segmentIndex:this.segments.length-1,value:1}}closestPointTangent(t,e={}){if(this.segments.length===0)return null;const n=this.getPrecision(e),r=this.getSubdivisions(e);let s,o=1/0;for(let a=0,l=this.segments.length;a<l;a+=1){const c=this.segments[a],u=r[a];if(c.isDifferentiable()){const h=c.closestPointT(t,{precision:n,subdivisions:u}),f=c.pointAtT(h),p=E2(f,t);p<o&&(s=c.tangentAtT(h),o=p)}}return s||null}containsPoint(t,e={}){const n=this.toPolylines(e);if(!n)return!1;let r=0;for(let s=0,o=n.length;s<o;s+=1)n[s].containsPoint(t)&&(r+=1);return r%2===1}pointAt(t,e={}){if(this.segments.length===0)return null;if(t<=0)return this.start.clone();if(t>=1)return this.end.clone();const n=this.getOptions(e),s=this.length(n)*t;return this.pointAtLength(s,n)}pointAtLength(t,e={}){if(this.segments.length===0)return null;if(t===0)return this.start.clone();let n=!0;t<0&&(n=!1,t=-t);const r=this.getPrecision(e),s=this.getSubdivisions(e);let o,a=0;for(let c=0,u=this.segments.length;c<u;c+=1){const h=n?c:u-1-c,f=this.segments[h],p=s[h],b=f.length({precision:r,subdivisions:p});if(f.isVisible){if(t<=a+b)return f.pointAtLength((n?1:-1)*(t-a),{precision:r,subdivisions:p});o=f}a+=b}return o?n?o.end:o.start:this.segments[this.segments.length-1].end.clone()}pointAtT(t){const e=this.segments,n=e.length;if(n===0)return null;const r=t.segmentIndex;if(r<0)return e[0].pointAtT(0);if(r>=n)return e[n-1].pointAtT(1);const s=yo(t.value,0,1);return e[r].pointAtT(s)}divideAt(t,e={}){if(this.segments.length===0)return null;const n=yo(t,0,1),r=this.getOptions(e),o=this.length(r)*n;return this.divideAtLength(o,r)}divideAtLength(t,e={}){if(this.segments.length===0)return null;let n=!0;t<0&&(n=!1,t=-t);const r=this.getPrecision(e),s=this.getSubdivisions(e);let o=0,a,l,c,u,h;for(let k=0,m=this.segments.length;k<m;k+=1){const T=n?k:m-1-k,D=this.getSegment(T),z=s[T],H={precision:r,subdivisions:z},q=D.length(H);if(D.isDifferentiable()&&(c=D,u=T,t<=o+q)){l=T,a=D.divideAtLength((n?1:-1)*(t-o),H);break}o+=q}if(!c)return null;a||(l=u,h=n?1:0,a=c.divideAtT(h));const f=this.clone(),p=l;f.replaceSegment(p,a);const b=p;let v=p+1,w=p+2;a[0].isDifferentiable()||(f.removeSegment(b),v-=1,w-=1);const x=f.getSegment(v).start;f.insertSegment(v,Nt.createSegment("M",x)),w+=1,a[1].isDifferentiable()||(f.removeSegment(w-1),w-=1);const E=w-b-1;for(let k=w,m=f.segments.length;k<m;k+=1){const T=this.getSegment(k-E),D=f.getSegment(k);if(D.type==="Z"&&!T.subpathStartSegment.end.equals(D.subpathStartSegment.end)){const z=Nt.createSegment("L",T.end);f.replaceSegment(k,z)}}const S=new Nt(f.segments.slice(0,v)),O=new Nt(f.segments.slice(v));return[S,O]}intersectsWithLine(t,e={}){const n=this.toPolylines(e);if(n==null)return null;let r=null;for(let s=0,o=n.length;s<o;s+=1){const a=n[s],l=t.intersect(a);l&&(r==null&&(r=[]),Array.isArray(l)?r.push(...l):r.push(l))}return r}isDifferentiable(){for(let t=0,e=this.segments.length;t<e;t+=1)if(this.segments[t].isDifferentiable())return!0;return!1}isValid(){const t=this.segments;return t.length===0||t[0].type==="M"}length(t={}){if(this.segments.length===0)return 0;const e=this.getSubdivisions(t);let n=0;for(let r=0,s=this.segments.length;r<s;r+=1){const o=this.segments[r],a=e[r];n+=o.length({subdivisions:a})}return n}lengthAtT(t,e={}){const n=this.segments.length;if(n===0)return 0;let r=t.segmentIndex;if(r<0)return 0;let s=yo(t.value,0,1);r>=n&&(r=n-1,s=1);const o=this.getPrecision(e),a=this.getSubdivisions(e);let l=0;for(let h=0;h<r;h+=1){const f=this.segments[h],p=a[h];l+=f.length({precision:o,subdivisions:p})}const c=this.segments[r],u=a[r];return l+=c.lengthAtT(s,{precision:o,subdivisions:u}),l}tangentAt(t,e={}){if(this.segments.length===0)return null;const n=yo(t,0,1),r=this.getOptions(e),o=this.length(r)*n;return this.tangentAtLength(o,r)}tangentAtLength(t,e={}){if(this.segments.length===0)return null;let n=!0;t<0&&(n=!1,t=-t);const r=this.getPrecision(e),s=this.getSubdivisions(e);let o,a=0;for(let l=0,c=this.segments.length;l<c;l+=1){const u=n?l:c-1-l,h=this.segments[u],f=s[u],p=h.length({precision:r,subdivisions:f});if(h.isDifferentiable()){if(t<=a+p)return h.tangentAtLength((n?1:-1)*(t-a),{precision:r,subdivisions:f});o=h}a+=p}if(o){const l=n?1:0;return o.tangentAtT(l)}return null}tangentAtT(t){const e=this.segments.length;if(e===0)return null;const n=t.segmentIndex;if(n<0)return this.segments[0].tangentAtT(0);if(n>=e)return this.segments[e-1].tangentAtT(1);const r=yo(t.value,0,1);return this.segments[n].tangentAtT(r)}getPrecision(t={}){return t.precision==null?this.PRECISION:t.precision}getSubdivisions(t={}){if(t.segmentSubdivisions==null){const e=this.getPrecision(t);return this.getSegmentSubdivisions({precision:e})}return t.segmentSubdivisions}getOptions(t={}){const e=this.getPrecision(t),n=this.getSubdivisions(t);return{precision:e,segmentSubdivisions:n}}toPoints(t={}){const e=this.segments,n=e.length;if(n===0)return null;const r=this.getSubdivisions(t),s=[];let o=[];for(let a=0;a<n;a+=1){const l=e[a];if(l.isVisible){const c=r[a];c.length>0?c.forEach(u=>o.push(u.start)):o.push(l.start)}else o.length>0&&(o.push(e[a-1].end),s.push(o),o=[])}return o.length>0&&(o.push(this.end),s.push(o)),s}toPolylines(t={}){const e=this.toPoints(t);return e?e.map(n=>new on(n)):null}scale(t,e,n){return this.segments.forEach(r=>r.scale(t,e,n)),this}rotate(t,e){return this.segments.forEach(n=>n.rotate(t,e)),this}translate(t,e){return typeof t=="number"?this.segments.forEach(n=>n.translate(t,e)):this.segments.forEach(n=>n.translate(t)),this}clone(){const t=new Nt;return this.segments.forEach(e=>t.appendSegment(e.clone())),t}equals(t){if(t==null)return!1;const e=this.segments,n=t.segments,r=e.length;if(n.length!==r)return!1;for(let s=0;s<r;s+=1){const o=e[s],a=n[s];if(o.type!==a.type||!o.equals(a))return!1}return!0}toJSON(){return this.segments.map(t=>t.toJSON())}serialize(){if(!this.isValid())throw new Error("Invalid path segments.");return this.segments.map(t=>t.serialize()).join(" ")}toString(){return this.serialize()}}(function(i){i.toStringTag=`X6.Geometry.${i.name}`;function t(e){if(e==null)return!1;if(e instanceof i)return!0;const n=e[Symbol.toStringTag],r=e;return!!((n==null||n===i.toStringTag)&&Array.isArray(r.segments)&&typeof r.moveTo=="function"&&typeof r.lineTo=="function"&&typeof r.curveTo=="function")}i.isPath=t})(Nt||(Nt={}));(function(i){function t(n){if(!n)return new i;const r=new i,s=/(?:[a-zA-Z] *)(?:(?:-?\d+(?:\.\d+)?(?:e[-+]?\d+)? *,? *)|(?:-?\.\d+ *,? *))+|(?:[a-zA-Z] *)(?! |\d|-|\.)/g,o=i.normalize(n).match(s);if(o!=null)for(let a=0,l=o.length;a<l;a+=1){const c=o[a],u=/(?:[a-zA-Z])|(?:(?:-?\d+(?:\.\d+)?(?:e[-+]?\d+)?))|(?:(?:-?\.\d+))/g,h=c.match(u);if(h!=null){const f=h[0],p=h.slice(1).map(v=>+v),b=e.call(null,f,...p);r.appendSegment(b)}}return r}i.parse=t;function e(n,...r){if(n==="M")return Yo.create.call(null,...r);if(n==="L")return kn.create.call(null,...r);if(n==="C")return vi.create.call(null,...r);if(n==="z"||n==="Z")return Xo.create();throw new Error(`Invalid path segment type "${n}"`)}i.createSegment=e})(Nt||(Nt={}));(function(i){i.normalize=EN,i.isValid=AN,i.drawArc=ON,i.drawPoints=py,i.arcToCurves=Wc})(Nt||(Nt={}));class Et{constructor(t,e,n){if(!t)throw new TypeError("Invalid element to create vector");let r;if(Et.isVector(t))r=t.node;else if(typeof t=="string")if(t.toLowerCase()==="svg")r=Uc();else if(t[0]==="<"){const s=Uc(t);r=document.importNode(s.firstChild,!0)}else r=document.createElementNS(sn.svg,t);else r=t;this.node=r,e&&this.setAttributes(e),n&&this.append(n)}get[Symbol.toStringTag](){return Et.toStringTag}get type(){return this.node.nodeName}get id(){return this.node.id}set id(t){this.node.id=t}transform(t,e){return t==null?Ko(this.node):(Ko(this.node,t,e),this)}translate(t,e=0,n={}){return t==null?A2(this.node):(A2(this.node,t,e,n),this)}rotate(t,e,n,r={}){return t==null?Vd(this.node):(Vd(this.node,t,e,n,r),this)}scale(t,e){return t==null?Gr(this.node):(Gr(this.node,t,e),this)}getTransformToElement(t){const e=Et.toNode(t);return da(this.node,e)}removeAttribute(t){return cy(this.node,t),this}getAttribute(t){return mN(this.node,t)}setAttribute(t,e){return up(this.node,t,e),this}setAttributes(t){return uy(this.node,t),this}attr(t,e){return t==null?me(this.node):typeof t=="string"&&e===void 0?me(this.node,t):(typeof t=="object"?me(this.node,t):me(this.node,t,e),this)}svg(){return this.node instanceof SVGSVGElement?this:Et.create(this.node.ownerSVGElement)}defs(){const t=this.svg()||this,e=t.node.getElementsByTagName("defs")[0];return e?Et.create(e):Et.create("defs").appendTo(t)}text(t,e={}){return my(this.node,t,e),this}tagName(){return hN(this.node)}clone(){return Et.create(this.node.cloneNode(!0))}remove(){return er(this.node),this}empty(){return lp(this.node),this}append(t){return gl(this.node,Et.toNodes(t)),this}appendTo(t){return pN(this.node,Et.isVector(t)?t.node:t),this}prepend(t){return fN(this.node,Et.toNodes(t)),this}before(t){return cp(this.node,Et.toNodes(t)),this}replace(t){return this.node.parentNode&&this.node.parentNode.replaceChild(Et.toNode(t),this.node),Et.create(t)}first(){return this.node.firstChild?Et.create(this.node.firstChild):null}last(){return this.node.lastChild?Et.create(this.node.lastChild):null}get(t){const e=this.node.childNodes[t];return e?Et.create(e):null}indexOf(t){return Array.prototype.slice.call(this.node.childNodes).indexOf(Et.toNode(t))}find(t){const e=[],n=dN(this.node,t);if(n)for(let r=0,s=n.length;r<s;r+=1)e.push(Et.create(n[r]));return e}findOne(t){const e=Dd(this.node,t);return e?Et.create(e):null}findParentByClass(t,e){const n=ly(this.node,t,e);return n?Et.create(n):null}matches(t){const e=this.node;this.node.matches;const n=e.matches||e.matchesSelector||e.msMatchesSelector||e.mozMatchesSelector||e.webkitMatchesSelector||e.oMatchesSelector||null;return n&&n.call(e,t)}contains(t){return ap(this.node,Et.isVector(t)?t.node:t)}wrap(t){const e=Et.create(t),n=this.node.parentNode;return n!=null&&n.insertBefore(e.node,this.node),e.append(this)}parent(t){let e=this;if(e.node.parentNode==null)return null;if(e=Et.create(e.node.parentNode),t==null)return e;do if(typeof t=="string"?e.matches(t):e instanceof t)return e;while(e=Et.create(e.node.parentNode));return e}children(){const t=this.node.childNodes,e=[];for(let n=0;n<t.length;n+=1)t[n].nodeType===1&&e.push(Et.create(t[n]));return e}eachChild(t,e){const n=this.children();for(let r=0,s=n.length;r<s;r+=1)t.call(n[r],n[r],r,n),e&&n[r].eachChild(t,e);return this}index(){return op(this.node)}hasClass(t){return zu(this.node,t)}addClass(t){return ge(this.node,t),this}removeClass(t){return yi(this.node,t),this}toggleClass(t,e){return oy(this.node,t,e),this}toLocalPoint(t,e){return JN(this.node,t,e)}toGeometryShape(){return Cy(this.node)}translateCenterToPoint(t){const n=this.getBBox({target:this.svg()}).getCenter();return this.translate(t.x-n.x,t.y-n.y),this}translateAndAutoOrient(t,e,n){return Hd(this.node,t,e,n),this}animate(t){return ZN(this.node,t)}animateTransform(t){return QN(this.node,t)}animateAlongPath(t,e){return t$(this.node,t,e)}normalizePath(){return this.tagName()==="path"&&this.attr("d",Nt.normalize(this.attr("d"))),this}bbox(t,e){return KN(this.node,t,e)}getBBox(t={}){return vn(this.node,{recursive:t.recursive,target:t.target?Et.toNode(t.target):null})}sample(t=1){return this.node instanceof SVGPathElement?DN(this.node,t):[]}toPath(){return Et.create(jN(this.node))}toPathData(){return xy(this.node)}}(function(i){i.toStringTag=`X6.${i.name}`;function t(o){if(o==null)return!1;if(o instanceof i)return!0;const a=o[Symbol.toStringTag],l=o;return(a==null||a===i.toStringTag)&&l.node instanceof SVGElement&&typeof l.animate=="function"&&typeof l.sample=="function"&&typeof l.normalizePath=="function"&&typeof l.toPath=="function"}i.isVector=t;function e(o,a,l){return new i(o,a,l)}i.create=e;function n(o){if(o[0]==="<"){const a=Uc(o),l=[];for(let c=0,u=a.childNodes.length;c<u;c+=1){const h=a.childNodes[c];l.push(e(document.importNode(h,!0)))}return l}return[e(o)]}i.createVectors=n;function r(o){return t(o)?o.node:o}i.toNode=r;function s(o){return Array.isArray(o)?o.map(a=>r(a)):[r(o)]}i.toNodes=s})(Et||(Et={}));function TN(i,t){const e=Et.create(t),n=Et.create("textPath"),r=i.d;if(r&&i["xlink:href"]===void 0){const s=Et.create("path").attr("d",r).appendTo(e.defs());n.attr("xlink:href",`#${s.id}`)}return typeof i=="object"&&n.attr(i),n.node}function PN(i,t,e){const n=e.eol,r=e.baseSize,s=e.lineHeight;let o=0,a;const l={},c=t.length-1;for(let u=0;u<=c;u+=1){let h=t[u],f=null;if(typeof h=="object"){const p=h.attrs,b=Et.create("tspan",p);a=b.node;let v=h.t;n&&u===c&&(v+=n),a.textContent=v;const w=p.class;w&&b.addClass(w),e.includeAnnotationIndices&&b.attr("annotations",h.annotations.join(",")),f=parseFloat(p["font-size"]),f===void 0&&(f=r),f&&f>o&&(o=f)}else n&&u===c&&(h+=n),a=document.createTextNode(h||" "),r&&r>o&&(o=r);i.appendChild(a)}return o&&(l.maxFontSize=o),s?l.lineHeight=s:o&&(l.lineHeight=o*1.2),l}const gy=/em$/;function mc(i,t){const e=parseFloat(i);return gy.test(i)?e*t:e}function kN(i,t,e,n){if(!Array.isArray(t))return 0;const r=t.length;if(!r)return 0;let s=t[0];const o=mc(s.maxFontSize,e)||e;let a=0;const l=mc(n,e);for(let h=1;h<r;h+=1)s=t[h],a+=mc(s.lineHeight,e)||l;const c=mc(s.maxFontSize,e)||e;let u;switch(i){case"middle":u=o/2-.15*c-a/2;break;case"bottom":u=-(.25*c)-a;break;default:case"top":u=.8*o;break}return u}function my(i,t,e={}){t=vN(t);const n=e.eol;let r=e.textPath;const s=e.textVerticalAnchor,o=s==="middle"||s==="bottom"||s==="top";let a=e.x;a===void 0&&(a=i.getAttribute("x")||0);const l=e.includeAnnotationIndices;let c=e.annotations;c&&!Array.isArray(c)&&(c=[c]);const u=e.lineHeight,h=u==="auto",f=h?"1.5em":u||"1em";lp(i),me(i,{"xml:space":"preserve",display:t||e.displayEmpty?null:"none"});const p=me(i,"font-size");let b=parseFloat(p);b||(b=16,(o||c)&&!p&&me(i,"font-size",`${b}`));let v;r?(typeof r=="string"&&(r={d:r}),v=TN(r,i)):v=document.createDocumentFragment();let w,x=0,E;const S=t.split(`
`),O=[],k=S.length-1;for(let T=0;T<=k;T+=1){w=f;let D="v-line";const z=Jn("tspan");let H,q=S[T];if(q)if(c){const R=bN(q,c,{offset:-x,includeAnnotationIndices:l});H=PN(z,R,{eol:T!==k&&n,baseSize:b,lineHeight:h?null:f,includeAnnotationIndices:l});const rt=H.lineHeight;rt&&h&&T!==0&&(w=rt),T===0&&(E=H.maxFontSize*.8)}else n&&T!==k&&(q+=n),z.textContent=q;else{z.textContent="-",D+=" v-empty-line";const R=z.style;R.fillOpacity=0,R.strokeOpacity=0,c&&(H={})}H&&O.push(H),T>0&&z.setAttribute("dy",w),(T>0||r)&&z.setAttribute("x",a),z.className.baseVal=D,v.appendChild(z),x+=q.length+1}if(o)if(c)w=kN(s,O,b,f);else if(s==="top")w="0.8em";else{let T;switch(k>0?(T=parseFloat(f)||1,T*=k,gy.test(f)||(T/=b)):T=0,s){case"middle":w=`${.3-T/2}em`;break;case"bottom":w=`${-T-.3}em`;break}}else s===0?w="0em":s?w=s:(w=0,i.getAttribute("y")==null&&i.setAttribute("y",`${E||"0.8em"}`));v.firstChild.setAttribute("dy",w),i.appendChild(v)}function _N(i,t,e,n){const r=[],s=[];if(t!=null){const o=i.split(t);if(r.push(...o),typeof t=="string")for(let a=0,l=o.length-1;a<l;a+=1)s.push(t);else{const a=i.match(new RegExp(t,"g"));for(let l=0,c=o.length-1;l<c;l+=1)s.push(a?a[l]:"")}}else{let o="";for(let a=0,l=i.length;a<l;a+=1){const c=i[a];c===" "?(r.push(o),s.push(" "),o=""):c.match(/[^\x00-\xff]/)?(o.length&&(r.push(o),s.push("")),r.push(c),s.push(""),o=""):o+=c}o.length&&r.push(o)}for(let o=0;o<r.length;o+=1){const a=r[o];if(a.indexOf(e)>=0&&a.length>1){const l=a.split(e);for(let h=0,f=l.length-1;h<f;h+=1)l.splice(2*h+1,0,e);const c=l.filter(h=>h!=="");r.splice(o,1,...c);const u=c.map(()=>"");u.pop(),s.splice(o,0,...u)}}for(let o=0;o<r.length;o+=1){const a=r[o],l=a.search(n);l>0&&l<a.length-1&&(r.splice(o,1,a.substring(0,l+1),a.substring(l+1)),s.splice(o,0,""))}return{words:r,separators:s}}function by(i,t,e={},n={}){const r=t.width,s=t.height,o=n.svgDocument||Jn("svg"),a=Jn("text"),l=Jn("tspan"),c=document.createTextNode("");me(a,e),a.appendChild(l),a.style.opacity="0",a.style.display="block",l.style.display="block",l.appendChild(c),o.appendChild(a);const u=o.parentNode==null;u&&document.body.appendChild(o);const h=n.eol||`
`,f=n.separator||" ",p=n.hyphen?new RegExp(n.hyphen):/[^\w\d]/,b=n.breakWord!==!1,v=[],w={};let x=[],E,S,O;const{words:k,separators:m}=_N(i,n.separator,h,p);for(let T=0,D=0,z=k.length;T<z;T+=1){const H=k[T];if(!!H){if(H===h){v[D]=!0,D+=1,x[D]="";continue}if(x[D]!=null?(O=m[T-1]||"",c.data=`${x[D]}${O}${H}`):c.data=H,l.getComputedTextLength()<=r)x[D]=c.data,w[D]=m[T],E&&(v[D]=!0,D+=1,E=0);else{if(b){if(!x[D]||E){const q=!!E,R=H.length===1;if(E=H.length-1,q||R){if(R){if(!x[D]){x=[];break}k.splice(T,2,H+k[T+1]),m.splice(T+1,1),v[D]=!0,D+=1,z-=1,T-=1;continue}k[T]=H.substring(0,E),k[T+1]=H.substring(E)+k[T+1]}else k.splice(T,1,H.substring(0,E),H.substring(E)),m.splice(T,0,""),z+=1,D&&!v[D-1]&&(D-=1);T-=1;continue}}else if(!x[D]){x[D]=H,v[D]=!0,D+=1;continue}D+=1,T-=1}if(s!=null){if(S==null){let q;e.lineHeight==="auto"?q={value:1.5,unit:"em"}:q=aN(e.lineHeight,["em"])||{value:1,unit:"em"},S=q.value,q.unit==="em"&&(Ze.IS_FIREFOX?S*=l.getBBox().height:S*=a.getBBox().height)}if(S*x.length>s){const q=Math.floor(s/S)-1,R=x[q],rt=x[q+1];if(x.splice(q+1),R==null)break;let st=n.ellipsis;if(!st)break;typeof st!="string"&&(st="\u2026");let j=R;rt&&b&&(j+=O+rt);let B=j.length,tt,bt;do{if(bt=j[B],tt=j.substring(0,B),bt?bt.match(f)&&(tt+=bt):tt+=w[q],tt+=st,c.data=tt,l.getComputedTextLength()<=r){x[q]=tt;break}B-=1}while(B>=0);break}}}}return er(u?o:a),x.join(h)}const Bd=.551784;function xn(i,t,e=NaN){const n=i.getAttribute(t);if(n==null)return e;const r=parseFloat(n);return Number.isNaN(r)?e:r}function DN(i,t=1){const e=i.getTotalLength(),n=[];let r=0,s;for(;r<e;)s=i.getPointAtLength(r),n.push({distance:r,x:s.x,y:s.y}),r+=t;return n}function NN(i){return["M",xn(i,"x1"),xn(i,"y1"),"L",xn(i,"x2"),xn(i,"y2")].join(" ")}function $N(i){const t=Xc(i);return t.length===0?null:`${vy(t)} Z`}function FN(i){const t=Xc(i);return t.length===0?null:vy(t)}function vy(i){return`M ${i.map(e=>`${e.x} ${e.y}`).join(" L")}`}function Xc(i){const t=[],e=i.points;if(e)for(let n=0,r=e.numberOfItems;n<r;n+=1)t.push(e.getItem(n));return t}function LN(i){const t=xn(i,"cx",0),e=xn(i,"cy",0),n=xn(i,"r"),r=n*Bd;return["M",t,e-n,"C",t+r,e-n,t+n,e-r,t+n,e,"C",t+n,e+r,t+r,e+n,t,e+n,"C",t-r,e+n,t-n,e+r,t-n,e,"C",t-n,e-r,t-r,e-n,t,e-n,"Z"].join(" ")}function IN(i){const t=xn(i,"cx",0),e=xn(i,"cy",0),n=xn(i,"rx"),r=xn(i,"ry")||n,s=n*Bd,o=r*Bd;return["M",t,e-r,"C",t+s,e-r,t+n,e-o,t+n,e,"C",t+n,e+o,t+s,e+r,t,e+r,"C",t-s,e+r,t-n,e+o,t-n,e,"C",t-n,e-o,t-s,e-r,t,e-r,"Z"].join(" ")}function zN(i){return yy({x:xn(i,"x",0),y:xn(i,"y",0),width:xn(i,"width",0),height:xn(i,"height",0),rx:xn(i,"rx",0),ry:xn(i,"ry",0)})}function yy(i){let t;const e=i.x,n=i.y,r=i.width,s=i.height,o=Math.min(i.rx||i["top-rx"]||0,r/2),a=Math.min(i.rx||i["bottom-rx"]||0,r/2),l=Math.min(i.ry||i["top-ry"]||0,s/2),c=Math.min(i.ry||i["bottom-ry"]||0,s/2);return o||a||l||c?t=["M",e,n+l,"v",s-l-c,"a",a,c,0,0,0,a,c,"h",r-2*a,"a",a,c,0,0,0,a,-c,"v",-(s-c-l),"a",o,l,0,0,0,-o,-l,"h",-(r-2*o),"a",o,l,0,0,0,-o,l,"Z"]:t=["M",e,n,"H",e+r,"V",n+s,"H",e,"V",n,"Z"],t.join(" ")}function jN(i){const t=Jn("path");me(t,me(i));const e=xy(i);return e&&t.setAttribute("d",e),t}function xy(i){const t=i.tagName.toLowerCase();switch(t){case"path":return i.getAttribute("d");case"line":return NN(i);case"polygon":return $N(i);case"polyline":return FN(i);case"ellipse":return IN(i);case"circle":return LN(i);case"rect":return zN(i)}throw new Error(`"${t}" cannot be converted to svg path element.`)}function BN(i,t,e,n){const r=2*Math.PI-1e-6,s=i,o=t;let a=e,l=n;if(l<a){const v=a;a=l,l=v}const c=l-a,u=c<Math.PI?"0":"1",h=Math.cos(a),f=Math.sin(a),p=Math.cos(l),b=Math.sin(l);return c>=r?s?`M0,${o}A${o},${o} 0 1,1 0,${-o}A${o},${o} 0 1,1 0,${o}M0,${s}A${s},${s} 0 1,0 0,${-s}A${s},${s} 0 1,0 0,${s}Z`:`M0,${o}A${o},${o} 0 1,1 0,${-o}A${o},${o} 0 1,1 0,${o}Z`:s?`M${o*h},${o*f}A${o},${o} 0 ${u},1 ${o*p},${o*b}L${s*p},${s*b}A${s},${s} 0 ${u},0 ${s*h},${s*f}Z`:`M${o*h},${o*f}A${o},${o} 0 ${u},1 ${o*p},${o*b}L0,0Z`}const bl=Jn("svg"),RN=/(\w+)\(([^,)]+),?([^)]+)?\)/gi,wy=/[ ,]+/,VN=/^(\w+)\((.*)\)/;function HN(i,t){const e=bl.createSVGPoint();return e.x=i,e.y=t,e}function yn(i){const t=bl.createSVGMatrix();if(i!=null){const e=i,n=t;for(const r in e)n[r]=e[r]}return t}function Da(i){return i!=null?(i instanceof DOMMatrix||(i=yn(i)),bl.createSVGTransformFromMatrix(i)):bl.createSVGTransform()}function Yc(i){let t=yn();const e=i!=null&&i.match(RN);if(!e)return t;for(let n=0,r=e.length;n<r;n+=1){const o=e[n].match(VN);if(o){let a,l,c,u,h,f=yn();const p=o[2].split(wy);switch(o[1].toLowerCase()){case"scale":a=parseFloat(p[0]),l=p[1]===void 0?a:parseFloat(p[1]),f=f.scaleNonUniform(a,l);break;case"translate":c=parseFloat(p[0]),u=parseFloat(p[1]),f=f.translate(c,u);break;case"rotate":h=parseFloat(p[0]),c=parseFloat(p[1])||0,u=parseFloat(p[2])||0,c!==0||u!==0?f=f.translate(c,u).rotate(h).translate(-c,-u):f=f.rotate(h);break;case"skewx":h=parseFloat(p[0]),f=f.skewX(h);break;case"skewy":h=parseFloat(p[0]),f=f.skewY(h);break;case"matrix":f.a=parseFloat(p[0]),f.b=parseFloat(p[1]),f.c=parseFloat(p[2]),f.d=parseFloat(p[3]),f.e=parseFloat(p[4]),f.f=parseFloat(p[5]);break;default:continue}t=t.multiply(f)}}return t}function lo(i){const t=i||{},e=t.a!=null?t.a:1,n=t.b!=null?t.b:0,r=t.c!=null?t.c:0,s=t.d!=null?t.d:1,o=t.e!=null?t.e:0,a=t.f!=null?t.f:0;return`matrix(${e},${n},${r},${s},${o},${a})`}function Ru(i){let t,e,n;if(i){const s=wy;if(i.trim().indexOf("matrix")>=0){const o=Yc(i),a=GN(o);t=[a.translateX,a.translateY],e=[a.rotation],n=[a.scaleX,a.scaleY];const l=[];(t[0]!==0||t[1]!==0)&&l.push(`translate(${t.join(",")})`),(n[0]!==1||n[1]!==1)&&l.push(`scale(${n.join(",")})`),e[0]!==0&&l.push(`rotate(${e[0]})`),i=l.join(" ")}else{const o=i.match(/translate\((.*?)\)/);o&&(t=o[1].split(s));const a=i.match(/rotate\((.*?)\)/);a&&(e=a[1].split(s));const l=i.match(/scale\((.*?)\)/);l&&(n=l[1].split(s))}}const r=n&&n[0]?parseFloat(n[0]):1;return{raw:i||"",translation:{tx:t&&t[0]?parseInt(t[0],10):0,ty:t&&t[1]?parseInt(t[1],10):0},rotation:{angle:e&&e[0]?parseInt(e[0],10):0,cx:e&&e[1]?parseInt(e[1],10):void 0,cy:e&&e[2]?parseInt(e[2],10):void 0},scale:{sx:r,sy:n&&n[1]?parseFloat(n[1]):r}}}function Rd(i,t){const e=t.x*i.a+t.y*i.c+0,n=t.x*i.b+t.y*i.d+0;return{x:e,y:n}}function GN(i){const t=Rd(i,{x:0,y:1}),e=Rd(i,{x:1,y:0}),n=180/Math.PI*Math.atan2(t.y,t.x)-90,r=180/Math.PI*Math.atan2(e.y,e.x);return{skewX:n,skewY:r,translateX:i.e,translateY:i.f,scaleX:Math.sqrt(i.a*i.a+i.b*i.b),scaleY:Math.sqrt(i.c*i.c+i.d*i.d),rotation:n}}function qN(i){let t,e,n,r;return i?(t=i.a==null?1:i.a,r=i.d==null?1:i.d,e=i.b,n=i.c):t=r=1,{sx:e?Math.sqrt(t*t+e*e):t,sy:n?Math.sqrt(n*n+r*r):r}}function UN(i){let t={x:0,y:1};return i&&(t=Rd(i,t)),{angle:re.normalize(re.toDeg(Math.atan2(t.y,t.x))-90)}}function WN(i){return{tx:i&&i.e||0,ty:i&&i.f||0}}function fr(i,t){const e=HN(i.x,i.y).matrixTransform(t);return new N(e.x,e.y)}function XN(i,t){return new At(fr(i.start,t),fr(i.end,t))}function ai(i,t){const e=bl.createSVGPoint();e.x=i.x,e.y=i.y;const n=e.matrixTransform(t);e.x=i.x+i.width,e.y=i.y;const r=e.matrixTransform(t);e.x=i.x+i.width,e.y=i.y+i.height;const s=e.matrixTransform(t);e.x=i.x,e.y=i.y+i.height;const o=e.matrixTransform(t),a=Math.min(n.x,r.x,s.x,o.x),l=Math.max(n.x,r.x,s.x,o.x),c=Math.min(n.y,r.y,s.y,o.y),u=Math.max(n.y,r.y,s.y,o.y);return new ht(a,c,l-a,u-c)}var YN=globalThis&&globalThis.__rest||function(i,t){var e={};for(var n in i)Object.prototype.hasOwnProperty.call(i,n)&&t.indexOf(n)<0&&(e[n]=i[n]);if(i!=null&&typeof Object.getOwnPropertySymbols=="function")for(var r=0,n=Object.getOwnPropertySymbols(i);r<n.length;r++)t.indexOf(n[r])<0&&Object.prototype.propertyIsEnumerable.call(i,n[r])&&(e[n[r]]=i[n[r]]);return e};function KN(i,t,e){let n;const r=i.ownerSVGElement;if(!r)return new ht(0,0,0,0);try{n=i.getBBox()}catch{n={x:i.clientLeft,y:i.clientTop,width:i.clientWidth,height:i.clientHeight}}if(t)return ht.create(n);const s=da(i,e||r);return ai(n,s)}function vn(i,t={}){let e;if(!i.ownerSVGElement||!pl(i)){if(Nd(i)){const{left:o,top:a,width:l,height:c}=e$(i);return new ht(o,a,l,c)}return new ht(0,0,0,0)}let r=t.target;if(!t.recursive){try{e=i.getBBox()}catch{e={x:i.clientLeft,y:i.clientTop,width:i.clientWidth,height:i.clientHeight}}if(!r)return ht.create(e);const o=da(i,r);return ai(e,o)}{const o=i.childNodes,a=o.length;if(a===0)return vn(i,{target:r});r||(r=i);for(let l=0;l<a;l+=1){const c=o[l];let u;c.childNodes.length===0?u=vn(c,{target:r}):u=vn(c,{target:r,recursive:!0}),e?e=e.union(u):e=u}return e}}function da(i,t){if(pl(t)&&pl(i)){const e=t.getScreenCTM(),n=i.getScreenCTM();if(e&&n)return e.inverse().multiply(n)}return yn()}function JN(i,t,e){const n=i instanceof SVGSVGElement?i:i.ownerSVGElement,r=n.createSVGPoint();r.x=t,r.y=e;try{const s=n.getScreenCTM(),o=r.matrixTransform(s.inverse()),a=da(i,n).inverse();return o.matrixTransform(a)}catch{return r}}function Cy(i){const t=e=>{const n=i.getAttribute(e),r=n?parseFloat(n):0;return Number.isNaN(r)?0:r};switch(i instanceof SVGElement&&i.nodeName.toLowerCase()){case"rect":return new ht(t("x"),t("y"),t("width"),t("height"));case"circle":return new Ci(t("cx"),t("cy"),t("r"),t("r"));case"ellipse":return new Ci(t("cx"),t("cy"),t("rx"),t("ry"));case"polyline":{const e=Xc(i);return new on(e)}case"polygon":{const e=Xc(i);return e.length>1&&e.push(e[0]),new on(e)}case"path":{let e=i.getAttribute("d");return Nt.isValid(e)||(e=Nt.normalize(e)),Nt.parse(e)}case"line":return new At(t("x1"),t("y1"),t("x2"),t("y2"))}return vn(i)}function ZN(i,t){return Ey(i,t,"animate")}function QN(i,t){return Ey(i,t,"animateTransform")}function Ey(i,t,e){const n=Jn(e);i.appendChild(n);try{return Sy(n,t)}catch{}return()=>{}}function Sy(i,t){const{start:e,complete:n,repeat:r}=t,s=YN(t,["start","complete","repeat"]);me(i,s),e&&i.addEventListener("beginEvent",e),n&&i.addEventListener("endEvent",n),r&&i.addEventListener("repeatEvent",r);const o=i;return o.beginElement(),()=>o.endElement()}function t$(i,t,e){const n=ju(e),r=Jn("animateMotion"),s=Jn("mpath");me(s,{"xlink:href":`#${n}`}),r.appendChild(s),i.appendChild(r);try{return Sy(r,t)}catch{if(document.documentElement.getAttribute("smiling")==="fake"){const a=r;a.animators=[];const l=window,c=a.getAttribute("id");c&&(l.id2anim[c]=a);const u=l.getTargets(a);for(let h=0,f=u.length;h<f;h+=1){const p=u[h],b=new l.Animator(a,p,h);l.animators.push(b),a.animators[h]=b,b.register()}}}return()=>{}}function e$(i){let t=0,e=0,n=0,r=0;if(i){let s=i;for(;s;)t+=s.offsetLeft,e+=s.offsetTop,s=s.offsetParent,s&&(t+=parseInt(w2(s,"borderLeft"),10),e+=parseInt(w2(s,"borderTop"),10));n=i.offsetWidth,r=i.offsetHeight}return{left:t,top:e,width:n,height:r}}function Ko(i,t,e={}){if(t==null)return Yc(me(i,"transform"));if(e.absolute){i.setAttribute("transform",lo(t));return}const n=i.transform,r=Da(t);n.baseVal.appendItem(r)}function A2(i,t,e=0,n={}){let r=me(i,"transform");const s=Ru(r);if(t==null)return s.translation;r=s.raw,r=r.replace(/translate\([^)]*\)/g,"").trim();const o=n.absolute?t:s.translation.tx+t,a=n.absolute?e:s.translation.ty+e,l=`translate(${o},${a})`;i.setAttribute("transform",`${l} ${r}`.trim())}function Vd(i,t,e,n,r={}){let s=me(i,"transform");const o=Ru(s);if(t==null)return o.rotation;s=o.raw,s=s.replace(/rotate\([^)]*\)/g,"").trim(),t%=360;const a=r.absolute?t:o.rotation.angle+t,l=e!=null&&n!=null?`,${e},${n}`:"",c=`rotate(${a}${l})`;i.setAttribute("transform",`${s} ${c}`.trim())}function Gr(i,t,e){let n=me(i,"transform");const r=Ru(n);if(t==null)return r.scale;e=e==null?t:e,n=r.raw,n=n.replace(/scale\([^)]*\)/g,"").trim();const s=`scale(${t},${e})`;i.setAttribute("transform",`${n} ${s}`.trim())}function Hd(i,t,e,n){const r=N.create(t),s=N.create(e);n||(n=i instanceof SVGSVGElement?i:i.ownerSVGElement);const o=Gr(i);i.setAttribute("transform","");const a=vn(i,{target:n}).scale(o.sx,o.sy),l=Da();l.setTranslate(-a.x-a.width/2,-a.y-a.height/2);const c=Da(),u=r.angleBetween(s,r.clone().translate(1,0));u&&c.setRotate(u,0,0);const h=Da(),f=r.clone().move(s,a.width/2);h.setTranslate(2*r.x-f.x,2*r.y-f.y);const p=da(i,n),b=Da();b.setMatrix(h.matrix.multiply(c.matrix.multiply(l.matrix.multiply(p.scale(o.sx,o.sy))))),i.setAttribute("transform",lo(b.matrix))}class Ay{constructor(t,e,n){this.animationFrameId=0,this.deltaX=0,this.deltaY=0,this.eventName=Ze.isEventSupported("wheel")?"wheel":"mousewheel",this.target=t,this.onWheelCallback=e,this.onWheelGuard=n,this.onWheel=this.onWheel.bind(this),this.didWheel=this.didWheel.bind(this)}enable(){Ze.SUPPORT_PASSIVE?this.target.addEventListener(this.eventName,this.onWheel,{passive:!1}):Ke(this.target).on("mousewheel",this.onWheel)}disable(){Ze.SUPPORT_PASSIVE?this.target.removeEventListener(this.eventName,this.onWheel):Ke(this.target).off("mousewheel")}onWheel(t){if(this.onWheelGuard!=null&&!this.onWheelGuard(t))return;this.deltaX+=t.deltaX,this.deltaY+=t.deltaY,t.preventDefault();let e;(this.deltaX!==0||this.deltaY!==0)&&(t.stopPropagation(),e=!0),e===!0&&this.animationFrameId===0&&(this.animationFrameId=requestAnimationFrame(()=>{this.didWheel(t)}))}didWheel(t){this.animationFrameId=0,this.onWheelCallback(t,this.deltaX,this.deltaY),this.deltaX=0,this.deltaY=0}}Et.isVector;Et.create;Et.createVectors;function My(i,t=60){let e=null;return(...n)=>{e&&clearTimeout(e),e=window.setTimeout(()=>{i.apply(this,n)},t)}}function n$(i){let t=null,e=[];const n=()=>{if(getComputedStyle(i).position==="static"){const c=i.style;c.position="relative"}const l=document.createElement("object");return l.onload=()=>{l.contentDocument.defaultView.addEventListener("resize",r),r()},l.style.display="block",l.style.position="absolute",l.style.top="0",l.style.left="0",l.style.height="100%",l.style.width="100%",l.style.overflow="hidden",l.style.pointerEvents="none",l.style.zIndex="-1",l.style.opacity="0",l.setAttribute("tabindex","-1"),l.type="text/html",i.appendChild(l),l.data="about:blank",l},r=My(()=>{e.forEach(l=>l(i))}),s=l=>{t||(t=n()),e.indexOf(l)===-1&&e.push(l)},o=()=>{t&&t.parentNode&&(t.contentDocument&&t.contentDocument.defaultView.removeEventListener("resize",r),t.parentNode.removeChild(t),t=null,e=[])};return{element:i,bind:s,destroy:o,unbind:l=>{const c=e.indexOf(l);c!==-1&&e.splice(c,1),e.length===0&&t&&o()}}}function i$(i){let t=null,e=[];const n=My(()=>{e.forEach(l=>{l(i)})}),r=()=>{const l=new ResizeObserver(n);return l.observe(i),n(),l},s=l=>{t||(t=r()),e.indexOf(l)===-1&&e.push(l)},o=()=>{t&&(t.disconnect(),e=[],t=null)};return{element:i,bind:s,destroy:o,unbind:l=>{const c=e.indexOf(l);c!==-1&&e.splice(c,1),e.length===0&&t&&o()}}}const r$=typeof ResizeObserver!="undefined"?i$:n$;var Kc;(function(i){const t=new WeakMap;function e(r){let s=t.get(r);return s||(s=r$(r),t.set(r,s),s)}function n(r){r.destroy(),t.delete(r.element)}i.bind=(r,s)=>{const o=e(r);return o.bind(s),()=>o.unbind(s)},i.clear=r=>{const s=e(r);n(s)}})(Kc||(Kc={}));var Gd;(function(i){const t=[],e=16.666666666666668,n=[];let r=0;const s=()=>performance.now(),o=u=>u[0],a=u=>n.push(u)===1&&l(),l=(()=>{const u=()=>n.splice(0,n.length).forEach(h=>h());if(typeof MessageChannel!="undefined"){const{port1:h,port2:f}=new MessageChannel;return h.onmessage=u,()=>f.postMessage(null)}return()=>setTimeout(u)})(),c=()=>{r=s()+e;let u=o(t);for(;u&&!i.shouldYield();){const{callback:h,data:f}=u;u.callback=null;const p=h&&h(f);p?u.callback=p:t.shift(),u=o(t)}u&&a(c)};i.scheduleTask=(u,h)=>{const f={callback:u,data:h};t.push(f),a(c)},i.shouldYield=()=>{var u,h;return((h=(u=navigator)===null||u===void 0?void 0:u.scheduling)===null||h===void 0?void 0:h.isInputPending())||s()>=r}})(Gd||(Gd={}));class Ye{constructor(t){this.options=Object.assign({},t),this.data=this.options.data||{},this.register=this.register.bind(this),this.unregister=this.unregister.bind(this)}get names(){return Object.keys(this.data)}register(t,e,n=!1){if(typeof t=="object"){Object.keys(t).forEach(o=>{this.register(o,t[o],e)});return}this.exist(t)&&!n&&!Ze.isApplyingHMR()&&this.onDuplicated(t);const r=this.options.process,s=r?xt(r,this,t,e):e;return this.data[t]=s,s}unregister(t){const e=t?this.data[t]:null;return delete this.data[t],e}get(t){return t?this.data[t]:null}exist(t){return t?this.data[t]!=null:!1}onDuplicated(t){try{throw this.options.onConflict&&xt(this.options.onConflict,this,t),new Error(`${Bc(this.options.type)} with name '${t}' already registered.`)}catch(e){throw e}}onNotFound(t,e){throw new Error(this.getSpellingSuggestion(t,e))}getSpellingSuggestion(t,e){const n=this.getSpellingSuggestionForName(t),r=e?`${e} ${E5(this.options.type)}`:this.options.type;return`${Bc(r)} with name '${t}' does not exist.${n?` Did you mean '${n}'?`:""}`}getSpellingSuggestionForName(t){return sN(t,Object.keys(this.data),e=>e)}}(function(i){function t(e){return new i(e)}i.create=t})(Ye||(Ye={}));const s$={xlinkHref:"xlink:href",xlinkShow:"xlink:show",xlinkRole:"xlink:role",xlinkType:"xlink:type",xlinkArcrole:"xlink:arcrole",xlinkTitle:"xlink:title",xlinkActuate:"xlink:actuate",xmlSpace:"xml:space",xmlBase:"xml:base",xmlLang:"xml:lang",preserveAspectRatio:"preserveAspectRatio",requiredExtension:"requiredExtension",requiredFeatures:"requiredFeatures",systemLanguage:"systemLanguage",externalResourcesRequired:"externalResourceRequired"},o$={},Oy={position:Vu("x","width","origin")},Ty={position:Vu("y","height","origin")},a$={position:Vu("x","width","corner")},l$={position:Vu("y","height","corner")},Py={set:Jr("width","width")},ky={set:Jr("height","height")},c$={set:Jr("rx","width")},u$={set:Jr("ry","height")},_y={set:(i=>{const t=Jr(i,"width"),e=Jr(i,"height");return function(n,r){const s=r.refBBox,o=s.height>s.width?t:e;return xt(o,this,n,r)}})("r")},h$={set(i,{refBBox:t}){let e=parseFloat(i);const n=ji(i);n&&(e/=100);const r=Math.sqrt(t.height*t.height+t.width*t.width);let s;return Number.isFinite(e)&&(n||e>=0&&e<=1?s=e*r:s=Math.max(e+r,0)),{r:s}}},d$={set:Jr("cx","width")},f$={set:Jr("cy","height")},Dy={set:Fy({resetOffset:!0})},p$={set:Fy({resetOffset:!1})},Ny={set:Ly({resetOffset:!0})},g$={set:Ly({resetOffset:!1})},m$=_y,b$=Dy,v$=Ny,y$=Oy,x$=Ty,w$=Py,C$=ky;function Vu(i,t,e){return(n,{refBBox:r})=>{if(n==null)return null;let s=parseFloat(n);const o=ji(n);o&&(s/=100);let a;if(Number.isFinite(s)){const c=r[e];o||s>0&&s<1?a=c[i]+r[t]*s:a=c[i]+s}const l=new N;return l[i]=a||0,l}}function Jr(i,t){return function(e,{refBBox:n}){let r=parseFloat(e);const s=ji(e);s&&(r/=100);const o={};if(Number.isFinite(r)){const a=s||r>=0&&r<=1?r*n[t]:Math.max(r+n[t],0);o[i]=a}return o}}function $y(i,t){const e="x6-shape",n=t&&t.resetOffset;return function(r,{view:s,elem:o,refBBox:a}){const l=s.$(o);let c=l.data(e);if(!c||c.value!==r){const x=i(r);c={value:r,shape:x,shapeBBox:x.bbox()},l.data(e,c)}const u=c.shape.clone(),h=c.shapeBBox.clone(),f=h.getOrigin(),p=a.getOrigin();h.x=p.x,h.y=p.y;const b=a.getMaxScaleToFit(h,p),v=h.width===0||a.width===0?1:b.sx,w=h.height===0||a.height===0?1:b.sy;return u.scale(v,w,f),n&&u.translate(-f.x,-f.y),u}}function Fy(i){function t(n){return Nt.parse(n)}const e=$y(t,i);return(n,r)=>({d:e(n,r).serialize()})}function Ly(i){const t=$y(e=>new on(e),i);return(e,n)=>({points:t(e,n).serialize()})}const E$={qualify:fi,set(i,{view:t}){return`url(#${t.graph.defineGradient(i)})`}},S$={qualify:fi,set(i,{view:t}){const e=t.cell,n=Object.assign({},i);if(e.isEdge()&&n.type==="linearGradient"){const r=t,s=r.sourcePoint,o=r.targetPoint;n.id=`gradient-${n.type}-${e.id}`,n.attrs=Object.assign(Object.assign({},n.attrs),{x1:s.x,y1:s.y,x2:o.x,y2:o.y,gradientUnits:"userSpaceOnUse"}),t.graph.defs.remove(n.id)}return`url(#${t.graph.defineGradient(n)})`}},Iy={qualify(i,{attrs:t}){return t.textWrap==null||!fi(t.textWrap)},set(i,{view:t,elem:e,attrs:n}){const r="x6-text",s=t.$(e),o=s.data(r),a=h=>{try{return JSON.parse(h)}catch{return h}},l={x:n.x,eol:n.eol,annotations:a(n.annotations),textPath:a(n["text-path"]||n.textPath),textVerticalAnchor:n["text-vertical-anchor"]||n.textVerticalAnchor,displayEmpty:(n["display-empty"]||n.displayEmpty)==="true",lineHeight:n["line-height"]||n.lineHeight},c=n["font-size"]||n.fontSize,u=JSON.stringify([i,l]);if(c&&e.setAttribute("font-size",c),o==null||o!==u){const h=l.textPath;if(h!=null&&typeof h=="object"){const f=h.selector;if(typeof f=="string"){const p=t.find(f)[0];p instanceof SVGPathElement&&(ju(p),l.textPath=Object.assign({"xlink:href":`#${p.id}`},h))}}my(e,`${i}`,l),s.data(r,u)}}},A$={qualify:fi,set(i,{view:t,elem:e,attrs:n,refBBox:r}){const s=i,o=s.width||0;ji(o)?r.width*=parseFloat(o)/100:o<=0?r.width+=o:r.width=o;const a=s.height||0;ji(a)?r.height*=parseFloat(a)/100:a<=0?r.height+=a:r.height=a;let l,c=s.text;c==null&&(c=n.text),c!=null?l=by(`${c}`,r,{"font-weight":n["font-weight"]||n.fontWeight,"font-size":n["font-size"]||n.fontSize,"font-family":n["font-family"]||n.fontFamily,lineHeight:n.lineHeight},{svgDocument:t.graph.view.svg,ellipsis:s.ellipsis,hyphen:s.hyphen,breakWord:s.breakWord}):l="",xt(Iy.set,this,l,{view:t,elem:e,attrs:n,refBBox:r,cell:t.cell})}},fa=(i,{attrs:t})=>t.text!==void 0,M$={qualify:fa},O$={qualify:fa},T$={qualify:fa},P$={qualify:fa},k$={qualify:fa},_$={qualify:fa},D$={qualify(i,{elem:t}){return t instanceof SVGElement},set(i,{view:t,elem:e}){const n="x6-title",r=`${i}`,s=t.$(e),o=s.data(n);if(o==null||o!==r){s.data(n,r);const a=e.firstChild;if(a&&a.tagName.toUpperCase()==="TITLE"){const l=a;l.textContent=r}else{const l=document.createElementNS(e.namespaceURI,"title");l.textContent=r,e.insertBefore(l,a)}}}},N$={offset:zy("x","width","right")},$$={offset:zy("y","height","bottom")},F$={offset(i,{refBBox:t}){return i?{x:-t.x,y:-t.y}:{x:0,y:0}}};function zy(i,t,e){return(n,{refBBox:r})=>{const s=new N;let o;return n==="middle"?o=r[t]/2:n===e?o=r[t]:typeof n=="number"&&Number.isFinite(n)?o=n>-1&&n<1?-r[t]*n:-n:ji(n)?o=r[t]*parseFloat(n)/100:o=0,s[i]=-(r[i]+o),s}}const L$={qualify:fi,set(i,{view:t,elem:e}){t.$(e).css(i)}},I$={set(i,{view:t,elem:e}){t.$(e).html(`${i}`)}},z$={qualify:fi,set(i,{view:t}){return`url(#${t.graph.defineFilter(i)})`}},j$={set(i){return i!=null&&typeof i=="object"&&i.id?i.id:i}};function os(i,t,e){let n,r;typeof t=="object"?(n=t.x,r=t.y):(n=t,r=e);const s=Nt.parse(i),o=s.bbox();if(o){let a=-o.height/2-o.y,l=-o.width/2-o.x;typeof n=="number"&&(l-=n),typeof r=="number"&&(a-=r),s.translate(l,a)}return s.serialize()}var jy=globalThis&&globalThis.__rest||function(i,t){var e={};for(var n in i)Object.prototype.hasOwnProperty.call(i,n)&&t.indexOf(n)<0&&(e[n]=i[n]);if(i!=null&&typeof Object.getOwnPropertySymbols=="function")for(var r=0,n=Object.getOwnPropertySymbols(i);r<n.length;r++)t.indexOf(n[r])<0&&Object.prototype.propertyIsEnumerable.call(i,n[r])&&(e[n[r]]=i[n[r]]);return e};const B$=i=>{var{size:t,width:e,height:n,offset:r,open:s}=i,o=jy(i,["size","width","height","offset","open"]);return By({size:t,width:e,height:n,offset:r},s===!0,!0,void 0,o)},R$=i=>{var{size:t,width:e,height:n,offset:r,factor:s}=i,o=jy(i,["size","width","height","offset","factor"]);return By({size:t,width:e,height:n,offset:r},!1,!1,s,o)};function By(i,t,e,n=3/4,r={}){const s=i.size||10,o=i.width||s,a=i.height||s,l=new Nt,c={};if(t)l.moveTo(o,0).lineTo(0,a/2).lineTo(o,a),c.fill="none";else{if(l.moveTo(0,a/2),l.lineTo(o,0),!e){const u=In(n,0,1);l.lineTo(o*u,a/2)}l.lineTo(o,a),l.close()}return Object.assign(Object.assign(Object.assign({},c),r),{tagName:"path",d:os(l.serialize(),{x:i.offset!=null?i.offset:-o/2})})}var V$=globalThis&&globalThis.__rest||function(i,t){var e={};for(var n in i)Object.prototype.hasOwnProperty.call(i,n)&&t.indexOf(n)<0&&(e[n]=i[n]);if(i!=null&&typeof Object.getOwnPropertySymbols=="function")for(var r=0,n=Object.getOwnPropertySymbols(i);r<n.length;r++)t.indexOf(n[r])<0&&Object.prototype.propertyIsEnumerable.call(i,n[r])&&(e[n[r]]=i[n[r]]);return e};const H$=i=>{var{size:t,width:e,height:n,offset:r}=i,s=V$(i,["size","width","height","offset"]);const o=t||10,a=e||o,l=n||o,c=new Nt;return c.moveTo(0,l/2).lineTo(a/2,0).lineTo(a,l/2).lineTo(a/2,l).close(),Object.assign(Object.assign({},s),{tagName:"path",d:os(c.serialize(),r==null?-a/2:r)})};var G$=globalThis&&globalThis.__rest||function(i,t){var e={};for(var n in i)Object.prototype.hasOwnProperty.call(i,n)&&t.indexOf(n)<0&&(e[n]=i[n]);if(i!=null&&typeof Object.getOwnPropertySymbols=="function")for(var r=0,n=Object.getOwnPropertySymbols(i);r<n.length;r++)t.indexOf(n[r])<0&&Object.prototype.propertyIsEnumerable.call(i,n[r])&&(e[n[r]]=i[n[r]]);return e};const q$=i=>{var{d:t,offsetX:e,offsetY:n}=i,r=G$(i,["d","offsetX","offsetY"]);return Object.assign(Object.assign({},r),{tagName:"path",d:os(t,e,n)})};var U$=globalThis&&globalThis.__rest||function(i,t){var e={};for(var n in i)Object.prototype.hasOwnProperty.call(i,n)&&t.indexOf(n)<0&&(e[n]=i[n]);if(i!=null&&typeof Object.getOwnPropertySymbols=="function")for(var r=0,n=Object.getOwnPropertySymbols(i);r<n.length;r++)t.indexOf(n[r])<0&&Object.prototype.propertyIsEnumerable.call(i,n[r])&&(e[n[r]]=i[n[r]]);return e};const W$=i=>{var{size:t,width:e,height:n,offset:r}=i,s=U$(i,["size","width","height","offset"]);const o=t||10,a=e||o,l=n||o,c=new Nt;return c.moveTo(0,0).lineTo(a,l).moveTo(0,l).lineTo(a,0),Object.assign(Object.assign({},s),{tagName:"path",fill:"none",d:os(c.serialize(),r||-a/2)})};var X$=globalThis&&globalThis.__rest||function(i,t){var e={};for(var n in i)Object.prototype.hasOwnProperty.call(i,n)&&t.indexOf(n)<0&&(e[n]=i[n]);if(i!=null&&typeof Object.getOwnPropertySymbols=="function")for(var r=0,n=Object.getOwnPropertySymbols(i);r<n.length;r++)t.indexOf(n[r])<0&&Object.prototype.propertyIsEnumerable.call(i,n[r])&&(e[n[r]]=i[n[r]]);return e};const Y$=i=>{var{width:t,height:e,offset:n,open:r,flip:s}=i,o=X$(i,["width","height","offset","open","flip"]);let a=e||6;const l=t||10,c=r===!0,u=s===!0,h=Object.assign(Object.assign({},o),{tagName:"path"});u&&(a=-a);const f=new Nt;return f.moveTo(0,a).lineTo(l,0),c?h.fill="none":(f.lineTo(l,a),f.close()),h.d=os(f.serialize(),{x:n||-l/2,y:a/2}),h};var Ry=globalThis&&globalThis.__rest||function(i,t){var e={};for(var n in i)Object.prototype.hasOwnProperty.call(i,n)&&t.indexOf(n)<0&&(e[n]=i[n]);if(i!=null&&typeof Object.getOwnPropertySymbols=="function")for(var r=0,n=Object.getOwnPropertySymbols(i);r<n.length;r++)t.indexOf(n[r])<0&&Object.prototype.propertyIsEnumerable.call(i,n[r])&&(e[n[r]]=i[n[r]]);return e};const Vy=i=>{var{r:t}=i,e=Ry(i,["r"]);const n=t||5;return Object.assign(Object.assign({cx:n},e),{tagName:"circle",r:n})},K$=i=>{var{r:t}=i,e=Ry(i,["r"]);const n=t||5,r=new Nt;return r.moveTo(n,0).lineTo(n,n*2),r.moveTo(0,n).lineTo(n*2,n),{children:[Object.assign(Object.assign({},Vy({r:n})),{fill:"none"}),Object.assign(Object.assign({},e),{tagName:"path",d:os(r.serialize(),-n)})]}};var J$=globalThis&&globalThis.__rest||function(i,t){var e={};for(var n in i)Object.prototype.hasOwnProperty.call(i,n)&&t.indexOf(n)<0&&(e[n]=i[n]);if(i!=null&&typeof Object.getOwnPropertySymbols=="function")for(var r=0,n=Object.getOwnPropertySymbols(i);r<n.length;r++)t.indexOf(n[r])<0&&Object.prototype.propertyIsEnumerable.call(i,n[r])&&(e[n[r]]=i[n[r]]);return e};const Z$=i=>{var{rx:t,ry:e}=i,n=J$(i,["rx","ry"]);const r=t||5,s=e||5;return Object.assign(Object.assign({cx:r},n),{tagName:"ellipse",rx:r,ry:s})};var Q$=Object.freeze(Object.defineProperty({__proto__:null,block:B$,classic:R$,diamond:H$,path:q$,cross:W$,async:Y$,circle:Vy,circlePlus:K$,ellipse:Z$},Symbol.toStringTag,{value:"Module"})),Zr;(function(i){i.presets=Q$,i.registry=Ye.create({type:"marker"}),i.registry.register(i.presets,!0)})(Zr||(Zr={}));(function(i){i.normalize=os})(Zr||(Zr={}));var tF=globalThis&&globalThis.__rest||function(i,t){var e={};for(var n in i)Object.prototype.hasOwnProperty.call(i,n)&&t.indexOf(n)<0&&(e[n]=i[n]);if(i!=null&&typeof Object.getOwnPropertySymbols=="function")for(var r=0,n=Object.getOwnPropertySymbols(i);r<n.length;r++)t.indexOf(n[r])<0&&Object.prototype.propertyIsEnumerable.call(i,n[r])&&(e[n[r]]=i[n[r]]);return e};function hp(i){return typeof i=="string"||fi(i)}const eF={qualify:hp,set(i,{view:t,attrs:e}){return dp("marker-start",i,t,e)}},nF={qualify:hp,set(i,{view:t,attrs:e}){return dp("marker-end",i,t,e,{transform:"rotate(180)"})}},iF={qualify:hp,set(i,{view:t,attrs:e}){return dp("marker-mid",i,t,e)}};function dp(i,t,e,n,r={}){const s=typeof t=="string"?{name:t}:t,{name:o,args:a}=s,l=tF(s,["name","args"]);let c=l;if(o&&typeof o=="string"){const h=Zr.registry.get(o);if(h)c=h(Object.assign(Object.assign({},l),a));else return Zr.registry.onNotFound(o)}const u=Object.assign(Object.assign(Object.assign({},rF(n,i)),r),c);return{[i]:`url(#${e.graph.defineMarker(u)})`}}function rF(i,t){const e={},n=i.stroke;typeof n=="string"&&(e.stroke=n,e.fill=n);let r=i.strokeOpacity;if(r==null&&(r=i["stroke-opacity"]),r==null&&(r=i.opacity),r!=null&&(e["stroke-opacity"]=r,e["fill-opacity"]=r),t!=="marker-mid"){const s=parseFloat(i.strokeWidth||i["stroke-width"]);if(Number.isFinite(s)&&s>1){const o=Math.ceil(s/2);e.refX=t==="marker-start"?o:-o}}return e}const jl=(i,{view:t})=>t.cell.isEdge(),sF={qualify:jl,set(i,t){const e=t.view,n=i.stubs||0;let r;if(Number.isFinite(n)&&n!==0){let s;n<0?s=((e.getConnectionLength()||0)+n)/2:s=n;const o=e.getConnection();if(o){const a=o.divideAtLength(s),l=o.divideAtLength(-s);a&&l&&(r=`${a[0].serialize()} ${l[1].serialize()}`)}}return{d:r||e.getConnectionPathData()}}},Hy={qualify:jl,set:Hu("getTangentAtLength",{rotate:!0})},oF={qualify:jl,set:Hu("getTangentAtLength",{rotate:!1})},Gy={qualify:jl,set:Hu("getTangentAtRatio",{rotate:!0})},aF={qualify:jl,set:Hu("getTangentAtRatio",{rotate:!1})},lF=Hy,cF=Gy;function Hu(i,t){const e={x:1,y:0};return(n,r)=>{let s,o;const a=r.view,l=a[i](Number(n));return l?(o=t.rotate?l.vector().vectorAngle(e):0,s=l.start):(s=a.path.start,o=0),o===0?{transform:`translate(${s.x},${s.y}')`}:{transform:`translate(${s.x},${s.y}') rotate(${o})`}}}var uF=Object.freeze(Object.defineProperty({__proto__:null,ref:o$,refX:Oy,refY:Ty,refDx:a$,refDy:l$,refWidth:Py,refHeight:ky,refRx:c$,refRy:u$,refRInscribed:_y,refRCircumscribed:h$,refCx:d$,refCy:f$,refDResetOffset:Dy,refDKeepOffset:p$,refPointsResetOffset:Ny,refPointsKeepOffset:g$,refR:m$,refD:b$,refPoints:v$,refX2:y$,refY2:x$,refWidth2:w$,refHeight2:C$,fill:E$,stroke:S$,text:Iy,textWrap:A$,lineHeight:M$,textVerticalAnchor:O$,textPath:T$,annotations:P$,eol:k$,displayEmpty:_$,title:D$,xAlign:N$,yAlign:$$,resetOffset:F$,style:L$,html:I$,filter:z$,port:j$,sourceMarker:eF,targetMarker:nF,vertexMarker:iF,connection:sF,atConnectionLengthKeepGradient:Hy,atConnectionLengthIgnoreGradient:oF,atConnectionRatioKeepGradient:Gy,atConnectionRatioIgnoreGradient:aF,atConnectionLength:lF,atConnectionRatio:cF},Symbol.toStringTag,{value:"Module"})),nr;(function(i){function t(e,n,r){return!!(e!=null&&(typeof e=="string"||typeof e.qualify!="function"||xt(e.qualify,this,n,r)))}i.isValidDefinition=t})(nr||(nr={}));(function(i){i.presets=Object.assign(Object.assign({},s$),uF),i.registry=Ye.create({type:"attribute definition"}),i.registry.register(i.presets,!0)})(nr||(nr={}));const hF={color:"#aaaaaa",thickness:1,markup:"rect",update(i,t){const e=t.thickness*t.sx,n=t.thickness*t.sy;me(i,{width:e,height:n,rx:e,ry:n,fill:t.color})}},dF={color:"#aaaaaa",thickness:1,markup:"rect",update(i,t){const e=t.sx<=1?t.thickness*t.sx:t.thickness;me(i,{width:e,height:e,rx:e,ry:e,fill:t.color})}},fF={color:"rgba(224,224,224,1)",thickness:1,markup:"path",update(i,t){let e;const n=t.width,r=t.height,s=t.thickness;n-s>=0&&r-s>=0?e=["M",n,0,"H0 M0 0 V0",r].join(" "):e="M 0 0 0 0",me(i,{d:e,stroke:t.color,"stroke-width":t.thickness})}},pF=[{color:"rgba(224,224,224,1)",thickness:1,markup:"path",update(i,t){let e;const n=t.width,r=t.height,s=t.thickness;n-s>=0&&r-s>=0?e=["M",n,0,"H0 M0 0 V0",r].join(" "):e="M 0 0 0 0",me(i,{d:e,stroke:t.color,"stroke-width":t.thickness})}},{color:"rgba(224,224,224,0.2)",thickness:3,factor:4,markup:"path",update(i,t){let e;const n=t.factor||1,r=t.width*n,s=t.height*n,o=t.thickness;r-o>=0&&s-o>=0?e=["M",r,0,"H0 M0 0 V0",s].join(" "):e="M 0 0 0 0",t.width=r,t.height=s,me(i,{d:e,stroke:t.color,"stroke-width":t.thickness})}}];var gF=Object.freeze(Object.defineProperty({__proto__:null,dot:hF,fixedDot:dF,mesh:fF,doubleMesh:pF},Symbol.toStringTag,{value:"Module"}));class qr{constructor(){this.patterns={},this.root=Et.create(Uc(),{width:"100%",height:"100%"},[Jn("defs")]).node}add(t,e){const n=this.root.childNodes[0];n&&n.appendChild(e),this.patterns[t]=e,Et.create("rect",{width:"100%",height:"100%",fill:`url(#${t})`}).appendTo(this.root)}get(t){return this.patterns[t]}has(t){return this.patterns[t]!=null}}(function(i){i.presets=gF,i.registry=Ye.create({type:"grid"}),i.registry.register(i.presets,!0)})(qr||(qr={}));function fp(i,t){return i!=null?i:t}function mn(i,t){return i!=null&&Number.isFinite(i)?i:t}function mF(i={}){const t=fp(i.color,"blue"),e=mn(i.width,1),n=mn(i.margin,2),r=mn(i.opacity,1),s=n,o=n+e;return`
    <filter>
      <feFlood flood-color="${t}" flood-opacity="${r}" result="colored"/>
      <feMorphology in="SourceAlpha" result="morphedOuter" operator="dilate" radius="${o}" />
      <feMorphology in="SourceAlpha" result="morphedInner" operator="dilate" radius="${s}" />
      <feComposite result="morphedOuterColored" in="colored" in2="morphedOuter" operator="in"/>
      <feComposite operator="xor" in="morphedOuterColored" in2="morphedInner" result="outline"/>
      <feMerge>
        <feMergeNode in="outline"/>
        <feMergeNode in="SourceGraphic"/>
      </feMerge>
    </filter>
  `.trim()}function bF(i={}){const t=fp(i.color,"red"),e=mn(i.blur,0),n=mn(i.width,1),r=mn(i.opacity,1);return`
      <filter>
        <feFlood flood-color="${t}" flood-opacity="${r}" result="colored"/>
        <feMorphology result="morphed" in="SourceGraphic" operator="dilate" radius="${n}"/>
        <feComposite result="composed" in="colored" in2="morphed" operator="in"/>
        <feGaussianBlur result="blured" in="composed" stdDeviation="${e}"/>
        <feBlend in="SourceGraphic" in2="blured" mode="normal"/>
      </filter>
    `.trim()}function vF(i={}){const t=mn(i.x,2);return`
    <filter>
      <feGaussianBlur stdDeviation="${i.y!=null&&Number.isFinite(i.y)?[t,i.y]:t}"/>
    </filter>
  `.trim()}function yF(i={}){const t=mn(i.dx,0),e=mn(i.dy,0),n=fp(i.color,"black"),r=mn(i.blur,4),s=mn(i.opacity,1);return"SVGFEDropShadowElement"in window?`<filter>
         <feDropShadow stdDeviation="${r}" dx="${t}" dy="${e}" flood-color="${n}" flood-opacity="${s}" />
       </filter>`.trim():`<filter>
         <feGaussianBlur in="SourceAlpha" stdDeviation="${r}" />
         <feOffset dx="${t}" dy="${e}" result="offsetblur" />
         <feFlood flood-color="${n}" />
         <feComposite in2="offsetblur" operator="in" />
         <feComponentTransfer>
           <feFuncA type="linear" slope="${s}" />
         </feComponentTransfer>
         <feMerge>
           <feMergeNode/>
           <feMergeNode in="SourceGraphic"/>
         </feMerge>
       </filter>`.trim()}function xF(i={}){const t=mn(i.amount,1),e=.2126+.7874*(1-t),n=.7152-.7152*(1-t),r=.0722-.0722*(1-t),s=.2126-.2126*(1-t),o=.7152+.2848*(1-t),a=.0722-.0722*(1-t),l=.2126-.2126*(1-t),c=.0722+.9278*(1-t);return`
    <filter>
      <feColorMatrix type="matrix" values="${e} ${n} ${r} 0 0 ${s} ${o} ${a} 0 0 ${l} ${n} ${c} 0 0 0 0 0 1 0"/>
    </filter>
  `.trim()}function wF(i={}){const t=mn(i.amount,1),e=.393+.607*(1-t),n=.769-.769*(1-t),r=.189-.189*(1-t),s=.349-.349*(1-t),o=.686+.314*(1-t),a=.168-.168*(1-t),l=.272-.272*(1-t),c=.534-.534*(1-t),u=.131+.869*(1-t);return`
      <filter>
        <feColorMatrix type="matrix" values="${e} ${n} ${r} 0 0 ${s} ${o} ${a} 0 0 ${l} ${c} ${u} 0 0 0 0 0 1 0"/>
      </filter>
    `.trim()}function CF(i={}){const t=mn(i.amount,1);return`
      <filter>
        <feColorMatrix type="saturate" values="${1-t}"/>
      </filter>
    `.trim()}function EF(i={}){return`
      <filter>
        <feColorMatrix type="hueRotate" values="${mn(i.angle,0)}"/>
      </filter>
    `.trim()}function SF(i={}){const t=mn(i.amount,1),e=1-t;return`
      <filter>
        <feComponentTransfer>
          <feFuncR type="table" tableValues="${t} ${e}"/>
          <feFuncG type="table" tableValues="${t} ${e}"/>
          <feFuncB type="table" tableValues="${t} ${e}"/>
        </feComponentTransfer>
      </filter>
    `.trim()}function AF(i={}){const t=mn(i.amount,1);return`
    <filter>
      <feComponentTransfer>
        <feFuncR type="linear" slope="${t}"/>
        <feFuncG type="linear" slope="${t}"/>
        <feFuncB type="linear" slope="${t}"/>
      </feComponentTransfer>
    </filter>
  `.trim()}function MF(i={}){const t=mn(i.amount,1),e=.5-t/2;return`
    <filter>
     <feComponentTransfer>
        <feFuncR type="linear" slope="${t}" intercept="${e}"/>
        <feFuncG type="linear" slope="${t}" intercept="${e}"/>
        <feFuncB type="linear" slope="${t}" intercept="${e}"/>
      </feComponentTransfer>
    </filter>
  `.trim()}var OF=Object.freeze(Object.defineProperty({__proto__:null,outline:mF,highlight:bF,blur:vF,dropShadow:yF,grayScale:xF,sepia:wF,saturate:CF,hueRotate:EF,invert:SF,brightness:AF,contrast:MF},Symbol.toStringTag,{value:"Module"})),Jo;(function(i){i.presets=OF,i.registry=Ye.create({type:"filter"}),i.registry.register(i.presets,!0)})(Jo||(Jo={}));const qy=function(i){const t=document.createElement("canvas"),e=i.width,n=i.height;t.width=e*2,t.height=n;const r=t.getContext("2d");return r.drawImage(i,0,0,e,n),r.translate(2*e,0),r.scale(-1,1),r.drawImage(i,0,0,e,n),t},Uy=function(i){const t=document.createElement("canvas"),e=i.width,n=i.height;t.width=e,t.height=n*2;const r=t.getContext("2d");return r.drawImage(i,0,0,e,n),r.translate(0,2*n),r.scale(1,-1),r.drawImage(i,0,0,e,n),t},Wy=function(i){const t=document.createElement("canvas"),e=i.width,n=i.height;t.width=2*e,t.height=2*n;const r=t.getContext("2d");return r.drawImage(i,0,0,e,n),r.setTransform(-1,0,0,-1,t.width,t.height),r.drawImage(i,0,0,e,n),r.setTransform(-1,0,0,1,t.width,0),r.drawImage(i,0,0,e,n),r.setTransform(1,0,0,-1,0,t.height),r.drawImage(i,0,0,e,n),t},TF=function(i,t){const e=i.width,n=i.height,r=document.createElement("canvas");r.width=e*3,r.height=n*3;const s=r.getContext("2d"),o=t.angle!=null?-t.angle:-20,a=re.toRad(o),l=r.width/4,c=r.height/4;for(let u=0;u<4;u+=1)for(let h=0;h<4;h+=1)(u+h)%2>0&&(s.setTransform(1,0,0,1,(2*u-1)*l,(2*h-1)*c),s.rotate(a),s.drawImage(i,-e/2,-n/2,e,n));return r};var PF=Object.freeze(Object.defineProperty({__proto__:null,flipX:qy,flipY:Uy,flipXY:Wy,watermark:TF},Symbol.toStringTag,{value:"Module"})),vl;(function(i){i.presets=Object.assign({},PF),i.presets["flip-x"]=qy,i.presets["flip-y"]=Uy,i.presets["flip-xy"]=Wy,i.registry=Ye.create({type:"background pattern"}),i.registry.register(i.presets,!0)})(vl||(vl={}));const ir={prefixCls:"x6",autoInsertCSS:!0,useCSSSelector:!0,trackable:!1,trackInfo:{},track(i){ir.trackable=i}};var Qe;(function(i){i.snapToGrid=jd,i.normalizeMarker=os;function t(e){return`${ir.prefixCls}-${e}`}i.prefix=t})(Qe||(Qe={}));(function(i){function t(e,n,r,s=[]){const o=typeof n.children=="function"?n.children(e):e[n.children||"children"];return r||(r=n.createNode(e),s.push(r)),Array.isArray(o)&&o.forEach(a=>{const l=n.createNode(a),c=n.createEdge(r,l);s.push(l,c),this.makeTree(a,n,l,s)}),s}i.makeTree=t})(Qe||(Qe={}));const kF="1.32.3",M2=Qe.prefix("highlighted"),_F={highlight(i,t,e){const n=e&&e.className||M2;ge(t,n)},unhighlight(i,t,e){const n=e&&e.className||M2;yi(t,n)}},O2=Qe.prefix("highlight-opacity"),DF={highlight(i,t){ge(t,O2)},unhighlight(i,t){yi(t,O2)}},NF={padding:3,rx:0,ry:0,attrs:{"stroke-width":3,stroke:"#FEB663"}},$F={highlight(i,t,e){const n=Br.getHighlighterId(t,e);if(Br.hasCache(n))return;e=iv({},e,NF);const r=Et.create(t);let s,o;try{s=r.toPathData()}catch{o=r.bbox(!0),s=yy(Object.assign(Object.assign({},e),o))}const a=Jn("path");if(me(a,Object.assign({d:s,"pointer-events":"none","vector-effect":"non-scaling-stroke",fill:"none"},e.attrs?ml(e.attrs):null)),i.isEdgeElement(t))me(a,"d",i.getConnectionPathData());else{let u=r.getTransformToElement(i.container);const h=e.padding;if(h){o==null&&(o=r.bbox(!0));const f=o.x+o.width/2,p=o.y+o.height/2;o=ai(o,u);const b=Math.max(o.width,1),v=Math.max(o.height,1),w=(b+h)/b,x=(v+h)/v,E=yn({a:w,b:0,c:0,d:x,e:f-w*f,f:p-x*p});u=u.multiply(E)}Ko(a,u)}ge(a,Qe.prefix("highlight-stroke"));const l=i.cell,c=()=>Br.removeHighlighter(n);l.on("removed",c),l.model&&l.model.on("reseted",c),i.container.appendChild(a),Br.setCache(n,a)},unhighlight(i,t,e){Br.removeHighlighter(Br.getHighlighterId(t,e))}};var Br;(function(i){function t(o,a){return ju(o),o.id+JSON.stringify(a)}i.getHighlighterId=t;const e={};function n(o,a){e[o]=a}i.setCache=n;function r(o){return e[o]!=null}i.hasCache=r;function s(o){const a=e[o];a&&(er(a),delete e[o])}i.removeHighlighter=s})(Br||(Br={}));var FF=Object.freeze(Object.defineProperty({__proto__:null,className:_F,opacity:DF,stroke:$F},Symbol.toStringTag,{value:"Module"})),mr;(function(i){function t(e,n){if(typeof n.highlight!="function")throw new Error(`Highlighter '${e}' is missing required \`highlight()\` method`);if(typeof n.unhighlight!="function")throw new Error(`Highlighter '${e}' is missing required \`unhighlight()\` method`)}i.check=t})(mr||(mr={}));(function(i){i.presets=FF,i.registry=Ye.create({type:"highlighter"}),i.registry.register(i.presets,!0)})(mr||(mr={}));function qd(i,t={}){return new N(tr(t.x,i.width),tr(t.y,i.height))}function pp(i,t,e){return Object.assign({angle:t,position:i.toJSON()},e)}const LF=(i,t)=>i.map(({x:e,y:n,angle:r})=>pp(qd(t,{x:e,y:n}),r||0)),IF=(i,t,e)=>{const n=e.start||0,r=e.step||20;return Xy(i,t,n,(s,o)=>(s+.5-o/2)*r)},zF=(i,t,e)=>{const n=e.start||0,r=e.step||360/i.length;return Xy(i,t,n,s=>s*r)};function Xy(i,t,e,n){const r=t.getCenter(),s=t.getTopCenter(),o=t.width/t.height,a=Ci.fromRect(t),l=i.length;return i.map((c,u)=>{const h=e+n(u,l),f=s.clone().rotate(-h,r).scale(o,1,r),p=c.compensateRotate?-a.tangentTheta(f):0;return(c.dx||c.dy)&&f.translate(c.dx||0,c.dy||0),c.dr&&f.move(r,c.dr),pp(f.round(),p,c)})}var jF=globalThis&&globalThis.__rest||function(i,t){var e={};for(var n in i)Object.prototype.hasOwnProperty.call(i,n)&&t.indexOf(n)<0&&(e[n]=i[n]);if(i!=null&&typeof Object.getOwnPropertySymbols=="function")for(var r=0,n=Object.getOwnPropertySymbols(i);r<n.length;r++)t.indexOf(n[r])<0&&Object.prototype.propertyIsEnumerable.call(i,n[r])&&(e[n[r]]=i[n[r]]);return e};const BF=(i,t,e)=>{const n=qd(t,e.start||t.getOrigin()),r=qd(t,e.end||t.getCorner());return Bl(i,n,r,e)},RF=(i,t,e)=>Bl(i,t.getTopLeft(),t.getBottomLeft(),e),VF=(i,t,e)=>Bl(i,t.getTopRight(),t.getBottomRight(),e),HF=(i,t,e)=>Bl(i,t.getTopLeft(),t.getTopRight(),e),GF=(i,t,e)=>Bl(i,t.getBottomLeft(),t.getBottomRight(),e);function Bl(i,t,e,n){const r=new At(t,e),s=i.length;return i.map((o,a)=>{var{strict:l}=o,c=jF(o,["strict"]);const u=l||n.strict?(a+1)/(s+1):(a+.5)/s,h=r.pointAt(u);return(c.dx||c.dy)&&h.translate(c.dx||0,c.dy||0),pp(h.round(),0,c)})}var qF=Object.freeze(Object.defineProperty({__proto__:null,absolute:LF,ellipse:IF,ellipseSpread:zF,line:BF,left:RF,right:VF,top:HF,bottom:GF},Symbol.toStringTag,{value:"Module"})),js;(function(i){i.presets=qF,i.registry=Ye.create({type:"port layout"}),i.registry.register(i.presets,!0)})(js||(js={}));const UF={position:{x:0,y:0},angle:0,attrs:{".":{y:"0","text-anchor":"start"}}};function as(i,t){const{x:e,y:n,angle:r,attrs:s}=t||{};return iv({},{angle:r,attrs:s,position:{x:e,y:n}},i,UF)}const WF=(i,t,e)=>as({position:t.getTopLeft()},e),XF=(i,t,e)=>as({position:{x:-15,y:0},attrs:{".":{y:".3em","text-anchor":"end"}}},e),YF=(i,t,e)=>as({position:{x:15,y:0},attrs:{".":{y:".3em","text-anchor":"start"}}},e),KF=(i,t,e)=>as({position:{x:0,y:-15},attrs:{".":{"text-anchor":"middle"}}},e),JF=(i,t,e)=>as({position:{x:0,y:15},attrs:{".":{y:".6em","text-anchor":"middle"}}},e),ZF=(i,t,e)=>Yy(i,t,!1,e),QF=(i,t,e)=>Yy(i,t,!0,e),tL=(i,t,e)=>Ky(i,t,!1,e),eL=(i,t,e)=>Ky(i,t,!0,e);function Yy(i,t,e,n){const r=n.offset!=null?n.offset:15,s=t.getCenter().theta(i),o=Jy(t);let a,l,c,u,h=0;return s<o[1]||s>o[2]?(a=".3em",l=r,c=0,u="start"):s<o[0]?(a="0",l=0,c=-r,e?(h=-90,u="start"):u="middle"):s<o[3]?(a=".3em",l=-r,c=0,u="end"):(a=".6em",l=0,c=r,e?(h=90,u="start"):u="middle"),as({position:{x:Math.round(l),y:Math.round(c)},angle:h,attrs:{".":{y:a,"text-anchor":u}}},n)}function Ky(i,t,e,n){const r=n.offset!=null?n.offset:15,s=t.getCenter().theta(i),o=Jy(t);let a,l,c,u,h=0;return s<o[1]||s>o[2]?(a=".3em",l=-r,c=0,u="end"):s<o[0]?(a=".6em",l=0,c=r,e?(h=90,u="start"):u="middle"):s<o[3]?(a=".3em",l=r,c=0,u="start"):(a="0em",l=0,c=-r,e?(h=-90,u="start"):u="middle"),as({position:{x:Math.round(l),y:Math.round(c)},angle:h,attrs:{".":{y:a,"text-anchor":u}}},n)}function Jy(i){const t=i.getCenter(),e=t.theta(i.getTopLeft()),n=t.theta(i.getBottomLeft()),r=t.theta(i.getBottomRight()),s=t.theta(i.getTopRight());return[e,s,r,n]}const nL=(i,t,e)=>Zy(i.diff(t.getCenter()),!1,e),iL=(i,t,e)=>Zy(i.diff(t.getCenter()),!0,e);function Zy(i,t,e){const n=e.offset!=null?e.offset:20,r=new N(0,0),s=-i.theta(r),o=i.clone().move(r,n).diff(i).round();let a=".3em",l,c=s;return(s+90)%180===0?(l=t?"end":"middle",!t&&s===-270&&(a="0em")):s>-270&&s<-90?(l="start",c=s-180):l="end",as({position:o.round().toJSON(),angle:t?c:0,attrs:{".":{y:a,"text-anchor":l}}},e)}var rL=Object.freeze(Object.defineProperty({__proto__:null,manual:WF,left:XF,right:YF,top:KF,bottom:JF,outside:ZF,outsideOriented:QF,inside:tL,insideOriented:eL,radial:nL,radialOriented:iL},Symbol.toStringTag,{value:"Module"})),Zo;(function(i){i.presets=rL,i.registry=Ye.create({type:"port label layout"}),i.registry.register(i.presets,!0)})(Zo||(Zo={}));class pr{constructor(t,e,n,r){if(t==null)return this.set(255,255,255,1);if(typeof t=="number")return this.set(t,e,n,r);if(typeof t=="string")return pr.fromString(t)||this;if(Array.isArray(t))return this.set(t);this.set(t.r,t.g,t.b,t.a==null?1:t.a)}blend(t,e,n){this.set(t.r+(e.r-t.r)*n,t.g+(e.g-t.g)*n,t.b+(e.b-t.b)*n,t.a+(e.a-t.a)*n)}lighten(t){const e=pr.lighten(this.toArray(),t);this.r=e[0],this.g=e[1],this.b=e[2],this.a=e[3]}darken(t){this.lighten(-t)}set(t,e,n,r){const s=Array.isArray(t)?t[0]:t,o=Array.isArray(t)?t[1]:e,a=Array.isArray(t)?t[2]:n,l=Array.isArray(t)?t[3]:r;return this.r=Math.round(In(s,0,255)),this.g=Math.round(In(o,0,255)),this.b=Math.round(In(a,0,255)),this.a=l==null?1:In(l,0,1),this}toHex(){return`#${["r","g","b"].map(e=>{const n=this[e].toString(16);return n.length<2?`0${n}`:n}).join("")}`}toRGBA(){return this.toArray()}toHSLA(){return pr.rgba2hsla(this.r,this.g,this.b,this.a)}toCSS(t){const e=`${this.r},${this.g},${this.b},`;return t?`rgb(${e})`:`rgba(${e},${this.a})`}toGrey(){return pr.makeGrey(Math.round((this.r+this.g+this.b)/3),this.a)}toArray(){return[this.r,this.g,this.b,this.a]}toString(){return this.toCSS()}}(function(i){function t(S){return new i(S)}i.fromArray=t;function e(S){return new i([...b(S),1])}i.fromHex=e;function n(S){const O=S.toLowerCase().match(/^rgba?\(([\s.,0-9]+)\)/);if(O){const k=O[1].split(/\s*,\s*/).map(m=>parseInt(m,10));return new i(k)}return null}i.fromRGBA=n;function r(S,O,k){k<0&&++k,k>1&&--k;const m=6*k;return m<1?S+(O-S)*m:2*k<1?O:3*k<2?S+(O-S)*(2/3-k)*6:S}function s(S){const O=S.toLowerCase().match(/^hsla?\(([\s.,0-9]+)\)/);if(O){const k=O[2].split(/\s*,\s*/),m=(parseFloat(k[0])%360+360)%360/360,T=parseFloat(k[1])/100,D=parseFloat(k[2])/100,z=k[3]==null?1:parseInt(k[3],10);return new i(c(m,T,D,z))}return null}i.fromHSLA=s;function o(S){if(S.startsWith("#"))return e(S);if(S.startsWith("rgb"))return n(S);const O=i.named[S];return O?e(O):s(S)}i.fromString=o;function a(S,O){return i.fromArray([S,S,S,O])}i.makeGrey=a;function l(S,O,k,m){const T=Array.isArray(S)?S[0]:S,D=Array.isArray(S)?S[1]:O,z=Array.isArray(S)?S[2]:k,H=Array.isArray(S)?S[3]:m,q=Math.max(T,D,z),R=Math.min(T,D,z),rt=(q+R)/2;let st=0,j=0;if(R!==q){const B=q-R;switch(j=rt>.5?B/(2-q-R):B/(q+R),q){case T:st=(D-z)/B+(D<z?6:0);break;case D:st=(z-T)/B+2;break;case z:st=(T-D)/B+4;break}st/=6}return[st,j,rt,H==null?1:H]}i.rgba2hsla=l;function c(S,O,k,m){const T=Array.isArray(S)?S[0]:S,D=Array.isArray(S)?S[1]:O,z=Array.isArray(S)?S[2]:k,H=Array.isArray(S)?S[3]:m,q=z<=.5?z*(D+1):z+D-z*D,R=2*z-q;return[r(R,q,T+1/3)*256,r(R,q,T)*256,r(R,q,T-1/3)*256,H==null?1:H]}i.hsla2rgba=c;function u(S){return new i(Math.round(Math.random()*256),Math.round(Math.random()*256),Math.round(Math.random()*256),S?void 0:parseFloat(Math.random().toFixed(2)))}i.random=u;function h(){const S="0123456789ABCDEF";let O="#";for(let k=0;k<6;k+=1)O+=S[Math.floor(Math.random()*16)];return O}i.randomHex=h;function f(S){return u(S).toString()}i.randomRGBA=f;function p(S,O){if(typeof S=="string"){const z=S[0]==="#",[H,q,R]=b(S);return O?H*.299+q*.587+R*.114>186?"#000000":"#ffffff":`${z?"#":""}${v(255-H,255-q,255-R)}`}const k=S[0],m=S[1],T=S[2],D=S[3];return O?k*.299+m*.587+T*.114>186?[0,0,0,D]:[255,255,255,D]:[255-k,255-m,255-T,D]}i.invert=p;function b(S){const O=S.indexOf("#")===0?S:`#${S}`;let k=Number(`0x${O.substr(1)}`);if(!(O.length===4||O.length===7)||Number.isNaN(k))throw new Error("Invalid hex color.");const m=O.length===4?4:8,T=(1<<m)-1,D=["b","g","r"].map(()=>{const z=k&T;return k>>=m,m===4?17*z:z});return[D[2],D[1],D[0]]}function v(S,O,k){const m=T=>T.length<2?`0${T}`:T;return`${m(S.toString(16))}${m(O.toString(16))}${m(k.toString(16))}`}function w(S,O){return E(S,O)}i.lighten=w;function x(S,O){return E(S,-O)}i.darken=x;function E(S,O){if(typeof S=="string"){const T=S[0]==="#",D=parseInt(T?S.substr(1):S,16),z=In((D>>16)+O,0,255),H=In((D>>8&255)+O,0,255),q=In((D&255)+O,0,255);return`${T?"#":""}${(q|H<<8|z<<16).toString(16)}`}const k=v(S[0],S[1],S[2]),m=b(E(k,O));return[m[0],m[1],m[2],S[3]]}})(pr||(pr={}));(function(i){i.named={aliceblue:"#f0f8ff",antiquewhite:"#faebd7",aqua:"#00ffff",aquamarine:"#7fffd4",azure:"#f0ffff",beige:"#f5f5dc",bisque:"#ffe4c4",black:"#000000",blanchedalmond:"#ffebcd",blue:"#0000ff",blueviolet:"#8a2be2",brown:"#a52a2a",burlywood:"#deb887",burntsienna:"#ea7e5d",cadetblue:"#5f9ea0",chartreuse:"#7fff00",chocolate:"#d2691e",coral:"#ff7f50",cornflowerblue:"#6495ed",cornsilk:"#fff8dc",crimson:"#dc143c",cyan:"#00ffff",darkblue:"#00008b",darkcyan:"#008b8b",darkgoldenrod:"#b8860b",darkgray:"#a9a9a9",darkgreen:"#006400",darkgrey:"#a9a9a9",darkkhaki:"#bdb76b",darkmagenta:"#8b008b",darkolivegreen:"#556b2f",darkorange:"#ff8c00",darkorchid:"#9932cc",darkred:"#8b0000",darksalmon:"#e9967a",darkseagreen:"#8fbc8f",darkslateblue:"#483d8b",darkslategray:"#2f4f4f",darkslategrey:"#2f4f4f",darkturquoise:"#00ced1",darkviolet:"#9400d3",deeppink:"#ff1493",deepskyblue:"#00bfff",dimgray:"#696969",dimgrey:"#696969",dodgerblue:"#1e90ff",firebrick:"#b22222",floralwhite:"#fffaf0",forestgreen:"#228b22",fuchsia:"#ff00ff",gainsboro:"#dcdcdc",ghostwhite:"#f8f8ff",gold:"#ffd700",goldenrod:"#daa520",gray:"#808080",green:"#008000",greenyellow:"#adff2f",grey:"#808080",honeydew:"#f0fff0",hotpink:"#ff69b4",indianred:"#cd5c5c",indigo:"#4b0082",ivory:"#fffff0",khaki:"#f0e68c",lavender:"#e6e6fa",lavenderblush:"#fff0f5",lawngreen:"#7cfc00",lemonchiffon:"#fffacd",lightblue:"#add8e6",lightcoral:"#f08080",lightcyan:"#e0ffff",lightgoldenrodyellow:"#fafad2",lightgray:"#d3d3d3",lightgreen:"#90ee90",lightgrey:"#d3d3d3",lightpink:"#ffb6c1",lightsalmon:"#ffa07a",lightseagreen:"#20b2aa",lightskyblue:"#87cefa",lightslategray:"#778899",lightslategrey:"#778899",lightsteelblue:"#b0c4de",lightyellow:"#ffffe0",lime:"#00ff00",limegreen:"#32cd32",linen:"#faf0e6",magenta:"#ff00ff",maroon:"#800000",mediumaquamarine:"#66cdaa",mediumblue:"#0000cd",mediumorchid:"#ba55d3",mediumpurple:"#9370db",mediumseagreen:"#3cb371",mediumslateblue:"#7b68ee",mediumspringgreen:"#00fa9a",mediumturquoise:"#48d1cc",mediumvioletred:"#c71585",midnightblue:"#191970",mintcream:"#f5fffa",mistyrose:"#ffe4e1",moccasin:"#ffe4b5",navajowhite:"#ffdead",navy:"#000080",oldlace:"#fdf5e6",olive:"#808000",olivedrab:"#6b8e23",orange:"#ffa500",orangered:"#ff4500",orchid:"#da70d6",palegoldenrod:"#eee8aa",palegreen:"#98fb98",paleturquoise:"#afeeee",palevioletred:"#db7093",papayawhip:"#ffefd5",peachpuff:"#ffdab9",peru:"#cd853f",pink:"#ffc0cb",plum:"#dda0dd",powderblue:"#b0e0e6",purple:"#800080",rebeccapurple:"#663399",red:"#ff0000",rosybrown:"#bc8f8f",royalblue:"#4169e1",saddlebrown:"#8b4513",salmon:"#fa8072",sandybrown:"#f4a460",seagreen:"#2e8b57",seashell:"#fff5ee",sienna:"#a0522d",silver:"#c0c0c0",skyblue:"#87ceeb",slateblue:"#6a5acd",slategray:"#708090",slategrey:"#708090",snow:"#fffafa",springgreen:"#00ff7f",steelblue:"#4682b4",tan:"#d2b48c",teal:"#008080",thistle:"#d8bfd8",tomato:"#ff6347",turquoise:"#40e0d0",violet:"#ee82ee",wheat:"#f5deb3",white:"#ffffff",whitesmoke:"#f5f5f5",yellow:"#ffff00",yellowgreen:"#9acd32"}})(pr||(pr={}));class sL{constructor(){this.listeners={}}on(t,e,n){return e==null?this:(this.listeners[t]||(this.listeners[t]=[]),this.listeners[t].push(e,n),this)}once(t,e,n){const r=(...s)=>(this.off(t,r),Wa.call([e,n],s));return this.on(t,r,this)}off(t,e,n){if(!(t||e||n))return this.listeners={},this;const r=this.listeners;return(t?[t]:Object.keys(r)).forEach(o=>{const a=r[o];if(!!a){if(!(e||n)){delete r[o];return}for(let l=a.length-2;l>=0;l-=2)e&&a[l]!==e||n&&a[l+1]!==n||a.splice(l,2)}}),this}trigger(t,...e){let n=!0;if(t!=="*"){const s=this.listeners[t];s!=null&&(n=Wa.call([...s],e))}const r=this.listeners["*"];return r!=null?np([n,Wa.call([...r],[t,...e])]):n}emit(t,...e){return this.trigger(t,...e)}}var Wa;(function(i){function t(e,n){const r=[];for(let s=0;s<e.length;s+=2){const o=e[s],a=e[s+1],l=Array.isArray(n)?n:[n],c=sy(o,a,l);r.push(c)}return np(r)}i.call=t})(Wa||(Wa={}));class Bi{get disposed(){return this._disposed===!0}dispose(){this._disposed=!0}}(function(i){function t(){return(e,n,r)=>{const s=r.value,o=e.__proto__;r.value=function(){this.disposed||(s.call(this),o.dispose.call(this))}}}i.dispose=t})(Bi||(Bi={}));class T2{constructor(){this.isDisposed=!1,this.items=new Set}get disposed(){return this.isDisposed}dispose(){this.isDisposed||(this.isDisposed=!0,this.items.forEach(t=>{t.dispose()}),this.items.clear())}contains(t){return this.items.has(t)}add(t){this.items.add(t)}remove(t){this.items.delete(t)}clear(){this.items.clear()}}(function(i){function t(e){const n=new i;return e.forEach(r=>{n.add(r)}),n}i.from=t})(T2||(T2={}));class Mn extends sL{}(function(i){i.dispose=Bi.dispose})(Mn||(Mn={}));ey(Mn,Bi);class Qy extends Mn{get disabled(){return this._disabled===!0}enable(){delete this._disabled}disable(){this._disabled=!0}}var oL=globalThis&&globalThis.__decorate||function(i,t,e,n){var r=arguments.length,s=r<3?t:n===null?n=Object.getOwnPropertyDescriptor(t,e):n,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")s=Reflect.decorate(i,t,e,n);else for(var a=i.length-1;a>=0;a--)(o=i[a])&&(s=(r<3?o(s):r>3?o(t,e,s):o(t,e))||s);return r>3&&s&&Object.defineProperty(t,e,s),s};class Jc extends Bi{constructor(){super(),this.clear()}clear(){this.map=new WeakMap,this.arr=[]}has(t){return this.map.has(t)}get(t){return this.map.get(t)}set(t,e){this.map.set(t,e),this.arr.push(t)}delete(t){const e=this.arr.indexOf(t);e>=0&&this.arr.splice(e,1);const n=this.map.get(t);return this.map.delete(t),n}each(t){this.arr.forEach(e=>{const n=this.map.get(e);t(n,e)})}dispose(){this.clear()}}oL([Bi.dispose()],Jc.prototype,"dispose",null);class yl{constructor(t={}){this.comparator=t.comparator||yl.defaultComparator,this.index={},this.data=t.data||[],this.heapify()}isEmpty(){return this.data.length===0}insert(t,e,n){const r={priority:t,value:e},s=this.data.length-1;return n&&(r.id=n,this.index[n]=s),this.data.push(r),this.bubbleUp(s),this}peek(){return this.data[0]?this.data[0].value:null}peekPriority(){return this.data[0]?this.data[0].priority:null}updatePriority(t,e){const n=this.index[t];if(typeof n=="undefined")throw new Error(`Node with id '${t}' was not found in the heap.`);const r=this.data,s=r[n].priority,o=this.comparator(e,s);o<0?(r[n].priority=e,this.bubbleUp(n)):o>0&&(r[n].priority=e,this.bubbleDown(n))}remove(){const t=this.data,e=t[0],n=t.pop();return delete this.index[t.length],t.length>0&&(t[0]=n,n.id&&(this.index[n.id]=0),this.bubbleDown(0)),e?e.value:null}heapify(){for(let t=0;t<this.data.length;t+=1)this.bubbleUp(t)}bubbleUp(t){const e=this.data;let n,r,s=t;for(;s>0&&(r=s-1>>>1,this.comparator(e[s].priority,e[r].priority)<0);){n=e[r],e[r]=e[s];let o=e[s].id;o!=null&&(this.index[o]=r),e[s]=n,o=e[s].id,o!=null&&(this.index[o]=s),s=r}}bubbleDown(t){const e=this.data,n=e.length-1;let r=t;for(;;){const s=(r<<1)+1,o=s+1;let a=r;if(s<=n&&this.comparator(e[s].priority,e[a].priority)<0&&(a=s),o<=n&&this.comparator(e[o].priority,e[a].priority)<0&&(a=o),a!==r){const l=e[a];e[a]=e[r];let c=e[r].id;c!=null&&(this.index[c]=a),e[r]=l,c=e[r].id,c!=null&&(this.index[c]=r),r=a}else break}}}(function(i){i.defaultComparator=(t,e)=>t-e})(yl||(yl={}));var Ud;(function(i){function t(e,n,r=(s,o)=>1){const s={},o={},a={},l=new yl;for(s[n]=0,Object.keys(e).forEach(c=>{c!==n&&(s[c]=1/0),l.insert(s[c],c,c)});!l.isEmpty();){const c=l.remove();a[c]=!0;const u=e[c]||[];for(let h=0;h<u.length;h+=1){const f=u[h];if(!a[f]){const p=s[c]+r(c,f);p<s[f]&&(s[f]=p,o[f]=c,l.updatePriority(f,p))}}}return o}i.run=t})(Ud||(Ud={}));var Hs;(function(i){i.linear=t=>t,i.quad=t=>t*t,i.cubic=t=>t*t*t,i.inout=t=>{if(t<=0)return 0;if(t>=1)return 1;const e=t*t,n=e*t;return 4*(t<.5?n:3*(t-e)+n-.75)},i.exponential=t=>Math.pow(2,10*(t-1)),i.bounce=t=>{for(let e=0,n=1;;e+=n,n/=2)if(t>=(7-4*e)/11){const r=(11-6*e-11*t)/4;return-r*r+n*n}}})(Hs||(Hs={}));(function(i){i.decorators={reverse(t){return e=>1-t(1-e)},reflect(t){return e=>.5*(e<.5?t(2*e):2-t(2-2*e))},clamp(t,e=0,n=1){return r=>{const s=t(r);return s<e?e:s>n?n:s}},back(t=1.70158){return e=>e*e*((t+1)*e-t)},elastic(t=1.5){return e=>Math.pow(2,10*(e-1))*Math.cos(20*Math.PI*t/3*e)}}})(Hs||(Hs={}));(function(i){function t(j){return-1*Math.cos(j*(Math.PI/2))+1}i.easeInSine=t;function e(j){return Math.sin(j*(Math.PI/2))}i.easeOutSine=e;function n(j){return-.5*(Math.cos(Math.PI*j)-1)}i.easeInOutSine=n;function r(j){return j*j}i.easeInQuad=r;function s(j){return j*(2-j)}i.easeOutQuad=s;function o(j){return j<.5?2*j*j:-1+(4-2*j)*j}i.easeInOutQuad=o;function a(j){return j*j*j}i.easeInCubic=a;function l(j){const B=j-1;return B*B*B+1}i.easeOutCubic=l;function c(j){return j<.5?4*j*j*j:(j-1)*(2*j-2)*(2*j-2)+1}i.easeInOutCubic=c;function u(j){return j*j*j*j}i.easeInQuart=u;function h(j){const B=j-1;return 1-B*B*B*B}i.easeOutQuart=h;function f(j){const B=j-1;return j<.5?8*j*j*j*j:1-8*B*B*B*B}i.easeInOutQuart=f;function p(j){return j*j*j*j*j}i.easeInQuint=p;function b(j){const B=j-1;return 1+B*B*B*B*B}i.easeOutQuint=b;function v(j){const B=j-1;return j<.5?16*j*j*j*j*j:1+16*B*B*B*B*B}i.easeInOutQuint=v;function w(j){return j===0?0:Math.pow(2,10*(j-1))}i.easeInExpo=w;function x(j){return j===1?1:-Math.pow(2,-10*j)+1}i.easeOutExpo=x;function E(j){if(j===0||j===1)return j;const B=j*2,tt=B-1;return B<1?.5*Math.pow(2,10*tt):.5*(-Math.pow(2,-10*tt)+2)}i.easeInOutExpo=E;function S(j){const B=j/1;return-1*(Math.sqrt(1-B*j)-1)}i.easeInCirc=S;function O(j){const B=j-1;return Math.sqrt(1-B*B)}i.easeOutCirc=O;function k(j){const B=j*2,tt=B-2;return B<1?-.5*(Math.sqrt(1-B*B)-1):.5*(Math.sqrt(1-tt*tt)+1)}i.easeInOutCirc=k;function m(j,B=1.70158){return j*j*((B+1)*j-B)}i.easeInBack=m;function T(j,B=1.70158){const tt=j/1-1;return tt*tt*((B+1)*tt+B)+1}i.easeOutBack=T;function D(j,B=1.70158){const tt=j*2,bt=tt-2,Ot=B*1.525;return tt<1?.5*tt*tt*((Ot+1)*tt-Ot):.5*(bt*bt*((Ot+1)*bt+Ot)+2)}i.easeInOutBack=D;function z(j,B=.7){if(j===0||j===1)return j;const bt=j/1-1,Ot=1-B,Gt=Ot/(2*Math.PI)*Math.asin(1);return-(Math.pow(2,10*bt)*Math.sin((bt-Gt)*(2*Math.PI)/Ot))}i.easeInElastic=z;function H(j,B=.7){const tt=1-B,bt=j*2;if(j===0||j===1)return j;const Ot=tt/(2*Math.PI)*Math.asin(1);return Math.pow(2,-10*bt)*Math.sin((bt-Ot)*(2*Math.PI)/tt)+1}i.easeOutElastic=H;function q(j,B=.65){const tt=1-B;if(j===0||j===1)return j;const bt=j*2,Ot=bt-1,Gt=tt/(2*Math.PI)*Math.asin(1);return bt<1?-.5*(Math.pow(2,10*Ot)*Math.sin((Ot-Gt)*(2*Math.PI)/tt)):Math.pow(2,-10*Ot)*Math.sin((Ot-Gt)*(2*Math.PI)/tt)*.5+1}i.easeInOutElastic=q;function R(j){const B=j/1;if(B<1/2.75)return 7.5625*B*B;if(B<2/2.75){const tt=B-.5454545454545454;return 7.5625*tt*tt+.75}if(B<2.5/2.75){const tt=B-.8181818181818182;return 7.5625*tt*tt+.9375}{const tt=B-.9545454545454546;return 7.5625*tt*tt+.984375}}i.easeOutBounce=R;function rt(j){return 1-R(1-j)}i.easeInBounce=rt;function st(j){return j<.5?rt(j*2)*.5:R(j*2-1)*.5+.5}i.easeInOutBounce=st})(Hs||(Hs={}));var Ns;(function(i){i.number=(t,e)=>{const n=e-t;return r=>t+n*r},i.object=(t,e)=>{const n=Object.keys(t);return r=>{const s={};for(let o=n.length-1;o!==-1;o-=1){const a=n[o];s[a]=t[a]+(e[a]-t[a])*r}return s}},i.unit=(t,e)=>{const n=/(-?[0-9]*.[0-9]*)(px|em|cm|mm|in|pt|pc|%)/,r=n.exec(t),s=n.exec(e),o=s?s[1]:"",a=r?+r[1]:0,l=s?+s[1]:0,c=o.indexOf("."),u=c>0?o[1].length-c-1:0,h=l-a,f=r?r[2]:"";return p=>(a+h*p).toFixed(u)+f},i.color=(t,e)=>{const n=parseInt(t.slice(1),16),r=parseInt(e.slice(1),16),s=n&255,o=(r&255)-s,a=n&65280,l=(r&65280)-a,c=n&16711680,u=(r&16711680)-c;return h=>{const f=s+o*h&255,p=a+l*h&65280,b=c+u*h&16711680;return`#${(1<<24|f|p|b).toString(16).slice(1)}`}}})(Ns||(Ns={}));var P2;(function(i){const t=`${ir.prefixCls}.storage`;function e(h,f,p){const b=f.id||pP("doc-"),v=l(h);v.keys.push(b),o(c(h,b),f),o(u(h),v),s(p,null,Object.assign(Object.assign({},f),{id:b}))}i.insert=e;function n(h,f,p){const b=l(h),v=[];if(f==null)b.keys.forEach(w=>{const x=a(c(h,w));x?v.push(x):s(p,new Error(`No document found for an ID '${w}' from index.`))}),s(p,null,v);else if(f.id){const w=a(c(h,f.id));s(p,null,w?[w]:[])}else s(p,null,[])}i.find=n;function r(h,f,p){const b=l(h);if(f==null)b.keys.forEach(v=>{localStorage.removeItem(c(h,v))}),localStorage.removeItem(u(h)),s(p,null);else if(f.id){const v=b.keys.indexOf(f.id);v>=0&&b.keys.splice(v,1),localStorage.removeItem(c(h,f.id)),o(u(h),b),s(p,null)}}i.remove=r;function s(h,f,p){h&&Z6(()=>{h(f,p)})}function o(h,f){localStorage.setItem(h,JSON.stringify(f))}function a(h){const f=localStorage.getItem(h);return f?JSON.parse(f):null}function l(h){const f=a(u(h));return f?(f.keys==null&&(f.keys=[]),f):{keys:[]}}function c(h,f){return`${t}.${h}.docs.${f}`}function u(h){return`${t}.${h}.index`}})(P2||(P2={}));class se extends Mn{constructor(){super(),this.cid=Wd.uniqueId(),se.views[this.cid]=this}get priority(){return 2}confirmUpdate(t,e){return 0}$(t){return se.$(t)}empty(t=this.container){return this.$(t).empty(),this}unmount(t=this.container){return this.$(t).remove(),this}remove(t=this.container){return t===this.container&&(this.removeEventListeners(document),this.onRemove(),delete se.views[this.cid]),this.unmount(t),this}onRemove(){}setClass(t,e=this.container){e.classList.value=Array.isArray(t)?t.join(" "):t}addClass(t,e=this.container){return this.$(e).addClass(Array.isArray(t)?t.join(" "):t),this}removeClass(t,e=this.container){return this.$(e).removeClass(Array.isArray(t)?t.join(" "):t),this}setStyle(t,e=this.container){return this.$(e).css(t),this}setAttrs(t,e=this.container){return t!=null&&e!=null&&(e instanceof SVGElement?me(e,t):this.$(e).attr(t)),this}findAttr(t,e=this.container){let n=e;for(;n&&n.nodeType===1;){const r=n.getAttribute(t);if(r!=null)return r;if(n===this.container)return null;n=n.parentNode}return null}find(t,e=this.container,n=this.selectors){return se.find(t,e,n).elems}findOne(t,e=this.container,n=this.selectors){const r=this.find(t,e,n);return r.length>0?r[0]:null}findByAttr(t,e=this.container){let n=e;for(;n&&n.getAttribute;){const r=n.getAttribute(t);if((r!=null||n===this.container)&&r!=="false")return n;n=n.parentNode}return null}getSelector(t,e){let n;if(t===this.container)return typeof e=="string"&&(n=`> ${e}`),n;if(t){const r=op(t)+1;n=`${t.tagName.toLowerCase()}:nth-child(${r})`,e&&(n+=` > ${e}`),n=this.getSelector(t.parentNode,n)}return n}prefixClassName(t){return Qe.prefix(t)}delegateEvents(t,e){if(t==null)return this;e||this.undelegateEvents();const n=/^(\S+)\s*(.*)$/;return Object.keys(t).forEach(r=>{const s=r.match(n);if(s==null)return;const o=this.getEventHandler(t[r]);typeof o=="function"&&this.delegateEvent(s[1],s[2],o)}),this}undelegateEvents(){return this.$(this.container).off(this.getEventNamespace()),this}delegateDocumentEvents(t,e){return this.addEventListeners(document,t,e),this}undelegateDocumentEvents(){return this.removeEventListeners(document),this}delegateEvent(t,e,n){return this.$(this.container).on(t+this.getEventNamespace(),e,n),this}undelegateEvent(t,e,n){const r=t+this.getEventNamespace();return e==null?this.$(this.container).off(r):typeof e=="string"?this.$(this.container).off(r,e,n):this.$(this.container).off(r,e),this}addEventListeners(t,e,n){if(e==null)return this;const r=this.getEventNamespace(),s=this.$(t);return Object.keys(e).forEach(o=>{const a=this.getEventHandler(e[o]);typeof a=="function"&&s.on(o+r,n,a)}),this}removeEventListeners(t){return t!=null&&this.$(t).off(this.getEventNamespace()),this}getEventNamespace(){return`.${ir.prefixCls}-event-${this.cid}`}getEventHandler(t){let e;if(typeof t=="string"){const n=this[t];typeof n=="function"&&(e=(...r)=>n.call(this,...r))}else e=(...n)=>t.call(this,...n);return e}getEventTarget(t,e={}){const{target:n,type:r,clientX:s=0,clientY:o=0}=t;return e.fromPoint||r==="touchmove"||r==="touchend"?document.elementFromPoint(s,o):n}stopPropagation(t){return this.setEventData(t,{propagationStopped:!0}),this}isPropagationStopped(t){return this.getEventData(t).propagationStopped===!0}getEventData(t){return this.eventData(t)}setEventData(t,e){return this.eventData(t,e)}eventData(t,e){if(t==null)throw new TypeError("Event object required");let n=t.data;const r=`__${this.cid}__`;return e==null?n==null?{}:n[r]||{}:(n==null&&(n=t.data={}),n[r]==null?n[r]=Object.assign({},e):n[r]=Object.assign(Object.assign({},n[r]),e),n[r])}normalizeEvent(t){return se.normalizeEvent(t)}}(function(i){function t(s){return Ke(s)}i.$=t;function e(s,o){return o?Jn(s||"g"):sp(s||"div")}i.createElement=e;function n(s,o,a){if(!s||s===".")return{elems:[o]};if(a){const l=a[s];if(l)return{elems:Array.isArray(l)?l:[l]}}return{isCSSSelector:!0,elems:t(o).find(s).toArray()}}i.find=n;function r(s){let o=s;const a=s.originalEvent,l=a&&a.changedTouches&&a.changedTouches[0];if(l){for(const u in s)l[u]===void 0&&(l[u]=s[u]);o=l}const c=o.target;if(c){const u=c.correspondingUseElement;u&&(o.target=u)}return o}i.normalizeEvent=r})(se||(se={}));(function(i){i.views={};function t(e){return i.views[e]||null}i.getView=t})(se||(se={}));var Wd;(function(i){let t=0;function e(){const n=`v${t}`;return t+=1,n}i.uniqueId=e})(Wd||(Wd={}));const aL=i=>i;function k2(i,t){return t===0?"0%":`${Math.round(i/t*100)}%`}function t1(i){return(e,n,r,s)=>n.isEdgeElement(r)?cL(i,e,n,r,s):lL(i,e,n,r,s)}function lL(i,t,e,n,r){const s=e.cell,o=s.getAngle(),a=e.getUnrotatedBBoxOfElement(n),l=s.getBBox().getCenter(),c=N.create(r).rotate(o,l);let u=c.x-a.x,h=c.y-a.y;return i&&(u=k2(u,a.width),h=k2(h,a.height)),t.anchor={name:"topLeft",args:{dx:u,dy:h,rotate:!0}},t}function cL(i,t,e,n,r){const s=e.getConnection();if(!s)return t;const o=s.closestPointLength(r);if(i){const a=s.length();t.anchor={name:"ratio",args:{ratio:o/a}}}else t.anchor={name:"length",args:{length:o}};return t}const uL=t1(!0),hL=t1(!1);var dL=Object.freeze(Object.defineProperty({__proto__:null,noop:aL,pinRelative:uL,pinAbsolute:hL},Symbol.toStringTag,{value:"Module"})),Qo;(function(i){i.presets=dL,i.registry=Ye.create({type:"connection strategy"}),i.registry.register(i.presets,!0)})(Qo||(Qo={}));class fL{constructor(t){this.view=t,this.clean()}clean(){this.elemCache&&this.elemCache.dispose(),this.elemCache=new Jc,this.pathCache={}}get(t){return this.elemCache.has(t)||this.elemCache.set(t,{}),this.elemCache.get(t)}getData(t){const e=this.get(t);return e.data||(e.data={}),e.data}getMatrix(t){const e=this.get(t);if(e.matrix==null){const n=this.view.rotatableNode||this.view.container;e.matrix=da(t,n)}return yn(e.matrix)}getShape(t){const e=this.get(t);return e.shape==null&&(e.shape=Cy(t)),e.shape.clone()}getBoundingRect(t){const e=this.get(t);return e.boundingRect==null&&(e.boundingRect=vn(t)),e.boundingRect.clone()}}var he;(function(i){function t(u){return u!=null&&!e(u)}i.isJSONMarkup=t;function e(u){return u!=null&&typeof u=="string"}i.isStringMarkup=e;function n(u){return u==null||e(u)?u:Xe(u)}i.clone=n;function r(u){return`${u}`.trim().replace(/[\r|\n]/g," ").replace(/>\s+</g,"><")}i.sanitize=r;function s(u){const h=document.createDocumentFragment(),f={},p={},b=r(u);return ry(b,{raw:!0}).forEach(w=>{h.appendChild(w)}),{fragment:h,selectors:p,groups:f}}i.parseStringMarkup=s;function o(u,h={ns:sn.svg}){const f=document.createDocumentFragment(),p={},b={},v=[{markup:Array.isArray(u)?u:[u],parent:f,ns:h.ns}];for(;v.length>0;){const w=v.pop();let x=w.ns||sn.svg;const E=w.markup,S=w.parent;E.forEach(O=>{const k=O.tagName;if(!k)throw new TypeError("Invalid tagName");O.ns&&(x=O.ns);const m=x===sn.svg,T=x?sp(k,x):y2(k),D=O.attrs;D&&(m?me(T,ml(D)):Ke(T).attr(D));const z=O.style;z&&Ke(T).css(z);const H=O.className;H!=null&&T.setAttribute("class",Array.isArray(H)?H.join(" "):H),O.textContent&&(T.textContent=O.textContent);const q=O.selector;if(q!=null){if(b[q])throw new TypeError("Selector must be unique");b[q]=T}if(O.groupSelector){let rt=O.groupSelector;Array.isArray(rt)||(rt=[rt]),rt.forEach(st=>{p[st]||(p[st]=[]),p[st].push(T)})}S.appendChild(T);const R=O.children;Array.isArray(R)&&v.push({ns:x,markup:R,parent:T})})}return Object.keys(p).forEach(w=>{if(b[w])throw new Error("Ambiguous group selector");b[w]=p[w]}),{fragment:f,selectors:b,groups:p}}i.parseJSONMarkup=o;function a(u){return u instanceof SVGElement?Jn("g"):y2("div")}function l(u){if(e(u)){const b=Et.createVectors(u),v=b.length;if(v===1)return{elem:b[0].node};if(v>1){const w=a(b[0].node);return b.forEach(x=>{w.appendChild(x.node)}),{elem:w}}return{}}const h=o(u),f=h.fragment;let p=null;return f.childNodes.length>1?(p=a(f.firstChild),p.appendChild(f)):p=f.firstChild,{elem:p,selectors:h.selectors}}i.renderMarkup=l;function c(u){const h=Et.createVectors(u),f=document.createDocumentFragment();for(let p=0,b=h.length;p<b;p+=1){const v=h[p].node;f.appendChild(v)}return{fragment:f,selectors:{}}}i.parseLabelStringMarkup=c})(he||(he={}));(function(i){function t(r,s,o){if(r!=null){let a;const l=r.tagName.toLowerCase();if(r===s)return typeof o=="string"?a=`> ${l} > ${o}`:a=`> ${l}`,a;const c=r.parentNode;if(c&&c.childNodes.length>1){const u=op(r)+1;a=`${l}:nth-child(${u})`}else a=l;return o&&(a+=` > ${o}`),t(r.parentNode,s,a)}return o}i.getSelector=t;function e(r,s,o){if(r.nodeName==="#text")return null;let a=null,l=null,c=null,u=!1;const h={tagName:r.tagName};if(r.attributes){c={};for(let f=0,p=r.attributes.length;f<p;f+=1){const b=r.attributes[f],v=b.nodeName,w=b.nodeValue;v==="selector"?a=w:v==="groupSelector"?l=w:v==="class"?h.attrs={class:w}:c[v]=w}}return a==null&&(u=!0,a=t(r,s)),r.namespaceURI&&(h.ns=r.namespaceURI),h.ns==null&&(["body","div","section","main","nav","footer","span","p","h1","h2","h3","h4","h5","h6","ul","ol","dl","center","strong","pre","form","select","textarea","fieldset","marquee","bgsound","iframe","frameset"].includes(r.tagName)?h.ns=sn.xhtml:o&&(h.ns=o)),a&&(h.selector=a),l!=null&&(h.groupSelector=l),{markup:h,attrs:c,isCSSSelector:u}}function n(r){const s=i.sanitize(r),o=ay(s,{mimeType:"image/svg+xml"}),a=Array.prototype.slice.call(o.childNodes),l={},c=new WeakMap,u=(f,p,b)=>{const v=e(f,p,b);if(v==null){const w=c.get(f.parentNode);w&&f.textContent&&(w.textContent=f.textContent)}else{const{markup:w,attrs:x,isCSSSelector:E}=v;if(c.set(f,w),w.selector&&x!=null&&(Object.keys(x).length&&(l[w.selector]=x),E&&delete w.selector),f.childNodes&&f.childNodes.length>0)for(let S=0,O=f.childNodes.length;S<O;S+=1){const k=f.childNodes[S],m=u(k,p,w.ns);m&&(w.children==null&&(w.children=[]),w.children.push(m))}return w}};return{markup:a.map(f=>u(f,f)).filter(f=>f!=null),attrs:l}}i.xml2json=n})(he||(he={}));(function(i){function t(){return"g"}i.getPortContainerMarkup=t;function e(){return{tagName:"circle",selector:"circle",attrs:{r:10,fill:"#FFFFFF",stroke:"#000000"}}}i.getPortMarkup=e;function n(){return{tagName:"text",selector:"text",attrs:{fill:"#000000"}}}i.getPortLabelMarkup=n})(he||(he={}));(function(i){function t(){return i.sanitize(`
    <path class="connection" stroke="black" d="M 0 0 0 0"/>
    <path class="source-marker" fill="black" stroke="black" d="M 0 0 0 0"/>
    <path class="target-marker" fill="black" stroke="black" d="M 0 0 0 0"/>
    <path class="connection-wrap" d="M 0 0 0 0"/>
    <g class="labels"/>
    <g class="vertices"/>
    <g class="arrowheads"/>
    <g class="tools"/>
  `)}i.getEdgeMarkup=t;function e(){return i.sanitize(`
    <g class="edge-tool">
      <g class="tool-remove" event="edge:remove">
        <circle r="11" />
        <path transform="scale(.8) translate(-16, -16)" d="M24.778,21.419 19.276,15.917 24.777,10.415 21.949,7.585 16.447,13.087 10.945,7.585 8.117,10.415 13.618,15.917 8.116,21.419 10.946,24.248 16.447,18.746 21.948,24.248z" />
        <title>Remove edge.</title>
      </g>
      <g class="tool-options" event="edge:options">
        <circle r="11" transform="translate(25)"/>
        <path fill="white" transform="scale(.55) translate(29, -16)" d="M31.229,17.736c0.064-0.571,0.104-1.148,0.104-1.736s-0.04-1.166-0.104-1.737l-4.377-1.557c-0.218-0.716-0.504-1.401-0.851-2.05l1.993-4.192c-0.725-0.91-1.549-1.734-2.458-2.459l-4.193,1.994c-0.647-0.347-1.334-0.632-2.049-0.849l-1.558-4.378C17.165,0.708,16.588,0.667,16,0.667s-1.166,0.041-1.737,0.105L12.707,5.15c-0.716,0.217-1.401,0.502-2.05,0.849L6.464,4.005C5.554,4.73,4.73,5.554,4.005,6.464l1.994,4.192c-0.347,0.648-0.632,1.334-0.849,2.05l-4.378,1.557C0.708,14.834,0.667,15.412,0.667,16s0.041,1.165,0.105,1.736l4.378,1.558c0.217,0.715,0.502,1.401,0.849,2.049l-1.994,4.193c0.725,0.909,1.549,1.733,2.459,2.458l4.192-1.993c0.648,0.347,1.334,0.633,2.05,0.851l1.557,4.377c0.571,0.064,1.148,0.104,1.737,0.104c0.588,0,1.165-0.04,1.736-0.104l1.558-4.377c0.715-0.218,1.399-0.504,2.049-0.851l4.193,1.993c0.909-0.725,1.733-1.549,2.458-2.458l-1.993-4.193c0.347-0.647,0.633-1.334,0.851-2.049L31.229,17.736zM16,20.871c-2.69,0-4.872-2.182-4.872-4.871c0-2.69,2.182-4.872,4.872-4.872c2.689,0,4.871,2.182,4.871,4.872C20.871,18.689,18.689,20.871,16,20.871z"/>
        <title>Edge options.</title>
      </g>
    </g>
  `)}i.getEdgeToolMarkup=e;function n(){return i.sanitize(`
    <g class="vertex-group" transform="translate(<%= x %>, <%= y %>)">
      <circle class="vertex" data-index="<%= index %>" r="10" />
      <path class="vertex-remove-area" data-index="<%= index %>" d="M16,5.333c-7.732,0-14,4.701-14,10.5c0,1.982,0.741,3.833,2.016,5.414L2,25.667l5.613-1.441c2.339,1.317,5.237,2.107,8.387,2.107c7.732,0,14-4.701,14-10.5C30,10.034,23.732,5.333,16,5.333z" transform="translate(5, -33)"/>
      <path class="vertex-remove" data-index="<%= index %>" transform="scale(.8) translate(9.5, -37)" d="M24.778,21.419 19.276,15.917 24.777,10.415 21.949,7.585 16.447,13.087 10.945,7.585 8.117,10.415 13.618,15.917 8.116,21.419 10.946,24.248 16.447,18.746 21.948,24.248z">
      <title>Remove vertex.</title>
      </path>
    </g>
  `)}i.getEdgeVertexMarkup=n;function r(){return i.sanitize(`
    <g class="arrowhead-group arrowhead-group-<%= end %>">
      <path class="arrowhead" data-terminal="<%= end %>" d="M 26 0 L 0 13 L 26 26 z" />
    </g>
  `)}i.getEdgeArrowheadMarkup=r})(he||(he={}));(function(i){function t(e=!1){return{tagName:"foreignObject",selector:"fo",children:[{ns:sn.xhtml,tagName:"body",selector:"foBody",attrs:{xmlns:sn.xhtml},style:{width:"100%",height:"100%",background:"transparent"},children:e?[]:[{tagName:"div",selector:"foContent",style:{width:"100%",height:"100%"}}]}]}}i.getForeignObjectMarkup=t})(he||(he={}));class Gs{constructor(t){this.view=t}get cell(){return this.view.cell}getDefinition(t){return this.cell.getAttrDefinition(t)}processAttrs(t,e){let n,r,s,o,a;const l=[];return Object.keys(e).forEach(c=>{const u=e[c],h=this.getDefinition(c),f=xt(nr.isValidDefinition,this.view,h,u,{elem:t,attrs:e,cell:this.cell,view:this.view});if(h&&f)typeof h=="string"?(n==null&&(n={}),n[h]=u):u!==null&&l.push({name:c,definition:h});else{n==null&&(n={});const p=Gs.CASE_SENSITIVE_ATTR.includes(c)?c:iy(c);n[p]=u}}),l.forEach(({name:c,definition:u})=>{const h=e[c];typeof u.set=="function"&&(!Nd(t)&&Gs.DELAY_ATTRS.includes(c)?(a==null&&(a={}),a[c]=h):(r==null&&(r={}),r[c]=h)),typeof u.offset=="function"&&(s==null&&(s={}),s[c]=h),typeof u.position=="function"&&(o==null&&(o={}),o[c]=h)}),{raw:e,normal:n,set:r,offset:s,position:o,delay:a}}mergeProcessedAttrs(t,e){t.set=Object.assign(Object.assign({},t.set),e.set),t.position=Object.assign(Object.assign({},t.position),e.position),t.offset=Object.assign(Object.assign({},t.offset),e.offset);const n=t.normal&&t.normal.transform;n!=null&&e.normal&&(e.normal.transform=n),t.normal=e.normal}findAttrs(t,e,n,r){const s=[],o=new Jc;return Object.keys(t).forEach(a=>{const l=t[a];if(!fi(l))return;const{isCSSSelector:c,elems:u}=se.find(a,e,r);n[a]=u;for(let h=0,f=u.length;h<f;h+=1){const p=u[h],b=r&&r[a]===p,v=o.get(p);if(v){v.array||(s.push(p),v.array=!0,v.attrs=[v.attrs],v.priority=[v.priority]);const w=v.attrs,x=v.priority;if(b)w.unshift(l),x.unshift(-1);else{const E=R5(x,c?-1:f);w.splice(E,0,l),x.splice(E,0,f)}}else o.set(p,{elem:p,attrs:l,priority:b?-1:f,array:!1})}}),s.forEach(a=>{const l=o.get(a),c=l.attrs;l.attrs=c.reduceRight((u,h)=>De(u,h),{})}),o}updateRelativeAttrs(t,e,n,r){const s=e.raw||{};let o=e.normal||{};const a=e.set,l=e.position,c=e.offset,u=e.delay,h=()=>({elem:t,cell:this.cell,view:this.view,attrs:s,refBBox:n.clone()});if(a!=null&&Object.keys(a).forEach(k=>{const m=a[k],T=this.getDefinition(k);if(T!=null){const D=xt(T.set,this.view,m,h());typeof D=="object"?o=Object.assign(Object.assign({},o),D):D!=null&&(o[k]=D)}}),Nd(t)){this.view.setAttrs(o,t);return}const f=o.transform,p=f?`${f}`:null,b=Yc(p),v=new N(b.e,b.f);f&&(delete o.transform,b.e=0,b.f=0);let w=1,x=1;if(l||c){const k=this.view.getScaleOfElement(t,r.scalableNode);w=k.sx,x=k.sy}let E=!1;l!=null&&Object.keys(l).forEach(k=>{const m=l[k],T=this.getDefinition(k);if(T!=null){const D=xt(T.position,this.view,m,h());D!=null&&(E=!0,v.translate(N.create(D).scale(w,x)))}}),this.view.setAttrs(o,t);let S=!1;if(c!=null){const k=this.view.getBoundingRectOfElement(t);if(k.width>0&&k.height>0){const m=ai(k,b).scale(1/w,1/x);Object.keys(c).forEach(T=>{const D=c[T],z=this.getDefinition(T);if(z!=null){const H=xt(z.offset,this.view,D,{elem:t,cell:this.cell,view:this.view,attrs:s,refBBox:m});H!=null&&(S=!0,v.translate(N.create(H).scale(w,x)))}})}}(f!=null||E||S)&&(v.round(1),b.e=v.x,b.f=v.y,t.setAttribute("transform",lo(b)));const O=()=>{u!=null&&Object.keys(u).forEach(k=>{const m=u[k],T=this.getDefinition(k);if(T!=null){const D=xt(T.set,this.view,m,h());typeof D=="object"?this.view.setAttrs(D,t):D!=null&&this.view.setAttrs({[k]:D},t)}})};r.forceSync?O():Gd.scheduleTask(O)}update(t,e,n){const r={},s=this.findAttrs(n.attrs||e,t,r,n.selectors),o=n.attrs?this.findAttrs(e,t,r,n.selectors):s,a=[];s.each(u=>{const h=u.elem,f=u.attrs,p=this.processAttrs(h,f);if(p.set==null&&p.position==null&&p.offset==null&&p.delay==null)this.view.setAttrs(p.normal,h);else{const b=o.get(h),v=b?b.attrs:null,w=v&&f.ref==null?v.ref:f.ref;let x;if(w){if(x=(r[w]||this.view.find(w,t,n.selectors))[0],!x)throw new Error(`"${w}" reference does not exist.`)}else x=null;const E={node:h,refNode:x,attributes:v,processedAttributes:p},S=a.findIndex(O=>O.refNode===h);S>-1?a.splice(S,0,E):a.push(E)}});const l=new Jc;let c;a.forEach(u=>{const h=u.node,f=u.refNode;let p;const b=f!=null&&n.rotatableNode!=null&&ap(n.rotatableNode,f);if(f&&(p=l.get(f)),!p){const E=b?n.rotatableNode:t;p=f?vn(f,{target:E}):n.rootBBox,f&&l.set(f,p)}let v;n.attrs&&u.attributes?(v=this.processAttrs(h,u.attributes),this.mergeProcessedAttrs(v,u.processedAttributes)):v=u.processedAttributes;let w=p;b&&n.rotatableNode!=null&&!n.rotatableNode.contains(h)&&(c||(c=Yc(me(n.rotatableNode,"transform"))),w=ai(p,c)),a.find(E=>E.refNode===h)&&(n.forceSync=!0),this.updateRelativeAttrs(h,v,w,n)})}}(function(i){i.CASE_SENSITIVE_ATTR=["viewBox"],i.DELAY_ATTRS=["text","textWrap","sourceMarker","targetMarker"]})(Gs||(Gs={}));class e1{constructor(t,e,n=[]){this.view=t;const r={},s={};let o=0;Object.keys(e).forEach(l=>{let c=e[l];Array.isArray(c)||(c=[c]),c.forEach(u=>{let h=r[u];h||(o+=1,h=r[u]=1<<o),s[l]|=h})});let a=n;if(Array.isArray(a)||(a=[a]),a.forEach(l=>{r[l]||(o+=1,r[l]=1<<o)}),o>25)throw new Error("Maximum number of flags exceeded.");this.flags=r,this.attrs=s,this.bootstrap=n}get cell(){return this.view.cell}getFlag(t){const e=this.flags;return e==null?0:Array.isArray(t)?t.reduce((n,r)=>n|e[r],0):e[t]|0}hasAction(t,e){return t&this.getFlag(e)}removeAction(t,e){return t^t&this.getFlag(e)}getBootstrapFlag(){return this.getFlag(this.bootstrap)}getChangedFlag(){let t=0;return this.attrs&&Object.keys(this.attrs).forEach(e=>{this.cell.hasChanged(e)&&(t|=this.attrs[e])}),t}}var pL=globalThis&&globalThis.__rest||function(i,t){var e={};for(var n in i)Object.prototype.hasOwnProperty.call(i,n)&&t.indexOf(n)<0&&(e[n]=i[n]);if(i!=null&&typeof Object.getOwnPropertySymbols=="function")for(var r=0,n=Object.getOwnPropertySymbols(i);r<n.length;r++)t.indexOf(n[r])<0&&Object.prototype.propertyIsEnumerable.call(i,n[r])&&(e[n[r]]=i[n[r]]);return e};class Be extends se{constructor(t,e={}){super(),this.cell=t,this.options=this.ensureOptions(e),this.graph=this.options.graph,this.attr=new Gs(this),this.flag=new e1(this,this.options.actions,this.options.bootstrap),this.cache=new fL(this),this.setContainer(this.ensureContainer()),this.setup(),this.$(this.container).data("view",this),this.init()}static getDefaults(){return this.defaults}static config(t){this.defaults=this.getOptions(t)}static getOptions(t){const e=(c,u)=>u!=null?fv([...Array.isArray(c)?c:[c],...Array.isArray(u)?u:[u]]):Array.isArray(c)?[...c]:[c],n=Xe(this.getDefaults()),{bootstrap:r,actions:s,events:o,documentEvents:a}=t,l=pL(t,["bootstrap","actions","events","documentEvents"]);return r&&(n.bootstrap=e(n.bootstrap,r)),s&&Object.keys(s).forEach(c=>{const u=s[c],h=n.actions[c];u&&h?n.actions[c]=e(h,u):u&&(n.actions[c]=e(u))}),o&&(n.events=Object.assign(Object.assign({},n.events),o)),t.documentEvents&&(n.documentEvents=Object.assign(Object.assign({},n.documentEvents),a)),De(n,l)}get[Symbol.toStringTag](){return Be.toStringTag}init(){}onRemove(){this.removeTools()}get priority(){return this.options.priority}get rootSelector(){return this.options.rootSelector}getConstructor(){return this.constructor}ensureOptions(t){return this.getConstructor().getOptions(t)}getContainerTagName(){return this.options.isSvgElement?"g":"div"}getContainerStyle(){}getContainerAttrs(){return{"data-cell-id":this.cell.id,"data-shape":this.cell.shape}}getContainerClassName(){return this.prefixClassName("cell")}ensureContainer(){return se.createElement(this.getContainerTagName(),this.options.isSvgElement)}setContainer(t){if(this.container!==t){this.undelegateEvents(),this.container=t,this.options.events!=null&&this.delegateEvents(this.options.events);const e=this.getContainerAttrs();e!=null&&this.setAttrs(e,t);const n=this.getContainerStyle();n!=null&&this.setStyle(n,t);const r=this.getContainerClassName();r!=null&&this.addClass(r,t)}return this}isNodeView(){return!1}isEdgeView(){return!1}render(){return this}confirmUpdate(t,e={}){return 0}getBootstrapFlag(){return this.flag.getBootstrapFlag()}getFlag(t){return this.flag.getFlag(t)}hasAction(t,e){return this.flag.hasAction(t,e)}removeAction(t,e){return this.flag.removeAction(t,e)}handleAction(t,e,n,r){if(this.hasAction(t,e)){n();const s=[e];return r&&(typeof r=="string"?s.push(r):s.push(...r)),this.removeAction(t,s)}return t}setup(){this.cell.on("changed",({options:t})=>this.onAttrsChange(t))}onAttrsChange(t){let e=this.flag.getChangedFlag();t.updated||!e||(t.dirty&&this.hasAction(e,"update")&&(e|=this.getFlag("render")),t.toolId&&(t.async=!1),this.graph!=null&&this.graph.renderer.requestViewUpdate(this,e,this.priority,t))}parseJSONMarkup(t,e){const n=he.parseJSONMarkup(t),r=n.selectors,s=this.rootSelector;if(e&&s){if(r[s])throw new Error("Invalid root selector");r[s]=e}return n}can(t){let e=this.graph.options.interacting;if(typeof e=="function"&&(e=xt(e,this.graph,this)),typeof e=="object"){let n=e[t];return typeof n=="function"&&(n=xt(n,this.graph,this)),n!==!1}return typeof e=="boolean"?e:!1}cleanCache(){return this.cache.clean(),this}getCache(t){return this.cache.get(t)}getDataOfElement(t){return this.cache.getData(t)}getMatrixOfElement(t){return this.cache.getMatrix(t)}getShapeOfElement(t){return this.cache.getShape(t)}getScaleOfElement(t,e){let n,r;if(e&&e.contains(t)){const s=Gr(e);n=1/s.sx,r=1/s.sy}else n=1,r=1;return{sx:n,sy:r}}getBoundingRectOfElement(t){return this.cache.getBoundingRect(t)}getBBoxOfElement(t){const e=this.getBoundingRectOfElement(t),n=this.getMatrixOfElement(t),r=this.getRootRotatedMatrix(),s=this.getRootTranslatedMatrix();return ai(e,s.multiply(r).multiply(n))}getUnrotatedBBoxOfElement(t){const e=this.getBoundingRectOfElement(t),n=this.getMatrixOfElement(t),r=this.getRootTranslatedMatrix();return ai(e,r.multiply(n))}getBBox(t={}){let e;if(t.useCellGeometry){const n=this.cell,r=n.isNode()?n.getAngle():0;e=n.getBBox().bbox(r)}else e=this.getBBoxOfElement(this.container);return this.graph.localToGraph(e)}getRootTranslatedMatrix(){const t=this.cell,e=t.isNode()?t.getPosition():{x:0,y:0};return yn().translate(e.x,e.y)}getRootRotatedMatrix(){let t=yn();const e=this.cell,n=e.isNode()?e.getAngle():0;if(n){const r=e.getBBox(),s=r.width/2,o=r.height/2;t=t.translate(s,o).rotate(n).translate(-s,-o)}return t}findMagnet(t=this.container){return this.findByAttr("magnet",t)}updateAttrs(t,e,n={}){n.rootBBox==null&&(n.rootBBox=new ht),n.selectors==null&&(n.selectors=this.selectors),this.attr.update(t,e,n)}isEdgeElement(t){return this.cell.isEdge()&&(t==null||t===this.container)}prepareHighlight(t,e={}){const n=t&&this.$(t)[0]||this.container;return e.partial=n===this.container,n}highlight(t,e={}){const n=this.prepareHighlight(t,e);return this.notify("cell:highlight",{magnet:n,options:e,view:this,cell:this.cell}),this.isEdgeView()?this.notify("edge:highlight",{magnet:n,options:e,view:this,edge:this.cell,cell:this.cell}):this.isNodeView()&&this.notify("node:highlight",{magnet:n,options:e,view:this,node:this.cell,cell:this.cell}),this}unhighlight(t,e={}){const n=this.prepareHighlight(t,e);return this.notify("cell:unhighlight",{magnet:n,options:e,view:this,cell:this.cell}),this.isNodeView()?this.notify("node:unhighlight",{magnet:n,options:e,view:this,node:this.cell,cell:this.cell}):this.isEdgeView()&&this.notify("edge:unhighlight",{magnet:n,options:e,view:this,edge:this.cell,cell:this.cell}),this}notifyUnhighlight(t,e){}getEdgeTerminal(t,e,n,r,s){const o=this.cell,a=this.findAttr("port",t),l=t.getAttribute("data-selector"),c={cell:o.id};return l!=null&&(c.magnet=l),a!=null?(c.port=a,o.isNode()&&!o.hasPort(a)&&l==null&&(c.selector=this.getSelector(t))):l==null&&this.container!==t&&(c.selector=this.getSelector(t)),this.customizeEdgeTerminal(c,t,e,n,r,s)}customizeEdgeTerminal(t,e,n,r,s,o){const a=s.getStrategy()||this.graph.options.connecting.strategy;if(a){const l=typeof a=="string"?a:a.name,c=typeof a=="string"?{}:a.args||{},u=Qo.registry;if(l){const h=u.get(l);if(h==null)return u.onNotFound(l);const f=xt(h,this.graph,t,this,e,new N(n,r),s,o,c);if(f)return f}}return t}getMagnetFromEdgeTerminal(t){const e=this.cell,n=this.container,r=t.port;let s=t.magnet,o;return r!=null&&e.isNode()&&e.hasPort(r)?o=this.findPortElem(r,s)||n:(s||(s=t.selector),!s&&r!=null&&(s=`[port="${r}"]`),o=this.findOne(s,n,this.selectors)),o}animate(t,e){const n=typeof t=="string"?this.findOne(t):t;if(n==null)throw new Error("Invalid animation element.");const r=n.parentNode,s=()=>{r||er(n)},o=Et.create(n);r||o.appendTo(this.graph.view.stage);const a=e.complete;return e.complete=l=>{s(),a&&a(l)},o.animate(e)}animateTransform(t,e){const n=typeof t=="string"?this.findOne(t):t;if(n==null)throw new Error("Invalid animation element.");const r=n.parentNode,s=()=>{r||er(n)},o=Et.create(n);r||o.appendTo(this.graph.view.stage);const a=e.complete;return e.complete=l=>{s(),a&&a(l)},o.animateTransform(e)}hasTools(t){const e=this.tools;return e==null?!1:t==null?!0:e.name===t}addTools(t){if(!this.can("toolsAddable"))return this;if(this.removeTools(),t){const e=an.isToolsView(t)?t:new an(t);this.tools=e,this.graph.on("tools:hide",this.hideTools,this),this.graph.on("tools:show",this.showTools,this),this.graph.on("tools:remove",this.removeTools,this),e.config({view:this}),e.mount()}return this}updateTools(t={}){return this.tools&&this.tools.update(t),this}removeTools(){return this.tools&&(this.tools.remove(),this.graph.off("tools:hide",this.hideTools,this),this.graph.off("tools:show",this.showTools,this),this.graph.off("tools:remove",this.removeTools,this),this.tools=null),this}hideTools(){return this.tools&&this.tools.hide(),this}showTools(){return this.tools&&this.tools.show(),this}renderTools(){const t=this.cell.getTools();return this.addTools(t),this}notify(t,e){return this.trigger(t,e),this.graph.trigger(t,e),this}getEventArgs(t,e,n){const r=this,s=r.cell;return e==null||n==null?{e:t,view:r,cell:s}:{e:t,x:e,y:n,view:r,cell:s}}onClick(t,e,n){this.notify("cell:click",this.getEventArgs(t,e,n))}onDblClick(t,e,n){this.notify("cell:dblclick",this.getEventArgs(t,e,n))}onContextMenu(t,e,n){this.notify("cell:contextmenu",this.getEventArgs(t,e,n))}onMouseDown(t,e,n){this.cell.model&&(this.cachedModelForMouseEvent=this.cell.model,this.cachedModelForMouseEvent.startBatch("mouse")),this.notify("cell:mousedown",this.getEventArgs(t,e,n))}onMouseUp(t,e,n){this.notify("cell:mouseup",this.getEventArgs(t,e,n)),this.cachedModelForMouseEvent&&(this.cachedModelForMouseEvent.stopBatch("mouse",{cell:this.cell}),this.cachedModelForMouseEvent=null)}onMouseMove(t,e,n){this.notify("cell:mousemove",this.getEventArgs(t,e,n))}onMouseOver(t){this.notify("cell:mouseover",this.getEventArgs(t))}onMouseOut(t){this.notify("cell:mouseout",this.getEventArgs(t))}onMouseEnter(t){this.notify("cell:mouseenter",this.getEventArgs(t))}onMouseLeave(t){this.notify("cell:mouseleave",this.getEventArgs(t))}onMouseWheel(t,e,n,r){this.notify("cell:mousewheel",Object.assign({delta:r},this.getEventArgs(t,e,n)))}onCustomEvent(t,e,n,r){this.notify("cell:customevent",Object.assign({name:e},this.getEventArgs(t,n,r))),this.notify(e,Object.assign({},this.getEventArgs(t,n,r)))}onMagnetMouseDown(t,e,n,r){}onMagnetDblClick(t,e,n,r){}onMagnetContextMenu(t,e,n,r){}onLabelMouseDown(t,e,n){}checkMouseleave(t){const e=this.graph;e.renderer.isAsync()&&e.renderer.dumpView(this);const n=this.getEventTarget(t,{fromPoint:!0}),r=e.renderer.findViewByElem(n);r!==this&&(this.onMouseLeave(t),r&&r.onMouseEnter(t))}}Be.defaults={isSvgElement:!0,rootSelector:"root",priority:0,bootstrap:[],actions:{}};(function(i){i.Flag=e1,i.Attr=Gs})(Be||(Be={}));(function(i){i.toStringTag=`X6.${i.name}`;function t(e){if(e==null)return!1;if(e instanceof i)return!0;const n=e[Symbol.toStringTag],r=e;return(n==null||n===i.toStringTag)&&typeof r.isNodeView=="function"&&typeof r.isEdgeView=="function"&&typeof r.confirmUpdate=="function"}i.isCellView=t})(Be||(Be={}));(function(i){function t(n){return function(r){r.config({priority:n})}}i.priority=t;function e(n){return function(r){r.config({bootstrap:n})}}i.bootstrap=e})(Be||(Be={}));(function(i){i.registry=Ye.create({type:"view"})})(Be||(Be={}));class an extends se{constructor(t={}){super(),this.svgContainer=this.createContainer(!0,t),this.htmlContainer=this.createContainer(!1,t),this.config(t)}get name(){return this.options.name}get graph(){return this.cellView.graph}get cell(){return this.cellView.cell}get[Symbol.toStringTag](){return an.toStringTag}createContainer(t,e){const n=t?se.createElement("g",!0):se.createElement("div",!1);return ge(n,this.prefixClassName("cell-tools")),e.className&&ge(n,e.className),n}config(t){if(this.options=Object.assign(Object.assign({},this.options),t),!Be.isCellView(t.view)||t.view===this.cellView)return this;this.cellView=t.view,this.cell.isEdge()?(ge(this.svgContainer,this.prefixClassName("edge-tools")),ge(this.htmlContainer,this.prefixClassName("edge-tools"))):this.cell.isNode()&&(ge(this.svgContainer,this.prefixClassName("node-tools")),ge(this.htmlContainer,this.prefixClassName("node-tools"))),this.svgContainer.setAttribute("data-cell-id",this.cell.id),this.htmlContainer.setAttribute("data-cell-id",this.cell.id),this.name&&(this.svgContainer.setAttribute("data-tools-name",this.name),this.htmlContainer.setAttribute("data-tools-name",this.name));const e=this.options.items;if(!Array.isArray(e))return this;this.tools=[];const n=[];e.forEach(r=>{an.ToolItem.isToolItem(r)?r.name==="vertices"?n.unshift(r):n.push(r):(typeof r=="object"?r.name:r)==="vertices"?n.unshift(r):n.push(r)});for(let r=0;r<n.length;r+=1){const s=n[r];let o;if(an.ToolItem.isToolItem(s))o=s;else{const a=typeof s=="object"?s.name:s,l=typeof s=="object"?s.args||{}:{};if(a){if(this.cell.isNode()){const c=ea.registry.get(a);if(c)o=new c(l);else return ea.registry.onNotFound(a)}else if(this.cell.isEdge()){const c=na.registry.get(a);if(c)o=new c(l);else return na.registry.onNotFound(a)}}}o&&(o.config(this.cellView,this),o.render(),(o.options.isSVGElement!==!1?this.svgContainer:this.htmlContainer).appendChild(o.container),this.tools.push(o))}return this}update(t={}){const e=this.tools;return e&&e.forEach(n=>{t.toolId!==n.cid&&n.isVisible()&&n.update()}),this}focus(t){const e=this.tools;return e&&e.forEach(n=>{t===n?n.show():n.hide()}),this}blur(t){const e=this.tools;return e&&e.forEach(n=>{n!==t&&!n.isVisible()&&(n.show(),n.update())}),this}hide(){return this.focus(null)}show(){return this.blur(null)}remove(){const t=this.tools;return t&&(t.forEach(e=>e.remove()),this.tools=null),er(this.svgContainer),er(this.htmlContainer),super.remove()}mount(){const t=this.tools,e=this.cellView;if(e&&t){const n=t.some(s=>s.options.isSVGElement!==!1),r=t.some(s=>s.options.isSVGElement===!1);n&&(this.options.local?e.container:e.graph.view.decorator).appendChild(this.svgContainer),r&&this.graph.container.appendChild(this.htmlContainer)}return this}}(function(i){i.toStringTag=`X6.${i.name}`;function t(e){if(e==null)return!1;if(e instanceof i)return!0;const n=e[Symbol.toStringTag],r=e;return(n==null||n===i.toStringTag)&&r.graph!=null&&r.cell!=null&&typeof r.config=="function"&&typeof r.update=="function"&&typeof r.focus=="function"&&typeof r.blur=="function"&&typeof r.show=="function"&&typeof r.hide=="function"}i.isToolsView=t})(an||(an={}));(function(i){class t extends se{constructor(n={}){super(),this.visible=!0,this.options=this.getOptions(n),this.container=se.createElement(this.options.tagName||"g",this.options.isSVGElement!==!1),ge(this.container,this.prefixClassName("cell-tool")),typeof this.options.className=="string"&&ge(this.container,this.options.className),this.init()}static getDefaults(){return this.defaults}static config(n){this.defaults=this.getOptions(n)}static getOptions(n){return De(Xe(this.getDefaults()),n)}get graph(){return this.cellView.graph}get cell(){return this.cellView.cell}get name(){return this.options.name}get[Symbol.toStringTag](){return t.toStringTag}init(){}getOptions(n){return this.constructor.getOptions(n)}delegateEvents(){return this.options.events&&super.delegateEvents(this.options.events),this}config(n,r){return this.cellView=n,this.parent=r,this.stamp(this.container),this.cell.isEdge()?ge(this.container,this.prefixClassName("edge-tool")):this.cell.isNode()&&ge(this.container,this.prefixClassName("node-tool")),this.name&&this.container.setAttribute("data-tool-name",this.name),this.delegateEvents(),this}render(){this.empty();const n=this.options.markup;if(n){const r=he.isStringMarkup(n)?he.parseStringMarkup(n):he.parseJSONMarkup(n);this.container.appendChild(r.fragment),this.childNodes=r.selectors}return this.onRender(),this}onRender(){}update(){return this}stamp(n=this.container){n&&n.setAttribute("data-cell-id",this.cellView.cell.id)}show(){return this.container.style.display="",this.visible=!0,this}hide(){return this.container.style.display="none",this.visible=!1,this}isVisible(){return!!this.visible}focus(){const n=this.options.focusOpacity;return n!=null&&Number.isFinite(n)&&(this.container.style.opacity=`${n}`),this.parent.focus(this),this}blur(){return this.container.style.opacity="",this.parent.blur(this),this}guard(n){return this.graph==null||this.cellView==null?!0:this.graph.view.guard(n,this.cellView)}}t.defaults={isSVGElement:!0,tagName:"g"},i.ToolItem=t,function(e){let n=0;function r(o){return o?ep(o):(n+=1,`CustomTool${n}`)}function s(o){const a=Qf(r(o.name),this);return a.config(o),a}e.define=s}(t=i.ToolItem||(i.ToolItem={})),function(e){e.toStringTag=`X6.${e.name}`;function n(r){if(r==null)return!1;if(r instanceof e)return!0;const s=r[Symbol.toStringTag],o=r;return(s==null||s===e.toStringTag)&&o.graph!=null&&o.cell!=null&&typeof o.config=="function"&&typeof o.update=="function"&&typeof o.focus=="function"&&typeof o.blur=="function"&&typeof o.show=="function"&&typeof o.hide=="function"&&typeof o.isVisible=="function"}e.isToolItem=n}(t=i.ToolItem||(i.ToolItem={}))})(an||(an={}));function n1(i,t,e,n){return xt(Qo.presets.pinRelative,this.graph,{},t,e,i,this.cell,n,{}).anchor}function i1(i,t){return t?i.cell.getBBox():i.cell.isEdge()?i.getConnection().bbox():i.getUnrotatedBBoxOfElement(i.container)}class Qr extends an.ToolItem{onRender(){ge(this.container,this.prefixClassName("cell-tool-button")),this.update()}update(){return this.updatePosition(),this}updatePosition(){const e=this.cellView.cell.isEdge()?this.getEdgeMatrix():this.getNodeMatrix();Ko(this.container,e,{absolute:!0})}getNodeMatrix(){const t=this.cellView,e=this.options;let{x:n=0,y:r=0}=e;const{offset:s,useCellGeometry:o,rotate:a}=e;let l=i1(t,o);const c=t.cell.getAngle();a||(l=l.bbox(c));let u=0,h=0;typeof s=="number"?(u=s,h=s):typeof s=="object"&&(u=s.x,h=s.y),n=tr(n,l.width),r=tr(r,l.height);let f=yn().translate(l.x+l.width/2,l.y+l.height/2);return a&&(f=f.rotate(c)),f=f.translate(n+u-l.width/2,r+h-l.height/2),f}getEdgeMatrix(){const t=this.cellView,e=this.options,{offset:n=0,distance:r=0,rotate:s}=e;let o,a,l;ji(r)?o=t.getTangentAtRatio(parseFloat(r)/100):o=t.getTangentAtLength(r),o?(a=o.start,l=o.vector().vectorAngle(new N(1,0))||0):(a=t.getConnection().start,l=0);let c=yn().translate(a.x,a.y).rotate(l);return typeof n=="object"?c=c.translate(n.x||0,n.y||0):c=c.translate(0,n),s||(c=c.rotate(-l)),c}onMouseDown(t){if(this.guard(t))return;t.stopPropagation(),t.preventDefault();const e=this.options.onClick;typeof e=="function"&&xt(e,this.cellView,{e:t,view:this.cellView,cell:this.cellView.cell,btn:this})}}(function(i){i.config({name:"button",events:{mousedown:"onMouseDown",touchstart:"onMouseDown"}})})(Qr||(Qr={}));(function(i){i.Remove=i.define({name:"button-remove",markup:[{tagName:"circle",selector:"button",attrs:{r:7,fill:"#FF1D00",cursor:"pointer"}},{tagName:"path",selector:"icon",attrs:{d:"M -3 -3 3 3 M -3 3 3 -3",fill:"none",stroke:"#FFFFFF","stroke-width":2,"pointer-events":"none"}}],distance:60,offset:0,onClick({view:t,btn:e}){e.parent.remove(),t.cell.remove({ui:!0,toolId:e.cid})}})})(Qr||(Qr={}));var gL=globalThis&&globalThis.__rest||function(i,t){var e={};for(var n in i)Object.prototype.hasOwnProperty.call(i,n)&&t.indexOf(n)<0&&(e[n]=i[n]);if(i!=null&&typeof Object.getOwnPropertySymbols=="function")for(var r=0,n=Object.getOwnPropertySymbols(i);r<n.length;r++)t.indexOf(n[r])<0&&Object.prototype.propertyIsEnumerable.call(i,n[r])&&(e[n[r]]=i[n[r]]);return e};class Zc extends an.ToolItem{onRender(){if(ge(this.container,this.prefixClassName("cell-tool-boundary")),this.options.attrs){const t=this.options.attrs,{class:e}=t,n=gL(t,["class"]);me(this.container,ml(n)),e&&ge(this.container,e)}this.update()}update(){const t=this.cellView,e=this.options,{useCellGeometry:n,rotate:r}=e,s=Kn(e.padding);let o=i1(t,n).moveAndExpand({x:-s.left,y:-s.top,width:s.left+s.right,height:s.top+s.bottom});const a=t.cell;if(a.isNode()){const l=a.getAngle();if(l)if(r){const c=a.getBBox().getCenter();Vd(this.container,l,c.x,c.y,{absolute:!0})}else o=o.bbox(l)}return me(this.container,o.toJSON()),this}}(function(i){i.config({name:"boundary",tagName:"rect",padding:10,attrs:{fill:"none",stroke:"#333","stroke-width":.5,"stroke-dasharray":"5, 5","pointer-events":"none"}})})(Zc||(Zc={}));class xl extends an.ToolItem{constructor(){super(...arguments),this.handles=[]}get vertices(){return this.cellView.cell.getVertices()}onRender(){return this.addClass(this.prefixClassName("edge-tool-vertices")),this.options.addable&&this.updatePath(),this.resetHandles(),this.renderHandles(),this}update(){return this.vertices.length===this.handles.length?this.updateHandles():(this.resetHandles(),this.renderHandles()),this.options.addable&&this.updatePath(),this}resetHandles(){const t=this.handles;this.handles=[],t&&t.forEach(e=>{this.stopHandleListening(e),e.remove()})}renderHandles(){const t=this.vertices;for(let e=0,n=t.length;e<n;e+=1){const r=t[e],s=this.options.createHandle,o=this.options.processHandle,a=s({index:e,graph:this.graph,guard:l=>this.guard(l),attrs:this.options.attrs||{}});o&&o(a),this.graph.hook.onToolItemCreated({name:"vertices",cell:this.cell,view:this.cellView,tool:a}),a.updatePosition(r.x,r.y),this.stamp(a.container),this.container.appendChild(a.container),this.handles.push(a),this.startHandleListening(a)}}updateHandles(){const t=this.vertices;for(let e=0,n=t.length;e<n;e+=1){const r=t[e],s=this.handles[e];s&&s.updatePosition(r.x,r.y)}}updatePath(){const t=this.childNodes.connection;t&&t.setAttribute("d",this.cellView.getConnectionPathData())}startHandleListening(t){const e=this.cellView;e.can("vertexMovable")&&(t.on("change",this.onHandleChange,this),t.on("changing",this.onHandleChanging,this),t.on("changed",this.onHandleChanged,this)),e.can("vertexDeletable")&&t.on("remove",this.onHandleRemove,this)}stopHandleListening(t){const e=this.cellView;e.can("vertexMovable")&&(t.off("change",this.onHandleChange,this),t.off("changing",this.onHandleChanging,this),t.off("changed",this.onHandleChanged,this)),e.can("vertexDeletable")&&t.off("remove",this.onHandleRemove,this)}getNeighborPoints(t){const e=this.cellView,n=this.vertices,r=t>0?n[t-1]:e.sourceAnchor,s=t<n.length-1?n[t+1]:e.targetAnchor;return{prev:N.create(r),next:N.create(s)}}getMouseEventArgs(t){const e=this.normalizeEvent(t),{x:n,y:r}=this.graph.snapToGrid(e.clientX,e.clientY);return{e,x:n,y:r}}onHandleChange({e:t}){this.focus();const e=this.cellView;if(e.cell.startBatch("move-vertex",{ui:!0,toolId:this.cid}),!this.options.stopPropagation){const{e:n,x:r,y:s}=this.getMouseEventArgs(t);e.notifyMouseDown(n,r,s)}}onHandleChanging({handle:t,e}){const n=this.cellView,r=t.options.index,{e:s,x:o,y:a}=this.getMouseEventArgs(e),l={x:o,y:a};this.snapVertex(l,r),n.cell.setVertexAt(r,l,{ui:!0,toolId:this.cid}),t.updatePosition(l.x,l.y),this.options.stopPropagation||n.notifyMouseMove(s,o,a)}onHandleChanged({e:t}){const e=this.options,n=this.cellView;if(e.addable&&this.updatePath(),!e.removeRedundancies)return;n.removeRedundantLinearVertices({ui:!0,toolId:this.cid})&&this.render(),this.blur(),n.cell.stopBatch("move-vertex",{ui:!0,toolId:this.cid}),this.eventData(t).vertexAdded&&n.cell.stopBatch("add-vertex",{ui:!0,toolId:this.cid});const{e:s,x:o,y:a}=this.getMouseEventArgs(t);this.options.stopPropagation||n.notifyMouseUp(s,o,a),n.checkMouseleave(s),e.onChanged&&e.onChanged({edge:n.cell,edgeView:n})}snapVertex(t,e){const n=this.options.snapRadius||0;if(n>0){const r=this.getNeighborPoints(e),s=r.prev,o=r.next;Math.abs(t.x-s.x)<n?t.x=s.x:Math.abs(t.x-o.x)<n&&(t.x=o.x),Math.abs(t.y-s.y)<n?t.y=r.prev.y:Math.abs(t.y-o.y)<n&&(t.y=o.y)}}onHandleRemove({handle:t,e}){if(this.options.removable){const n=t.options.index,r=this.cellView;r.cell.removeVertexAt(n,{ui:!0}),this.options.addable&&this.updatePath(),r.checkMouseleave(this.normalizeEvent(e))}}onPathMouseDown(t){const e=this.cellView;if(this.guard(t)||!this.options.addable||!e.can("vertexAddable"))return;t.stopPropagation(),t.preventDefault();const n=this.normalizeEvent(t),r=this.graph.snapToGrid(n.clientX,n.clientY).toJSON();e.cell.startBatch("add-vertex",{ui:!0,toolId:this.cid});const s=e.getVertexIndex(r.x,r.y);this.snapVertex(r,s),e.cell.insertVertex(r,s,{ui:!0,toolId:this.cid}),this.render();const o=this.handles[s];this.eventData(n,{vertexAdded:!0}),o.onMouseDown(n)}onRemove(){this.resetHandles()}}(function(i){class t extends se{constructor(n){super(),this.options=n,this.render(),this.delegateEvents({mousedown:"onMouseDown",touchstart:"onMouseDown",dblclick:"onDoubleClick"})}get graph(){return this.options.graph}render(){this.container=se.createElement("circle",!0);const n=this.options.attrs;if(typeof n=="function"){const r=i.getDefaults();this.setAttrs(Object.assign(Object.assign({},r.attrs),n(this)))}else this.setAttrs(n);this.addClass(this.prefixClassName("edge-tool-vertex"))}updatePosition(n,r){this.setAttrs({cx:n,cy:r})}onMouseDown(n){this.options.guard(n)||(n.stopPropagation(),n.preventDefault(),this.graph.view.undelegateEvents(),this.delegateDocumentEvents({mousemove:"onMouseMove",touchmove:"onMouseMove",mouseup:"onMouseUp",touchend:"onMouseUp",touchcancel:"onMouseUp"},n.data),this.emit("change",{e:n,handle:this}))}onMouseMove(n){this.emit("changing",{e:n,handle:this})}onMouseUp(n){this.emit("changed",{e:n,handle:this}),this.undelegateDocumentEvents(),this.graph.view.delegateEvents()}onDoubleClick(n){this.emit("remove",{e:n,handle:this})}}i.Handle=t})(xl||(xl={}));(function(i){const t=Qe.prefix("edge-tool-vertex-path");i.config({name:"vertices",snapRadius:20,addable:!0,removable:!0,removeRedundancies:!0,stopPropagation:!0,attrs:{r:6,fill:"#333",stroke:"#fff",cursor:"move","stroke-width":2},createHandle:e=>new i.Handle(e),markup:[{tagName:"path",selector:"connection",className:t,attrs:{fill:"none",stroke:"transparent","stroke-width":10,cursor:"pointer"}}],events:{[`mousedown .${t}`]:"onPathMouseDown",[`touchstart .${t}`]:"onPathMouseDown"}})})(xl||(xl={}));class wl extends an.ToolItem{constructor(){super(...arguments),this.handles=[]}get vertices(){return this.cellView.cell.getVertices()}update(){return this.render(),this}onRender(){ge(this.container,this.prefixClassName("edge-tool-segments")),this.resetHandles();const t=this.cellView,e=[...this.vertices];e.unshift(t.sourcePoint),e.push(t.targetPoint);for(let n=0,r=e.length;n<r-1;n+=1){const s=e[n],o=e[n+1],a=this.renderHandle(s,o,n);this.stamp(a.container),this.handles.push(a)}return this}renderHandle(t,e,n){const r=this.options.createHandle({index:n,graph:this.graph,guard:s=>this.guard(s),attrs:this.options.attrs||{}});return this.options.processHandle&&this.options.processHandle(r),this.graph.hook.onToolItemCreated({name:"segments",cell:this.cell,view:this.cellView,tool:r}),this.updateHandle(r,t,e),this.container.appendChild(r.container),this.startHandleListening(r),r}startHandleListening(t){t.on("change",this.onHandleChange,this),t.on("changing",this.onHandleChanging,this),t.on("changed",this.onHandleChanged,this)}stopHandleListening(t){t.off("change",this.onHandleChange,this),t.off("changing",this.onHandleChanging,this),t.off("changed",this.onHandleChanged,this)}resetHandles(){const t=this.handles;this.handles=[],t&&t.forEach(e=>{this.stopHandleListening(e),e.remove()})}shiftHandleIndexes(t){const e=this.handles;for(let n=0,r=e.length;n<r;n+=1)e[n].options.index+=t}resetAnchor(t,e){const n=this.cellView.cell,r={ui:!0,toolId:this.cid};e?n.prop([t,"anchor"],e,r):n.removeProp([t,"anchor"],r)}snapHandle(t,e,n){const r=t.options.axis,s=t.options.index,l=this.cellView.cell.getVertices(),c=l[s-2]||n.sourceAnchor,u=l[s+1]||n.targetAnchor,h=this.options.snapRadius;return Math.abs(e[r]-c[r])<h?e[r]=c[r]:Math.abs(e[r]-u[r])<h&&(e[r]=u[r]),e}onHandleChanging({handle:t,e}){const n=this.graph,r=this.options,s=this.cellView,o=r.anchor,a=t.options.axis,l=t.options.index-1,c=this.getEventData(e),u=this.normalizeEvent(e),h=n.snapToGrid(u.clientX,u.clientY),f=this.snapHandle(t,h.clone(),c),p=Xe(this.vertices);let b=p[l],v=p[l+1];const w=s.sourceView,x=s.sourceBBox;let E=!1,S=!1;if(b?l===0?x.containsPoint(b)?(p.shift(),this.shiftHandleIndexes(-1),E=!0):(b[a]=f[a],S=!0):b[a]=f[a]:(b=s.sourceAnchor.toJSON(),b[a]=f[a],x.containsPoint(b)?E=!0:(p.unshift(b),this.shiftHandleIndexes(1),S=!0)),typeof o=="function"&&w){if(E){const D=c.sourceAnchor.clone();D[a]=f[a];const z=xt(o,s,D,w,s.sourceMagnet||w.container,"source",s,this);this.resetAnchor("source",z)}S&&this.resetAnchor("source",c.sourceAnchorDef)}const O=s.targetView,k=s.targetBBox;let m=!1,T=!1;if(v?l===p.length-2?k.containsPoint(v)?(p.pop(),m=!0):(v[a]=f[a],T=!0):v[a]=f[a]:(v=s.targetAnchor.toJSON(),v[a]=f[a],k.containsPoint(v)?m=!0:(p.push(v),T=!0)),typeof o=="function"&&O){if(m){const D=c.targetAnchor.clone();D[a]=f[a];const z=xt(o,s,D,O,s.targetMagnet||O.container,"target",s,this);this.resetAnchor("target",z)}T&&this.resetAnchor("target",c.targetAnchorDef)}N.equalPoints(p,this.vertices)||this.cellView.cell.setVertices(p,{ui:!0,toolId:this.cid}),this.updateHandle(t,b,v,0),r.stopPropagation||s.notifyMouseMove(u,h.x,h.y)}onHandleChange({handle:t,e}){const n=this.options,r=this.handles,s=this.cellView,o=t.options.index;if(!!Array.isArray(r)){for(let a=0,l=r.length;a<l;a+=1)a!==o&&r[a].hide();if(this.focus(),this.setEventData(e,{sourceAnchor:s.sourceAnchor.clone(),targetAnchor:s.targetAnchor.clone(),sourceAnchorDef:Xe(this.cell.prop(["source","anchor"])),targetAnchorDef:Xe(this.cell.prop(["target","anchor"]))}),this.cell.startBatch("move-segment",{ui:!0,toolId:this.cid}),!n.stopPropagation){const a=this.normalizeEvent(e),l=this.graph.snapToGrid(a.clientX,a.clientY);s.notifyMouseDown(a,l.x,l.y)}}}onHandleChanged({e:t}){const e=this.options,n=this.cellView;e.removeRedundancies&&n.removeRedundantLinearVertices({ui:!0,toolId:this.cid});const r=this.normalizeEvent(t),s=this.graph.snapToGrid(r.clientX,r.clientY);this.render(),this.blur(),this.cell.stopBatch("move-segment",{ui:!0,toolId:this.cid}),e.stopPropagation||n.notifyMouseUp(r,s.x,s.y),n.checkMouseleave(r),e.onChanged&&e.onChanged({edge:n.cell,edgeView:n})}updateHandle(t,e,n,r=0){const s=this.options.precision||0,o=Math.abs(e.x-n.x)<s,a=Math.abs(e.y-n.y)<s;if(o||a){const l=new At(e,n);if(l.length()<this.options.threshold)t.hide();else{const u=l.getCenter(),h=o?"x":"y";u[h]+=r||0;const f=l.vector().vectorAngle(new N(1,0));t.updatePosition(u.x,u.y,f,this.cellView),t.show(),t.options.axis=h}}else t.hide()}onRemove(){this.resetHandles()}}(function(i){class t extends se{constructor(n){super(),this.options=n,this.render(),this.delegateEvents({mousedown:"onMouseDown",touchstart:"onMouseDown"})}render(){this.container=se.createElement("rect",!0);const n=this.options.attrs;if(typeof n=="function"){const r=i.getDefaults();this.setAttrs(Object.assign(Object.assign({},r.attrs),n(this)))}else this.setAttrs(n);this.addClass(this.prefixClassName("edge-tool-segment"))}updatePosition(n,r,s,o){const a=o.getClosestPoint(new N(n,r))||new N(n,r);let l=yn().translate(a.x,a.y);if(a.equals({x:n,y:r}))l=l.rotate(s);else{let u=new At(n,r,a.x,a.y).vector().vectorAngle(new N(1,0));u!==0&&(u+=90),l=l.rotate(u)}this.setAttrs({transform:lo(l),cursor:s%180===0?"row-resize":"col-resize"})}onMouseDown(n){this.options.guard(n)||(this.trigger("change",{e:n,handle:this}),n.stopPropagation(),n.preventDefault(),this.options.graph.view.undelegateEvents(),this.delegateDocumentEvents({mousemove:"onMouseMove",touchmove:"onMouseMove",mouseup:"onMouseUp",touchend:"onMouseUp",touchcancel:"onMouseUp"},n.data))}onMouseMove(n){this.emit("changing",{e:n,handle:this})}onMouseUp(n){this.emit("changed",{e:n,handle:this}),this.undelegateDocumentEvents(),this.options.graph.view.delegateEvents()}show(){this.container.style.display=""}hide(){this.container.style.display="none"}}i.Handle=t})(wl||(wl={}));(function(i){i.config({name:"segments",precision:.5,threshold:40,snapRadius:10,stopPropagation:!0,removeRedundancies:!0,attrs:{width:20,height:8,x:-10,y:-4,rx:4,ry:4,fill:"#333",stroke:"#fff","stroke-width":2},createHandle:t=>new i.Handle(t),anchor:n1})})(wl||(wl={}));class Qc extends an.ToolItem{get type(){return this.options.type}onRender(){ge(this.container,this.prefixClassName(`edge-tool-${this.type}-anchor`)),this.toggleArea(!1),this.update()}update(){const t=this.type;return this.cellView.getTerminalView(t)?(this.updateAnchor(),this.updateArea(),this.container.style.display=""):this.container.style.display="none",this}updateAnchor(){const t=this.childNodes;if(!t)return;const e=t.anchor;if(!e)return;const n=this.type,r=this.cellView,s=this.options,o=r.getTerminalAnchor(n),a=r.cell.prop([n,"anchor"]);e.setAttribute("transform",`translate(${o.x}, ${o.y})`);const l=a?s.customAnchorAttrs:s.defaultAnchorAttrs;l&&Object.keys(l).forEach(c=>{e.setAttribute(c,l[c])})}updateArea(){const t=this.childNodes;if(!t)return;const e=t.area;if(!e)return;const n=this.type,r=this.cellView,s=r.getTerminalView(n);if(s){const o=s.cell,a=r.getTerminalMagnet(n);let l=this.options.areaPadding||0;Number.isFinite(l)||(l=0);let c,u,h;s.isEdgeElement(a)?(c=s.getBBox(),u=0,h=c.getCenter()):(c=s.getUnrotatedBBoxOfElement(a),u=o.getAngle(),h=c.getCenter(),u&&h.rotate(-u,o.getBBox().getCenter())),c.inflate(l),me(e,{x:-c.width/2,y:-c.height/2,width:c.width,height:c.height,transform:`translate(${h.x}, ${h.y}) rotate(${u})`})}}toggleArea(t){if(this.childNodes){const e=this.childNodes.area;e&&(e.style.display=t?"":"none")}}onMouseDown(t){this.guard(t)||(t.stopPropagation(),t.preventDefault(),this.graph.view.undelegateEvents(),this.options.documentEvents&&this.delegateDocumentEvents(this.options.documentEvents),this.focus(),this.toggleArea(this.options.restrictArea),this.cell.startBatch("move-anchor",{ui:!0,toolId:this.cid}))}resetAnchor(t){const e=this.type,n=this.cell;t?n.prop([e,"anchor"],t,{rewrite:!0,ui:!0,toolId:this.cid}):n.removeProp([e,"anchor"],{ui:!0,toolId:this.cid})}onMouseMove(t){const e=this.type,n=this.cellView,r=n.getTerminalView(e);if(r==null)return;const s=this.normalizeEvent(t),o=r.cell,a=n.getTerminalMagnet(e);let l=this.graph.clientToLocal(s.clientX,s.clientY);const c=this.options.snap;if(typeof c=="function"){const f=xt(c,n,l,r,a,e,n,this);l=N.create(f)}if(this.options.restrictArea)if(r.isEdgeElement(a)){const f=r.getClosestPoint(l);f&&(l=f)}else{const f=r.getUnrotatedBBoxOfElement(a),p=o.getAngle(),b=o.getBBox().getCenter(),v=l.clone().rotate(p,b);f.containsPoint(v)||(l=f.getNearestPointToPoint(v).rotate(-p,b))}let u;const h=this.options.anchor;typeof h=="function"&&(u=xt(h,n,l,r,a,e,n,this)),this.resetAnchor(u),this.update()}onMouseUp(t){this.graph.view.delegateEvents(),this.undelegateDocumentEvents(),this.blur(),this.toggleArea(!1);const e=this.cellView;this.options.removeRedundancies&&e.removeRedundantLinearVertices({ui:!0,toolId:this.cid}),this.cell.stopBatch("move-anchor",{ui:!0,toolId:this.cid})}onDblClick(){const t=this.options.resetAnchor;t&&this.resetAnchor(t===!0?void 0:t),this.update()}}(function(i){i.config({tagName:"g",markup:[{tagName:"circle",selector:"anchor",attrs:{cursor:"pointer"}},{tagName:"rect",selector:"area",attrs:{"pointer-events":"none",fill:"none",stroke:"#33334F","stroke-dasharray":"2,4",rx:5,ry:5}}],events:{mousedown:"onMouseDown",touchstart:"onMouseDown",dblclick:"onDblClick"},documentEvents:{mousemove:"onMouseMove",touchmove:"onMouseMove",mouseup:"onMouseUp",touchend:"onMouseUp",touchcancel:"onMouseUp"},customAnchorAttrs:{"stroke-width":4,stroke:"#33334F",fill:"#FFFFFF",r:5},defaultAnchorAttrs:{"stroke-width":2,stroke:"#FFFFFF",fill:"#33334F",r:6},areaPadding:6,snapRadius:10,resetAnchor:!0,restrictArea:!0,removeRedundancies:!0,anchor:n1,snap(t,e,n,r,s,o){const a=o.options.snapRadius||0,l=r==="source",c=l?0:-1,u=this.cell.getVertexAt(c)||this.getTerminalAnchor(l?"target":"source");return u&&(Math.abs(u.x-t.x)<a&&(t.x=u.x),Math.abs(u.y-t.y)<a&&(t.y=u.y)),t}})})(Qc||(Qc={}));const mL=Qc.define({name:"source-anchor",type:"source"}),bL=Qc.define({name:"target-anchor",type:"target"});var vL=globalThis&&globalThis.__rest||function(i,t){var e={};for(var n in i)Object.prototype.hasOwnProperty.call(i,n)&&t.indexOf(n)<0&&(e[n]=i[n]);if(i!=null&&typeof Object.getOwnPropertySymbols=="function")for(var r=0,n=Object.getOwnPropertySymbols(i);r<n.length;r++)t.indexOf(n[r])<0&&Object.prototype.propertyIsEnumerable.call(i,n[r])&&(e[n[r]]=i[n[r]]);return e};class tu extends an.ToolItem{get type(){return this.options.type}get ratio(){return this.options.ratio}init(){if(this.options.attrs){const t=this.options.attrs,{class:e}=t,n=vL(t,["class"]);this.setAttrs(n,this.container),e&&ge(this.container,e)}}onRender(){ge(this.container,this.prefixClassName(`edge-tool-${this.type}-arrowhead`)),this.update()}update(){const t=this.ratio,e=this.cellView,n=e.getTangentAtRatio(t),r=n?n.start:e.getPointAtRatio(t),s=n&&n.vector().vectorAngle(new N(1,0))||0;if(!r)return this;const o=yn().translate(r.x,r.y).rotate(s);return Ko(this.container,o,{absolute:!0}),this}onMouseDown(t){if(this.guard(t))return;t.stopPropagation(),t.preventDefault();const e=this.cellView;if(e.can("arrowheadMovable")){e.cell.startBatch("move-arrowhead",{ui:!0,toolId:this.cid});const n=this.graph.snapToGrid(t.clientX,t.clientY),r=e.prepareArrowheadDragging(this.type,{x:n.x,y:n.y,options:{toolId:this.cid}});this.cellView.setEventData(t,r),this.delegateDocumentEvents(this.options.documentEvents,t.data),e.graph.view.undelegateEvents(),this.container.style.pointerEvents="none"}this.focus()}onMouseMove(t){const e=this.normalizeEvent(t),n=this.graph.snapToGrid(e.clientX,e.clientY);this.cellView.onMouseMove(e,n.x,n.y),this.update()}onMouseUp(t){this.undelegateDocumentEvents();const e=this.normalizeEvent(t),n=this.cellView,r=this.graph.snapToGrid(e.clientX,e.clientY);n.onMouseUp(e,r.x,r.y),this.graph.view.delegateEvents(),this.blur(),this.container.style.pointerEvents="",n.cell.stopBatch("move-arrowhead",{ui:!0,toolId:this.cid})}}(function(i){i.config({tagName:"path",isSVGElement:!0,events:{mousedown:"onMouseDown",touchstart:"onMouseDown"},documentEvents:{mousemove:"onMouseMove",touchmove:"onMouseMove",mouseup:"onMouseUp",touchend:"onMouseUp",touchcancel:"onMouseUp"}})})(tu||(tu={}));const yL=tu.define({name:"source-arrowhead",type:"source",ratio:0,attrs:{d:"M 10 -8 -10 0 10 8 Z",fill:"#333",stroke:"#fff","stroke-width":2,cursor:"move"}}),xL=tu.define({name:"target-arrowhead",type:"target",ratio:1,attrs:{d:"M -10 -8 10 0 -10 8 Z",fill:"#333",stroke:"#fff","stroke-width":2,cursor:"move"}});class ta extends an.ToolItem{constructor(){super(...arguments),this.labelIndex=-1,this.distance=.5}render(){return this.createElement(),this.update(),this.autoFocus(),this.delegateDocumentEvents(this.options.documentEvents),this}createElement(){const{cell:t}=this,e=[this.prefixClassName(`${t.isEdge()?"edge":"node"}-tool-editor`),this.prefixClassName("cell-tool-editor")];this.editor=an.createElement("div",!1),this.addClass(e,this.editor),this.editor.contentEditable="true",this.container.appendChild(this.editor)}update(){const{graph:t,cell:e,editor:n}=this,r=n.style;let s=new N,o=20;if(e.isNode())s=e.getBBox().center,o=e.size().width-4;else if(e.isEdge()){const h=this.options.event,f=h.target,p=f.parentElement;if(p&&zu(p,this.prefixClassName("edge-label"))){const v=p.getAttribute("data-index")||"0";this.labelIndex=parseInt(v,10);const w=p.getAttribute("transform"),{translation:x}=Ru(w);s=new N(x.tx,x.ty),o=vn(f).width}else{if(!this.options.labelAddable)return this;s=t.clientToLocal(N.create(h.clientX,h.clientY));const w=this.cellView.path.closestPointLength(s);this.distance=w}}s=t.localToGraph(s),r.left=`${s.x}px`,r.top=`${s.y}px`,r.minWidth=`${o}px`;const a=t.scale();r.transform=`scale(${a.sx}, ${a.sy}) translate(-50%, -50%)`;const l=this.options.attrs;r.fontSize=`${l.fontSize}px`,r.fontFamily=l.fontFamily,r.color=l.color,r.backgroundColor=l.backgroundColor;const c=this.options.getText;let u;return typeof c=="function"&&(u=xt(c,this.cellView,{cell:this.cell,index:this.labelIndex})),n.innerText=u||"",this}onDocumentMouseDown(t){if(t.target!==this.editor){const e=this.cell,n=this.editor.innerText.replace(/\n$/,"")||"",r=this.options.setText;typeof r=="function"&&xt(r,this.cellView,{cell:this.cell,value:n,index:this.labelIndex,distance:this.distance}),e.removeTool(e.isEdge()?"edge-editor":"node-editor"),this.undelegateDocumentEvents()}}onDblClick(t){t.stopPropagation()}onMouseDown(t){t.stopPropagation()}autoFocus(){setTimeout(()=>{this.editor.focus(),this.selectText()})}selectText(){if(window.getSelection){const t=document.createRange(),e=window.getSelection();t.selectNodeContents(this.editor),e.removeAllRanges(),e.addRange(t)}}}(function(i){i.config({tagName:"div",isSVGElement:!1,events:{dblclick:"onDblClick",mousedown:"onMouseDown"},documentEvents:{mousedown:"onDocumentMouseDown"}})})(ta||(ta={}));(function(i){i.NodeEditor=i.define({attrs:{fontSize:14,fontFamily:"Arial, helvetica, sans-serif",color:"#000",backgroundColor:"#fff"},getText({cell:t}){return t.attr("text/text")},setText({cell:t,value:e}){t.attr("text/text",e)}}),i.EdgeEditor=i.define({attrs:{fontSize:14,fontFamily:"Arial, helvetica, sans-serif",color:"#000",backgroundColor:"#fff"},labelAddable:!0,getText({cell:t,index:e}){return e===-1?"":t.prop(`labels/${e}/attrs/label/text`)},setText({cell:t,value:e,index:n,distance:r}){const s=t;n===-1?s.appendLabel({position:{distance:r},attrs:{label:{text:e}}}):e?s.prop(`labels/${n}/attrs/label/text`,e):typeof n=="number"&&s.removeLabelAt(n)}})})(ta||(ta={}));var r1=globalThis&&globalThis.__rest||function(i,t){var e={};for(var n in i)Object.prototype.hasOwnProperty.call(i,n)&&t.indexOf(n)<0&&(e[n]=i[n]);if(i!=null&&typeof Object.getOwnPropertySymbols=="function")for(var r=0,n=Object.getOwnPropertySymbols(i);r<n.length;r++)t.indexOf(n[r])<0&&Object.prototype.propertyIsEnumerable.call(i,n[r])&&(e[n[r]]=i[n[r]]);return e},ea;(function(i){i.presets={boundary:Zc,button:Qr,"button-remove":Qr.Remove,"node-editor":ta.NodeEditor},i.registry=Ye.create({type:"node tool",process(t,e){if(typeof e=="function")return e;let n=an.ToolItem;const{inherit:r}=e,s=r1(e,["inherit"]);if(r){const o=this.get(r);o==null?this.onNotFound(r,"inherited"):n=o}return s.name==null&&(s.name=t),n.define.call(n,s)}}),i.registry.register(i.presets,!0)})(ea||(ea={}));var na;(function(i){i.presets={boundary:Zc,vertices:xl,segments:wl,button:Qr,"button-remove":Qr.Remove,"source-anchor":mL,"target-anchor":bL,"source-arrowhead":yL,"target-arrowhead":xL,"edge-editor":ta.EdgeEditor},i.registry=Ye.create({type:"edge tool",process(t,e){if(typeof e=="function")return e;let n=an.ToolItem;const{inherit:r}=e,s=r1(e,["inherit"]);if(r){const o=this.get(r);o==null?this.onNotFound(r,"inherited"):n=o}return s.name==null&&(s.name=t),n.define.call(n,s)}}),i.registry.register(i.presets,!0)})(na||(na={}));const wL=Mr("center"),CL=Mr("topCenter"),EL=Mr("bottomCenter"),SL=Mr("leftMiddle"),AL=Mr("rightMiddle"),ML=Mr("topLeft"),OL=Mr("topRight"),TL=Mr("bottomLeft"),PL=Mr("bottomRight");function Mr(i){return function(t,e,n,r={}){const s=r.rotate?t.getUnrotatedBBoxOfElement(e):t.getBBoxOfElement(e),o=s[i];o.x+=tr(r.dx,s.width),o.y+=tr(r.dy,s.height);const a=t.cell;return r.rotate?o.rotate(-a.getAngle(),a.getBBox().getCenter()):o}}function Gu(i){return function(t,e,n,r){if(n instanceof Element){const s=this.graph.renderer.findViewByElem(n);let o;if(s)if(s.isEdgeElement(n)){const a=r.fixedAt!=null?r.fixedAt:"50%";o=s1(s,a)}else o=s.getBBoxOfElement(n).getCenter();else o=new N;return i.call(this,t,e,o,r)}return i.apply(this,arguments)}}function s1(i,t){const e=ji(t),n=typeof t=="string"?parseFloat(t):t;return e?i.getPointAtRatio(n/100):i.getPointAtLength(n)}const kL=function(i,t,e,n){const r=i.cell.getAngle(),s=i.getBBoxOfElement(t),o=s.getCenter(),a=s.getTopLeft(),l=s.getBottomRight();let c=n.padding;if(Number.isFinite(c)||(c=0),a.y+c<=e.y&&e.y<=l.y-c){const u=e.y-o.y;o.x+=r===0||r===180?0:u*1/Math.tan(re.toRad(r)),o.y+=u}else if(a.x+c<=e.x&&e.x<=l.x-c){const u=e.x-o.x;o.y+=r===90||r===270?0:u*Math.tan(re.toRad(r)),o.x+=u}return o},_L=Gu(kL),DL=function(i,t,e,n,r){const s=i.cell.getConnectionPoint(this.cell,r);return(n.dx||n.dy)&&s.translate(n.dx||0,n.dy||0),s},NL=function(i,t,e,n){let r,s=0,o;const a=i.cell;n.rotate?(r=i.getUnrotatedBBoxOfElement(t),o=a.getBBox().getCenter(),s=a.getAngle()):r=i.getBBoxOfElement(t);const l=n.padding;l!=null&&Number.isFinite(l)&&r.inflate(l),n.rotate&&e.rotate(s,o);const c=r.getNearestSideToPoint(e);let u;switch(c){case"left":u=r.getLeftMiddle();break;case"right":u=r.getRightMiddle();break;case"top":u=r.getTopCenter();break;case"bottom":u=r.getBottomCenter();break}const h=n.direction;return h==="H"?(c==="top"||c==="bottom")&&(e.x<=r.x+r.width?u=r.getLeftMiddle():u=r.getRightMiddle()):h==="V"&&(e.y<=r.y+r.height?u=r.getTopCenter():u=r.getBottomCenter()),n.rotate?u.rotate(-s,o):u},$L=Gu(NL);var FL=Object.freeze(Object.defineProperty({__proto__:null,center:wL,top:CL,bottom:EL,left:SL,right:AL,topLeft:ML,topRight:OL,bottomLeft:TL,bottomRight:PL,orth:_L,nodeCenter:DL,midSide:$L},Symbol.toStringTag,{value:"Module"})),ia;(function(i){i.presets=FL,i.registry=Ye.create({type:"node endpoint"}),i.registry.register(i.presets,!0)})(ia||(ia={}));const LL=function(i,t,e,n){let r=n.ratio!=null?n.ratio:.5;return r>1&&(r/=100),i.getPointAtRatio(r)},IL=function(i,t,e,n){const r=n.length!=null?n.length:20;return i.getPointAtLength(r)},o1=function(i,t,e,n){const r=i.getClosestPoint(e);return r!=null?r:new N},zL=Gu(o1),jL=function(i,t,e,n){const s=i.getConnection(),o=i.getConnectionSubdivisions(),a=new At(e.clone().translate(0,1e6),e.clone().translate(0,-1e6)),l=new At(e.clone().translate(1e6,0),e.clone().translate(-1e6,0)),c=a.intersect(s,{segmentSubdivisions:o}),u=l.intersect(s,{segmentSubdivisions:o}),h=[];return c&&h.push(...c),u&&h.push(...u),h.length>0?e.closest(h):n.fallbackAt!=null?s1(i,n.fallbackAt):xt(o1,this,i,t,e,n)},BL=Gu(jL);var RL=Object.freeze(Object.defineProperty({__proto__:null,closest:zL,ratio:LL,length:IL,orth:BL},Symbol.toStringTag,{value:"Module"})),ra;(function(i){i.presets=RL,i.registry=Ye.create({type:"edge endpoint"}),i.registry.register(i.presets,!0)})(ra||(ra={}));function qu(i,t,e){let n;if(typeof e=="object"){if(Number.isFinite(e.y)){const s=new At(t,i),{start:o,end:a}=s.parallel(e.y);t=o,i=a}n=e.x}else n=e;if(n==null||!Number.isFinite(n))return i;const r=i.distance(t);return n===0&&r>0?i:i.move(t,-Math.min(n,r-1))}function eu(i){const t=i.getAttribute("stroke-width");return t===null?0:parseFloat(t)||0}function VL(i){if(i==null)return null;let t=i;do{let e=t.tagName;if(typeof e!="string")return null;if(e=e.toUpperCase(),e==="G")t=t.firstElementChild;else if(e==="TITLE")t=t.nextElementSibling;else break}while(t);return t}const a1=function(i,t,e,n){const r=t.getBBoxOfElement(e);n.stroked&&r.inflate(eu(e)/2);const s=i.intersect(r),o=s&&s.length?i.start.closest(s):i.end;return qu(o,i.start,n.offset)},HL=function(i,t,e,n,r){const s=t.cell,o=s.isNode()?s.getAngle():0;if(o===0)return xt(a1,this,i,t,e,n,r);const a=t.getUnrotatedBBoxOfElement(e);n.stroked&&a.inflate(eu(e)/2);const l=a.getCenter(),c=i.clone().rotate(o,l),u=c.setLength(1e6).intersect(a),h=u&&u.length?c.start.closest(u).rotate(-o,l):i.end;return qu(h,i.start,n.offset)},GL=function(i,t,e,n){let r,s;const o=i.end,a=n.selector;if(typeof a=="string"?r=t.findOne(a):Array.isArray(a)?r=tp(e,a):r=VL(e),!pl(r)){if(r===e||!pl(e))return o;r=e}const l=t.getShapeOfElement(r),c=t.getMatrixOfElement(r),u=t.getRootTranslatedMatrix(),h=t.getRootRotatedMatrix(),f=u.multiply(h).multiply(c),p=f.inverse(),b=XN(i,p),v=b.start.clone(),w=t.getDataOfElement(r);if(n.insideout===!1){w.shapeBBox==null&&(w.shapeBBox=l.bbox());const O=w.shapeBBox;if(O!=null&&O.containsPoint(v))return o}n.extrapolate===!0&&b.setLength(1e6);let x;if(Nt.isPath(l)){const O=n.precision||2;w.segmentSubdivisions==null&&(w.segmentSubdivisions=l.getSegmentSubdivisions({precision:O})),x={precision:O,segmentSubdivisions:w.segmentSubdivisions},s=b.intersect(l,x)}else s=b.intersect(l);s?Array.isArray(s)&&(s=v.closest(s)):n.sticky===!0&&(ht.isRectangle(l)?s=l.getNearestPointToPoint(v):Ci.isEllipse(l)?s=l.intersectsWithLineFromCenterToPoint(v):s=l.closestPoint(v,x));const E=s?fr(s,f):o;let S=n.offset||0;return n.stroked!==!1&&(typeof S=="object"?(S=Object.assign({},S),S.x==null&&(S.x=0),S.x+=eu(r)/2):S+=eu(r)/2),qu(E,i.start,S)};function qL(i,t,e=0){const{start:n,end:r}=i;let s,o,a,l;switch(t){case"left":l="x",s=r,o=n,a=-1;break;case"right":l="x",s=n,o=r,a=1;break;case"top":l="y",s=r,o=n,a=-1;break;case"bottom":l="y",s=n,o=r,a=1;break;default:return}n[l]<r[l]?s[l]=o[l]:o[l]=s[l],Number.isFinite(e)&&(s[l]+=a*e,o[l]+=a*e)}const UL=function(i,t,e,n){const{alignOffset:r,align:s}=n;return s&&qL(i,s,r),qu(i.end,i.start,n.offset)};var WL=Object.freeze(Object.defineProperty({__proto__:null,bbox:a1,rect:HL,boundary:GL,anchor:UL},Symbol.toStringTag,{value:"Module"})),sa;(function(i){i.presets=WL,i.registry=Ye.create({type:"connection point"}),i.registry.register(i.presets,!0)})(sa||(sa={}));const XL=function(i){return[...i]},YL=function(i,t,e){const n=t.side||"bottom",r=Kn(t.padding||40),s=e.sourceBBox,o=e.targetBBox,a=s.getCenter(),l=o.getCenter();let c,u,h;switch(n){case"top":h=-1,c="y",u="height";break;case"left":h=-1,c="x",u="width";break;case"right":h=1,c="x",u="width";break;case"bottom":default:h=1,c="y",u="height";break}return a[c]+=h*(s[u]/2+r[n]),l[c]+=h*(o[u]/2+r[n]),h*(a[c]-l[c])>0?l[c]=a[c]:a[c]=l[c],[a.toJSON(),...i,l.toJSON()]};function bc(i){return new ht(i.x,i.y,0,0)}function nu(i={}){const t=Kn(i.padding||20);return{x:-t.left,y:-t.top,width:t.left+t.right,height:t.top+t.bottom}}function l1(i,t={}){return i.sourceBBox.clone().moveAndExpand(nu(t))}function c1(i,t={}){return i.targetBBox.clone().moveAndExpand(nu(t))}function KL(i,t={}){return i.sourceAnchor?i.sourceAnchor:l1(i,t).getCenter()}function JL(i,t={}){return i.targetAnchor?i.targetAnchor:c1(i,t).getCenter()}const u1=function(i,t,e){let n=l1(e,t),r=c1(e,t);const s=KL(e,t),o=JL(e,t);n=n.union(bc(s)),r=r.union(bc(o));const a=i.map(u=>N.create(u));a.unshift(s),a.push(o);let l=null;const c=[];for(let u=0,h=a.length-1;u<h;u+=1){let f=null;const p=a[u],b=a[u+1],v=mi.getBearing(p,b)!=null;if(u===0)u+1===h?n.intersectsWithRect(r.clone().inflate(1))?f=mi.insideNode(p,b,n,r):v||(f=mi.nodeToNode(p,b,n,r)):n.containsPoint(b)?f=mi.insideNode(p,b,n,bc(b).moveAndExpand(nu(t))):v||(f=mi.nodeToVertex(p,b,n));else if(u+1===h){const w=v&&mi.getBearing(b,p)===l;r.containsPoint(p)||w?f=mi.insideNode(p,b,bc(p).moveAndExpand(nu(t)),r,l):v||(f=mi.vertexToNode(p,b,r,l))}else v||(f=mi.vertexToVertex(p,b,l));f?(c.push(...f.points),l=f.direction):l=mi.getBearing(p,b),u+1<h&&c.push(b)}return c};var mi;(function(i){const t={N:"S",S:"N",E:"W",W:"E"},e={N:-Math.PI/2*3,S:-Math.PI/2,E:0,W:Math.PI};function n(h,f,p){let b=new N(h.x,f.y);return p.containsPoint(b)&&(b=new N(f.x,h.y)),b}function r(h,f){return h[f==="W"||f==="E"?"width":"height"]}i.getBBoxSize=r;function s(h,f){return h.x===f.x?h.y>f.y?"N":"S":h.y===f.y?h.x>f.x?"W":"E":null}i.getBearing=s;function o(h,f,p){const b=new N(h.x,f.y),v=new N(f.x,h.y),w=s(h,b),x=s(h,v),E=p?t[p]:null,S=w===p||w!==E&&(x===E||x!==p)?b:v;return{points:[S],direction:s(S,f)}}i.vertexToVertex=o;function a(h,f,p){const b=n(h,f,p);return{points:[b],direction:s(b,f)}}i.nodeToVertex=a;function l(h,f,p,b){const v=[new N(h.x,f.y),new N(f.x,h.y)],w=v.filter(S=>!p.containsPoint(S)),x=w.filter(S=>s(S,h)!==b);let E;if(x.length>0)return E=x.filter(S=>s(h,S)===b).pop(),E=E||x[0],{points:[E],direction:s(E,f)};{E=n5(v,w)[0];const S=N.create(f).move(E,-r(p,b)/2);return{points:[n(S,h,p),S],direction:s(S,f)}}}i.vertexToNode=l;function c(h,f,p,b){let v=a(f,h,b);const w=v.points[0];if(p.containsPoint(w)){v=a(h,f,p);const x=v.points[0];if(b.containsPoint(x)){const E=N.create(h).move(x,-r(p,s(h,x))/2),S=N.create(f).move(w,-r(b,s(f,w))/2),O=new At(E,S).getCenter(),k=a(h,O,p),m=o(O,f,k.direction);v.points=[k.points[0],m.points[0]],v.direction=m.direction}}return v}i.nodeToNode=c;function u(h,f,p,b,v){const w=p.union(b).inflate(1),x=w.getCenter(),E=x.distance(f)>x.distance(h),S=E?f:h,O=E?h:f;let k,m,T;v?(k=N.fromPolar(w.width+w.height,e[v],S),k=w.getNearestPointToPoint(k).move(k,-1)):k=w.getNearestPointToPoint(S).move(S,1),m=n(k,O,w);let D;k.round().equals(m.round())?(m=N.fromPolar(w.width+w.height,re.toRad(k.theta(S))+Math.PI/2,O),m=w.getNearestPointToPoint(m).move(O,1).round(),T=n(k,m,w),D=E?[m,T,k]:[k,T,m]):D=E?[m,k]:[k,m];const z=s(E?k:m,f);return{points:D,direction:z}}i.insideNode=u})(mi||(mi={}));const ZL={step:10,maxLoopCount:2e3,precision:1,maxDirectionChange:90,perpendicular:!0,excludeTerminals:[],excludeShapes:[],excludeHiddenNodes:!1,startDirections:["top","right","bottom","left"],endDirections:["top","right","bottom","left"],directionMap:{top:{x:0,y:-1},right:{x:1,y:0},bottom:{x:0,y:1},left:{x:-1,y:0}},cost(){return Vr(this.step,this)},directions(){const i=Vr(this.step,this),t=Vr(this.cost,this);return[{cost:t,offsetX:i,offsetY:0},{cost:t,offsetX:-i,offsetY:0},{cost:t,offsetX:0,offsetY:i},{cost:t,offsetX:0,offsetY:-i}]},penalties(){const i=Vr(this.step,this);return{0:0,45:i/2,90:i/2}},paddingBox(){const i=Vr(this.step,this);return{x:-i,y:-i,width:2*i,height:2*i}},fallbackRouter:u1,draggingRouter:null};function Vr(i,t){return typeof i=="function"?i.call(t):i}function QL(i){const t=Object.keys(i).reduce((e,n)=>{const r=e;return n==="fallbackRouter"||n==="draggingRouter"||n==="fallbackRoute"?r[n]=i[n]:r[n]=Vr(i[n],i),e},{});if(t.padding){const e=Kn(t.padding);i.paddingBox={x:-e.left,y:-e.top,width:e.left+e.right,height:e.top+e.bottom}}return t.directions.forEach(e=>{const n=new N(0,0),r=new N(e.offsetX,e.offsetY);e.angle=re.normalize(n.theta(r))}),t}const _2=1,D2=2;class t7{constructor(){this.items=[],this.hash={},this.values={}}add(t,e){this.hash[t]?this.items.splice(this.items.indexOf(t),1):this.hash[t]=_2,this.values[t]=e;const n=V5(this.items,t,r=>this.values[r]);this.items.splice(n,0,t)}pop(){const t=this.items.shift();return t&&(this.hash[t]=D2),t}isOpen(t){return this.hash[t]===_2}isClose(t){return this.hash[t]===D2}isEmpty(){return this.items.length===0}}class e7{constructor(t){this.options=t,this.mapGridSize=100,this.map={}}build(t,e){const n=this.options,r=n.excludeTerminals.reduce((c,u)=>{const h=e[u];if(h){const f=t.getCell(h.cell);f&&c.push(f)}return c},[]);let s=[];const o=t.getCell(e.getSourceCellId());o&&(s=D0(s,o.getAncestors().map(c=>c.id)));const a=t.getCell(e.getTargetCellId());a&&(s=D0(s,a.getAncestors().map(c=>c.id)));const l=this.mapGridSize;return t.getNodes().reduce((c,u)=>{const h=u.shape,f=n.excludeShapes,p=h?f.includes(h):!1,b=r.some(E=>E.id===u.id),v=s.includes(u.id),w=n.excludeHiddenNodes&&!u.isVisible();if(!(p||b||v||w)){const E=u.getBBox().moveAndExpand(n.paddingBox),S=E.getOrigin().snapToGrid(l),O=E.getCorner().snapToGrid(l);for(let k=S.x;k<=O.x;k+=l)for(let m=S.y;m<=O.y;m+=l){const T=new N(k,m).toString();c[T]==null&&(c[T]=[]),c[T].push(E)}}return c},this.map),this}isAccessible(t){const e=t.clone().snapToGrid(this.mapGridSize).toString(),n=this.map[e];return n?n.every(r=>!r.containsPoint(t)):!0}}function h1(i,t){const e=i.sourceBBox.clone();return t&&t.paddingBox?e.moveAndExpand(t.paddingBox):e}function d1(i,t){const e=i.targetBBox.clone();return t&&t.paddingBox?e.moveAndExpand(t.paddingBox):e}function f1(i,t){return i.sourceAnchor?i.sourceAnchor:h1(i,t).getCenter()}function n7(i,t){return i.targetAnchor?i.targetAnchor:d1(i,t).getCenter()}function Rh(i,t,e,n,r){const s=360/e,o=i.theta(i7(i,t,n,r)),a=re.normalize(o+s/2);return s*Math.floor(a/s)}function i7(i,t,e,n){const r=n.step,s=t.x-i.x,o=t.y-i.y,a=s/e.x,l=o/e.y,c=a*r,u=l*r;return new N(i.x+c,i.y+u)}function N2(i,t){const e=Math.abs(i-t);return e>180?360-e:e}function r7(i,t){const e=t.step;return t.directions.forEach(n=>{n.gridOffsetX=n.offsetX/e*i.x,n.gridOffsetY=n.offsetY/e*i.y}),t.directions}function s7(i,t,e){return{source:t.clone(),x:$2(e.x-t.x,i),y:$2(e.y-t.y,i)}}function $2(i,t){if(!i)return t;const e=Math.abs(i),n=Math.round(e/t);if(!n)return e;const r=n*t,o=(e-r)/n;return t+o}function o7(i,t){const e=t.source,n=Qe.snapToGrid(i.x-e.x,t.x)+e.x,r=Qe.snapToGrid(i.y-e.y,t.y)+e.y;return new N(n,r)}function Na(i,t){return i.round(t)}function Oc(i,t,e){return Na(o7(i.clone(),t),e)}function Xa(i){return i.toString()}function Vh(i){return new N(i.x===0?0:Math.abs(i.x)/i.x,i.y===0?0:Math.abs(i.y)/i.y)}function F2(i,t){let e=1/0;for(let n=0,r=t.length;n<r;n+=1){const s=i.manhattanDistance(t[n]);s<e&&(e=s)}return e}function L2(i,t,e,n,r){const s=r.precision,o=r.directionMap,a=i.diff(t.getCenter()),l=Object.keys(o).reduce((c,u)=>{if(e.includes(u)){const h=o[u],f=new N(i.x+h.x*(Math.abs(a.x)+t.width),i.y+h.y*(Math.abs(a.y)+t.height)),b=new At(i,f).intersect(t)||[];let v,w=null;for(let x=0;x<b.length;x+=1){const E=b[x],S=i.squaredDistance(E);(v==null||S>v)&&(v=S,w=E)}if(w){let x=Oc(w,n,s);t.containsPoint(x)&&(x=Oc(x.translate(h.x*n.x,h.y*n.y),n,s)),c.push(x)}}return c},[]);return t.containsPoint(i)||l.push(Oc(i,n,s)),l}function a7(i,t,e,n,r){const s=[];let o=Vh(r.diff(e)),a=Xa(e),l=i[a],c;for(;l;){c=t[a];const f=Vh(c.diff(l));f.equals(o)||(s.unshift(c),o=f),a=Xa(l),l=i[a]}const u=t[a];return Vh(u.diff(n)).equals(o)||s.unshift(u),s}function l7(i,t,e,n,r){const s=r.precision;let o,a;ht.isRectangle(t)?o=Na(f1(i,r).clone(),s):o=Na(t.clone(),s),ht.isRectangle(e)?a=Na(n7(i,r).clone(),s):a=Na(e.clone(),s);const l=s7(r.step,o,a),c=o,u=a;let h,f;if(ht.isRectangle(t)?h=L2(c,t,r.startDirections,l,r):h=[c],ht.isRectangle(e)?f=L2(a,e,r.endDirections,l,r):f=[u],h=h.filter(p=>n.isAccessible(p)),f=f.filter(p=>n.isAccessible(p)),h.length>0&&f.length>0){const p=new t7,b={},v={},w={};for(let H=0,q=h.length;H<q;H+=1){const R=h[H],rt=Xa(R);p.add(rt,F2(R,f)),b[rt]=R,w[rt]=0}const x=r.previousDirectionAngle,E=x===void 0;let S,O;const k=r7(l,r),m=k.length,T=f.reduce((H,q)=>{const R=Xa(q);return H.push(R),H},[]),D=N.equalPoints(h,f);let z=r.maxLoopCount;for(;!p.isEmpty()&&z>0;){const H=p.pop(),q=b[H],R=v[H],rt=w[H],st=q.equals(c),j=R==null;let B;if(j?E?st?B=null:B=Rh(c,q,m,l,r):B=x:B=Rh(R,q,m,l,r),!(j&&D)&&T.indexOf(H)>=0)return r.previousDirectionAngle=B,a7(v,b,q,c,u);for(let bt=0;bt<m;bt+=1){S=k[bt];const Ot=S.angle;if(O=N2(B,Ot),!(E&&st)&&O>r.maxDirectionChange)continue;const Gt=Oc(q.clone().translate(S.gridOffsetX||0,S.gridOffsetY||0),l,s),pt=Xa(Gt);if(p.isClose(pt)||!n.isAccessible(Gt))continue;if(T.indexOf(pt)>=0&&!Gt.equals(u)){const de=Rh(Gt,u,m,l,r);if(N2(Ot,de)>r.maxDirectionChange)continue}const $t=S.cost,Dt=st?0:r.penalties[O],_t=rt+$t+Dt;(!p.isOpen(pt)||_t<w[pt])&&(b[pt]=Gt,v[pt]=q,w[pt]=_t,p.add(pt,_t+F2(Gt,f)))}z-=1}}return r.fallbackRoute?xt(r.fallbackRoute,this,c,u,r):null}const c7=function(i,t,e){const n=QL(t),r=h1(e,n),s=d1(e,n),o=f1(e,n),a=new e7(n).build(e.graph.model,e.cell),l=i.map(p=>N.create(p)),c=[];let u=o,h,f;for(let p=0,b=l.length;p<=b;p+=1){let v=null;if(h=f||r,f=l[p],f==null){f=s;const x=e.cell;if((x.getSourceCellId()==null||x.getTargetCellId()==null)&&typeof n.draggingRouter=="function"){const S=h===r?o:h,O=f.getOrigin();v=xt(n.draggingRouter,e,S,O,n)}}if(v==null&&(v=l7(e,h,f,a,n)),v===null)return xt(n.fallbackRouter,this,i,n,e);const w=v[0];w&&w.equals(u)&&v.shift(),u=v[v.length-1]||u,c.push(...v)}return c},p1=function(i,t,e){return xt(c7,this,i,Object.assign(Object.assign({},ZL),t),e)},u7={maxDirectionChange:45,directions(){const i=Vr(this.step,this),t=Vr(this.cost,this),e=Math.ceil(Math.sqrt(i*i<<1));return[{cost:t,offsetX:i,offsetY:0},{cost:e,offsetX:i,offsetY:i},{cost:t,offsetX:0,offsetY:i},{cost:e,offsetX:-i,offsetY:i},{cost:t,offsetX:-i,offsetY:0},{cost:e,offsetX:-i,offsetY:-i},{cost:t,offsetX:0,offsetY:-i},{cost:e,offsetX:i,offsetY:-i}]},fallbackRoute(i,t,e){const n=i.theta(t),r=[];let s={x:t.x,y:i.y},o={x:i.x,y:t.y};if(n%180>90){const S=s;s=o,o=S}const a=n%90<45?s:o,l=new At(i,a),c=90*Math.ceil(n/90),u=N.fromPolar(l.squaredLength(),re.toRad(c+135),a),h=new At(t,u),f=l.intersectsWithLine(h),p=f||t,b=f?p:i,v=360/e.directions.length,w=b.theta(t),x=re.normalize(w+v/2),E=v*Math.floor(x/v);return e.previousDirectionAngle=E,p&&r.push(p.round()),r.push(t),r}},h7=function(i,t,e){return xt(p1,this,i,Object.assign(Object.assign({},u7),t),e)},d7=function(i,t,e){const n=t.offset||32,r=t.min==null?16:t.min;let s=0,o=t.direction;const a=e.sourceBBox,l=e.targetBBox,c=a.getCenter(),u=l.getCenter();if(typeof n=="number"&&(s=n),o==null){let x=l.left-a.right,E=l.top-a.bottom;x>=0&&E>=0?o=x>=E?"L":"T":x<=0&&E>=0?(x=a.left-l.right,x>=0?o=x>=E?"R":"T":o="T"):x>=0&&E<=0?(E=a.top-l.bottom,E>=0?o=x>=E?"L":"B":o="L"):(x=a.left-l.right,E=a.top-l.bottom,x>=0&&E>=0?o=x>=E?"R":"B":x<=0&&E>=0?o="B":x>=0&&E<=0?o="R":o=Math.abs(x)>Math.abs(E)?"R":"B")}o==="H"?o=u.x-c.x>=0?"L":"R":o==="V"&&(o=u.y-c.y>=0?"T":"B"),n==="center"&&(o==="L"?s=(l.left-a.right)/2:o==="R"?s=(a.left-l.right)/2:o==="T"?s=(l.top-a.bottom)/2:o==="B"&&(s=(a.top-l.bottom)/2));let h,f,p;const b=o==="L"||o==="R";if(b){if(u.y===c.y)return[...i];p=o==="L"?1:-1,h="x",f="width"}else{if(u.x===c.x)return[...i];p=o==="T"?1:-1,h="y",f="height"}const v=c.clone(),w=u.clone();if(v[h]+=p*(a[f]/2+s),w[h]-=p*(l[f]/2+s),b){const x=v.x,E=w.x,S=a.width/2+r,O=l.width/2+r;u.x>c.x?E<=x&&(v.x=Math.max(E,c.x+S),w.x=Math.min(x,u.x-O)):E>=x&&(v.x=Math.min(E,c.x-S),w.x=Math.max(x,u.x+O))}else{const x=v.y,E=w.y,S=a.height/2+r,O=l.height/2+r;u.y>c.y?E<=x&&(v.y=Math.max(E,c.y+S),w.y=Math.min(x,u.y-O)):E>=x&&(v.y=Math.min(E,c.y-S),w.y=Math.max(x,u.y+O))}return[v.toJSON(),...i,w.toJSON()]};function xo(i,t){if(t!=null&&t!==!1){const e=typeof t=="boolean"?0:t;if(e>0){const n=N.create(i[1]).move(i[2],e),r=N.create(i[1]).move(i[0],e);return[n.toJSON(),...i,r.toJSON()]}{const n=i[1];return[Object.assign({},n),...i,Object.assign({},n)]}}return i}const f7=function(i,t,e){const n=t.width||50,s=(t.height||80)/2,o=t.angle||"auto",a=e.sourceAnchor,l=e.targetAnchor,c=e.sourceBBox,u=e.targetBBox;if(a.equals(l)){const h=x=>{const E=re.toRad(x),S=Math.sin(E),O=Math.cos(E),k=new N(a.x+O*n,a.y+S*n),m=new N(k.x-O*s,k.y-S*s),T=m.clone().rotate(-90,k),D=m.clone().rotate(90,k);return[T.toJSON(),k.toJSON(),D.toJSON()]},f=x=>{const E=a.clone().move(x,-1),S=new At(E,x);return!c.containsPoint(x)&&!c.intersectsWithLine(S)},p=[0,90,180,270,45,135,225,315];if(typeof o=="number")return xo(h(o),t.merge);const b=c.getCenter();if(b.equals(a))return xo(h(0),t.merge);const v=b.angleBetween(a,b.clone().translate(1,0));let w=h(v);if(f(w[1]))return xo(w,t.merge);for(let x=1,E=p.length;x<E;x+=1)if(w=h(v+p[x]),f(w[1]))return xo(w,t.merge);return xo(w,t.merge)}{const h=new At(a,l);let f=h.parallel(-n),p=f.getCenter(),b=f.start.clone().move(f.end,s),v=f.end.clone().move(f.start,s);const w=h.parallel(-1),x=new At(w.start,p),E=new At(w.end,p);if((c.containsPoint(p)||u.containsPoint(p)||c.intersectsWithLine(x)||c.intersectsWithLine(E)||u.intersectsWithLine(x)||u.intersectsWithLine(E))&&(f=h.parallel(n),p=f.getCenter(),b=f.start.clone().move(f.end,s),v=f.end.clone().move(f.start,s)),t.merge){const S=new At(a,l),O=new At(p,S.center).setLength(Number.MAX_SAFE_INTEGER),k=c.intersectsWithLine(O),m=u.intersectsWithLine(O),T=k?Array.isArray(k)?k:[k]:[];m&&(Array.isArray(m)?T.push(...m):T.push(m));const D=S.center.closest(T);D?(e.sourceAnchor=D.clone(),e.targetAnchor=D.clone()):(e.sourceAnchor=S.center.clone(),e.targetAnchor=S.center.clone())}return xo([b.toJSON(),p.toJSON(),v.toJSON()],t.merge)}};var p7=Object.freeze(Object.defineProperty({__proto__:null,normal:XL,oneSide:YL,orth:u1,metro:h7,manhattan:p1,er:d7,loop:f7},Symbol.toStringTag,{value:"Module"})),Ur;(function(i){i.presets=p7,i.registry=Ye.create({type:"router"}),i.registry.register(i.presets,!0)})(Ur||(Ur={}));const g7=function(i,t,e,n={}){const r=[i,...e,t],s=new on(r),o=new Nt(s);return n.raw?o:o.serialize()},m7=function(i,t,e,n={}){const r=e.length===3?0:1,s=N.create(e[0+r]),o=N.create(e[2+r]),a=N.create(e[1+r]);if(!N.equals(i,t)){const c=new N((i.x+t.x)/2,(i.y+t.y)/2),u=c.angleBetween(N.create(i).rotate(90,c),a);u>1&&(s.rotate(180-u,c),o.rotate(180-u,c),a.rotate(180-u,c))}const l=`
     M ${i.x} ${i.y}
     Q ${s.x} ${s.y} ${a.x} ${a.y}
     Q ${o.x} ${o.y} ${t.x} ${t.y}
  `;return n.raw?Nt.parse(l):l},b7=function(i,t,e,n={}){const r=new Nt;r.appendSegment(Nt.createSegment("M",i));const s=1/3,o=2/3,a=n.radius||10;let l,c;for(let u=0,h=e.length;u<h;u+=1){const f=N.create(e[u]),p=e[u-1]||i,b=e[u+1]||t;l=c||f.distance(p)/2,c=f.distance(b)/2;const v=-Math.min(a,l),w=-Math.min(a,c),x=f.clone().move(p,v).round(),E=f.clone().move(b,w).round(),S=new N(s*x.x+o*f.x,o*f.y+s*x.y),O=new N(s*E.x+o*f.x,o*f.y+s*E.y);r.appendSegment(Nt.createSegment("L",x)),r.appendSegment(Nt.createSegment("C",S,O,E))}return r.appendSegment(Nt.createSegment("L",t)),n.raw?r:r.serialize()},v7=function(i,t,e,n={}){let r,s=n.direction;if(e&&e.length!==0){const o=[i,...e,t],a=We.throughPoints(o);r=new Nt(a)}else if(r=new Nt,r.appendSegment(Nt.createSegment("M",i)),s||(s=Math.abs(i.x-t.x)>=Math.abs(i.y-t.y)?"H":"V"),s==="H"){const o=(i.x+t.x)/2;r.appendSegment(Nt.createSegment("C",o,i.y,o,t.y,t.x,t.y))}else{const o=(i.y+t.y)/2;r.appendSegment(Nt.createSegment("C",i.x,o,t.x,o,t.x,t.y))}return n.raw?r:r.serialize()},I2=1,vc=1/3,yc=2/3;function y7(i){let t=i.graph._jumpOverUpdateList;if(t==null&&(t=i.graph._jumpOverUpdateList=[],i.graph.on("cell:mouseup",()=>{const e=i.graph._jumpOverUpdateList;for(let n=0;n<e.length;n+=1)e[n].update()}),i.graph.on("model:reseted",()=>{t=i.graph._jumpOverUpdateList=[]})),t.indexOf(i)<0){t.push(i);const e=()=>t.splice(t.indexOf(i),1);i.cell.once("change:connector",e),i.cell.once("removed",e)}}function Hh(i,t,e=[]){const n=[i,...e,t],r=[];return n.forEach((s,o)=>{const a=n[o+1];a!=null&&r.push(new At(s,a))}),r}function x7(i,t){const e=[];return t.forEach(n=>{const r=i.intersectsWithLine(n);r&&e.push(r)}),e}function z2(i,t){return new At(i,t).squaredLength()}function w7(i,t,e){return t.reduce((n,r,s)=>{if(iu.includes(r))return n;const o=n.pop()||i,a=N.create(r).move(o.start,-e);let l=N.create(r).move(o.start,+e);const c=t[s+1];if(c!=null){const f=l.distance(c);f<=e&&(l=c.move(o.start,f),iu.push(c))}else if(a.distance(o.end)<e*2+I2)return n.push(o),n;if(l.distance(o.start)<e*2+I2)return n.push(o),n;const h=new At(a,l);return Cl.push(h),n.push(new At(o.start,a),h,new At(l,o.end)),n},[])}function j2(i,t,e,n){const r=new Nt;let s;return s=Nt.createSegment("M",i[0].start),r.appendSegment(s),i.forEach((o,a)=>{if(Cl.includes(o)){let l,c,u,h;if(e==="arc"){l=-90,c=o.start.diff(o.end),(c.x<0||c.x===0&&c.y<0)&&(l+=180);const p=o.getCenter(),b=new At(p,o.end).rotate(l,p);let v;v=new At(o.start,p),u=v.pointAt(2/3).rotate(l,o.start),h=b.pointAt(1/3).rotate(-l,b.end),s=Nt.createSegment("C",u,h,b.end),r.appendSegment(s),v=new At(p,o.end),u=b.pointAt(1/3).rotate(l,b.end),h=v.pointAt(1/3).rotate(-l,o.end),s=Nt.createSegment("C",u,h,o.end),r.appendSegment(s)}else if(e==="gap")s=Nt.createSegment("M",o.end),r.appendSegment(s);else if(e==="cubic"){l=o.start.theta(o.end);const f=t*.6;let p=t*1.35;c=o.start.diff(o.end),(c.x<0||c.x===0&&c.y<0)&&(p*=-1),u=new N(o.start.x+f,o.start.y+p).rotate(l,o.start),h=new N(o.end.x-f,o.end.y+p).rotate(l,o.end),s=Nt.createSegment("C",u,h,o.end),r.appendSegment(s)}}else{const l=i[a+1];n===0||!l||Cl.includes(l)?(s=Nt.createSegment("L",o.end),r.appendSegment(s)):C7(n,r,o.end,o.start,l.end)}}),r}function C7(i,t,e,n,r){const s=e.distance(n)/2,o=e.distance(r)/2,a=-Math.min(i,s),l=-Math.min(i,o),c=e.clone().move(n,a).round(),u=e.clone().move(r,l).round(),h=new N(vc*c.x+yc*e.x,yc*e.y+vc*c.y),f=new N(vc*u.x+yc*e.x,yc*e.y+vc*u.y);let p;p=Nt.createSegment("L",c),t.appendSegment(p),p=Nt.createSegment("C",h,f,u),t.appendSegment(p)}let Cl,iu;const E7=function(i,t,e,n={}){Cl=[],iu=[],y7(this);const r=n.size||5,s=n.type||"arc",o=n.radius||0,a=n.ignoreConnectors||["smooth"],l=this.graph,u=l.model.getEdges();if(u.length===1)return j2(Hh(i,t,e),r,s,o);const h=this.cell,f=u.indexOf(h),p=l.options.connecting.connector||{},b=u.filter((O,k)=>{const m=O.getConnector()||p;return a.includes(m.name)?!1:k>f?m.name!=="jumpover":!0}),v=b.map(O=>l.renderer.findViewByCell(O)),w=Hh(i,t,e),x=v.map(O=>O==null?[]:O===this?w:Hh(O.sourcePoint,O.targetPoint,O.routePoints)),E=[];w.forEach(O=>{const k=b.reduce((m,T,D)=>{if(T!==h){const z=x7(O,x[D]);m.push(...z)}return m},[]).sort((m,T)=>z2(O.start,m)-z2(O.start,T));k.length>0?E.push(...w7(O,k,r)):E.push(O)});const S=j2(E,r,s,o);return Cl=[],iu=[],n.raw?S:S.serialize()};var S7=Object.freeze(Object.defineProperty({__proto__:null,normal:g7,loop:m7,rounded:b7,smooth:v7,jumpover:E7},Symbol.toStringTag,{value:"Module"})),Bs;(function(i){i.presets=S7,i.registry=Ye.create({type:"connector"}),i.registry.register(i.presets,!0)})(Bs||(Bs={}));Ye.create;class El{constructor(t){this.cell=t,this.ids={},this.cache={}}get(){return Object.keys(this.ids)}start(t,e,n={},r="/"){const s=this.cell.getPropByPath(t),o=H6(n,El.defaultOptions),a=this.getTiming(o.timing),l=this.getInterp(o.interp,s,e);let c=0;const u=Array.isArray(t)?t.join(r):t,h=Array.isArray(t)?t:t.split(r),f=()=>{const p=new Date().getTime();c===0&&(c=p);let v=(p-c)/o.duration;v<1?this.ids[u]=Id(f):v=1;const w=l(a(v));this.cell.setPropByPath(h,w),n.progress&&n.progress(Object.assign({progress:v,currentValue:w},this.getArgs(u))),v===1&&(this.cell.notify("transition:end",this.getArgs(u)),this.cell.notify("transition:complete",this.getArgs(u)),n.complete&&n.complete(this.getArgs(u)),this.cell.notify("transition:finish",this.getArgs(u)),n.finish&&n.finish(this.getArgs(u)),this.clean(u))};return setTimeout(()=>{this.stop(t,void 0,r),this.cache[u]={startValue:s,targetValue:e,options:o},this.ids[u]=Id(f),this.cell.notify("transition:begin",this.getArgs(u)),this.cell.notify("transition:start",this.getArgs(u)),n.start&&n.start(this.getArgs(u))},n.delay),this.stop.bind(this,t,r,n)}stop(t,e={},n="/"){const r=Array.isArray(t)?t:t.split(n);return Object.keys(this.ids).filter(s=>Ii(r,s.split(n).slice(0,r.length))).forEach(s=>{zd(this.ids[s]);const o=this.cache[s],a=this.getArgs(s),l=Object.assign(Object.assign({},o.options),e),c=l.jumpedToEnd;c&&o.targetValue!=null&&(this.cell.setPropByPath(s,o.targetValue),this.cell.notify("transition:end",Object.assign({},a)),this.cell.notify("transition:complete",Object.assign({},a)),l.complete&&l.complete(Object.assign({},a)));const u=Object.assign({jumpedToEnd:c},a);this.cell.notify("transition:stop",Object.assign({},u)),l.stop&&l.stop(Object.assign({},u)),this.cell.notify("transition:finish",Object.assign({},a)),l.finish&&l.finish(Object.assign({},a)),this.clean(s)}),this}clean(t){delete this.ids[t],delete this.cache[t]}getTiming(t){return typeof t=="string"?Hs[t]:t}getInterp(t,e,n){return t?t(e,n):typeof n=="number"?Ns.number(e,n):typeof n=="string"?n[0]==="#"?Ns.color(e,n):Ns.unit(e,n):Ns.object(e,n)}getArgs(t){const e=this.cache[t];return{path:t,startValue:e.startValue,targetValue:e.targetValue,cell:this.cell}}}(function(i){i.defaultOptions={delay:10,duration:100,timing:"linear"}})(El||(El={}));var A7=globalThis&&globalThis.__decorate||function(i,t,e,n){var r=arguments.length,s=r<3?t:n===null?n=Object.getOwnPropertyDescriptor(t,e):n,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")s=Reflect.decorate(i,t,e,n);else for(var a=i.length-1;a>=0;a--)(o=i[a])&&(s=(r<3?o(s):r>3?o(t,e,s):o(t,e))||s);return r>3&&s&&Object.defineProperty(t,e,s),s};class g1 extends Mn{constructor(t={}){super(),this.pending=!1,this.changing=!1,this.data={},this.mutate(Xe(t)),this.changed={}}mutate(t,e={}){const n=e.unset===!0,r=e.silent===!0,s=[],o=this.changing;this.changing=!0,o||(this.previous=Xe(this.data),this.changed={});const a=this.data,l=this.previous,c=this.changed;if(Object.keys(t).forEach(u=>{const h=u,f=t[h];Ii(a[h],f)||s.push(h),Ii(l[h],f)?delete c[h]:c[h]=f,n?delete a[h]:a[h]=f}),!r&&s.length>0&&(this.pending=!0,this.pendingOptions=e,s.forEach(u=>{this.emit("change:*",{key:u,options:e,store:this,current:a[u],previous:l[u]})})),o)return this;if(!r)for(;this.pending;)this.pending=!1,this.emit("changed",{current:a,previous:l,store:this,options:this.pendingOptions});return this.pending=!1,this.changing=!1,this.pendingOptions=null,this}get(t,e){if(t==null)return this.data;const n=this.data[t];return n==null?e:n}getPrevious(t){if(this.previous){const e=this.previous[t];return e==null?void 0:e}}set(t,e,n){return t!=null&&(typeof t=="object"?this.mutate(t,e):this.mutate({[t]:e},n)),this}remove(t,e){const r={};let s;if(typeof t=="string")r[t]=void 0,s=e;else if(Array.isArray(t))t.forEach(o=>r[o]=void 0),s=e;else{for(const o in this.data)r[o]=void 0;s=t}return this.mutate(r,Object.assign(Object.assign({},s),{unset:!0})),this}getByPath(t){return tp(this.data,t,"/")}setByPath(t,e,n={}){const r="/",s=Array.isArray(t)?[...t]:t.split(r),o=Array.isArray(t)?t.join(r):t,a=s[0],l=s.length;if(n.propertyPath=o,n.propertyValue=e,n.propertyPathArray=s,l===1)this.set(a,e,n);else{const c={};let u=c,h=a;for(let b=1;b<l;b+=1){const v=s[b],w=Number.isFinite(Number(v));u=u[h]=w?[]:{},h=v}ha(c,s,e,r);const f=Xe(this.data);n.rewrite&&m2(f,t,r);const p=De(f,c);this.set(a,p[a],n)}return this}removeByPath(t,e){const n=Array.isArray(t)?t:t.split("/"),r=n[0];if(n.length===1)this.remove(r,e);else{const s=n.slice(1),o=Xe(this.get(r));o&&m2(o,s),this.set(r,o,e)}return this}hasChanged(t){return t==null?Object.keys(this.changed).length>0:t in this.changed}getChanges(t){if(t==null)return this.hasChanged()?Xe(this.changed):null;const e=this.changing?this.previous:this.data,n={};let r;for(const s in t){const o=t[s];Ii(e[s],o)||(n[s]=o,r=!0)}return r?Xe(n):null}toJSON(){return Xe(this.data)}clone(){const t=this.constructor;return new t(this.data)}dispose(){this.off(),this.data={},this.previous={},this.changed={},this.pending=!1,this.changing=!1,this.pendingOptions=null,this.trigger("disposed",{store:this})}}A7([Mn.dispose()],g1.prototype,"dispose",null);var M7=globalThis&&globalThis.__decorate||function(i,t,e,n){var r=arguments.length,s=r<3?t:n===null?n=Object.getOwnPropertyDescriptor(t,e):n,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")s=Reflect.decorate(i,t,e,n);else for(var a=i.length-1;a>=0;a--)(o=i[a])&&(s=(r<3?o(s):r>3?o(t,e,s):o(t,e))||s);return r>3&&s&&Object.defineProperty(t,e,s),s},m1=globalThis&&globalThis.__rest||function(i,t){var e={};for(var n in i)Object.prototype.hasOwnProperty.call(i,n)&&t.indexOf(n)<0&&(e[n]=i[n]);if(i!=null&&typeof Object.getOwnPropertySymbols=="function")for(var r=0,n=Object.getOwnPropertySymbols(i);r<n.length;r++)t.indexOf(n[r])<0&&Object.prototype.propertyIsEnumerable.call(i,n[r])&&(e[n[r]]=i[n[r]]);return e};class ie extends Mn{constructor(t={}){super();const n=this.constructor.getDefaults(!0),r=De({},this.preprocess(n),this.preprocess(t));this.id=r.id||kd(),this.store=new g1(r),this.animation=new El(this),this.setup(),this.init(),this.postprocess(t)}static config(t){const{markup:e,propHooks:n,attrHooks:r}=t,s=m1(t,["markup","propHooks","attrHooks"]);e!=null&&(this.markup=e),n&&(this.propHooks=this.propHooks.slice(),Array.isArray(n)?this.propHooks.push(...n):typeof n=="function"?this.propHooks.push(n):Object.keys(n).forEach(o=>{const a=n[o];typeof a=="function"&&this.propHooks.push(a)})),r&&(this.attrHooks=Object.assign(Object.assign({},this.attrHooks),r)),this.defaults=De({},this.defaults,s)}static getMarkup(){return this.markup}static getDefaults(t){return t?this.defaults:Xe(this.defaults)}static getAttrHooks(){return this.attrHooks}static applyPropHooks(t,e){return this.propHooks.reduce((n,r)=>r?xt(r,t,n):n,e)}get[Symbol.toStringTag](){return ie.toStringTag}init(){}get model(){return this._model}set model(t){this._model!==t&&(this._model=t)}preprocess(t,e){const n=t.id,s=this.constructor.applyPropHooks(this,t);return n==null&&e!==!0&&(s.id=kd()),s}postprocess(t){}setup(){this.store.on("change:*",t=>{const{key:e,current:n,previous:r,options:s}=t;this.notify("change:*",{key:e,options:s,current:n,previous:r,cell:this}),this.notify(`change:${e}`,{options:s,current:n,previous:r,cell:this});const o=e;(o==="source"||o==="target")&&this.notify("change:terminal",{type:o,current:n,previous:r,options:s,cell:this})}),this.store.on("changed",({options:t})=>this.notify("changed",{options:t,cell:this}))}notify(t,e){this.trigger(t,e);const n=this.model;return n&&(n.notify(`cell:${t}`,e),this.isNode()?n.notify(`node:${t}`,Object.assign(Object.assign({},e),{node:this})):this.isEdge()&&n.notify(`edge:${t}`,Object.assign(Object.assign({},e),{edge:this}))),this}isNode(){return!1}isEdge(){return!1}isSameStore(t){return this.store===t.store}get view(){return this.store.get("view")}get shape(){return this.store.get("shape","")}getProp(t,e){return t==null?this.store.get():this.store.get(t,e)}setProp(t,e,n){if(typeof t=="string")this.store.set(t,e,n);else{const r=this.preprocess(t,!0);this.store.set(De({},this.getProp(),r),e),this.postprocess(t)}return this}removeProp(t,e){return typeof t=="string"||Array.isArray(t)?this.store.removeByPath(t,e):this.store.remove(e),this}hasChanged(t){return t==null?this.store.hasChanged():this.store.hasChanged(t)}getPropByPath(t){return this.store.getByPath(t)}setPropByPath(t,e,n={}){return this.model&&(t==="children"?this._children=e?e.map(r=>this.model.getCell(r)).filter(r=>r!=null):null:t==="parent"&&(this._parent=e?this.model.getCell(e):null)),this.store.setByPath(t,e,n),this}removePropByPath(t,e={}){const n=Array.isArray(t)?t:t.split("/");return n[0]==="attrs"&&(e.dirty=!0),this.store.removeByPath(n,e),this}prop(t,e,n){return t==null?this.getProp():typeof t=="string"||Array.isArray(t)?arguments.length===1?this.getPropByPath(t):e==null?this.removePropByPath(t,n||{}):this.setPropByPath(t,e,n||{}):this.setProp(t,e||{})}previous(t){return this.store.getPrevious(t)}get zIndex(){return this.getZIndex()}set zIndex(t){t==null?this.removeZIndex():this.setZIndex(t)}getZIndex(){return this.store.get("zIndex")}setZIndex(t,e={}){return this.store.set("zIndex",t,e),this}removeZIndex(t={}){return this.store.remove("zIndex",t),this}toFront(t={}){const e=this.model;if(e){let n=e.getMaxZIndex(),r;t.deep?(r=this.getDescendants({deep:!0,breadthFirst:!0}),r.unshift(this)):r=[this],n=n-r.length+1;const s=e.total();let o=e.indexOf(this)!==s-r.length;o||(o=r.some((a,l)=>a.getZIndex()!==n+l)),o&&this.batchUpdate("to-front",()=>{n+=r.length,r.forEach((a,l)=>{a.setZIndex(n+l,t)})})}return this}toBack(t={}){const e=this.model;if(e){let n=e.getMinZIndex(),r;t.deep?(r=this.getDescendants({deep:!0,breadthFirst:!0}),r.unshift(this)):r=[this];let s=e.indexOf(this)!==0;s||(s=r.some((o,a)=>o.getZIndex()!==n+a)),s&&this.batchUpdate("to-back",()=>{n-=r.length,r.forEach((o,a)=>{o.setZIndex(n+a,t)})})}return this}get markup(){return this.getMarkup()}set markup(t){t==null?this.removeMarkup():this.setMarkup(t)}getMarkup(){let t=this.store.get("markup");return t==null&&(t=this.constructor.getMarkup()),t}setMarkup(t,e={}){return this.store.set("markup",t,e),this}removeMarkup(t={}){return this.store.remove("markup",t),this}get attrs(){return this.getAttrs()}set attrs(t){t==null?this.removeAttrs():this.setAttrs(t)}getAttrs(){const t=this.store.get("attrs");return t?Object.assign({},t):{}}setAttrs(t,e={}){if(t==null)this.removeAttrs(e);else{const n=r=>this.store.set("attrs",r,e);if(e.overwrite===!0)n(t);else{const r=this.getAttrs();e.deep===!1?n(Object.assign(Object.assign({},r),t)):n(De({},r,t))}}return this}replaceAttrs(t,e={}){return this.setAttrs(t,Object.assign(Object.assign({},e),{overwrite:!0}))}updateAttrs(t,e={}){return this.setAttrs(t,Object.assign(Object.assign({},e),{deep:!1}))}removeAttrs(t={}){return this.store.remove("attrs",t),this}getAttrDefinition(t){if(!t)return null;const n=this.constructor.getAttrHooks()||{};let r=n[t]||nr.registry.get(t);if(!r){const s=_f(t);r=n[s]||nr.registry.get(s)}return r||null}getAttrByPath(t){return t==null||t===""?this.getAttrs():this.getPropByPath(this.prefixAttrPath(t))}setAttrByPath(t,e,n={}){return this.setPropByPath(this.prefixAttrPath(t),e,n),this}removeAttrByPath(t,e={}){return this.removePropByPath(this.prefixAttrPath(t),e),this}prefixAttrPath(t){return Array.isArray(t)?["attrs"].concat(t):`attrs/${t}`}attr(t,e,n){return t==null?this.getAttrByPath():typeof t=="string"||Array.isArray(t)?arguments.length===1?this.getAttrByPath(t):e==null?this.removeAttrByPath(t,n||{}):this.setAttrByPath(t,e,n||{}):this.setAttrs(t,e||{})}get visible(){return this.isVisible()}set visible(t){this.setVisible(t)}setVisible(t,e={}){return this.store.set("visible",t,e),this}isVisible(){return this.store.get("visible")!==!1}show(t={}){return this.isVisible()||this.setVisible(!0,t),this}hide(t={}){return this.isVisible()&&this.setVisible(!1,t),this}toggleVisible(t,e={}){const n=typeof t=="boolean"?t:!this.isVisible(),r=typeof t=="boolean"?e:t;return n?this.show(r):this.hide(r),this}get data(){return this.getData()}set data(t){this.setData(t)}getData(){return this.store.get("data")}setData(t,e={}){if(t==null)this.removeData(e);else{const n=r=>this.store.set("data",r,e);if(e.overwrite===!0)n(t);else{const r=this.getData();e.deep===!1?n(typeof t=="object"?Object.assign(Object.assign({},r),t):t):n(De({},r,t))}}return this}replaceData(t,e={}){return this.setData(t,Object.assign(Object.assign({},e),{overwrite:!0}))}updateData(t,e={}){return this.setData(t,Object.assign(Object.assign({},e),{deep:!1}))}removeData(t={}){return this.store.remove("data",t),this}get parent(){return this.getParent()}get children(){return this.getChildren()}getParentId(){return this.store.get("parent")}getParent(){const t=this.getParentId();if(t&&this.model){const e=this.model.getCell(t);return this._parent=e,e}return null}getChildren(){const t=this.store.get("children");if(t&&t.length&&this.model){const e=t.map(n=>{var r;return(r=this.model)===null||r===void 0?void 0:r.getCell(n)}).filter(n=>n!=null);return this._children=e,[...e]}return null}hasParent(){return this.parent!=null}isParentOf(t){return t!=null&&t.getParent()===this}isChildOf(t){return t!=null&&this.getParent()===t}eachChild(t,e){return this.children&&this.children.forEach(t,e),this}filterChild(t,e){return this.children?this.children.filter(t,e):[]}getChildCount(){return this.children==null?0:this.children.length}getChildIndex(t){return this.children==null?-1:this.children.indexOf(t)}getChildAt(t){return this.children!=null&&t>=0?this.children[t]:null}getAncestors(t={}){const e=[];let n=this.getParent();for(;n;)e.push(n),n=t.deep!==!1?n.getParent():null;return e}getDescendants(t={}){if(t.deep!==!1){if(t.breadthFirst){const e=[],n=this.getChildren()||[];for(;n.length>0;){const r=n.shift(),s=r.getChildren();e.push(r),s&&n.push(...s)}return e}{const e=this.getChildren()||[];return e.forEach(n=>{e.push(...n.getDescendants(t))}),e}}return this.getChildren()||[]}isDescendantOf(t,e={}){if(t==null)return!1;if(e.deep!==!1){let n=this.getParent();for(;n;){if(n===t)return!0;n=n.getParent()}return!1}return this.isChildOf(t)}isAncestorOf(t,e={}){return t==null?!1:t.isDescendantOf(this,e)}contains(t){return this.isAncestorOf(t)}getCommonAncestor(...t){return ie.getCommonAncestor(this,...t)}setParent(t,e={}){return this._parent=t,t?this.store.set("parent",t.id,e):this.store.remove("parent",e),this}setChildren(t,e={}){return this._children=t,t!=null?this.store.set("children",t.map(n=>n.id),e):this.store.remove("children",e),this}unembed(t,e={}){const n=this.children;if(n!=null&&t!=null){const r=this.getChildIndex(t);r!==-1&&(n.splice(r,1),t.setParent(null,e),this.setChildren(n,e))}return this}embed(t,e={}){return t.addTo(this,e),this}addTo(t,e={}){return ie.isCell(t)?t.addChild(this,e):t.addCell(this,e),this}insertTo(t,e,n={}){return t.insertChild(this,e,n),this}addChild(t,e={}){return this.insertChild(t,void 0,e)}insertChild(t,e,n={}){if(t!=null&&t!==this){const r=t.getParent(),s=this!==r;let o=e;if(o==null&&(o=this.getChildCount(),s||(o-=1)),r){const l=r.getChildren();if(l){const c=l.indexOf(t);c>=0&&(t.setParent(null,n),l.splice(c,1),r.setChildren(l,n))}}let a=this.children;if(a==null?(a=[],a.push(t)):a.splice(o,0,t),t.setParent(this,n),this.setChildren(a,n),s&&this.model){const l=this.model.getIncomingEdges(this),c=this.model.getOutgoingEdges(this);l&&l.forEach(u=>u.updateParent(n)),c&&c.forEach(u=>u.updateParent(n))}this.model&&this.model.addCell(t,n)}return this}removeFromParent(t={}){const e=this.getParent();if(e!=null){const n=e.getChildIndex(this);e.removeChildAt(n,t)}return this}removeChild(t,e={}){const n=this.getChildIndex(t);return this.removeChildAt(n,e)}removeChildAt(t,e={}){const n=this.getChildAt(t);return this.children!=null&&n!=null&&(this.unembed(n,e),n.remove(e)),n}remove(t={}){return this.batchUpdate("remove",()=>{const e=this.getParent();e&&e.removeChild(this,t),t.deep!==!1&&this.eachChild(n=>n.remove(t)),this.model&&this.model.removeCell(this,t)}),this}transition(t,e,n={},r="/"){return this.animation.start(t,e,n,r)}stopTransition(t,e,n="/"){return this.animation.stop(t,e,n),this}getTransitions(){return this.animation.get()}translate(t,e,n){return this}scale(t,e,n,r){return this}addTools(t,e,n){const r=Array.isArray(t)?t:[t],s=typeof e=="string"?e:null,o=typeof e=="object"?e:typeof n=="object"?n:{};if(o.reset)return this.setTools({name:s,items:r,local:o.local},o);let a=Xe(this.getTools());if(a==null||s==null||a.name===s)return a==null&&(a={}),a.items||(a.items=[]),a.name=s,a.items=[...a.items,...r],this.setTools(Object.assign({},a),o)}setTools(t,e={}){return t==null?this.removeTools():this.store.set("tools",ie.normalizeTools(t),e),this}getTools(){return this.store.get("tools")}removeTools(t={}){return this.store.remove("tools",t),this}hasTools(t){const e=this.getTools();return e==null?!1:t==null?!0:e.name===t}hasTool(t){const e=this.getTools();return e==null?!1:e.items.some(n=>typeof n=="string"?n===t:n.name===t)}removeTool(t,e={}){const n=Xe(this.getTools());if(n){let r=!1;const s=n.items.slice(),o=a=>{s.splice(a,1),r=!0};if(typeof t=="number")o(t);else for(let a=s.length-1;a>=0;a-=1){const l=s[a];(typeof l=="string"?l===t:l.name===t)&&o(a)}r&&(n.items=s,this.setTools(n,e))}return this}getBBox(t){return new ht}getConnectionPoint(t,e){return new N}toJSON(t={}){const e=Object.assign({},this.store.get()),n=Object.prototype.toString,r=this.isNode()?"node":this.isEdge()?"edge":"cell";if(!e.shape){const b=this.constructor;throw new Error(`Unable to serialize ${r} missing "shape" prop, check the ${r} "${b.name||n.call(b)}"`)}const s=this.constructor,o=t.diff===!0,a=e.attrs||{},l=s.getDefaults(!0),c=o?this.preprocess(l,!0):l,u=c.attrs||{},h={};Object.keys(e).forEach(b=>{const v=e[b];if(v!=null&&!Array.isArray(v)&&typeof v=="object"&&!fi(v))throw new Error(`Can only serialize ${r} with plain-object props, but got a "${n.call(v)}" type of key "${b}" on ${r} "${this.id}"`);if(b!=="attrs"&&b!=="shape"&&o){const w=c[b];Ii(v,w)&&delete e[b]}}),Object.keys(a).forEach(b=>{const v=a[b],w=u[b];Object.keys(v).forEach(x=>{const E=v[x],S=w?w[x]:null;E!=null&&typeof E=="object"&&!Array.isArray(E)?Object.keys(E).forEach(O=>{const k=E[O];if(w==null||S==null||!en(S)||!Ii(S[O],k)){h[b]==null&&(h[b]={}),h[b][x]==null&&(h[b][x]={});const m=h[b][x];m[O]=k}}):(w==null||!Ii(S,E))&&(h[b]==null&&(h[b]={}),h[b][x]=E)})});const f=Object.assign(Object.assign({},e),{attrs:av(h)?void 0:h});f.attrs==null&&delete f.attrs;const p=f;return p.angle===0&&delete p.angle,Xe(p)}clone(t={}){if(!t.deep){const n=Object.assign({},this.store.get());t.keepId||delete n.id,delete n.parent,delete n.children;const r=this.constructor;return new r(n)}return ie.deepClone(this)[this.id]}findView(t){return t.renderer.findViewByCell(this)}startBatch(t,e={},n=this.model){return this.notify("batch:start",{name:t,data:e,cell:this}),n&&n.startBatch(t,Object.assign(Object.assign({},e),{cell:this})),this}stopBatch(t,e={},n=this.model){return n&&n.stopBatch(t,Object.assign(Object.assign({},e),{cell:this})),this.notify("batch:stop",{name:t,data:e,cell:this}),this}batchUpdate(t,e,n){const r=this.model;this.startBatch(t,n,r);const s=e();return this.stopBatch(t,n,r),s}dispose(){this.removeFromParent(),this.store.dispose()}}ie.defaults={};ie.attrHooks={};ie.propHooks=[];M7([Mn.dispose()],ie.prototype,"dispose",null);(function(i){function t(e){return typeof e=="string"?{items:[e]}:Array.isArray(e)?{items:e}:e.items?e:{items:[e]}}i.normalizeTools=t})(ie||(ie={}));(function(i){i.toStringTag=`X6.${i.name}`;function t(e){if(e==null)return!1;if(e instanceof i)return!0;const n=e[Symbol.toStringTag],r=e;return(n==null||n===i.toStringTag)&&typeof r.isNode=="function"&&typeof r.isEdge=="function"&&typeof r.prop=="function"&&typeof r.attr=="function"}i.isCell=t})(ie||(ie={}));(function(i){function t(...s){const o=s.filter(l=>l!=null).map(l=>l.getAncestors()).sort((l,c)=>l.length-c.length);return o.shift().find(l=>o.every(c=>c.includes(l)))||null}i.getCommonAncestor=t;function e(s,o={}){let a=null;for(let l=0,c=s.length;l<c;l+=1){const u=s[l];let h=u.getBBox(o);if(h){if(u.isNode()){const f=u.getAngle();f!=null&&f!==0&&(h=h.bbox(f))}a=a==null?h:a.union(h)}}return a}i.getCellsBBox=e;function n(s){const o=[s,...s.getDescendants({deep:!0})];return i.cloneCells(o)}i.deepClone=n;function r(s){const o=fv(s),a=o.reduce((l,c)=>(l[c.id]=c.clone(),l),{});return o.forEach(l=>{const c=a[l.id];if(c.isEdge()){const f=c.getSourceCellId(),p=c.getTargetCellId();f&&a[f]&&c.setSource(Object.assign(Object.assign({},c.getSource()),{cell:a[f].id})),p&&a[p]&&c.setTarget(Object.assign(Object.assign({},c.getTarget()),{cell:a[p].id}))}const u=l.getParent();u&&a[u.id]&&c.setParent(a[u.id]);const h=l.getChildren();if(h&&h.length){const f=h.reduce((p,b)=>(a[b.id]&&p.push(a[b.id]),p),[]);f.length>0&&c.setChildren(f)}}),a}i.cloneCells=r})(ie||(ie={}));(function(i){i.config({propHooks(t){var{tools:e}=t,n=m1(t,["tools"]);return e&&(n.tools=i.normalizeTools(e)),n}})})(ie||(ie={}));var oa;(function(i){let t,e;function n(o,a){return a?t!=null&&t.exist(o):e!=null&&e.exist(o)}i.exist=n;function r(o){t=o}i.setEdgeRegistry=r;function s(o){e=o}i.setNodeRegistry=s})(oa||(oa={}));class O7{constructor(t){this.ports=[],this.groups={},this.init(Xe(t))}getPorts(){return this.ports}getGroup(t){return t!=null?this.groups[t]:null}getPortsByGroup(t){return this.ports.filter(e=>e.group===t||e.group==null&&t==null)}getPortsLayoutByGroup(t,e){const n=this.getPortsByGroup(t),r=t?this.getGroup(t):null,s=r?r.position:null,o=s?s.name:null;let a;if(o!=null){const h=js.registry.get(o);if(h==null)return js.registry.onNotFound(o);a=h}else a=js.presets.left;const l=n.map(h=>h&&h.position&&h.position.args||{}),c=s&&s.args||{};return a(l,e,c).map((h,f)=>{const p=n[f];return{portLayout:h,portId:p.id,portSize:p.size,portAttrs:p.attrs,labelSize:p.label.size,labelLayout:this.getPortLabelLayout(p,N.create(h.position),e)}})}init(t){const{groups:e,items:n}=t;e!=null&&Object.keys(e).forEach(r=>{this.groups[r]=this.parseGroup(e[r])}),Array.isArray(n)&&n.forEach(r=>{this.ports.push(this.parsePort(r))})}parseGroup(t){return Object.assign(Object.assign({},t),{label:this.getLabel(t,!0),position:this.getPortPosition(t.position,!0)})}parsePort(t){const e=Object.assign({},t),n=this.getGroup(t.group)||{};return e.markup=e.markup||n.markup,e.attrs=De({},n.attrs,e.attrs),e.position=this.createPosition(n,e),e.label=De({},n.label,this.getLabel(e)),e.zIndex=this.getZIndex(n,e),e.size=Object.assign(Object.assign({},n.size),e.size),e}getZIndex(t,e){return typeof e.zIndex=="number"?e.zIndex:typeof t.zIndex=="number"||t.zIndex==="auto"?t.zIndex:"auto"}createPosition(t,e){return De({name:"left",args:{}},t.position,{args:e.args})}getPortPosition(t,e=!1){if(t==null){if(e)return{name:"left",args:{}}}else{if(typeof t=="string")return{name:t,args:{}};if(Array.isArray(t))return{name:"absolute",args:{x:t[0],y:t[1]}};if(typeof t=="object")return t}return{args:{}}}getPortLabelPosition(t,e=!1){if(t==null){if(e)return{name:"left",args:{}}}else{if(typeof t=="string")return{name:t,args:{}};if(typeof t=="object")return t}return{args:{}}}getLabel(t,e=!1){const n=t.label||{};return n.position=this.getPortLabelPosition(n.position,e),n}getPortLabelLayout(t,e,n){const r=t.label.position.name||"left",s=t.label.position.args||{},o=Zo.registry.get(r)||Zo.presets.left;return o?o(e,n,s):null}}var Uu=globalThis&&globalThis.__rest||function(i,t){var e={};for(var n in i)Object.prototype.hasOwnProperty.call(i,n)&&t.indexOf(n)<0&&(e[n]=i[n]);if(i!=null&&typeof Object.getOwnPropertySymbols=="function")for(var r=0,n=Object.getOwnPropertySymbols(i);r<n.length;r++)t.indexOf(n[r])<0&&Object.prototype.propertyIsEnumerable.call(i,n[r])&&(e[n[r]]=i[n[r]]);return e};class Le extends ie{constructor(t={}){super(t),this.initPorts()}get[Symbol.toStringTag](){return Le.toStringTag}preprocess(t,e){const{x:n,y:r,width:s,height:o}=t,a=Uu(t,["x","y","width","height"]);if(n!=null||r!=null){const l=a.position;a.position=Object.assign(Object.assign({},l),{x:n!=null?n:l?l.x:0,y:r!=null?r:l?l.y:0})}if(s!=null||o!=null){const l=a.size;a.size=Object.assign(Object.assign({},l),{width:s!=null?s:l?l.width:0,height:o!=null?o:l?l.height:0})}return super.preprocess(a,e)}isNode(){return!0}size(t,e,n){return t===void 0?this.getSize():typeof t=="number"?this.setSize(t,e,n):this.setSize(t,e)}getSize(){const t=this.store.get("size");return t?Object.assign({},t):{width:1,height:1}}setSize(t,e,n){return typeof t=="object"?this.resize(t.width,t.height,e):this.resize(t,e,n),this}resize(t,e,n={}){this.startBatch("resize",n);const r=n.direction;if(r){const s=this.getSize();switch(r){case"left":case"right":e=s.height;break;case"top":case"bottom":t=s.width;break}let a={right:0,"top-right":0,top:1,"top-left":1,left:2,"bottom-left":2,bottom:3,"bottom-right":3}[r];const l=re.normalize(this.getAngle()||0);n.absolute&&(a+=Math.floor((l+45)/90),a%=4);const c=this.getBBox();let u;a===0?u=c.getBottomLeft():a===1?u=c.getCorner():a===2?u=c.getTopRight():u=c.getOrigin();const h=u.clone().rotate(-l,c.getCenter()),f=Math.sqrt(t*t+e*e)/2;let p=a*Math.PI/2;p+=Math.atan(a%2===0?e/t:t/e),p-=re.toRad(l);const v=N.fromPolar(f,p,h).clone().translate(t/-2,e/-2);this.store.set("size",{width:t,height:e},n),this.setPosition(v.x,v.y,n)}else this.store.set("size",{width:t,height:e},n);return this.stopBatch("resize",n),this}scale(t,e,n,r={}){const s=this.getBBox().scale(t,e,n==null?void 0:n);return this.startBatch("scale",r),this.setPosition(s.x,s.y,r),this.resize(s.width,s.height,r),this.stopBatch("scale"),this}position(t,e,n){return typeof t=="number"?this.setPosition(t,e,n):this.getPosition(t)}getPosition(t={}){if(t.relative){const n=this.getParent();if(n!=null&&n.isNode()){const r=this.getPosition(),s=n.getPosition();return{x:r.x-s.x,y:r.y-s.y}}}const e=this.store.get("position");return e?Object.assign({},e):{x:0,y:0}}setPosition(t,e,n={}){let r,s,o;if(typeof t=="object"?(r=t.x,s=t.y,o=e||{}):(r=t,s=e,o=n||{}),o.relative){const a=this.getParent();if(a!=null&&a.isNode()){const l=a.getPosition();r+=l.x,s+=l.y}}if(o.deep){const a=this.getPosition();this.translate(r-a.x,s-a.y,o)}else this.store.set("position",{x:r,y:s},o);return this}translate(t=0,e=0,n={}){if(t===0&&e===0)return this;n.translateBy=n.translateBy||this.id;const r=this.getPosition();if(n.restrict!=null&&n.translateBy===this.id){const o=this.getBBox({deep:!0}),a=n.restrict,l=r.x-o.x,c=r.y-o.y,u=Math.max(a.x+l,Math.min(a.x+a.width+l-o.width,r.x+t)),h=Math.max(a.y+c,Math.min(a.y+a.height+c-o.height,r.y+e));t=u-r.x,e=h-r.y}const s={x:r.x+t,y:r.y+e};return n.tx=t,n.ty=e,n.transition?(typeof n.transition!="object"&&(n.transition={}),this.transition("position",s,Object.assign(Object.assign({},n.transition),{interp:Ns.object})),this.eachChild(o=>{var a;((a=n.exclude)===null||a===void 0?void 0:a.includes(o))||o.translate(t,e,n)})):(this.startBatch("translate",n),this.store.set("position",s,n),this.eachChild(o=>{var a;((a=n.exclude)===null||a===void 0?void 0:a.includes(o))||o.translate(t,e,n)}),this.stopBatch("translate",n)),this}angle(t,e){return t==null?this.getAngle():this.rotate(t,e)}getAngle(){return this.store.get("angle",0)}rotate(t,e={}){const n=this.getAngle();if(e.center){const r=this.getSize(),s=this.getPosition(),o=this.getBBox().getCenter();o.rotate(n-t,e.center);const a=o.x-r.width/2-s.x,l=o.y-r.height/2-s.y;this.startBatch("rotate",{angle:t,options:e}),this.setPosition(s.x+a,s.y+l,e),this.rotate(t,Object.assign(Object.assign({},e),{center:null})),this.stopBatch("rotate")}else this.store.set("angle",e.absolute?t:(n+t)%360,e);return this}getBBox(t={}){if(t.deep){const e=this.getDescendants({deep:!0,breadthFirst:!0});return e.push(this),ie.getCellsBBox(e)}return ht.fromPositionAndSize(this.getPosition(),this.getSize())}getConnectionPoint(t,e){const n=this.getBBox(),r=n.getCenter(),s=t.getTerminal(e);if(s==null)return r;const o=s.port;if(!o||!this.hasPort(o))return r;const a=this.getPort(o);if(!a||!a.group)return r;const c=this.getPortsPosition(a.group)[o].position,u=N.create(c).translate(n.getOrigin()),h=this.getAngle();return h&&u.rotate(-h,r),u}fit(t={}){const n=(this.getChildren()||[]).filter(c=>c.isNode());if(n.length===0)return this;this.startBatch("fit-embeds",t),t.deep&&n.forEach(c=>c.fit(t));let{x:r,y:s,width:o,height:a}=ie.getCellsBBox(n);const l=Kn(t.padding);return r-=l.left,s-=l.top,o+=l.left+l.right,a+=l.bottom+l.top,this.store.set({position:{x:r,y:s},size:{width:o,height:a}},t),this.stopBatch("fit-embeds"),this}get portContainerMarkup(){return this.getPortContainerMarkup()}set portContainerMarkup(t){this.setPortContainerMarkup(t)}getDefaultPortContainerMarkup(){return this.store.get("defaultPortContainerMarkup")||he.getPortContainerMarkup()}getPortContainerMarkup(){return this.store.get("portContainerMarkup")||this.getDefaultPortContainerMarkup()}setPortContainerMarkup(t,e={}){return this.store.set("portContainerMarkup",he.clone(t),e),this}get portMarkup(){return this.getPortMarkup()}set portMarkup(t){this.setPortMarkup(t)}getDefaultPortMarkup(){return this.store.get("defaultPortMarkup")||he.getPortMarkup()}getPortMarkup(){return this.store.get("portMarkup")||this.getDefaultPortMarkup()}setPortMarkup(t,e={}){return this.store.set("portMarkup",he.clone(t),e),this}get portLabelMarkup(){return this.getPortLabelMarkup()}set portLabelMarkup(t){this.setPortLabelMarkup(t)}getDefaultPortLabelMarkup(){return this.store.get("defaultPortLabelMarkup")||he.getPortLabelMarkup()}getPortLabelMarkup(){return this.store.get("portLabelMarkup")||this.getDefaultPortLabelMarkup()}setPortLabelMarkup(t,e={}){return this.store.set("portLabelMarkup",he.clone(t),e),this}get ports(){const t=this.store.get("ports",{items:[]});return t.items==null&&(t.items=[]),t}getPorts(){return Xe(this.ports.items)}getPortsByGroup(t){return this.getPorts().filter(e=>e.group===t)}getPort(t){return Xe(this.ports.items.find(e=>e.id&&e.id===t))}getPortAt(t){return this.ports.items[t]||null}hasPorts(){return this.ports.items.length>0}hasPort(t){return this.getPortIndex(t)!==-1}getPortIndex(t){const e=typeof t=="string"?t:t.id;return e!=null?this.ports.items.findIndex(n=>n.id===e):-1}getPortsPosition(t){const e=this.getSize();return this.port.getPortsLayoutByGroup(t,new ht(0,0,e.width,e.height)).reduce((r,s)=>{const o=s.portLayout;return r[s.portId]={position:Object.assign({},o.position),angle:o.angle||0},r},{})}getPortProp(t,e){return this.getPropByPath(this.prefixPortPath(t,e))}setPortProp(t,e,n,r){if(typeof e=="string"||Array.isArray(e)){const a=this.prefixPortPath(t,e),l=n;return this.setPropByPath(a,l,r)}const s=this.prefixPortPath(t),o=e;return this.setPropByPath(s,o,n)}removePortProp(t,e,n){return typeof e=="string"||Array.isArray(e)?this.removePropByPath(this.prefixPortPath(t,e),n):this.removePropByPath(this.prefixPortPath(t),e)}portProp(t,e,n,r){return e==null?this.getPortProp(t):typeof e=="string"||Array.isArray(e)?arguments.length===2?this.getPortProp(t,e):n==null?this.removePortProp(t,e,r):this.setPortProp(t,e,n,r):this.setPortProp(t,e,n)}prefixPortPath(t,e){const n=this.getPortIndex(t);if(n===-1)throw new Error(`Unable to find port with id: "${t}"`);return e==null||e===""?["ports","items",`${n}`]:Array.isArray(e)?["ports","items",`${n}`,...e]:`ports/items/${n}/${e}`}addPort(t,e){const n=[...this.ports.items];return n.push(t),this.setPropByPath("ports/items",n,e),this}addPorts(t,e){return this.setPropByPath("ports/items",[...this.ports.items,...t],e),this}insertPort(t,e,n){const r=[...this.ports.items];return r.splice(t,0,e),this.setPropByPath("ports/items",r,n),this}removePort(t,e={}){return this.removePortAt(this.getPortIndex(t),e)}removePortAt(t,e={}){if(t>=0){const n=[...this.ports.items];n.splice(t,1),e.rewrite=!0,this.setPropByPath("ports/items",n,e)}return this}removePorts(t,e){let n;if(Array.isArray(t)){if(n=e||{},t.length){n.rewrite=!0;const s=[...this.ports.items].filter(o=>!t.some(a=>{const l=typeof a=="string"?a:a.id;return o.id===l}));this.setPropByPath("ports/items",s,n)}}else n=t||{},n.rewrite=!0,this.setPropByPath("ports/items",[],n);return this}getParsedPorts(){return this.port.getPorts()}getParsedGroups(){return this.port.groups}getPortsLayoutByGroup(t,e){return this.port.getPortsLayoutByGroup(t,e)}initPorts(){this.updatePortData(),this.on("change:ports",()=>{this.processRemovedPort(),this.updatePortData()})}processRemovedPort(){const t=this.ports,e={};t.items.forEach(o=>{o.id&&(e[o.id]=!0)});const n={};(this.store.getPrevious("ports")||{items:[]}).items.forEach(o=>{o.id&&!e[o.id]&&(n[o.id]=!0)});const s=this.model;s&&!av(n)&&(s.getConnectedEdges(this,{incoming:!0}).forEach(l=>{const c=l.getTargetPortId();c&&n[c]&&l.remove()}),s.getConnectedEdges(this,{outgoing:!0}).forEach(l=>{const c=l.getSourcePortId();c&&n[c]&&l.remove()}))}validatePorts(){const t={},e=[];return this.ports.items.forEach(n=>{typeof n!="object"&&e.push(`Invalid port ${n}.`),n.id==null&&(n.id=this.generatePortId()),t[n.id]&&e.push("Duplicitied port id."),t[n.id]=!0}),e}generatePortId(){return kd()}updatePortData(){const t=this.validatePorts();if(t.length>0)throw this.store.set("ports",this.store.getPrevious("ports")),new Error(t.join(" "));const e=this.port?this.port.getPorts():null;this.port=new O7(this.ports);const n=this.port.getPorts(),r=e?n.filter(o=>e.find(a=>a.id===o.id)?null:o):[...n],s=e?e.filter(o=>n.find(a=>a.id===o.id)?null:o):[];r.length>0&&this.notify("ports:added",{added:r,cell:this,node:this}),s.length>0&&this.notify("ports:removed",{removed:s,cell:this,node:this})}}Le.defaults={angle:0,position:{x:0,y:0},size:{width:1,height:1}};(function(i){i.toStringTag=`X6.${i.name}`;function t(e){if(e==null)return!1;if(e instanceof i)return!0;const n=e[Symbol.toStringTag],r=e;return(n==null||n===i.toStringTag)&&typeof r.isNode=="function"&&typeof r.isEdge=="function"&&typeof r.prop=="function"&&typeof r.attr=="function"&&typeof r.size=="function"&&typeof r.position=="function"}i.isNode=t})(Le||(Le={}));(function(i){i.config({propHooks(t){var{ports:e}=t,n=Uu(t,["ports"]);return e&&(n.ports=Array.isArray(e)?{items:e}:e),n}})})(Le||(Le={}));(function(i){i.registry=Ye.create({type:"node",process(t,e){if(oa.exist(t,!0))throw new Error(`Node with name '${t}' was registered by anthor Edge`);if(typeof e=="function")return e.config({shape:t}),e;let n=i;const{inherit:r}=e,s=Uu(e,["inherit"]);if(r)if(typeof r=="string"){const a=this.get(r);a==null?this.onNotFound(r,"inherited"):n=a}else n=r;s.constructorName==null&&(s.constructorName=t);const o=n.define.call(n,s);return o.config({shape:t}),o}}),oa.setNodeRegistry(i.registry)})(Le||(Le={}));(function(i){let t=0;function e(s){return s?ep(s):(t+=1,`CustomNode${t}`)}function n(s){const{constructorName:o,overwrite:a}=s,l=Uu(s,["constructorName","overwrite"]),c=Qf(e(o||l.shape),this);return c.config(l),l.shape&&i.registry.register(l.shape,c,a),c}i.define=n;function r(s){const o=s.shape||"rect",a=i.registry.get(o);return a?new a(s):i.registry.onNotFound(o)}i.create=r})(Le||(Le={}));var T7=globalThis&&globalThis.__rest||function(i,t){var e={};for(var n in i)Object.prototype.hasOwnProperty.call(i,n)&&t.indexOf(n)<0&&(e[n]=i[n]);if(i!=null&&typeof Object.getOwnPropertySymbols=="function")for(var r=0,n=Object.getOwnPropertySymbols(i);r<n.length;r++)t.indexOf(n[r])<0&&Object.prototype.propertyIsEnumerable.call(i,n[r])&&(e[n[r]]=i[n[r]]);return e};class bn extends Le{get label(){return this.getLabel()}set label(t){this.setLabel(t)}getLabel(){return this.getAttrByPath("text/text")}setLabel(t,e){return t==null?this.removeLabel():this.setAttrByPath("text/text",t,e),this}removeLabel(){return this.removeAttrByPath("text/text"),this}}(function(i){i.bodyAttr={fill:"#ffffff",stroke:"#333333",strokeWidth:2},i.labelAttr={fontSize:14,fill:"#000000",refX:.5,refY:.5,textAnchor:"middle",textVerticalAnchor:"middle",fontFamily:"Arial, helvetica, sans-serif"},i.config({attrs:{text:Object.assign({},i.labelAttr)},propHooks(t){const{label:e}=t,n=T7(t,["label"]);return e&&ha(n,"attrs/text/text",e),n}})})(bn||(bn={}));var P7=globalThis&&globalThis.__rest||function(i,t){var e={};for(var n in i)Object.prototype.hasOwnProperty.call(i,n)&&t.indexOf(n)<0&&(e[n]=i[n]);if(i!=null&&typeof Object.getOwnPropertySymbols=="function")for(var r=0,n=Object.getOwnPropertySymbols(i);r<n.length;r++)t.indexOf(n[r])<0&&Object.prototype.propertyIsEnumerable.call(i,n[r])&&(e[n[r]]=i[n[r]]);return e};function k7(i,t=!1){return`<g class="rotatable"><g class="scalable"><${i}/></g>${t?"":"<text/>"}</g>`}function gp(i){return`basic.${i}`}function Rl(i="xlink:href"){return e=>{const{imageUrl:n,imageWidth:r,imageHeight:s}=e,o=P7(e,["imageUrl","imageWidth","imageHeight"]);if(n!=null||r!=null||s!=null){const a=()=>{if(o.attrs){const l=o.attrs.image;n!=null&&(l[i]=n),r!=null&&(l.width=r),s!=null&&(l.height=s),o.attrs.image=l}};o.attrs?(o.attrs.image==null&&(o.attrs.image={}),a()):(o.attrs={image:{}},a())}return o}}function ar(i,t,e={}){const n=gp(i),r={constructorName:n,attrs:{".":{fill:"#ffffff",stroke:"none"},[i]:{fill:"#ffffff",stroke:"#000000"}}};return e.ignoreMarkup||(r.markup=k7(i,e.noText===!0)),(e.parent||bn).define(De(r,t,{shape:n}))}ar("rect",{attrs:{rect:{width:100,height:60}}});ar("circle",{width:60,height:60,attrs:{circle:{r:30,cx:30,cy:30}}});ar("ellipse",{width:60,height:40,attrs:{ellipse:{rx:30,ry:20,cx:30,cy:20}}});ar("polygon",{width:60,height:40,attrs:{text:{refY:null,refDy:16}}});ar("polyline",{width:60,height:40,attrs:{text:{refY:null,refDy:16}}});ar("image",{attrs:{text:{refY:null,refDy:16}},propHooks:Rl()});var _7=globalThis&&globalThis.__rest||function(i,t){var e={};for(var n in i)Object.prototype.hasOwnProperty.call(i,n)&&t.indexOf(n)<0&&(e[n]=i[n]);if(i!=null&&typeof Object.getOwnPropertySymbols=="function")for(var r=0,n=Object.getOwnPropertySymbols(i);r<n.length;r++)t.indexOf(n[r])<0&&Object.prototype.propertyIsEnumerable.call(i,n[r])&&(e[n[r]]=i[n[r]]);return e};const b1=ar("path",{width:60,height:60,attrs:{text:{ref:"path",refY:null,refDy:16}},propHooks(i){const{d:t}=i,e=_7(i,["d"]);return t!=null&&ha(e,"attrs/path/d",t),e}});ar("rhombus",{d:"M 30 0 L 60 30 30 60 0 30 z",attrs:{text:{refY:.5,refDy:null}}},{parent:b1,ignoreMarkup:!0});ar("cylinder",{width:40,height:40,attrs:{path:{fill:"#FFFFFF",stroke:"#cbd2d7",strokeWidth:3,d:["M 0 10 C 10 5, 30 5, 40 10 C 30 15, 10 15, 0 10","L 0 20","C 10 25, 30 25, 40 20","L 40 10"].join(" ")},text:{refY:.7,refDy:null,fill:"#435460"}}},{parent:b1,ignoreMarkup:!0});var Wu=globalThis&&globalThis.__rest||function(i,t){var e={};for(var n in i)Object.prototype.hasOwnProperty.call(i,n)&&t.indexOf(n)<0&&(e[n]=i[n]);if(i!=null&&typeof Object.getOwnPropertySymbols=="function")for(var r=0,n=Object.getOwnPropertySymbols(i);r<n.length;r++)t.indexOf(n[r])<0&&Object.prototype.propertyIsEnumerable.call(i,n[r])&&(e[n[r]]=i[n[r]]);return e};class Ne extends ie{constructor(t={}){super(t)}get[Symbol.toStringTag](){return Ne.toStringTag}preprocess(t,e){const{source:n,sourceCell:r,sourcePort:s,sourcePoint:o,target:a,targetCell:l,targetPort:c,targetPoint:u}=t,f=Wu(t,["source","sourceCell","sourcePort","sourcePoint","target","targetCell","targetPort","targetPoint"]),p=b=>typeof b=="string"||typeof b=="number";if(n!=null)if(ie.isCell(n))f.source={cell:n.id};else if(p(n))f.source={cell:n};else if(N.isPoint(n))f.source=n.toJSON();else if(Array.isArray(n))f.source={x:n[0],y:n[1]};else{const b=n.cell;ie.isCell(b)?f.source=Object.assign(Object.assign({},n),{cell:b.id}):f.source=n}if(r!=null||s!=null){let b=f.source;if(r!=null){const v=p(r)?r:r.id;b?b.cell=v:b=f.source={cell:v}}s!=null&&b&&(b.port=s)}else o!=null&&(f.source=N.create(o).toJSON());if(a!=null)if(ie.isCell(a))f.target={cell:a.id};else if(p(a))f.target={cell:a};else if(N.isPoint(a))f.target=a.toJSON();else if(Array.isArray(a))f.target={x:a[0],y:a[1]};else{const b=a.cell;ie.isCell(b)?f.target=Object.assign(Object.assign({},a),{cell:b.id}):f.target=a}if(l!=null||c!=null){let b=f.target;if(l!=null){const v=p(l)?l:l.id;b?b.cell=v:b=f.target={cell:v}}c!=null&&b&&(b.port=c)}else u!=null&&(f.target=N.create(u).toJSON());return super.preprocess(f,e)}setup(){super.setup(),this.on("change:labels",t=>this.onLabelsChanged(t)),this.on("change:vertices",t=>this.onVertexsChanged(t))}isEdge(){return!0}disconnect(t={}){return this.store.set({source:{x:0,y:0},target:{x:0,y:0}},t),this}get source(){return this.getSource()}set source(t){this.setSource(t)}getSource(){return this.getTerminal("source")}getSourceCellId(){return this.source.cell}getSourcePortId(){return this.source.port}setSource(t,e,n={}){return this.setTerminal("source",t,e,n)}get target(){return this.getTarget()}set target(t){this.setTarget(t)}getTarget(){return this.getTerminal("target")}getTargetCellId(){return this.target.cell}getTargetPortId(){return this.target.port}setTarget(t,e,n={}){return this.setTerminal("target",t,e,n)}getTerminal(t){return Object.assign({},this.store.get(t))}setTerminal(t,e,n,r={}){if(ie.isCell(e))return this.store.set(t,De({},n,{cell:e.id}),r),this;const s=e;return N.isPoint(e)||s.x!=null&&s.y!=null?(this.store.set(t,De({},n,{x:s.x,y:s.y}),r),this):(this.store.set(t,Xe(e),r),this)}getSourcePoint(){return this.getTerminalPoint("source")}getTargetPoint(){return this.getTerminalPoint("target")}getTerminalPoint(t){const e=this[t];if(N.isPointLike(e))return N.create(e);const n=this.getTerminalCell(t);return n?n.getConnectionPoint(this,t):new N}getSourceCell(){return this.getTerminalCell("source")}getTargetCell(){return this.getTerminalCell("target")}getTerminalCell(t){if(this.model){const e=t==="source"?this.getSourceCellId():this.getTargetCellId();if(e)return this.model.getCell(e)}return null}getSourceNode(){return this.getTerminalNode("source")}getTargetNode(){return this.getTerminalNode("target")}getTerminalNode(t){let e=this;const n={};for(;e&&e.isEdge();){if(n[e.id])return null;n[e.id]=!0,e=e.getTerminalCell(t)}return e&&e.isNode()?e:null}get router(){return this.getRouter()}set router(t){t==null?this.removeRouter():this.setRouter(t)}getRouter(){return this.store.get("router")}setRouter(t,e,n){return typeof t=="object"?this.store.set("router",t,e):this.store.set("router",{name:t,args:e},n),this}removeRouter(t={}){return this.store.remove("router",t),this}get connector(){return this.getConnector()}set connector(t){t==null?this.removeConnector():this.setConnector(t)}getConnector(){return this.store.get("connector")}setConnector(t,e,n){return typeof t=="object"?this.store.set("connector",t,e):this.store.set("connector",{name:t,args:e},n),this}removeConnector(t={}){return this.store.remove("connector",t)}get strategy(){return this.getStrategy()}set strategy(t){t==null?this.removeStrategy():this.setStrategy(t)}getStrategy(){return this.store.get("strategy")}setStrategy(t,e,n){return typeof t=="object"?this.store.set("strategy",t,e):this.store.set("strategy",{name:t,args:e},n),this}removeStrategy(t={}){return this.store.remove("strategy",t)}getDefaultLabel(){const t=this.constructor,e=this.store.get("defaultLabel")||t.defaultLabel||{};return Xe(e)}get labels(){return this.getLabels()}set labels(t){this.setLabels(t)}getLabels(){return[...this.store.get("labels",[])].map(t=>this.parseLabel(t))}setLabels(t,e={}){return this.store.set("labels",Array.isArray(t)?t:[t],e),this}insertLabel(t,e,n={}){const r=this.getLabels(),s=r.length;let o=e!=null&&Number.isFinite(e)?e:s;return o<0&&(o=s+o+1),r.splice(o,0,this.parseLabel(t)),this.setLabels(r,n)}appendLabel(t,e={}){return this.insertLabel(t,-1,e)}getLabelAt(t){const e=this.getLabels();return t!=null&&Number.isFinite(t)?this.parseLabel(e[t]):null}setLabelAt(t,e,n={}){if(t!=null&&Number.isFinite(t)){const r=this.getLabels();r[t]=this.parseLabel(e),this.setLabels(r,n)}return this}removeLabelAt(t,e={}){const n=this.getLabels(),r=t!=null&&Number.isFinite(t)?t:-1,s=n.splice(r,1);return this.setLabels(n,e),s.length?s[0]:null}parseLabel(t){return typeof t=="string"?this.constructor.parseStringLabel(t):t}onLabelsChanged({previous:t,current:e}){const n=t&&e?e.filter(s=>t.find(o=>s===o||Ii(s,o))?null:s):e?[...e]:[],r=t&&e?t.filter(s=>e.find(o=>s===o||Ii(s,o))?null:s):t?[...t]:[];n.length>0&&this.notify("labels:added",{added:n,cell:this,edge:this}),r.length>0&&this.notify("labels:removed",{removed:r,cell:this,edge:this})}get vertexMarkup(){return this.getVertexMarkup()}set vertexMarkup(t){this.setVertexMarkup(t)}getDefaultVertexMarkup(){return this.store.get("defaultVertexMarkup")||he.getEdgeVertexMarkup()}getVertexMarkup(){return this.store.get("vertexMarkup")||this.getDefaultVertexMarkup()}setVertexMarkup(t,e={}){return this.store.set("vertexMarkup",he.clone(t),e),this}get vertices(){return this.getVertices()}set vertices(t){this.setVertices(t)}getVertices(){return[...this.store.get("vertices",[])]}setVertices(t,e={}){const n=Array.isArray(t)?t:[t];return this.store.set("vertices",n.map(r=>N.toJSON(r)),e),this}insertVertex(t,e,n={}){const r=this.getVertices(),s=r.length;let o=e!=null&&Number.isFinite(e)?e:s;return o<0&&(o=s+o+1),r.splice(o,0,N.toJSON(t)),this.setVertices(r,n)}appendVertex(t,e={}){return this.insertVertex(t,-1,e)}getVertexAt(t){return t!=null&&Number.isFinite(t)?this.getVertices()[t]:null}setVertexAt(t,e,n={}){if(t!=null&&Number.isFinite(t)){const r=this.getVertices();r[t]=e,this.setVertices(r,n)}return this}removeVertexAt(t,e={}){const n=this.getVertices(),r=t!=null&&Number.isFinite(t)?t:-1;return n.splice(r,1),this.setVertices(n,e)}onVertexsChanged({previous:t,current:e}){const n=t&&e?e.filter(s=>t.find(o=>N.equals(s,o))?null:s):e?[...e]:[],r=t&&e?t.filter(s=>e.find(o=>N.equals(s,o))?null:s):t?[...t]:[];n.length>0&&this.notify("vertexs:added",{added:n,cell:this,edge:this}),r.length>0&&this.notify("vertexs:removed",{removed:r,cell:this,edge:this})}getDefaultMarkup(){return this.store.get("defaultMarkup")||he.getEdgeMarkup()}getMarkup(){return super.getMarkup()||this.getDefaultMarkup()}get toolMarkup(){return this.getToolMarkup()}set toolMarkup(t){this.setToolMarkup(t)}getDefaultToolMarkup(){return this.store.get("defaultToolMarkup")||he.getEdgeToolMarkup()}getToolMarkup(){return this.store.get("toolMarkup")||this.getDefaultToolMarkup()}setToolMarkup(t,e={}){return this.store.set("toolMarkup",t,e),this}get doubleToolMarkup(){return this.getDoubleToolMarkup()}set doubleToolMarkup(t){this.setDoubleToolMarkup(t)}getDefaultDoubleToolMarkup(){return this.store.get("defaultDoubleToolMarkup")}getDoubleToolMarkup(){return this.store.get("doubleToolMarkup")||this.getDefaultDoubleToolMarkup()}setDoubleToolMarkup(t,e={}){return this.store.set("doubleToolMarkup",t,e),this}get arrowheadMarkup(){return this.getArrowheadMarkup()}set arrowheadMarkup(t){this.setArrowheadMarkup(t)}getDefaultArrowheadMarkup(){return this.store.get("defaultArrowheadMarkup")||he.getEdgeArrowheadMarkup()}getArrowheadMarkup(){return this.store.get("arrowheadMarkup")||this.getDefaultArrowheadMarkup()}setArrowheadMarkup(t,e={}){return this.store.set("arrowheadMarkup",t,e),this}translate(t,e,n={}){return n.translateBy=n.translateBy||this.id,n.tx=t,n.ty=e,this.applyToPoints(r=>({x:(r.x||0)+t,y:(r.y||0)+e}),n)}scale(t,e,n,r={}){return this.applyToPoints(s=>N.create(s).scale(t,e,n).toJSON(),r)}applyToPoints(t,e={}){const n={},r=this.getSource(),s=this.getTarget();N.isPointLike(r)&&(n.source=t(r)),N.isPointLike(s)&&(n.target=t(s));const o=this.getVertices();return o.length>0&&(n.vertices=o.map(t)),this.store.set(n,e),this}getBBox(){return this.getPolyline().bbox()}getConnectionPoint(){return this.getPolyline().pointAt(.5)}getPolyline(){const t=[this.getSourcePoint(),...this.getVertices().map(e=>N.create(e)),this.getTargetPoint()];return new on(t)}updateParent(t){let e=null;const n=this.getSourceCell(),r=this.getTargetCell(),s=this.getParent();return n&&r&&(n===r||n.isDescendantOf(r)?e=r:r.isDescendantOf(n)?e=n:e=ie.getCommonAncestor(n,r)),s&&(!e||e.id!==s.id)&&s.unembed(this,t),e&&e.embed(this,t),e}hasLoop(t={}){const e=this.getSource(),n=this.getTarget(),r=e.cell,s=n.cell;if(!r||!s)return!1;let o=r===s;if(!o&&t.deep&&this._model){const a=this.getSourceCell(),l=this.getTargetCell();a&&l&&(o=a.isAncestorOf(l,t)||l.isAncestorOf(a,t))}return o}getFragmentAncestor(){const t=[this,this.getSourceNode(),this.getTargetNode()].filter(e=>e!=null);return this.getCommonAncestor(...t)}isFragmentDescendantOf(t){const e=this.getFragmentAncestor();return!!e&&(e.id===t.id||e.isDescendantOf(t))}}Ne.defaults={};(function(i){function t(e,n){const r=e,s=n;return r.cell===s.cell?r.port===s.port||r.port==null&&s.port==null:!1}i.equalTerminals=t})(Ne||(Ne={}));(function(i){i.defaultLabel={markup:[{tagName:"rect",selector:"body"},{tagName:"text",selector:"label"}],attrs:{text:{fill:"#000",fontSize:14,textAnchor:"middle",textVerticalAnchor:"middle",pointerEvents:"none"},rect:{ref:"label",fill:"#fff",rx:3,ry:3,refWidth:1,refHeight:1,refX:0,refY:0}},position:{distance:.5}};function t(e){return{attrs:{label:{text:e}}}}i.parseStringLabel=t})(Ne||(Ne={}));(function(i){i.toStringTag=`X6.${i.name}`;function t(e){if(e==null)return!1;if(e instanceof i)return!0;const n=e[Symbol.toStringTag],r=e;return(n==null||n===i.toStringTag)&&typeof r.isNode=="function"&&typeof r.isEdge=="function"&&typeof r.prop=="function"&&typeof r.attr=="function"&&typeof r.disconnect=="function"&&typeof r.getSource=="function"&&typeof r.getTarget=="function"}i.isEdge=t})(Ne||(Ne={}));(function(i){i.registry=Ye.create({type:"edge",process(t,e){if(oa.exist(t,!1))throw new Error(`Edge with name '${t}' was registered by anthor Node`);if(typeof e=="function")return e.config({shape:t}),e;let n=i;const{inherit:r="edge"}=e,s=Wu(e,["inherit"]);if(typeof r=="string"){const a=this.get(r||"edge");a==null&&r?this.onNotFound(r,"inherited"):n=a}else n=r;s.constructorName==null&&(s.constructorName=t);const o=n.define.call(n,s);return o.config({shape:t}),o}}),oa.setEdgeRegistry(i.registry)})(Ne||(Ne={}));(function(i){let t=0;function e(s){return s?ep(s):(t+=1,`CustomEdge${t}`)}function n(s){const{constructorName:o,overwrite:a}=s,l=Wu(s,["constructorName","overwrite"]),c=Qf(e(o||l.shape),this);return c.config(l),l.shape&&i.registry.register(l.shape,c,a),c}i.define=n;function r(s){const o=s.shape||"edge",a=i.registry.get(o);return a?new a(s):i.registry.onNotFound(o)}i.create=r})(Ne||(Ne={}));(function(i){const t="basic.edge";i.config({shape:t,propHooks(e){const{label:n,vertices:r}=e,s=Wu(e,["label","vertices"]);if(n){s.labels==null&&(s.labels=[]);const o=typeof n=="string"?i.parseStringLabel(n):n;s.labels.push(o)}return r&&Array.isArray(r)&&(s.vertices=r.map(o=>N.create(o).toJSON())),s}}),i.registry.register(t,i)})(Ne||(Ne={}));var D7=globalThis&&globalThis.__rest||function(i,t){var e={};for(var n in i)Object.prototype.hasOwnProperty.call(i,n)&&t.indexOf(n)<0&&(e[n]=i[n]);if(i!=null&&typeof Object.getOwnPropertySymbols=="function")for(var r=0,n=Object.getOwnPropertySymbols(i);r<n.length;r++)t.indexOf(n[r])<0&&Object.prototype.propertyIsEnumerable.call(i,n[r])&&(e[n[r]]=i[n[r]]);return e};class wr extends Be{constructor(){super(...arguments),this.POINT_ROUNDING=2,this.markerCache={}}get[Symbol.toStringTag](){return wr.toStringTag}getContainerClassName(){return[super.getContainerClassName(),this.prefixClassName("edge")].join(" ")}get sourceBBox(){const t=this.sourceView;if(!t){const n=this.cell.getSource();return new ht(n.x,n.y)}const e=this.sourceMagnet;return t.isEdgeElement(e)?new ht(this.sourceAnchor.x,this.sourceAnchor.y):t.getBBoxOfElement(e||t.container)}get targetBBox(){const t=this.targetView;if(!t){const n=this.cell.getTarget();return new ht(n.x,n.y)}const e=this.targetMagnet;return t.isEdgeElement(e)?new ht(this.targetAnchor.x,this.targetAnchor.y):t.getBBoxOfElement(e||t.container)}isEdgeView(){return!0}confirmUpdate(t,e={}){let n=t;if(this.hasAction(n,"source")){if(!this.updateTerminalProperties("source"))return n;n=this.removeAction(n,"source")}if(this.hasAction(n,"target")){if(!this.updateTerminalProperties("target"))return n;n=this.removeAction(n,"target")}const r=this.graph,s=this.sourceView,o=this.targetView;return r&&(s&&!r.renderer.isViewMounted(s)||o&&!r.renderer.isViewMounted(o))?n:this.hasAction(n,"render")?(this.render(),n=this.removeAction(n,["render","update","vertices","labels","tools","widget"]),n):(n=this.handleAction(n,"vertices",()=>this.renderVertexMarkers()),n=this.handleAction(n,"update",()=>this.update(null,e)),n=this.handleAction(n,"labels",()=>this.onLabelsChange(e)),n=this.handleAction(n,"tools",()=>{this.renderTools(),this.updateToolsPosition()}),n=this.handleAction(n,"widget",()=>this.renderExternalTools()),n)}onLabelsChange(t={}){this.shouldRerenderLabels(t)?this.renderLabels():this.updateLabels(),this.updateLabelPositions()}shouldRerenderLabels(t={}){const e=this.cell.previous("labels");if(e==null)return!0;if("propertyPathArray"in t&&"propertyValue"in t){const n=t.propertyPathArray||[],r=n.length;if(r>1){const s=n[1];if(e[s]){if(r===2)return typeof t.propertyValue=="object"&&ka(t.propertyValue,"markup");if(n[2]!=="markup")return!1}}}return!0}render(){return this.empty(),this.containers={},this.renderMarkup(),this.renderLabels(),this.update(),this.renderExternalTools(),this}renderMarkup(){const t=this.cell.markup;if(t)return typeof t=="string"?this.renderStringMarkup(t):this.renderJSONMarkup(t);throw new TypeError("Invalid edge markup.")}renderJSONMarkup(t){const e=this.parseJSONMarkup(t,this.container);this.selectors=e.selectors,this.container.append(e.fragment)}renderStringMarkup(t){const e=this.containers,n=Et.createVectors(t);n.forEach(r=>{const s=r.attr("class");s&&(e[_f(s)]=r.node)}),this.renderTools(),this.renderVertexMarkers(),this.renderArrowheadMarkers(),gl(this.container,n.map(r=>r.node))}renderLabels(){const t=this.cell,e=t.getLabels(),n=e.length;let r=this.containers.labels;if(this.labelCache={},this.labelSelectors={},n<=0)return r&&r.parentNode&&r.parentNode.removeChild(r),this;r?this.empty(r):(r=Jn("g"),this.addClass(this.prefixClassName("edge-labels"),r),this.containers.labels=r);for(let s=0,o=e.length;s<o;s+=1){const a=e[s],l=this.normalizeLabelMarkup(this.parseLabelMarkup(a.markup));let c,u;if(l)c=l.node,u=l.selectors;else{const f=t.getDefaultLabel(),p=this.normalizeLabelMarkup(this.parseLabelMarkup(f.markup));c=p.node,u=p.selectors}c.setAttribute("data-index",`${s}`),r.appendChild(c);const h=this.rootSelector;if(u[h])throw new Error("Ambiguous label root selector.");u[h]=c,this.labelCache[s]=c,this.labelSelectors[s]=u}return r.parentNode==null&&this.container.appendChild(r),this.updateLabels(),this.customizeLabels(),this}parseLabelMarkup(t){return t?typeof t=="string"?this.parseLabelStringMarkup(t):this.parseJSONMarkup(t):null}parseLabelStringMarkup(t){const e=Et.createVectors(t),n=document.createDocumentFragment();for(let r=0,s=e.length;r<s;r+=1){const o=e[r].node;n.appendChild(o)}return{fragment:n,selectors:{}}}normalizeLabelMarkup(t){if(t==null)return;const e=t.fragment;if(!(e instanceof DocumentFragment)||!e.hasChildNodes())throw new Error("Invalid label markup.");let n;const r=e.childNodes;return r.length>1||r[0].nodeName.toUpperCase()!=="G"?n=Et.create("g").append(e):n=Et.create(r[0]),n.addClass(this.prefixClassName("edge-label")),{node:n.node,selectors:t.selectors}}updateLabels(){if(this.containers.labels){const t=this.cell,e=t.labels,n=this.can("edgeLabelMovable"),r=t.getDefaultLabel();for(let s=0,o=e.length;s<o;s+=1){const a=this.labelCache[s],l=this.labelSelectors[s];a.setAttribute("cursor",n?"move":"default");const c=e[s],u=De({},r.attrs,c.attrs);this.updateAttrs(a,u,{selectors:l,rootBBox:c.size?ht.fromSize(c.size):void 0})}}}mergeLabelAttrs(t,e,n){if(e===null)return null;if(e===void 0)return n===null?null:n===void 0?void 0:t?n:De({},n);if(t)return De({},n,e)}customizeLabels(){if(this.containers.labels){const t=this.cell,e=t.labels;for(let n=0,r=e.length;n<r;n+=1){const s=e[n],o=this.labelCache[n],a=this.labelSelectors[n];this.graph.hook.onEdgeLabelRendered({edge:t,label:s,container:o,selectors:a})}}}renderTools(){const t=this.containers.tools;if(t==null)return this;const e=this.cell.toolMarkup,n=this.$(t).empty();if(he.isStringMarkup(e)){let r=So(e);const s=Et.create(r());if(n.append(s.node),this.toolCache=s.node,this.options.doubleTools){let o;const a=this.cell.doubleToolMarkup;he.isStringMarkup(a)?(r=So(a),o=Et.create(r())):o=s.clone(),n.append(o.node),this.tool2Cache=o.node}}return this}renderExternalTools(){const t=this.cell.getTools();return this.addTools(t),this}renderVertexMarkers(){const t=this.containers.vertices;if(t==null)return this;const e=this.cell.vertexMarkup,n=this.$(t).empty();if(he.isStringMarkup(e)){const r=So(e);this.cell.getVertices().forEach((s,o)=>{n.append(Et.create(r(Object.assign({index:o},s))).node)})}return this}renderArrowheadMarkers(){const t=this.containers.arrowheads;if(t==null)return this;const e=this.cell.arrowheadMarkup,n=this.$(t).empty();if(he.isStringMarkup(e)){const r=So(e),s=Et.create(r({end:"source"})).node,o=Et.create(r({end:"target"})).node;this.containers.sourceArrowhead=s,this.containers.targetArrowhead=o,n.append(s,o)}return this}update(t,e={}){this.cleanCache(),this.updateConnection(e);const n=this.cell.getAttrs();return n!=null&&this.updateAttrs(this.container,n,{attrs:t===n?null:t,selectors:this.selectors}),this.updateConnectionPath(),this.updateLabelPositions(),this.updateToolsPosition(),this.updateArrowheadMarkers(),this.updateTools(e),this}removeRedundantLinearVertices(t={}){const e=this.cell,n=e.getVertices(),r=[this.sourceAnchor,...n,this.targetAnchor],s=r.length,o=new on(r);o.simplify({threshold:.01});const a=o.points.map(c=>c.toJSON()),l=a.length;return s===l?0:(e.setVertices(a.slice(1,l-1),t),s-l)}updateConnectionPath(){const t=this.containers;if(t.connection){const e=this.getConnectionPathData();t.connection.setAttribute("d",e)}if(t.connectionWrap){const e=this.getConnectionPathData();t.connectionWrap.setAttribute("d",e)}t.sourceMarker&&t.targetMarker&&this.translateAndAutoOrientArrows(t.sourceMarker,t.targetMarker)}getTerminalView(t){switch(t){case"source":return this.sourceView||null;case"target":return this.targetView||null;default:throw new Error(`Unknown terminal type '${t}'`)}}getTerminalAnchor(t){switch(t){case"source":return N.create(this.sourceAnchor);case"target":return N.create(this.targetAnchor);default:throw new Error(`Unknown terminal type '${t}'`)}}getTerminalConnectionPoint(t){switch(t){case"source":return N.create(this.sourcePoint);case"target":return N.create(this.targetPoint);default:throw new Error(`Unknown terminal type '${t}'`)}}getTerminalMagnet(t,e={}){switch(t){case"source":{if(e.raw)return this.sourceMagnet;const n=this.sourceView;return n?this.sourceMagnet||n.container:null}case"target":{if(e.raw)return this.targetMagnet;const n=this.targetView;return n?this.targetMagnet||n.container:null}default:throw new Error(`Unknown terminal type '${t}'`)}}updateConnection(t={}){const e=this.cell;if(t.translateBy&&e.isFragmentDescendantOf(t.translateBy)){const n=t.tx||0,r=t.ty||0;this.routePoints=new on(this.routePoints).translate(n,r).points,this.translateConnectionPoints(n,r),this.path.translate(n,r)}else{const n=e.getVertices(),r=this.findAnchors(n);this.sourceAnchor=r.source,this.targetAnchor=r.target,this.routePoints=this.findRoutePoints(n);const s=this.findConnectionPoints(this.routePoints,this.sourceAnchor,this.targetAnchor);this.sourcePoint=s.source,this.targetPoint=s.target;const o=this.findMarkerPoints(this.routePoints,this.sourcePoint,this.targetPoint);this.path=this.findPath(this.routePoints,o.source||this.sourcePoint,o.target||this.targetPoint)}this.cleanCache()}findAnchors(t){const e=this.cell,n=e.source,r=e.target,s=t[0],o=t[t.length-1];return r.priority&&!n.priority?this.findAnchorsOrdered("target",o,"source",s):this.findAnchorsOrdered("source",s,"target",o)}findAnchorsOrdered(t,e,n,r){let s,o;const a=this.cell,l=a[t],c=a[n],u=this.getTerminalView(t),h=this.getTerminalView(n),f=this.getTerminalMagnet(t),p=this.getTerminalMagnet(n);if(u){let b;e?b=N.create(e):h?b=p:b=N.create(c),s=this.getAnchor(l.anchor,u,f,b,t)}else s=N.create(l);if(h){const b=N.create(r||s);o=this.getAnchor(c.anchor,h,p,b,n)}else o=N.isPointLike(c)?N.create(c):new N;return{[t]:s,[n]:o}}getAnchor(t,e,n,r,s){const o=e.isEdgeElement(n),a=this.graph.options.connecting;let l=typeof t=="string"?{name:t}:t;if(!l){const h=o?(s==="source"?a.sourceEdgeAnchor:a.targetEdgeAnchor)||a.edgeAnchor:(s==="source"?a.sourceAnchor:a.targetAnchor)||a.anchor;l=typeof h=="string"?{name:h}:h}if(!l)throw new Error("Anchor should be specified.");let c;const u=l.name;if(o){const h=ra.registry.get(u);if(typeof h!="function")return ra.registry.onNotFound(u);c=xt(h,this,e,n,r,l.args||{},s)}else{const h=ia.registry.get(u);if(typeof h!="function")return ia.registry.onNotFound(u);c=xt(h,this,e,n,r,l.args||{},s)}return c?c.round(this.POINT_ROUNDING):new N}findRoutePoints(t=[]){const e=this.graph.options.connecting.router||Ur.presets.normal,n=this.cell.getRouter()||e;let r;if(typeof n=="function")r=xt(n,this,t,{},this);else{const s=typeof n=="string"?n:n.name,o=typeof n=="string"?{}:n.args||{},a=s?Ur.registry.get(s):Ur.presets.normal;if(typeof a!="function")return Ur.registry.onNotFound(s);r=xt(a,this,t,o,this)}return r==null?t.map(s=>N.create(s)):r.map(s=>N.create(s))}findConnectionPoints(t,e,n){const r=this.cell,s=this.graph.options.connecting,o=r.getSource(),a=r.getTarget(),l=this.sourceView,c=this.targetView,u=t[0],h=t[t.length-1];let f;if(l&&!l.isEdgeElement(this.sourceMagnet)){const b=this.sourceMagnet||l.container,v=u||n,w=new At(v,e),x=o.connectionPoint||s.sourceConnectionPoint||s.connectionPoint;f=this.getConnectionPoint(x,l,b,w,"source")}else f=e;let p;if(c&&!c.isEdgeElement(this.targetMagnet)){const b=this.targetMagnet||c.container,v=a.connectionPoint||s.targetConnectionPoint||s.connectionPoint,w=h||e,x=new At(w,n);p=this.getConnectionPoint(v,c,b,x,"target")}else p=n;return{source:f,target:p}}getConnectionPoint(t,e,n,r,s){const o=r.end;if(t==null)return o;const a=typeof t=="string"?t:t.name,l=typeof t=="string"?{}:t.args,c=sa.registry.get(a);if(typeof c!="function")return sa.registry.onNotFound(a);const u=xt(c,this,r,e,n,l||{},s);return u?u.round(this.POINT_ROUNDING):o}updateMarkerAttr(t){const e=this.cell.getAttrs(),n=`.${t}-marker`,r=e&&e[n];r&&this.updateAttrs(this.container,{},{attrs:{[n]:r},selectors:this.selectors})}findMarkerPoints(t,e,n){const r=f=>{const p=this.cell.getAttrs(),b=Object.keys(p);for(let v=0,w=b.length;v<w;v+=1){const x=p[b[v]];if(x[`${f}Marker`]||x[`${f}-marker`]){const E=x.strokeWidth||x["stroke-width"];if(E)return parseFloat(E);break}}return null},s=t[0],o=t[t.length-1],a=this.containers.sourceMarker,l=this.containers.targetMarker,c=this.markerCache;let u,h;if(a){if(this.updateMarkerAttr("source"),c.sourceBBox=c.sourceBBox||vn(a),c.sourceBBox.width>0){const f=Gr(a);u=e.clone().move(s||n,c.sourceBBox.width*f.sx*-1)}}else{const f=r("source");f&&(u=e.clone().move(s||n,-f))}if(l){if(this.updateMarkerAttr("target"),c.targetBBox=c.targetBBox||vn(l),c.targetBBox.width>0){const f=Gr(l);h=n.clone().move(o||e,c.targetBBox.width*f.sx*-1)}}else{const f=r("target");f&&(h=n.clone().move(o||e,-f))}return c.sourcePoint=u||e.clone(),c.targetPoint=h||n.clone(),{source:u,target:h}}findPath(t,e,n){const r=this.cell.getConnector()||this.graph.options.connecting.connector;let s,o,a;if(typeof r=="string"?s=r:(s=r.name,o=r.args),s){const c=Bs.registry.get(s);if(typeof c!="function")return Bs.registry.onNotFound(s);a=c}else a=Bs.presets.normal;const l=xt(a,this,e,n,t,Object.assign(Object.assign({},o),{raw:!0}),this);return typeof l=="string"?Nt.parse(l):l}translateConnectionPoints(t,e){const n=this.markerCache;n.sourcePoint&&n.sourcePoint.translate(t,e),n.targetPoint&&n.targetPoint.translate(t,e),this.sourcePoint.translate(t,e),this.targetPoint.translate(t,e),this.sourceAnchor.translate(t,e),this.targetAnchor.translate(t,e)}updateLabelPositions(){if(this.containers.labels==null)return this;if(!this.path)return this;const e=this.cell,n=e.getLabels();if(n.length===0)return this;const r=e.getDefaultLabel(),s=this.normalizeLabelPosition(r.position);for(let o=0,a=n.length;o<a;o+=1){const l=n[o],c=this.normalizeLabelPosition(l.position),u=De({},s,c),h=this.getLabelTransformationMatrix(u);this.labelCache[o].setAttribute("transform",lo(h))}return this}updateToolsPosition(){if(this.containers.tools==null)return this;let t="",e=this.options.toolsOffset;const n=this.getConnectionLength();if(n!=null){n<this.options.shortLength&&(t="scale(.5)",e/=2);let r=this.getPointAtLength(e);if(r!=null&&me(this.toolCache,"transform",`translate(${r.x},${r.y}) ${t}`),this.options.doubleTools&&n>=this.options.longLength){const s=this.options.doubleToolsOffset||e;r=this.getPointAtLength(n-s),r!=null&&me(this.tool2Cache,"transform",`translate(${r.x},${r.y}) ${t}`),me(this.tool2Cache,"visibility","visible")}else this.options.doubleTools&&me(this.tool2Cache,"visibility","hidden")}return this}updateArrowheadMarkers(){const t=this.containers.arrowheads;if(t==null)return this;if(t.style.display==="none")return this;const e=this.containers.sourceArrowhead,n=this.containers.targetArrowhead;if(e&&n){const s=(this.getConnectionLength()||0)<this.options.shortLength?.5:1;Gr(e,s),Gr(n,s),this.translateAndAutoOrientArrows(e,n)}return this}updateTerminalProperties(t){const e=this.cell,n=this.graph,r=e[t],s=r&&r.cell,o=`${t}View`;if(!s)return this[o]=null,this.updateTerminalMagnet(t),!0;const a=n.getCellById(s);if(!a)throw new Error(`Edge's ${t} node with id "${s}" not exists`);const l=a.findView(n);return l?(this[o]=l,this.updateTerminalMagnet(t),!0):!1}updateTerminalMagnet(t){const e=`${t}Magnet`,n=this.getTerminalView(t);if(n){let r=n.getMagnetFromEdgeTerminal(this.cell[t]);r===n.container&&(r=null),this[e]=r}else this[e]=null}translateAndAutoOrientArrows(t,e){const n=this.routePoints;t&&Hd(t,this.sourcePoint,n[0]||this.targetPoint,this.graph.view.stage),e&&Hd(e,this.targetPoint,n[n.length-1]||this.sourcePoint,this.graph.view.stage)}getLabelPositionAngle(t){const e=this.cell.getLabelAt(t);return e&&e.position&&typeof e.position=="object"&&e.position.angle||0}getLabelPositionArgs(t){const e=this.cell.getLabelAt(t);if(e&&e.position&&typeof e.position=="object")return e.position.options}getDefaultLabelPositionArgs(){const t=this.cell.getDefaultLabel();if(t&&t.position&&typeof t.position=="object")return t.position.options}mergeLabelPositionArgs(t,e){return t===null?null:t===void 0?e===null?null:e:De({},e,t)}addLabel(t,e,n,r){let s,o,a=0,l;typeof t!="number"?(s=t.x,o=t.y,typeof e=="number"?(a=e,l=n):l=e):(s=t,o=e,typeof n=="number"?(a=n,l=r):l=n);const c=this.getDefaultLabelPositionArgs(),u=l,h=this.mergeLabelPositionArgs(u,c),f={position:this.getLabelPosition(s,o,a,h)},p=-1;return this.cell.insertLabel(f,p,l),p}addVertex(t,e,n){const r=typeof t!="number",s=r?t.x:t,o=r?t.y:e,a=r?e:n,l={x:s,y:o},c=this.getVertexIndex(s,o);return this.cell.insertVertex(l,c,a),c}sendToken(t,e,n){let r,s,o,a,l="linear";typeof e=="object"?(r=e.duration,s=e.reversed===!0,o=e.selector,e.rotate===!1?a="":e.rotate===!0?a="auto":e.rotate!=null&&(a=`${e.rotate}`),e.timing&&(l=e.timing)):(r=e,s=!1,o=null),r=r||1e3;const c={dur:`${r}ms`,repeatCount:"1",calcMode:l,fill:"freeze"};if(a&&(c.rotate=a),s&&(c.keyPoints="1;0",c.keyTimes="0;1"),typeof e=="object"){const x=D7(e,["duration","reversed","selector","rotate","timing"]);Object.keys(x).forEach(E=>{c[E]=x[E]})}let u;if(typeof o=="string"?u=this.findOne(o,this.container,this.selectors):u=this.containers.connection?this.containers.connection:this.container.querySelector("path"),!(u instanceof SVGPathElement))throw new Error("Token animation requires a valid connection path.");const h=typeof t=="string"?this.findOne(t):t;if(h==null)throw new Error("Token animation requires a valid token element.");const f=h.parentNode,p=()=>{f||er(h)},b=Et.create(h);f||b.appendTo(this.graph.view.stage);const v=c.complete;c.complete=x=>{p(),n&&n(),v&&v(x)};const w=b.animateAlongPath(c,u);return()=>{p(),w()}}getConnection(){return this.path!=null?this.path.clone():null}getConnectionPathData(){if(this.path==null)return"";const t=this.cache.pathCache;return ka(t,"data")||(t.data=this.path.serialize()),t.data||""}getConnectionSubdivisions(){if(this.path==null)return null;const t=this.cache.pathCache;return ka(t,"segmentSubdivisions")||(t.segmentSubdivisions=this.path.getSegmentSubdivisions()),t.segmentSubdivisions}getConnectionLength(){if(this.path==null)return 0;const t=this.cache.pathCache;return ka(t,"length")||(t.length=this.path.length({segmentSubdivisions:this.getConnectionSubdivisions()})),t.length}getPointAtLength(t){return this.path==null?null:this.path.pointAtLength(t,{segmentSubdivisions:this.getConnectionSubdivisions()})}getPointAtRatio(t){return this.path==null?null:(ji(t)&&(t=parseFloat(t)/100),this.path.pointAt(t,{segmentSubdivisions:this.getConnectionSubdivisions()}))}getTangentAtLength(t){return this.path==null?null:this.path.tangentAtLength(t,{segmentSubdivisions:this.getConnectionSubdivisions()})}getTangentAtRatio(t){return this.path==null?null:this.path.tangentAt(t,{segmentSubdivisions:this.getConnectionSubdivisions()})}getClosestPoint(t){return this.path==null?null:this.path.closestPoint(t,{segmentSubdivisions:this.getConnectionSubdivisions()})}getClosestPointLength(t){return this.path==null?null:this.path.closestPointLength(t,{segmentSubdivisions:this.getConnectionSubdivisions()})}getClosestPointRatio(t){return this.path==null?null:this.path.closestPointNormalizedLength(t,{segmentSubdivisions:this.getConnectionSubdivisions()})}getLabelPosition(t,e,n,r){const s={distance:0};let o=0,a;typeof n=="number"?(o=n,a=r):a=n,a!=null&&(s.options=a);const l=a&&a.absoluteOffset,c=!(a&&a.absoluteDistance),u=a&&a.absoluteDistance&&a.reverseDistance,h=this.path,f={segmentSubdivisions:this.getConnectionSubdivisions()},p=new N(t,e),b=h.closestPointT(p,f),v=this.getConnectionLength()||0;let w=h.lengthAtT(b,f);c&&(w=v>0?w/v:0),u&&(w=-1*(v-w)||1),s.distance=w;let x;l||(x=h.tangentAtT(b));let E;if(x)E=x.pointOffset(p);else{const S=h.pointAtT(b),O=p.diff(S);E={x:O.x,y:O.y}}return s.offset=E,s.angle=o,s}normalizeLabelPosition(t){return typeof t=="number"?{distance:t}:t}getLabelTransformationMatrix(t){const e=this.normalizeLabelPosition(t),n=e.options||{},r=e.angle||0,s=e.distance,o=s>0&&s<=1;let a=0;const l={x:0,y:0},c=e.offset;c&&(typeof c=="number"?a=c:(c.x!=null&&(l.x=c.x),c.y!=null&&(l.y=c.y)));const u=l.x!==0||l.y!==0||a===0,h=n.keepGradient,f=n.ensureLegibility,p=this.path,b={segmentSubdivisions:this.getConnectionSubdivisions()},v=o?s*this.getConnectionLength():s,w=p.tangentAtLength(v,b);let x,E=r;if(w){if(u)x=w.start,x.translate(l);else{const S=w.clone();S.rotate(-90,w.start),S.setLength(a),x=S.end}h&&(E=w.angle()+r,f&&(E=re.normalize((E+90)%180-90)))}else x=p.start,u&&x.translate(l);return yn().translate(x.x,x.y).rotate(E)}getLabelCoordinates(t){const e=this.getLabelTransformationMatrix(t);return new N(e.e,e.f)}getVertexIndex(t,e){const r=this.cell.getVertices(),s=this.getClosestPointLength(new N(t,e));let o=0;if(s!=null)for(const a=r.length;o<a;o+=1){const l=r[o],c=this.getClosestPointLength(l);if(c!=null&&s<c)break}return o}getEventArgs(t,e,n){const r=this,s=r.cell,o=s;return e==null||n==null?{e:t,view:r,edge:s,cell:o}:{e:t,x:e,y:n,view:r,edge:s,cell:o}}notifyUnhandledMouseDown(t,e,n){this.notify("edge:unhandled:mousedown",{e:t,x:e,y:n,view:this,cell:this.cell,edge:this.cell})}notifyMouseDown(t,e,n){super.onMouseDown(t,e,n),this.notify("edge:mousedown",this.getEventArgs(t,e,n))}notifyMouseMove(t,e,n){super.onMouseMove(t,e,n),this.notify("edge:mousemove",this.getEventArgs(t,e,n))}notifyMouseUp(t,e,n){super.onMouseUp(t,e,n),this.notify("edge:mouseup",this.getEventArgs(t,e,n))}onClick(t,e,n){super.onClick(t,e,n),this.notify("edge:click",this.getEventArgs(t,e,n))}onDblClick(t,e,n){super.onDblClick(t,e,n),this.notify("edge:dblclick",this.getEventArgs(t,e,n))}onContextMenu(t,e,n){super.onContextMenu(t,e,n),this.notify("edge:contextmenu",this.getEventArgs(t,e,n))}onMouseDown(t,e,n){switch(this.notifyMouseDown(t,e,n),t.target.getAttribute("class")){case"vertex":{this.startVertexDragging(t,e,n);return}case"vertex-remove":case"vertex-remove-area":{this.handleVertexRemoving(t,e,n);return}case"connection":case"connection-wrap":{this.handleVertexAdding(t,e,n);return}case"arrowhead":{this.startArrowheadDragging(t,e,n);return}case"source-marker":case"target-marker":{this.notifyUnhandledMouseDown(t,e,n);return}}this.startEdgeDragging(t,e,n)}onMouseMove(t,e,n){const r=this.getEventData(t);switch(r.action){case"drag-vertex":{this.dragVertex(t,e,n);break}case"drag-label":{this.dragLabel(t,e,n);break}case"drag-arrowhead":{this.dragArrowhead(t,e,n);break}case"drag-edge":{this.dragEdge(t,e,n);break}}return this.notifyMouseMove(t,e,n),r}onMouseUp(t,e,n){const r=this.getEventData(t);switch(r.action){case"drag-vertex":{this.stopVertexDragging(t,e,n);break}case"drag-label":{this.stopLabelDragging(t,e,n);break}case"drag-arrowhead":{this.stopArrowheadDragging(t,e,n);break}case"drag-edge":{this.stopEdgeDragging(t,e,n);break}}return this.notifyMouseUp(t,e,n),this.checkMouseleave(t),r}onMouseOver(t){super.onMouseOver(t),this.notify("edge:mouseover",this.getEventArgs(t))}onMouseOut(t){super.onMouseOut(t),this.notify("edge:mouseout",this.getEventArgs(t))}onMouseEnter(t){super.onMouseEnter(t),this.notify("edge:mouseenter",this.getEventArgs(t))}onMouseLeave(t){super.onMouseLeave(t),this.notify("edge:mouseleave",this.getEventArgs(t))}onMouseWheel(t,e,n,r){super.onMouseWheel(t,e,n,r),this.notify("edge:mousewheel",Object.assign({delta:r},this.getEventArgs(t,e,n)))}onCustomEvent(t,e,n,r){if(ly(t.target,"edge-tool",this.container)){if(t.stopPropagation(),this.can("useEdgeTools")){if(e==="edge:remove"){this.cell.remove({ui:!0});return}this.notify("edge:customevent",Object.assign({name:e},this.getEventArgs(t,n,r)))}this.notifyMouseDown(t,n,r)}else this.notify("edge:customevent",Object.assign({name:e},this.getEventArgs(t,n,r))),super.onCustomEvent(t,e,n,r)}onLabelMouseDown(t,e,n){this.notifyMouseDown(t,e,n),this.startLabelDragging(t,e,n),this.getEventData(t).stopPropagation&&t.stopPropagation()}startEdgeDragging(t,e,n){if(!this.can("edgeMovable")){this.notifyUnhandledMouseDown(t,e,n);return}this.setEventData(t,{x:e,y:n,moving:!1,action:"drag-edge"})}dragEdge(t,e,n){const r=this.getEventData(t);r.moving||(r.moving=!0,this.addClass("edge-moving"),this.notify("edge:move",{e:t,x:e,y:n,view:this,cell:this.cell,edge:this.cell})),this.cell.translate(e-r.x,n-r.y,{ui:!0}),this.setEventData(t,{x:e,y:n}),this.notify("edge:moving",{e:t,x:e,y:n,view:this,cell:this.cell,edge:this.cell})}stopEdgeDragging(t,e,n){const r=this.getEventData(t);r.moving&&(this.removeClass("edge-moving"),this.notify("edge:moved",{e:t,x:e,y:n,view:this,cell:this.cell,edge:this.cell})),r.moving=!1}prepareArrowheadDragging(t,e){const n=this.getTerminalMagnet(t),r={action:"drag-arrowhead",x:e.x,y:e.y,isNewEdge:e.isNewEdge===!0,terminalType:t,initialMagnet:n,initialTerminal:Vs(this.cell[t]),fallbackAction:e.fallbackAction||"revert",getValidateConnectionArgs:this.createValidateConnectionArgs(t),options:e.options};return this.beforeArrowheadDragging(r),r}createValidateConnectionArgs(t){const e=[];e[4]=t,e[5]=this;let n,r=0,s=0;t==="source"?(r=2,n="target"):(s=2,n="source");const o=this.cell[n],a=o.cell;if(a){let l;const c=e[r]=this.graph.renderer.findViewByCell(a);c&&(l=c.getMagnetFromEdgeTerminal(o),l===c.container&&(l=void 0)),e[r+1]=l}return(l,c)=>(e[s]=l,e[s+1]=l.container===c?void 0:c,e)}beforeArrowheadDragging(t){t.zIndex=this.cell.zIndex,this.cell.toFront();const e=this.container.style;t.pointerEvents=e.pointerEvents,e.pointerEvents="none",this.graph.options.connecting.highlight&&this.highlightAvailableMagnets(t)}afterArrowheadDragging(t){t.zIndex!=null&&(this.cell.setZIndex(t.zIndex,{ui:!0}),t.zIndex=null);const e=this.container;e.style.pointerEvents=t.pointerEvents||"",this.graph.options.connecting.highlight&&this.unhighlightAvailableMagnets(t)}arrowheadDragging(t,e,n,r){r.x=e,r.y=n,r.currentTarget!==t&&(r.currentMagnet&&r.currentView&&r.currentView.unhighlight(r.currentMagnet,{type:"magnetAdsorbed"}),r.currentView=this.graph.renderer.findViewByElem(t),r.currentView?(r.currentMagnet=r.currentView.findMagnet(t),r.currentMagnet&&this.graph.hook.validateConnection(...r.getValidateConnectionArgs(r.currentView,r.currentMagnet),r.currentView.getEdgeTerminal(r.currentMagnet,e,n,this.cell,r.terminalType))?r.currentView.highlight(r.currentMagnet,{type:"magnetAdsorbed"}):r.currentMagnet=null):r.currentMagnet=null),r.currentTarget=t,this.cell.prop(r.terminalType,{x:e,y:n},Object.assign(Object.assign({},r.options),{ui:!0}))}arrowheadDragged(t,e,n){const r=t.currentView,s=t.currentMagnet;if(!s||!r)return;r.unhighlight(s,{type:"magnetAdsorbed"});const o=t.terminalType,a=r.getEdgeTerminal(s,e,n,this.cell,o);this.cell.setTerminal(o,a,{ui:!0})}snapArrowhead(t,e,n){const r=this.graph,s=r.options.connecting.snap,o=typeof s=="object"&&s.radius||50,a=r.renderer.findViewsInArea({x:t-o,y:e-o,width:2*o,height:2*o}),l=n.closestView||null,c=n.closestMagnet||null;n.closestView=null,n.closestMagnet=null;let u,h=Number.MAX_SAFE_INTEGER;const f=new N(t,e);a.forEach(E=>{E.container.getAttribute("magnet")!=="false"&&(u=E.cell.getBBox().getCenter().distance(f),u<o&&u<h&&(c===E.container||r.hook.validateConnection(...n.getValidateConnectionArgs(E,null),E.getEdgeTerminal(E.container,t,e,this.cell,n.terminalType)))&&(h=u,n.closestView=E,n.closestMagnet=E.container)),E.container.querySelectorAll("[magnet]").forEach(S=>{if(S.getAttribute("magnet")!=="false"){const O=E.getBBoxOfElement(S);u=f.distance(O.getCenter()),u<o&&u<h&&(c===S||r.hook.validateConnection(...n.getValidateConnectionArgs(E,S),E.getEdgeTerminal(S,t,e,this.cell,n.terminalType)))&&(h=u,n.closestView=E,n.closestMagnet=S)}})});let p;const b=n.terminalType,v=n.closestView,w=n.closestMagnet,x=c!==w;if(l&&x&&l.unhighlight(c,{type:"magnetAdsorbed"}),v){if(!x)return;v.highlight(w,{type:"magnetAdsorbed"}),p=v.getEdgeTerminal(w,t,e,this.cell,b)}else p={x:t,y:e};this.cell.setTerminal(b,p,{},Object.assign(Object.assign({},n.options),{ui:!0}))}snapArrowheadEnd(t){const e=t.closestView,n=t.closestMagnet;e&&n&&(e.unhighlight(n,{type:"magnetAdsorbed"}),t.currentMagnet=e.findMagnet(n)),t.closestView=null,t.closestMagnet=null}finishEmbedding(t){this.graph.options.embedding.enabled&&this.cell.updateParent()&&(t.zIndex=null)}fallbackConnection(t){switch(t.fallbackAction){case"remove":this.cell.remove({ui:!0});break;case"revert":default:this.cell.prop(t.terminalType,t.initialTerminal,{ui:!0});break}}notifyConnectionEvent(t,e){const n=t.terminalType,r=t.initialTerminal,s=this.cell[n];if(s&&!Ne.equalTerminals(r,s)){const a=this.graph,l=r,c=l.cell?a.getCellById(l.cell):null,u=l.port,h=c?a.findViewByCell(c):null,f=c||t.isNewEdge?null:N.create(r).toJSON(),p=s,b=p.cell?a.getCellById(p.cell):null,v=p.port,w=b?a.findViewByCell(b):null,x=b?null:N.create(s).toJSON();this.notify("edge:connected",{e,previousCell:c,previousPort:u,previousView:h,previousPoint:f,currentCell:b,currentView:w,currentPort:v,currentPoint:x,previousMagnet:t.initialMagnet,currentMagnet:t.currentMagnet,edge:this.cell,view:this,type:n,isNew:t.isNewEdge})}}highlightAvailableMagnets(t){const e=this.graph,n=e.model.getCells();t.marked={};for(let r=0,s=n.length;r<s;r+=1){const o=e.renderer.findViewByCell(n[r]);if(!o)continue;const a=Array.prototype.slice.call(o.container.querySelectorAll("[magnet]"));o.container.getAttribute("magnet")!=="false"&&a.push(o.container);const l=a.filter(c=>e.hook.validateConnection(...t.getValidateConnectionArgs(o,c),o.getEdgeTerminal(c,t.x,t.y,this.cell,t.terminalType)));if(l.length>0){for(let c=0,u=l.length;c<u;c+=1)o.highlight(l[c],{type:"magnetAvailable"});o.highlight(null,{type:"nodeAvailable"}),t.marked[o.cell.id]=l}}}unhighlightAvailableMagnets(t){const e=t.marked||{};Object.keys(e).forEach(n=>{const r=this.graph.renderer.findViewByCell(n);r&&(e[n].forEach(o=>{r.unhighlight(o,{type:"magnetAvailable"})}),r.unhighlight(null,{type:"nodeAvailable"}))}),t.marked=null}startArrowheadDragging(t,e,n){if(!this.can("arrowheadMovable")){this.notifyUnhandledMouseDown(t,e,n);return}const s=t.target.getAttribute("data-terminal"),o=this.prepareArrowheadDragging(s,{x:e,y:n});this.setEventData(t,o)}dragArrowhead(t,e,n){const r=this.getEventData(t);this.graph.options.connecting.snap?this.snapArrowhead(e,n,r):this.arrowheadDragging(this.getEventTarget(t),e,n,r)}stopArrowheadDragging(t,e,n){const r=this.graph,s=this.getEventData(t);r.options.connecting.snap?this.snapArrowheadEnd(s):this.arrowheadDragged(s,e,n),r.hook.validateEdge(this.cell,s.terminalType,s.initialTerminal)?(this.finishEmbedding(s),this.notifyConnectionEvent(s,t)):this.fallbackConnection(s),this.afterArrowheadDragging(s)}startLabelDragging(t,e,n){if(this.can("edgeLabelMovable")){const r=t.currentTarget,s=parseInt(r.getAttribute("data-index"),10),o=this.getLabelPositionAngle(s),a=this.getLabelPositionArgs(s),l=this.getDefaultLabelPositionArgs(),c=this.mergeLabelPositionArgs(a,l);this.setEventData(t,{index:s,positionAngle:o,positionArgs:c,stopPropagation:!0,action:"drag-label"})}else this.setEventData(t,{stopPropagation:!0});this.graph.view.delegateDragEvents(t,this)}dragLabel(t,e,n){const r=this.getEventData(t),s=this.cell.getLabelAt(r.index),o=De({},s,{position:this.getLabelPosition(e,n,r.positionAngle,r.positionArgs)});this.cell.setLabelAt(r.index,o)}stopLabelDragging(t,e,n){}handleVertexAdding(t,e,n){if(!this.can("vertexAddable")){this.notifyUnhandledMouseDown(t,e,n);return}const r=this.addVertex({x:e,y:n},{ui:!0});this.setEventData(t,{index:r,action:"drag-vertex"})}handleVertexRemoving(t,e,n){if(!this.can("vertexDeletable")){this.notifyUnhandledMouseDown(t,e,n);return}const r=t.target,s=parseInt(r.getAttribute("idx"),10);this.cell.removeVertexAt(s)}startVertexDragging(t,e,n){if(!this.can("vertexMovable")){this.notifyUnhandledMouseDown(t,e,n);return}const r=t.target,s=parseInt(r.getAttribute("idx"),10);this.setEventData(t,{index:s,action:"drag-vertex"})}dragVertex(t,e,n){const r=this.getEventData(t);this.cell.setVertexAt(r.index,{x:e,y:n},{ui:!0})}stopVertexDragging(t,e,n){}}(function(i){i.toStringTag=`X6.${i.name}`;function t(e){if(e==null)return!1;if(e instanceof i)return!0;const n=e[Symbol.toStringTag],r=e;return(n==null||n===i.toStringTag)&&typeof r.isNodeView=="function"&&typeof r.isEdgeView=="function"&&typeof r.confirmUpdate=="function"&&typeof r.update=="function"&&typeof r.getConnection=="function"}i.isEdgeView=t})(wr||(wr={}));wr.config({isSvgElement:!0,priority:1,bootstrap:["render","source","target"],actions:{view:["render"],markup:["render"],attrs:["update"],source:["source","update"],target:["target","update"],router:["update"],connector:["update"],labels:["labels"],defaultLabel:["labels"],vertices:["vertices","update"],vertexMarkup:["vertices"],toolMarkup:["tools"],tools:["widget"]},shortLength:105,longLength:155,toolsOffset:40,doubleTools:!1,doubleToolsOffset:65,sampleInterval:50});wr.registry.register("edge",wr,!0);class Bn extends Be{constructor(){super(...arguments),this.scalableNode=null,this.rotatableNode=null,this.scalableSelector="scalable",this.rotatableSelector="rotatable",this.defaultPortMarkup=he.getPortMarkup(),this.defaultPortLabelMarkup=he.getPortLabelMarkup(),this.defaultPortContainerMarkup=he.getPortContainerMarkup(),this.portsCache={}}get[Symbol.toStringTag](){return Bn.toStringTag}getContainerClassName(){const t=[super.getContainerClassName(),this.prefixClassName("node")];return this.can("nodeMovable")||t.push(this.prefixClassName("node-immovable")),t.join(" ")}updateClassName(t){const e=t.target;if(e.hasAttribute("magnet")){const n=this.prefixClassName("port-unconnectable");this.can("magnetConnectable")?yi(e,n):ge(e,n)}else{const n=this.prefixClassName("node-immovable");this.can("nodeMovable")?this.removeClass(n):this.addClass(n)}}isNodeView(){return!0}confirmUpdate(t,e={}){let n=t;return this.hasAction(n,"ports")&&(this.removePorts(),this.cleanPortsCache()),this.hasAction(n,"render")?(this.render(),n=this.removeAction(n,["render","update","resize","translate","rotate","ports","tools"])):(n=this.handleAction(n,"resize",()=>this.resize(e),"update"),n=this.handleAction(n,"update",()=>this.update(),"ports"),n=this.handleAction(n,"translate",()=>this.translate()),n=this.handleAction(n,"rotate",()=>this.rotate()),n=this.handleAction(n,"ports",()=>this.renderPorts()),n=this.handleAction(n,"tools",()=>this.renderTools())),n}update(t){this.cleanCache(),this.removePorts();const e=this.cell,n=e.getSize(),r=e.getAttrs();this.updateAttrs(this.container,r,{attrs:t===r?null:t,rootBBox:new ht(0,0,n.width,n.height),selectors:this.selectors,scalableNode:this.scalableNode,rotatableNode:this.rotatableNode}),this.renderPorts()}renderMarkup(){const t=this.cell.markup;if(t)return typeof t=="string"?this.renderStringMarkup(t):this.renderJSONMarkup(t);throw new TypeError("Invalid node markup.")}renderJSONMarkup(t){const e=this.parseJSONMarkup(t,this.container),n=r=>Array.isArray(r)?r[0]:r;this.selectors=e.selectors,this.rotatableNode=n(this.selectors[this.rotatableSelector]),this.scalableNode=n(this.selectors[this.scalableSelector]),this.container.appendChild(e.fragment)}renderStringMarkup(t){gl(this.container,Et.toNodes(Et.createVectors(t))),this.rotatableNode=Dd(this.container,`.${this.rotatableSelector}`),this.scalableNode=Dd(this.container,`.${this.scalableSelector}`),this.selectors={},this.rootSelector&&(this.selectors[this.rootSelector]=this.container)}render(){return this.empty(),this.renderMarkup(),this.scalableNode&&this.update(),this.resize(),this.rotatableNode?(this.rotate(),this.translate()):this.updateTransform(),this.renderTools(),this}resize(t={}){if(this.scalableNode)return this.updateSize(t);this.cell.getAngle()&&this.rotate(),this.update()}translate(){if(this.rotatableNode)return this.updateTranslation();this.updateTransform()}rotate(){if(this.rotatableNode){this.updateRotation(),this.update();return}this.updateTransform()}getTranslationString(){const t=this.cell.getPosition();return`translate(${t.x},${t.y})`}getRotationString(){const t=this.cell.getAngle();if(t){const e=this.cell.getSize();return`rotate(${t},${e.width/2},${e.height/2})`}}updateTransform(){let t=this.getTranslationString();const e=this.getRotationString();e&&(t+=` ${e}`),this.container.setAttribute("transform",t)}updateRotation(){if(this.rotatableNode!=null){const t=this.getRotationString();t!=null?this.rotatableNode.setAttribute("transform",t):this.rotatableNode.removeAttribute("transform")}}updateTranslation(){this.container.setAttribute("transform",this.getTranslationString())}updateSize(t={}){const e=this.cell,n=e.getSize(),r=e.getAngle(),s=this.scalableNode;let o=!1;s.getElementsByTagName("path").length>0&&(o=!0);const a=vn(s,{recursive:o}),l=n.width/(a.width||1),c=n.height/(a.height||1);s.setAttribute("transform",`scale(${l},${c})`);const u=this.rotatableNode;if(u!=null){const h=u.getAttribute("transform");if(h){u.setAttribute("transform",`${h} rotate(${-r},${n.width/2},${n.height/2})`);const f=vn(s,{target:this.graph.view.stage});e.prop("position",{x:f.x,y:f.y},Object.assign({updated:!0},t)),this.translate(),this.rotate()}}this.update()}findPortElem(t,e){const n=t?this.portsCache[t]:null;if(!n)return null;const r=n.portContentElement,s=n.portContentSelectors||{};return this.findOne(e,r,s)}initializePorts(){this.cleanPortsCache()}refreshPorts(){this.removePorts(),this.cleanPortsCache(),this.renderPorts()}cleanPortsCache(){this.portsCache={}}removePorts(){Object.keys(this.portsCache).forEach(t=>{const e=this.portsCache[t];er(e.portElement)})}renderPorts(){const t=this.getPortsContainer(),e=[];t.childNodes.forEach(s=>{e.push(s)});const n=d5(this.cell.getParsedPorts(),"zIndex"),r="auto";n[r]&&n[r].forEach(s=>{const o=this.getPortElement(s);t.append(o),e.push(o)}),Object.keys(n).forEach(s=>{if(s!==r){const o=parseInt(s,10);this.appendPorts(n[s],o,e)}}),this.updatePorts()}getPortsContainer(){return this.rotatableNode||this.container}appendPorts(t,e,n){const r=t.map(s=>this.getPortElement(s));n[e]||e<0?cp(n[Math.max(e,0)],r):gl(this.getPortsContainer(),r)}getPortElement(t){const e=this.portsCache[t.id];return e?e.portElement:this.createPortElement(t)}createPortElement(t){let e=he.renderMarkup(this.getPortContainerMarkup());const n=e.elem;if(n==null)throw new Error("Invalid port container markup.");e=he.renderMarkup(this.getPortMarkup(t));const r=e.elem,s=e.selectors;if(r==null)throw new Error("Invalid port markup.");this.setAttrs({port:t.id,"port-group":t.group},r),e=he.renderMarkup(this.getPortLabelMarkup(t.label));const o=e.elem,a=e.selectors;if(o==null)throw new Error("Invalid port label markup.");let l;if(s&&a){for(const c in a)if(s[c]&&c!==this.rootSelector)throw new Error("Selectors within port must be unique.");l=Object.assign(Object.assign({},s),a)}else l=s||a;return ge(n,"x6-port"),ge(r,"x6-port-body"),ge(o,"x6-port-label"),n.appendChild(r),n.appendChild(o),this.portsCache[t.id]={portElement:n,portSelectors:l,portLabelElement:o,portLabelSelectors:a,portContentElement:r,portContentSelectors:s},this.graph.hook.onPortRendered({port:t,node:this.cell,container:n,selectors:l,labelContainer:o,labelSelectors:a,contentContainer:r,contentSelectors:s}),n}updatePorts(){this.updatePortGroup();const t=this.cell.getParsedGroups();Object.keys(t).forEach(e=>this.updatePortGroup(e))}updatePortGroup(t){const e=ht.fromSize(this.cell.getSize()),n=this.cell.getPortsLayoutByGroup(t,e);for(let r=0,s=n.length;r<s;r+=1){const o=n[r],a=o.portId,l=this.portsCache[a]||{},c=o.portLayout;if(this.applyPortTransform(l.portElement,c),o.portAttrs!=null){const h={selectors:l.portSelectors||{}};o.portSize&&(h.rootBBox=ht.fromSize(o.portSize)),this.updateAttrs(l.portElement,o.portAttrs,h)}const u=o.labelLayout;if(u&&(this.applyPortTransform(l.portLabelElement,u,-(c.angle||0)),u.attrs)){const h={selectors:l.portLabelSelectors||{}};o.labelSize&&(h.rootBBox=ht.fromSize(o.labelSize)),this.updateAttrs(l.portLabelElement,u.attrs,h)}}}applyPortTransform(t,e,n=0){const r=e.angle,s=e.position,o=yn().rotate(n).translate(s.x||0,s.y||0).rotate(r||0);Ko(t,o,{absolute:!0})}getPortContainerMarkup(){return this.cell.getPortContainerMarkup()||this.defaultPortContainerMarkup}getPortMarkup(t){return t.markup||this.cell.portMarkup||this.defaultPortMarkup}getPortLabelMarkup(t){return t.markup||this.cell.portLabelMarkup||this.defaultPortLabelMarkup}getEventArgs(t,e,n){const r=this,s=r.cell,o=s;return e==null||n==null?{e:t,view:r,node:s,cell:o}:{e:t,x:e,y:n,view:r,node:s,cell:o}}notifyMouseDown(t,e,n){super.onMouseDown(t,e,n),this.notify("node:mousedown",this.getEventArgs(t,e,n))}notifyMouseMove(t,e,n){super.onMouseMove(t,e,n),this.notify("node:mousemove",this.getEventArgs(t,e,n))}notifyMouseUp(t,e,n){super.onMouseUp(t,e,n),this.notify("node:mouseup",this.getEventArgs(t,e,n))}onClick(t,e,n){super.onClick(t,e,n),this.notify("node:click",this.getEventArgs(t,e,n))}onDblClick(t,e,n){super.onDblClick(t,e,n),this.notify("node:dblclick",this.getEventArgs(t,e,n))}onContextMenu(t,e,n){super.onContextMenu(t,e,n),this.notify("node:contextmenu",this.getEventArgs(t,e,n))}onMouseDown(t,e,n){this.isPropagationStopped(t)||(this.notifyMouseDown(t,e,n),this.startNodeDragging(t,e,n))}onMouseMove(t,e,n){const r=this.getEventData(t),s=r.action;if(s==="magnet")this.dragMagnet(t,e,n);else{if(s==="move"){const a=r.targetView||this;a.dragNode(t,e,n),a.notify("node:moving",{e:t,x:e,y:n,view:a,cell:a.cell,node:a.cell})}this.notifyMouseMove(t,e,n)}this.setEventData(t,r)}onMouseUp(t,e,n){const r=this.getEventData(t),s=r.action;s==="magnet"?this.stopMagnetDragging(t,e,n):(this.notifyMouseUp(t,e,n),s==="move"&&(r.targetView||this).stopNodeDragging(t,e,n));const o=r.targetMagnet;o&&this.onMagnetClick(t,o,e,n),this.checkMouseleave(t)}onMouseOver(t){super.onMouseOver(t),this.notify("node:mouseover",this.getEventArgs(t))}onMouseOut(t){super.onMouseOut(t),this.notify("node:mouseout",this.getEventArgs(t))}onMouseEnter(t){this.updateClassName(t),super.onMouseEnter(t),this.notify("node:mouseenter",this.getEventArgs(t))}onMouseLeave(t){super.onMouseLeave(t),this.notify("node:mouseleave",this.getEventArgs(t))}onMouseWheel(t,e,n,r){super.onMouseWheel(t,e,n,r),this.notify("node:mousewheel",Object.assign({delta:r},this.getEventArgs(t,e,n)))}onMagnetClick(t,e,n,r){this.graph.view.getMouseMovedCount(t)>this.graph.options.clickThreshold||this.notify("node:magnet:click",Object.assign({magnet:e},this.getEventArgs(t,n,r)))}onMagnetDblClick(t,e,n,r){this.notify("node:magnet:dblclick",Object.assign({magnet:e},this.getEventArgs(t,n,r)))}onMagnetContextMenu(t,e,n,r){this.notify("node:magnet:contextmenu",Object.assign({magnet:e},this.getEventArgs(t,n,r)))}onMagnetMouseDown(t,e,n,r){this.startMagnetDragging(t,n,r)}onCustomEvent(t,e,n,r){this.notify("node:customevent",Object.assign({name:e},this.getEventArgs(t,n,r))),super.onCustomEvent(t,e,n,r)}prepareEmbedding(t){const n=this.getEventData(t).cell||this.cell,r=this.graph.findViewByCell(n),s=this.graph.snapToGrid(t.clientX,t.clientY);this.notify("node:embed",{e:t,node:n,view:r,cell:n,x:s.x,y:s.y,currentParent:n.getParent()})}processEmbedding(t,e){const n=e.cell||this.cell,r=e.graph||this.graph,s=r.options.embedding,o=s.findParent;let a=typeof o=="function"?xt(o,r,{view:this,node:this.cell}).filter(f=>ie.isCell(f)&&this.cell.id!==f.id&&!f.isDescendantOf(this.cell)):r.model.getNodesUnderNode(n,{by:o});s.frontOnly&&(a=a.slice(-1)),a=a.filter(f=>f.visible);let l=null;const c=e.candidateEmbedView,u=s.validate;for(let f=a.length-1;f>=0;f-=1){const p=a[f];if(c&&c.cell.id===p.id){l=c;break}else{const b=p.findView(r);if(xt(u,r,{child:this.cell,parent:b.cell,childView:this,parentView:b})){l=b;break}}}this.clearEmbedding(e),l&&l.highlight(null,{type:"embedding"}),e.candidateEmbedView=l;const h=r.snapToGrid(t.clientX,t.clientY);this.notify("node:embedding",{e:t,cell:n,node:n,view:r.findViewByCell(n),x:h.x,y:h.y,currentParent:n.getParent(),candidateParent:l?l.cell:null})}clearEmbedding(t){const e=t.candidateEmbedView;e&&(e.unhighlight(null,{type:"embedding"}),t.candidateEmbedView=null)}finalizeEmbedding(t,e){const n=e.cell||this.cell,r=e.graph||this.graph,s=r.findViewByCell(n),o=n.getParent(),a=e.candidateEmbedView;a?(a.unhighlight(null,{type:"embedding"}),e.candidateEmbedView=null,(o==null||o.id!==a.cell.id)&&a.cell.insertChild(n,void 0,{ui:!0})):o&&o.unembed(n,{ui:!0}),r.model.getConnectedEdges(n,{deep:!0}).forEach(c=>{c.updateParent({ui:!0})});const l=r.snapToGrid(t.clientX,t.clientY);s&&s.notify("node:embedded",{e:t,cell:n,x:l.x,y:l.y,node:n,view:r.findViewByCell(n),previousParent:o,currentParent:n.getParent()})}getDelegatedView(){let t=this.cell,e=this;for(;e&&!t.isEdge();){if(!t.hasParent()||e.can("stopDelegateOnDragging"))return e;t=t.getParent(),e=this.graph.renderer.findViewByCell(t)}return null}startMagnetDragging(t,e,n){if(!this.can("magnetConnectable"))return;t.stopPropagation();const r=t.currentTarget,s=this.graph;this.setEventData(t,{targetMagnet:r}),s.hook.validateMagnet(this,r,t)?(s.options.magnetThreshold<=0&&this.startConnectting(t,r,e,n),this.setEventData(t,{action:"magnet"}),this.stopPropagation(t)):this.onMouseDown(t,e,n),s.view.delegateDragEvents(t,this)}startConnectting(t,e,n,r){this.graph.model.startBatch("add-edge");const s=this.createEdgeFromMagnet(e,n,r);s.notifyMouseDown(t,n,r),s.setEventData(t,s.prepareArrowheadDragging("target",{x:n,y:r,isNewEdge:!0,fallbackAction:"remove"})),this.setEventData(t,{edgeView:s})}createEdgeFromMagnet(t,e,n){const r=this.graph,s=r.model,o=r.hook.getDefaultEdge(this,t);return o.setSource(Object.assign(Object.assign({},o.getSource()),this.getEdgeTerminal(t,e,n,o,"source"))),o.setTarget(Object.assign(Object.assign({},o.getTarget()),{x:e,y:n})),o.addTo(s,{async:!1,ui:!0}),o.findView(r)}dragMagnet(t,e,n){const r=this.getEventData(t),s=r.edgeView;if(s)s.onMouseMove(t,e,n),this.autoScrollGraph(t.clientX,t.clientY);else{const o=this.graph,a=o.options.magnetThreshold,l=this.getEventTarget(t),c=r.targetMagnet;if(a==="onleave"){if(c===l||c.contains(l))return}else if(o.view.getMouseMovedCount(t)<=a)return;this.startConnectting(t,c,e,n)}}stopMagnetDragging(t,e,n){const s=this.eventData(t).edgeView;s&&(s.onMouseUp(t,e,n),this.graph.model.stopBatch("add-edge"))}notifyUnhandledMouseDown(t,e,n){this.notify("node:unhandled:mousedown",{e:t,x:e,y:n,view:this,cell:this.cell,node:this.cell})}notifyNodeMove(t,e,n,r,s){let o=[s];const a=this.graph.selection.widget;if(a&&a.options.movable){const l=this.graph.getSelectedCells();l.includes(s)&&(o=l.filter(c=>c.isNode()))}o.forEach(l=>{this.notify(t,{e,x:n,y:r,cell:l,node:l,view:l.findView(this.graph)})})}startNodeDragging(t,e,n){const r=this.getDelegatedView();if(r==null||!r.can("nodeMovable"))return this.notifyUnhandledMouseDown(t,e,n);this.setEventData(t,{targetView:r,action:"move"});const s=N.create(r.cell.getPosition());r.setEventData(t,{moving:!1,offset:s.diff(e,n),restrict:this.graph.hook.getRestrictArea(r)})}dragNode(t,e,n){const r=this.cell,s=this.graph,o=s.getGridSize(),a=this.getEventData(t),l=a.offset,c=a.restrict;a.moving||(a.moving=!0,this.addClass("node-moving"),this.notifyNodeMove("node:move",t,e,n,this.cell)),this.autoScrollGraph(t.clientX,t.clientY);const u=Qe.snapToGrid(e+l.x,o),h=Qe.snapToGrid(n+l.y,o);r.setPosition(u,h,{restrict:c,deep:!0,ui:!0}),s.options.embedding.enabled&&(a.embedding||(this.prepareEmbedding(t),a.embedding=!0),this.processEmbedding(t,a))}stopNodeDragging(t,e,n){const r=this.getEventData(t);r.embedding&&this.finalizeEmbedding(t,r),r.moving&&(this.removeClass("node-moving"),this.notifyNodeMove("node:moved",t,e,n,this.cell)),r.moving=!1,r.embedding=!1}autoScrollGraph(t,e){const n=this.graph.scroller.widget;n&&n.autoScroll(t,e)}}(function(i){i.toStringTag=`X6.${i.name}`;function t(e){if(e==null)return!1;if(e instanceof i)return!0;const n=e[Symbol.toStringTag],r=e;return(n==null||n===i.toStringTag)&&typeof r.isNodeView=="function"&&typeof r.isEdgeView=="function"&&typeof r.confirmUpdate=="function"&&typeof r.update=="function"&&typeof r.findPortElem=="function"&&typeof r.resize=="function"&&typeof r.rotate=="function"&&typeof r.translate=="function"}i.isNodeView=t})(Bn||(Bn={}));Bn.config({isSvgElement:!0,priority:0,bootstrap:["render"],actions:{view:["render"],markup:["render"],attrs:["update"],size:["resize","ports","tools"],angle:["rotate","tools"],position:["translate","tools"],ports:["ports"],tools:["tools"]}});Bn.registry.register("node",Bn,!0);const v1=gp("text");class B2 extends ar("text",{view:v1,attrs:{text:{fontSize:18,fill:"#000000",stroke:null,refX:.5,refY:.5}}},{noText:!0}){}(function(i){class t extends Bn{confirmUpdate(n,r={}){let s=super.confirmUpdate(n,r);return this.hasAction(s,"scale")&&(this.resize(),s=this.removeAction(s,"scale")),s}}i.View=t,t.config({actions:{attrs:["scale"]}}),Bn.registry.register(v1,t)})(B2||(B2={}));class y1 extends Mn{constructor(t,e={}){super(),this.length=0,this.comparator=e.comparator||"zIndex",this.clean(),t&&this.reset(t,{silent:!0})}toJSON(){return this.cells.map(t=>t.toJSON())}add(t,e,n){let r,s;typeof e=="number"?(r=e,s=Object.assign({merge:!1},n)):(r=this.length,s=Object.assign({merge:!1},e)),r>this.length&&(r=this.length),r<0&&(r+=this.length+1);const o=Array.isArray(t)?t:[t],a=this.comparator&&typeof e!="number"&&s.sort!==!1,l=this.comparator||null;let c=!1;const u=[],h=[];return o.forEach(f=>{const p=this.get(f);p?s.merge&&!f.isSameStore(p)&&(p.setProp(f.getProp(),n),h.push(p),a&&!c&&(l==null||typeof l=="function"?c=p.hasChanged():typeof l=="string"?c=p.hasChanged(l):c=l.some(b=>p.hasChanged(b)))):(u.push(f),this.reference(f))}),u.length&&(a&&(c=!0),this.cells.splice(r,0,...u),this.length=this.cells.length),c&&this.sort({silent:!0}),s.silent||(u.forEach((f,p)=>{const b={cell:f,index:r+p,options:s};this.trigger("added",b),s.dryrun||f.notify("added",Object.assign({},b))}),c&&this.trigger("sorted"),(u.length||h.length)&&this.trigger("updated",{added:u,merged:h,removed:[],options:s})),this}remove(t,e={}){const n=Array.isArray(t)?t:[t],r=this.removeCells(n,e);return!e.silent&&r.length>0&&this.trigger("updated",{options:e,removed:r,added:[],merged:[]}),Array.isArray(t)?r:r[0]}removeCells(t,e){const n=[];for(let r=0;r<t.length;r+=1){const s=this.get(t[r]);if(s==null)continue;const o=this.cells.indexOf(s);this.cells.splice(o,1),this.length-=1,delete this.map[s.id],n.push(s),this.unreference(s),e.dryrun||s.remove(),e.silent||(this.trigger("removed",{cell:s,index:o,options:e}),e.dryrun||s.notify("removed",{cell:s,index:o,options:e}))}return n}reset(t,e={}){const n=this.cells.slice();if(n.forEach(r=>this.unreference(r)),this.clean(),this.add(t,Object.assign({silent:!0},e)),!e.silent){const r=this.cells.slice();this.trigger("reseted",{options:e,previous:n,current:r});const s=[],o=[];r.forEach(a=>{n.some(c=>c.id===a.id)||s.push(a)}),n.forEach(a=>{r.some(c=>c.id===a.id)||o.push(a)}),this.trigger("updated",{options:e,added:s,removed:o,merged:[]})}return this}push(t,e){return this.add(t,this.length,e)}pop(t){const e=this.at(this.length-1);return this.remove(e,t)}unshift(t,e){return this.add(t,0,e)}shift(t){const e=this.at(0);return this.remove(e,t)}get(t){if(t==null)return null;const e=typeof t=="string"||typeof t=="number"?t:t.id;return this.map[e]||null}has(t){return this.get(t)!=null}at(t){return t<0&&(t+=this.length),this.cells[t]||null}first(){return this.at(0)}last(){return this.at(-1)}indexOf(t){return this.cells.indexOf(t)}toArray(){return this.cells.slice()}sort(t={}){return this.comparator!=null&&(this.cells=zf(this.cells,this.comparator),t.silent||this.trigger("sorted")),this}clone(){const t=this.constructor;return new t(this.cells.slice(),{comparator:this.comparator})}reference(t){this.map[t.id]=t,t.on("*",this.notifyCellEvent,this)}unreference(t){t.off("*",this.notifyCellEvent,this),delete this.map[t.id]}notifyCellEvent(t,e){const n=e.cell;this.trigger(`cell:${t}`,e),n&&(n.isNode()?this.trigger(`node:${t}`,Object.assign(Object.assign({},e),{node:n})):n.isEdge()&&this.trigger(`edge:${t}`,Object.assign(Object.assign({},e),{edge:n})))}clean(){this.length=0,this.cells=[],this.map={}}}class Cn extends Mn{constructor(t=[]){super(),this.batches={},this.addings=new WeakMap,this.nodes={},this.edges={},this.outgoings={},this.incomings={},this.collection=new y1(t),this.setup()}get[Symbol.toStringTag](){return Cn.toStringTag}notify(t,e){this.trigger(t,e);const n=this.graph;return n&&(t==="sorted"||t==="reseted"||t==="updated"?n.trigger(`model:${t}`,e):n.trigger(t,e)),this}setup(){const t=this.collection;t.on("sorted",()=>this.notify("sorted",null)),t.on("updated",e=>this.notify("updated",e)),t.on("cell:change:zIndex",()=>this.sortOnChangeZ()),t.on("added",({cell:e})=>{this.onCellAdded(e)}),t.on("removed",e=>{const n=e.cell;this.onCellRemoved(n,e.options),this.notify("cell:removed",e),n.isNode()?this.notify("node:removed",Object.assign(Object.assign({},e),{node:n})):n.isEdge()&&this.notify("edge:removed",Object.assign(Object.assign({},e),{edge:n}))}),t.on("reseted",e=>{this.onReset(e.current),this.notify("reseted",e)}),t.on("edge:change:source",({edge:e})=>this.onEdgeTerminalChanged(e,"source")),t.on("edge:change:target",({edge:e})=>{this.onEdgeTerminalChanged(e,"target")})}sortOnChangeZ(){this.collection.sort()}onCellAdded(t){const e=t.id;t.isEdge()?(t.updateParent(),this.edges[e]=!0,this.onEdgeTerminalChanged(t,"source"),this.onEdgeTerminalChanged(t,"target")):this.nodes[e]=!0}onCellRemoved(t,e){const n=t.id;if(t.isEdge()){delete this.edges[n];const r=t.getSource(),s=t.getTarget();if(r&&r.cell){const o=this.outgoings[r.cell],a=o?o.indexOf(n):-1;a>=0&&(o.splice(a,1),o.length===0&&delete this.outgoings[r.cell])}if(s&&s.cell){const o=this.incomings[s.cell],a=o?o.indexOf(n):-1;a>=0&&(o.splice(a,1),o.length===0&&delete this.incomings[s.cell])}}else delete this.nodes[n];e.clear||(e.disconnectEdges?this.disconnectConnectedEdges(t,e):this.removeConnectedEdges(t,e)),t.model===this&&(t.model=null)}onReset(t){this.nodes={},this.edges={},this.outgoings={},this.incomings={},t.forEach(e=>this.onCellAdded(e))}onEdgeTerminalChanged(t,e){const n=e==="source"?this.outgoings:this.incomings,r=t.previous(e);if(r&&r.cell){const o=n[r.cell],a=o?o.indexOf(t.id):-1;a>=0&&(o.splice(a,1),o.length===0&&delete n[r.cell])}const s=t.getTerminal(e);if(s&&s.cell){const o=n[s.cell]||[];o.indexOf(t.id)===-1&&o.push(t.id),n[s.cell]=o}}prepareCell(t,e){return!t.model&&(!e||!e.dryrun)&&(t.model=this),t.zIndex==null&&t.setZIndex(this.getMaxZIndex()+1,{silent:!0}),t}resetCells(t,e={}){return t.map(n=>this.prepareCell(n,Object.assign(Object.assign({},e),{dryrun:!0}))),this.collection.reset(t,e),t.map(n=>this.prepareCell(n,{options:e})),this}clear(t={}){const e=this.getCells();if(e.length===0)return this;const n=Object.assign(Object.assign({},t),{clear:!0});return this.batchUpdate("clear",()=>{const r=e.sort((s,o)=>{const a=s.isEdge()?1:2,l=o.isEdge()?1:2;return a-l});for(;r.length>0;){const s=r.shift();s&&s.remove(n)}},n),this}addNode(t,e={}){const n=Le.isNode(t)?t:this.createNode(t);return this.addCell(n,e),n}createNode(t){return Le.create(t)}addEdge(t,e={}){const n=Ne.isEdge(t)?t:this.createEdge(t);return this.addCell(n,e),n}createEdge(t){return Ne.create(t)}addCell(t,e={}){return Array.isArray(t)?this.addCells(t,e):(!this.collection.has(t)&&!this.addings.has(t)&&(this.addings.set(t,!0),this.collection.add(this.prepareCell(t,e),e),t.eachChild(n=>this.addCell(n,e)),this.addings.delete(t)),this)}addCells(t,e={}){const n=t.length;if(n===0)return this;const r=Object.assign(Object.assign({},e),{position:n-1,maxPosition:n-1});return this.startBatch("add",Object.assign(Object.assign({},r),{cells:t})),t.forEach(s=>{this.addCell(s,r),r.position-=1}),this.stopBatch("add",Object.assign(Object.assign({},r),{cells:t})),this}removeCell(t,e={}){const n=typeof t=="string"?this.getCell(t):t;return n&&this.has(n)?this.collection.remove(n,e):null}updateCellId(t,e){this.startBatch("update",{id:e}),t.prop("id",e);const n=t.clone({keepId:!0});return this.addCell(n),this.getConnectedEdges(t).forEach(s=>{const o=s.getSourceCell(),a=s.getTargetCell();o===t&&s.setSource(Object.assign(Object.assign({},s.getSource()),{cell:e})),a===t&&s.setTarget(Object.assign(Object.assign({},s.getTarget()),{cell:e}))}),this.removeCell(t),this.stopBatch("update",{id:e}),n}removeCells(t,e={}){return t.length?this.batchUpdate("remove",()=>t.map(n=>this.removeCell(n,e))):[]}removeConnectedEdges(t,e={}){const n=this.getConnectedEdges(t);return n.forEach(r=>{r.remove(e)}),n}disconnectConnectedEdges(t,e={}){const n=typeof t=="string"?t:t.id;this.getConnectedEdges(t).forEach(r=>{const s=r.getSourceCell(),o=r.getTargetCell();s&&s.id===n&&r.setSource({x:0,y:0},e),o&&o.id===n&&r.setTarget({x:0,y:0},e)})}has(t){return this.collection.has(t)}total(){return this.collection.length}indexOf(t){return this.collection.indexOf(t)}getCell(t){return this.collection.get(t)}getCells(){return this.collection.toArray()}getFirstCell(){return this.collection.first()}getLastCell(){return this.collection.last()}getMinZIndex(){const t=this.collection.first();return t&&t.getZIndex()||0}getMaxZIndex(){const t=this.collection.last();return t&&t.getZIndex()||0}getCellsFromCache(t){return t?Object.keys(t).map(e=>this.getCell(e)).filter(e=>e!=null):[]}getNodes(){return this.getCellsFromCache(this.nodes)}getEdges(){return this.getCellsFromCache(this.edges)}getOutgoingEdges(t){const e=typeof t=="string"?t:t.id,n=this.outgoings[e];return n?n.map(r=>this.getCell(r)).filter(r=>r&&r.isEdge()):null}getIncomingEdges(t){const e=typeof t=="string"?t:t.id,n=this.incomings[e];return n?n.map(r=>this.getCell(r)).filter(r=>r&&r.isEdge()):null}getConnectedEdges(t,e={}){const n=[],r=typeof t=="string"?this.getCell(t):t;if(r==null)return n;const s={},o=e.indirect;let a=e.incoming,l=e.outgoing;a==null&&l==null&&(a=l=!0);const c=(u,h)=>{const f=h?this.getOutgoingEdges(u):this.getIncomingEdges(u);if(f!=null&&f.forEach(p=>{s[p.id]||(n.push(p),s[p.id]=!0,o&&(a&&c(p,!1),l&&c(p,!0)))}),o&&u.isEdge()){const p=h?u.getTargetCell():u.getSourceCell();p&&p.isEdge()&&(s[p.id]||(n.push(p),c(p,h)))}};if(l&&c(r,!0),a&&c(r,!1),e.deep){const u=r.getDescendants({deep:!0}),h={};u.forEach(p=>{p.isNode()&&(h[p.id]=!0)});const f=(p,b)=>{const v=b?this.getOutgoingEdges(p.id):this.getIncomingEdges(p.id);v!=null&&v.forEach(w=>{if(!s[w.id]){const x=w.getSourceCell(),E=w.getTargetCell();if(!e.enclosed&&x&&h[x.id]&&E&&h[E.id])return;n.push(w),s[w.id]=!0}})};u.forEach(p=>{p.isEdge()||(l&&f(p,!0),a&&f(p,!1))})}return n}isBoundary(t,e){const n=typeof t=="string"?this.getCell(t):t,r=e?this.getIncomingEdges(n):this.getOutgoingEdges(n);return r==null||r.length===0}getBoundaryNodes(t){const e=[];return Object.keys(this.nodes).forEach(n=>{if(this.isBoundary(n,t)){const r=this.getCell(n);r&&e.push(r)}}),e}getRoots(){return this.getBoundaryNodes(!0)}getLeafs(){return this.getBoundaryNodes(!1)}isRoot(t){return this.isBoundary(t,!0)}isLeaf(t){return this.isBoundary(t,!1)}getNeighbors(t,e={}){let n=e.incoming,r=e.outgoing;n==null&&r==null&&(n=r=!0);const o=this.getConnectedEdges(t,e).reduce((a,l)=>{const c=l.hasLoop(e),u=l.getSourceCell(),h=l.getTargetCell();return n&&u&&u.isNode()&&!a[u.id]&&(c||u!==t&&(!e.deep||!u.isDescendantOf(t)))&&(a[u.id]=u),r&&h&&h.isNode()&&!a[h.id]&&(c||h!==t&&(!e.deep||!h.isDescendantOf(t)))&&(a[h.id]=h),a},{});if(t.isEdge()){if(n){const a=t.getSourceCell();a&&a.isNode()&&!o[a.id]&&(o[a.id]=a)}if(r){const a=t.getTargetCell();a&&a.isNode()&&!o[a.id]&&(o[a.id]=a)}}return Object.keys(o).map(a=>o[a])}isNeighbor(t,e,n={}){let r=n.incoming,s=n.outgoing;return r==null&&s==null&&(r=s=!0),this.getConnectedEdges(t,n).some(o=>{const a=o.getSourceCell(),l=o.getTargetCell();return!!(r&&a&&a.id===e.id||s&&l&&l.id===e.id)})}getSuccessors(t,e={}){const n=[];return this.search(t,(r,s)=>{r!==t&&this.matchDistance(s,e.distance)&&n.push(r)},Object.assign(Object.assign({},e),{outgoing:!0})),n}isSuccessor(t,e,n={}){let r=!1;return this.search(t,(s,o)=>{if(s===e&&s!==t&&this.matchDistance(o,n.distance))return r=!0,!1},Object.assign(Object.assign({},n),{outgoing:!0})),r}getPredecessors(t,e={}){const n=[];return this.search(t,(r,s)=>{r!==t&&this.matchDistance(s,e.distance)&&n.push(r)},Object.assign(Object.assign({},e),{incoming:!0})),n}isPredecessor(t,e,n={}){let r=!1;return this.search(t,(s,o)=>{if(s===e&&s!==t&&this.matchDistance(o,n.distance))return r=!0,!1},Object.assign(Object.assign({},n),{incoming:!0})),r}matchDistance(t,e){return e==null?!0:typeof e=="function"?e(t):Array.isArray(e)&&e.includes(t)?!0:t===e}getCommonAncestor(...t){const e=[];return t.forEach(n=>{n&&(Array.isArray(n)?e.push(...n):e.push(n))}),ie.getCommonAncestor(...e)}getSubGraph(t,e={}){const n=[],r={},s=[],o=[],a=l=>{r[l.id]||(n.push(l),r[l.id]=l,l.isEdge()&&o.push(l),l.isNode()&&s.push(l))};return t.forEach(l=>{a(l),e.deep&&l.getDescendants({deep:!0}).forEach(u=>a(u))}),o.forEach(l=>{const c=l.getSourceCell(),u=l.getTargetCell();c&&!r[c.id]&&(n.push(c),r[c.id]=c,c.isNode()&&s.push(c)),u&&!r[u.id]&&(n.push(u),r[u.id]=u,u.isNode()&&s.push(u))}),s.forEach(l=>{this.getConnectedEdges(l,e).forEach(u=>{const h=u.getSourceCell(),f=u.getTargetCell();!r[u.id]&&h&&r[h.id]&&f&&r[f.id]&&(n.push(u),r[u.id]=u)})}),n}cloneSubGraph(t,e={}){const n=this.getSubGraph(t,e);return this.cloneCells(n)}cloneCells(t){return ie.cloneCells(t)}getNodesFromPoint(t,e){const n=typeof t=="number"?{x:t,y:e||0}:t;return this.getNodes().filter(r=>r.getBBox().containsPoint(n))}getNodesInArea(t,e,n,r,s){const o=typeof t=="number"?new ht(t,e,n,r):ht.create(t),a=typeof t=="number"?s:e,l=a&&a.strict;return this.getNodes().filter(c=>{const u=c.getBBox();return l?o.containsRect(u):o.isIntersectWithRect(u)})}getEdgesInArea(t,e,n,r,s){const o=typeof t=="number"?new ht(t,e,n,r):ht.create(t),a=typeof t=="number"?s:e,l=a&&a.strict;return this.getEdges().filter(c=>{const u=c.getBBox();return u.width===0?u.inflate(1,0):u.height===0&&u.inflate(0,1),l?o.containsRect(u):o.isIntersectWithRect(u)})}getNodesUnderNode(t,e={}){const n=t.getBBox();return(e.by==null||e.by==="bbox"?this.getNodesInArea(n):this.getNodesFromPoint(n[e.by])).filter(s=>t.id!==s.id&&!s.isDescendantOf(t))}getAllCellsBBox(){return this.getCellsBBox(this.getCells())}getCellsBBox(t,e={}){return ie.getCellsBBox(t,e)}search(t,e,n={}){n.breadthFirst?this.breadthFirstSearch(t,e,n):this.depthFirstSearch(t,e,n)}breadthFirstSearch(t,e,n={}){const r=[],s={},o={};for(r.push(t),o[t.id]=0;r.length>0;){const a=r.shift();if(a==null||s[a.id]||(s[a.id]=!0,xt(e,this,a,o[a.id])===!1))continue;this.getNeighbors(a,n).forEach(c=>{o[c.id]=o[a.id]+1,r.push(c)})}}depthFirstSearch(t,e,n={}){const r=[],s={},o={};for(r.push(t),o[t.id]=0;r.length>0;){const a=r.pop();if(a==null||s[a.id]||(s[a.id]=!0,xt(e,this,a,o[a.id])===!1))continue;const l=this.getNeighbors(a,n),c=r.length;l.forEach(u=>{o[u.id]=o[a.id]+1,r.splice(c,0,u)})}}getShortestPath(t,e,n={}){const r={};this.getEdges().forEach(c=>{const u=c.getSourceCellId(),h=c.getTargetCellId();u&&h&&(r[u]||(r[u]=[]),r[h]||(r[h]=[]),r[u].push(h),n.directed||r[h].push(u))});const s=typeof t=="string"?t:t.id,o=Ud.run(r,s,n.weight),a=[];let l=typeof e=="string"?e:e.id;for(o[l]&&a.push(l);l=o[l];)a.unshift(l);return a}translate(t,e,n){return this.getCells().filter(r=>!r.hasParent()).forEach(r=>r.translate(t,e,n)),this}resize(t,e,n){return this.resizeCells(t,e,this.getCells(),n)}resizeCells(t,e,n,r={}){const s=this.getCellsBBox(n);if(s){const o=Math.max(t/s.width,0),a=Math.max(e/s.height,0),l=s.getOrigin();n.forEach(c=>c.scale(o,a,l,r))}return this}toJSON(t={}){return Cn.toJSON(this.getCells(),t)}parseJSON(t){return Cn.fromJSON(t)}fromJSON(t,e={}){const n=this.parseJSON(t);return this.resetCells(n,e),this}startBatch(t,e={}){return this.batches[t]=(this.batches[t]||0)+1,this.notify("batch:start",{name:t,data:e}),this}stopBatch(t,e={}){return this.batches[t]=(this.batches[t]||0)-1,this.notify("batch:stop",{name:t,data:e}),this}batchUpdate(t,e,n={}){this.startBatch(t,n);const r=e();return this.stopBatch(t,n),r}hasActiveBatch(t=Object.keys(this.batches)){return(Array.isArray(t)?t:[t]).some(n=>this.batches[n]>0)}}(function(i){i.toStringTag=`X6.${i.name}`;function t(e){if(e==null)return!1;if(e instanceof i)return!0;const n=e[Symbol.toStringTag],r=e;return(n==null||n===i.toStringTag)&&typeof r.addNode=="function"&&typeof r.addEdge=="function"&&r.collection!=null}i.isModel=t})(Cn||(Cn={}));(function(i){function t(n,r={}){return{cells:n.map(s=>s.toJSON(r))}}i.toJSON=t;function e(n){const r=[];return Array.isArray(n)?r.push(...n):(n.cells&&r.push(...n.cells),n.nodes&&n.nodes.forEach(s=>{s.shape==null&&(s.shape="rect"),r.push(s)}),n.edges&&n.edges.forEach(s=>{s.shape==null&&(s.shape="edge"),r.push(s)})),r.map(s=>{const o=s.shape;if(o){if(Le.registry.exist(o))return Le.create(s);if(Ne.registry.exist(o))return Ne.create(s)}throw new Error("The `shape` should be specified when creating a node/edge instance")})}i.fromJSON=e})(Cn||(Cn={}));const Yi=".text-block-content",Tc=gp("text-block");class ru extends Le{get content(){return this.getContent()}set content(t){this.setContent(t)}getContent(){return this.store.get("content","")}setContent(t,e={}){this.store.set("content",t,e)}setup(){super.setup(),this.store.on("change:*",t=>{const e=t.key;e==="content"?this.updateContent(this.getContent()):e==="size"&&this.updateSize(this.getSize())}),this.updateSize(this.getSize()),this.updateContent(this.getContent())}updateSize(t){Ze.SUPPORT_FOREIGNOBJECT&&this.setAttrs({foreignObject:Object.assign({},t),[Yi]:{style:Object.assign({},t)}})}updateContent(t){Ze.SUPPORT_FOREIGNOBJECT?this.setAttrs({[Yi]:{html:t?ry(t):""}}):this.setAttrs({[Yi]:{text:t}})}}(function(i){i.config({type:Tc,view:Tc,markup:['<g class="rotatable">','<g class="scalable"><rect/></g>',Ze.SUPPORT_FOREIGNOBJECT?["<foreignObject>",'<body xmlns="http://www.w3.org/1999/xhtml">',`<div class="${Yi.substr(1)}" />`,"</body>","</foreignObject>"].join(""):`<text class="${Yi.substr(1)}"/>`,"</g>"].join(""),attrs:{".":{fill:"#ffffff",stroke:"none"},rect:{fill:"#ffffff",stroke:"#000000",width:80,height:100},text:{fill:"#000000",fontSize:14,fontFamily:"Arial, helvetica, sans-serif"},body:{style:{background:"transparent",position:"static",margin:0,padding:0}},foreignObject:{style:{overflow:"hidden"}},[Yi]:{refX:.5,refY:.5,yAlign:"middle",xAlign:"middle",style:{textAlign:"center",verticalAlign:"middle",display:"table-cell",padding:"0 5px",margin:0}}}}),Le.registry.register(Tc,i)})(ru||(ru={}));(function(i){const t="content";class e extends Bn{confirmUpdate(r,s={}){let o=super.confirmUpdate(r,s);return this.hasAction(o,t)&&(this.updateContent(),o=this.removeAction(o,t)),o}update(r){if(Ze.SUPPORT_FOREIGNOBJECT)super.update(r);else{const s=this.cell,o=Object.assign({},r||s.getAttrs());delete o[Yi],super.update(o),(!r||ka(r,Yi))&&this.updateContent(r)}}updateContent(r){if(Ze.SUPPORT_FOREIGNOBJECT)super.update(r);else{const s=this.cell,o=(r||s.getAttrs())[Yi],a=by(s.getContent(),s.getSize(),o,{svgDocument:this.graph.view.svg}),l={[Yi]:De({},o,{text:a})};super.update(l)}}}i.View=e,function(n){n.config({bootstrap:["render",t],actions:Ze.SUPPORT_FOREIGNOBJECT?{}:{size:t,content:t}}),Bn.registry.register(Tc,n)}(e=i.View||(i.View={}))})(ru||(ru={}));bn.define({shape:"empty"});function N7(i,t="body"){return[{tagName:i,selector:t},{tagName:"text",selector:"label"}]}function Or(i,t,e={}){const n={constructorName:i,markup:N7(i,e.selector),attrs:{[i]:Object.assign({},bn.bodyAttr)}};return(e.parent||bn).define(De(n,t,{shape:i}))}Or("rect",{attrs:{body:{refWidth:"100%",refHeight:"100%"}}});Le.define({shape:"rect-headered",markup:[{tagName:"rect",selector:"body"},{tagName:"rect",selector:"header"},{tagName:"text",selector:"headerText"},{tagName:"text",selector:"bodyText"}],attrs:{body:Object.assign(Object.assign({},bn.bodyAttr),{refWidth:"100%",refHeight:"100%"}),header:Object.assign(Object.assign({},bn.bodyAttr),{refWidth:"100%",height:30,stroke:"#000000"}),headerText:Object.assign(Object.assign({},bn.labelAttr),{refX:"50%",refY:15,fontSize:16}),bodyText:Object.assign(Object.assign({},bn.labelAttr),{refY2:15})}});Or("circle",{attrs:{body:{refCx:"50%",refCy:"50%",refR:"50%"}}});const Gh=10;bn.define({shape:"cylinder",overwrite:!0,markup:[{tagName:"path",selector:"body"},{tagName:"ellipse",selector:"top"},{tagName:"text",selector:"label"}],attrs:{body:Object.assign(Object.assign({},bn.bodyAttr),{lateral:Gh}),top:Object.assign(Object.assign({},bn.bodyAttr),{refCx:"50%",refRx:"50%",cy:Gh,ry:Gh})},attrHooks:{lateral:{set(i,{refBBox:t}){const e=ji(i);e&&(i=parseFloat(i)/100);const n=t.x,r=t.y,s=t.width,o=t.height,a=s/2,l=e?o*i:i,c=.551784,u=c*a,h=c*l,f=n,p=n+s/2,b=n+s,v=r+l,w=v-l,x=r+o-l,E=r+o;return{d:["M",f,v,"L",f,x,"C",n,x+h,p-u,E,p,E,"C",p+u,E,b,x+h,b,x,"L",b,v,"C",b,v-h,p+u,w,p,w,"C",p-u,w,f,v-h,f,v,"Z"].join(" ")}}}},knob:{enabled:!0,position({node:i}){const t=i.attr("body/lateral");return{x:0,y:t}},onMouseMove({node:i,data:t,deltaY:e}){if(e!==0){const n=i.getBBox(),r=i.attr("body/lateral");t.round==null&&(t.round=r);const s=0,o=n.height/2,a=In(t.round+e,s,o);a!==r&&i.attr({body:{lateral:a},top:{cy:a,ry:a}})}}}});Or("ellipse",{attrs:{body:{refCx:"50%",refCy:"50%",refRx:"50%",refRy:"50%"}}});var $7=globalThis&&globalThis.__rest||function(i,t){var e={};for(var n in i)Object.prototype.hasOwnProperty.call(i,n)&&t.indexOf(n)<0&&(e[n]=i[n]);if(i!=null&&typeof Object.getOwnPropertySymbols=="function")for(var r=0,n=Object.getOwnPropertySymbols(i);r<n.length;r++)t.indexOf(n[r])<0&&Object.prototype.propertyIsEnumerable.call(i,n[r])&&(e[n[r]]=i[n[r]]);return e};class aa extends bn{get points(){return this.getPoints()}set points(t){this.setPoints(t)}getPoints(){return this.getAttrByPath("body/refPoints")}setPoints(t,e){return t==null?this.removePoints():this.setAttrByPath("body/refPoints",aa.pointsToString(t),e),this}removePoints(){return this.removeAttrByPath("body/refPoints"),this}}(function(i){function t(e){return typeof e=="string"?e:e.map(n=>Array.isArray(n)?n.join(","):N.isPointLike(n)?`${n.x}, ${n.y}`:"").join(" ")}i.pointsToString=t,i.config({propHooks(e){const{points:n}=e,r=$7(e,["points"]);if(n){const s=t(n);s&&ha(r,"attrs/body/refPoints",s)}return r}})})(aa||(aa={}));Or("polygon",{},{parent:aa});Or("polyline",{},{parent:aa});var F7=globalThis&&globalThis.__rest||function(i,t){var e={};for(var n in i)Object.prototype.hasOwnProperty.call(i,n)&&t.indexOf(n)<0&&(e[n]=i[n]);if(i!=null&&typeof Object.getOwnPropertySymbols=="function")for(var r=0,n=Object.getOwnPropertySymbols(i);r<n.length;r++)t.indexOf(n[r])<0&&Object.prototype.propertyIsEnumerable.call(i,n[r])&&(e[n[r]]=i[n[r]]);return e};bn.define({shape:"path",markup:[{tagName:"rect",selector:"bg"},{tagName:"path",selector:"body"},{tagName:"text",selector:"label"}],attrs:{bg:{refWidth:"100%",refHeight:"100%",fill:"none",stroke:"none",pointerEvents:"all"},body:{fill:"none",stroke:"#000",strokeWidth:2}},propHooks(i){const{path:t}=i,e=F7(i,["path"]);return t&&ha(e,"attrs/body/refD",t),e}});var L7=globalThis&&globalThis.__rest||function(i,t){var e={};for(var n in i)Object.prototype.hasOwnProperty.call(i,n)&&t.indexOf(n)<0&&(e[n]=i[n]);if(i!=null&&typeof Object.getOwnPropertySymbols=="function")for(var r=0,n=Object.getOwnPropertySymbols(i);r<n.length;r++)t.indexOf(n[r])<0&&Object.prototype.propertyIsEnumerable.call(i,n[r])&&(e[n[r]]=i[n[r]]);return e};bn.define({shape:"text-block",markup:[{tagName:"rect",selector:"body"},Ze.SUPPORT_FOREIGNOBJECT?{tagName:"foreignObject",selector:"foreignObject",children:[{tagName:"div",ns:sn.xhtml,selector:"label",style:{width:"100%",height:"100%",position:"static",backgroundColor:"transparent",textAlign:"center",margin:0,padding:"0px 5px",boxSizing:"border-box",display:"flex",alignItems:"center",justifyContent:"center"}}]}:{tagName:"text",selector:"label",attrs:{textAnchor:"middle"}}],attrs:{body:Object.assign(Object.assign({},bn.bodyAttr),{refWidth:"100%",refHeight:"100%"}),foreignObject:{refWidth:"100%",refHeight:"100%"},label:{style:{fontSize:14}}},propHooks(i){const{text:t}=i,e=L7(i,["text"]);return t&&ha(e,"attrs/label/text",t),e},attrHooks:{text:{set(i,{cell:t,view:e,refBBox:n,elem:r,attrs:s}){if(r instanceof HTMLElement)r.textContent=i;else{const o=s.style||{},a={text:i,width:-5,height:"100%"},l=Object.assign({textVerticalAnchor:"middle"},o),c=nr.presets.textWrap;return xt(c.set,this,a,{cell:t,view:e,elem:r,refBBox:n,attrs:l}),{fill:o.color||null}}},position(i,{refBBox:t,elem:e}){if(e instanceof SVGElement)return t.getCenter()}}}});Or("image",{attrs:{image:{refWidth:"100%",refHeight:"100%"}},propHooks:Rl()},{selector:"image"});Or("image-bordered",{markup:[{tagName:"rect",selector:"background",attrs:{stroke:"none"}},{tagName:"image",selector:"image"},{tagName:"rect",selector:"border",attrs:{fill:"none"}},{tagName:"text",selector:"label"}],attrs:{background:{refWidth:-1,refHeight:-1,x:.5,y:.5,fill:"#ffffff"},border:{refWidth:"100%",refHeight:"100%",stroke:"#333333",strokeWidth:2},image:{refWidth:-1,refHeight:-1,x:.5,y:.5}},propHooks:Rl()});Or("image-embedded",{markup:[{tagName:"rect",selector:"body"},{tagName:"image",selector:"image"},{tagName:"text",selector:"label"}],attrs:{body:{refWidth:"100%",refHeight:"100%",stroke:"#333333",fill:"#FFFFFF",strokeWidth:2},image:{refWidth:"30%",refHeight:-20,x:10,y:10,preserveAspectRatio:"xMidYMin"}},propHooks:Rl()});Or("image-inscribed",{propHooks:Rl(),markup:[{tagName:"ellipse",selector:"background"},{tagName:"image",selector:"image"},{tagName:"ellipse",selector:"border",attrs:{fill:"none"}},{tagName:"text",selector:"label"}],attrs:{border:{refRx:"50%",refRy:"50%",refCx:"50%",refCy:"50%",stroke:"#333333",strokeWidth:2},background:{refRx:"50%",refRy:"50%",refCx:"50%",refCy:"50%",fill:"#ffffff"},image:{refWidth:"68%",refHeight:"68%",refX:"16%",refY:"16%",preserveAspectRatio:"xMidYMid"}}});const mp=Ne.define({shape:"edge",markup:[{tagName:"path",selector:"wrap",groupSelector:"lines",attrs:{fill:"none",cursor:"pointer",stroke:"transparent",strokeLinecap:"round"}},{tagName:"path",selector:"line",groupSelector:"lines",attrs:{fill:"none",pointerEvents:"none"}}],attrs:{lines:{connection:!0,strokeLinejoin:"round"},wrap:{strokeWidth:10},line:{stroke:"#333",strokeWidth:2,targetMarker:"classic"}}});Ne.define({shape:"shadow-edge",markup:[{tagName:"path",selector:"shadow",attrs:{fill:"none"}},{tagName:"path",selector:"line",attrs:{fill:"none",cursor:"pointer"}}],attrs:{line:{connection:!0,stroke:"#FF0000",strokeWidth:20,strokeLinejoin:"round",targetMarker:{name:"path",stroke:"none",d:"M 0 -10 -10 0 0 10 z",offsetX:-5},sourceMarker:{name:"path",stroke:"none",d:"M -10 -10 0 0 -10 10 0 10 0 -10 z",offsetX:-5}},shadow:{connection:!0,refX:3,refY:6,stroke:"#000000",strokeOpacity:.2,strokeWidth:20,strokeLinejoin:"round",targetMarker:{name:"path",d:"M 0 -10 -10 0 0 10 z",stroke:"none",offsetX:-5},sourceMarker:{name:"path",stroke:"none",d:"M -10 -10 0 0 -10 10 0 10 0 -10 z",offsetX:-5}}}});Ne.define({shape:"double-edge",markup:[{tagName:"path",selector:"outline",attrs:{fill:"none"}},{tagName:"path",selector:"line",attrs:{fill:"none",cursor:"pointer"}}],attrs:{line:{connection:!0,stroke:"#dddddd",strokeWidth:4,strokeLinejoin:"round",targetMarker:{tagName:"path",stroke:"#000000",d:"M 10 -3 10 -10 -2 0 10 10 10 3"}},outline:{connection:!0,stroke:"#000000",strokeWidth:6,strokeLinejoin:"round"}}});class rr extends bn{get html(){return this.getHTML()}set html(t){this.setHTML(t)}getHTML(){return this.store.get("html")}setHTML(t,e={}){return t==null?this.removeHTML(e):this.store.set("html",t,e),this}removeHTML(t={}){return this.store.remove("html",t)}}(function(i){class t extends Bn{init(){super.init(),this.cell.on("change:*",()=>{this.graph.hook.shouldUpdateHTMLComponent(this.cell)&&this.renderHTMLComponent()})}confirmUpdate(n){const r=super.confirmUpdate(n);return this.handleAction(r,t.action,()=>this.renderHTMLComponent())}renderHTMLComponent(){const n=this.selectors.foContent;if(n){const r=this.$(n).empty(),s=this.graph.hook.getHTMLComponent(this.cell);s&&(typeof s=="string"?r.html(s):r.append(s))}}}i.View=t,function(e){e.action="html",e.config({bootstrap:[e.action],actions:{html:e.action}}),Bn.registry.register("html-view",e)}(t=i.View||(i.View={}))})(rr||(rr={}));(function(i){i.config({view:"html-view",markup:[{tagName:"rect",selector:"body"},Object.assign({},he.getForeignObjectMarkup()),{tagName:"text",selector:"label"}],attrs:{body:{fill:"none",stroke:"none",refWidth:"100%",refHeight:"100%"},fo:{refWidth:"100%",refHeight:"100%"}}}),Le.registry.register("html",i)})(rr||(rr={}));(function(i){i.componentRegistry=Ye.create({type:"html componnet"})})(rr||(rr={}));var I7=globalThis&&globalThis.__decorate||function(i,t,e,n){var r=arguments.length,s=r<3?t:n===null?n=Object.getOwnPropertyDescriptor(t,e):n,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")s=Reflect.decorate(i,t,e,n);else for(var a=i.length-1;a>=0;a--)(o=i[a])&&(s=(r<3?o(s):r>3?o(t,e,s):o(t,e))||s);return r>3&&s&&Object.defineProperty(t,e,s),s};class Sl extends Qy{constructor(t){super(),this.delay=10,this.throttle=2,this.threshold=5,this.changeCount=0,this.timestamp=0,this.options=Object.assign(Object.assign({},Sl.defaultOptions),t),this.graph.model.on("cell:change:*",this.onModelChanged,this)}get graph(){return this.options.graph}onModelChanged(){if(this.disabled)return;const e=(new Date().getTime()-this.timestamp)/1e3;e>this.delay||this.changeCount>=this.threshold&&e>this.throttle?(this.save(),this.reset()):this.changeCount+=1}save(){this.trigger("save")}reset(){this.changeCount=0,this.timestamp=new Date().getTime()}dispose(){this.graph.model.off("cell:change:*",this.onModelChanged,this)}}I7([Qy.dispose()],Sl.prototype,"dispose",null);(function(i){i.defaultOptions={delay:10,throttle:2,threshold:5}})(Sl||(Sl={}));class Ee extends Bi{constructor(t){super(),this.graph=t,this.init()}get options(){return this.graph.options}get model(){return this.graph.model}get view(){return this.graph.view}init(){}}var z7=globalThis&&globalThis.__decorate||function(i,t,e,n){var r=arguments.length,s=r<3?t:n===null?n=Object.getOwnPropertyDescriptor(t,e):n,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")s=Reflect.decorate(i,t,e,n);else for(var a=i.length-1;a>=0;a--)(o=i[a])&&(s=(r<3?o(s):r>3?o(t,e,s):o(t,e))||s);return r>3&&s&&Object.defineProperty(t,e,s),s};class Ri extends se{constructor(t){super(),this.graph=t;const{selectors:e,fragment:n}=he.parseJSONMarkup(Ri.markup);this.background=e.background,this.grid=e.grid,this.svg=e.svg,this.defs=e.defs,this.viewport=e.viewport,this.primer=e.primer,this.stage=e.stage,this.decorator=e.decorator,this.overlay=e.overlay,this.container=this.options.container,this.restore=Ri.snapshoot(this.container),this.$(this.container).addClass(this.prefixClassName("graph")).append(n),this.delegateEvents()}get model(){return this.graph.model}get options(){return this.graph.options}delegateEvents(){const t=this.constructor;return super.delegateEvents(t.events),this}guard(t,e){return t.type==="mousedown"&&t.button===2||this.options.guard&&this.options.guard(t,e)?!0:t.data&&t.data.guarded!==void 0?t.data.guarded:!(e&&e.cell&&ie.isCell(e.cell)||this.svg===t.target||this.container===t.target||Ke.contains(this.svg,t.target))}findView(t){return this.graph.renderer.findViewByElem(t)}onDblClick(t){this.options.preventDefaultDblClick&&t.preventDefault();const e=this.normalizeEvent(t),n=this.findView(e.target);if(this.guard(e,n))return;const r=this.graph.snapToGrid(e.clientX,e.clientY);n?n.onDblClick(e,r.x,r.y):this.graph.trigger("blank:dblclick",{e,x:r.x,y:r.y})}onClick(t){if(this.getMouseMovedCount(t)<=this.options.clickThreshold){const e=this.normalizeEvent(t),n=this.findView(e.target);if(this.guard(e,n))return;const r=this.graph.snapToGrid(e.clientX,e.clientY);n?n.onClick(e,r.x,r.y):this.graph.trigger("blank:click",{e,x:r.x,y:r.y})}}onContextMenu(t){this.options.preventDefaultContextMenu&&t.preventDefault();const e=this.normalizeEvent(t),n=this.findView(e.target);if(this.guard(e,n))return;const r=this.graph.snapToGrid(e.clientX,e.clientY);n?n.onContextMenu(e,r.x,r.y):this.graph.trigger("blank:contextmenu",{e,x:r.x,y:r.y})}delegateDragEvents(t,e){t.data==null&&(t.data={}),this.setEventData(t,{currentView:e||null,mouseMovedCount:0,startPosition:{x:t.clientX,y:t.clientY}});const n=this.constructor;this.delegateDocumentEvents(n.documentEvents,t.data),this.undelegateEvents()}getMouseMovedCount(t){return this.getEventData(t).mouseMovedCount||0}onMouseDown(t){const e=this.normalizeEvent(t),n=this.findView(e.target);if(this.guard(e,n))return;this.options.preventDefaultMouseDown&&e.preventDefault();const r=this.graph.snapToGrid(e.clientX,e.clientY);n?n.onMouseDown(e,r.x,r.y):(this.options.preventDefaultBlankAction&&e.preventDefault(),this.graph.trigger("blank:mousedown",{e,x:r.x,y:r.y})),this.delegateDragEvents(e,n)}onMouseMove(t){const e=this.getEventData(t),n=e.startPosition;if(n&&n.x===t.clientX&&n.y===t.clientY||(e.mouseMovedCount==null&&(e.mouseMovedCount=0),e.mouseMovedCount+=1,e.mouseMovedCount<=this.options.moveThreshold))return;const s=this.normalizeEvent(t),o=this.graph.snapToGrid(s.clientX,s.clientY),a=e.currentView;a?a.onMouseMove(s,o.x,o.y):this.graph.trigger("blank:mousemove",{e:s,x:o.x,y:o.y}),this.setEventData(s,e)}onMouseUp(t){this.undelegateDocumentEvents();const e=this.normalizeEvent(t),n=this.graph.snapToGrid(e.clientX,e.clientY),s=this.getEventData(t).currentView;s?s.onMouseUp(e,n.x,n.y):this.graph.trigger("blank:mouseup",{e,x:n.x,y:n.y}),t.isPropagationStopped()||this.onClick(Ke.Event(t,{type:"click",data:t.data})),t.stopImmediatePropagation(),this.delegateEvents()}onMouseOver(t){const e=this.normalizeEvent(t),n=this.findView(e.target);if(!this.guard(e,n))if(n)n.onMouseOver(e);else{if(this.container===e.target)return;this.graph.trigger("blank:mouseover",{e})}}onMouseOut(t){const e=this.normalizeEvent(t),n=this.findView(e.target);if(!this.guard(e,n))if(n)n.onMouseOut(e);else{if(this.container===e.target)return;this.graph.trigger("blank:mouseout",{e})}}onMouseEnter(t){const e=this.normalizeEvent(t),n=this.findView(e.target);if(this.guard(e,n))return;const r=this.graph.renderer.findViewByElem(e.relatedTarget);if(n){if(r===n)return;n.onMouseEnter(e)}else{if(r)return;this.graph.trigger("graph:mouseenter",{e})}}onMouseLeave(t){const e=this.normalizeEvent(t),n=this.findView(e.target);if(this.guard(e,n))return;const r=this.graph.renderer.findViewByElem(e.relatedTarget);if(n){if(r===n)return;n.onMouseLeave(e)}else{if(r)return;this.graph.trigger("graph:mouseleave",{e})}}onMouseWheel(t){const e=this.normalizeEvent(t),n=this.findView(e.target);if(this.guard(e,n))return;const r=e.originalEvent,s=this.graph.snapToGrid(r.clientX,r.clientY),o=Math.max(-1,Math.min(1,r.wheelDelta||-r.detail));n?n.onMouseWheel(e,s.x,s.y,o):this.graph.trigger("blank:mousewheel",{e,delta:o,x:s.x,y:s.y})}onCustomEvent(t){const e=t.currentTarget,n=e.getAttribute("event")||e.getAttribute("data-event");if(n){const r=this.findView(e);if(r){const s=this.normalizeEvent(t);if(this.guard(s,r))return;const o=this.graph.snapToGrid(s.clientX,s.clientY);r.onCustomEvent(s,n,o.x,o.y)}}}handleMagnetEvent(t,e){const n=t.currentTarget,r=n.getAttribute("magnet");if(r&&r.toLowerCase()!=="false"){const s=this.findView(n);if(s){const o=this.normalizeEvent(t);if(this.guard(o,s))return;const a=this.graph.snapToGrid(o.clientX,o.clientY);xt(e,this.graph,s,o,n,a.x,a.y)}}}onMagnetMouseDown(t){this.handleMagnetEvent(t,(e,n,r,s,o)=>{e.onMagnetMouseDown(n,r,s,o)})}onMagnetDblClick(t){this.handleMagnetEvent(t,(e,n,r,s,o)=>{e.onMagnetDblClick(n,r,s,o)})}onMagnetContextMenu(t){this.options.preventDefaultContextMenu&&t.preventDefault(),this.handleMagnetEvent(t,(e,n,r,s,o)=>{e.onMagnetContextMenu(n,r,s,o)})}onLabelMouseDown(t){const e=t.currentTarget,n=this.findView(e);if(n){const r=this.normalizeEvent(t);if(this.guard(r,n))return;const s=this.graph.snapToGrid(r.clientX,r.clientY);n.onLabelMouseDown(r,s.x,s.y)}}onImageDragStart(){return!1}dispose(){this.undelegateEvents(),this.undelegateDocumentEvents(),this.restore(),this.restore=()=>{}}}z7([se.dispose()],Ri.prototype,"dispose",null);(function(i){const t=`${ir.prefixCls}-graph`;i.markup=[{ns:sn.xhtml,tagName:"div",selector:"background",className:`${t}-background`},{ns:sn.xhtml,tagName:"div",selector:"grid",className:`${t}-grid`},{ns:sn.svg,tagName:"svg",selector:"svg",className:`${t}-svg`,attrs:{width:"100%",height:"100%","xmlns:xlink":sn.xlink},children:[{tagName:"defs",selector:"defs"},{tagName:"g",selector:"viewport",className:`${t}-svg-viewport`,children:[{tagName:"g",selector:"primer",className:`${t}-svg-primer`},{tagName:"g",selector:"stage",className:`${t}-svg-stage`},{tagName:"g",selector:"decorator",className:`${t}-svg-decorator`},{tagName:"g",selector:"overlay",className:`${t}-svg-overlay`}]}]}];function e(n){const r=n.cloneNode();return n.childNodes.forEach(s=>r.appendChild(s)),()=>{for(lp(n);n.attributes.length>0;)n.removeAttribute(n.attributes[0].name);for(let s=0,o=r.attributes.length;s<o;s+=1){const a=r.attributes[s];n.setAttribute(a.name,a.value)}r.childNodes.forEach(s=>n.appendChild(s))}}i.snapshoot=e})(Ri||(Ri={}));(function(i){const t=ir.prefixCls;i.events={dblclick:"onDblClick",contextmenu:"onContextMenu",touchstart:"onMouseDown",mousedown:"onMouseDown",mouseover:"onMouseOver",mouseout:"onMouseOut",mouseenter:"onMouseEnter",mouseleave:"onMouseLeave",mousewheel:"onMouseWheel",DOMMouseScroll:"onMouseWheel",[`mouseenter  .${t}-cell`]:"onMouseEnter",[`mouseleave  .${t}-cell`]:"onMouseLeave",[`mouseenter  .${t}-cell-tools`]:"onMouseEnter",[`mouseleave  .${t}-cell-tools`]:"onMouseLeave",[`mousedown   .${t}-cell [event]`]:"onCustomEvent",[`touchstart  .${t}-cell [event]`]:"onCustomEvent",[`mousedown   .${t}-cell [data-event]`]:"onCustomEvent",[`touchstart  .${t}-cell [data-event]`]:"onCustomEvent",[`dblclick    .${t}-cell [magnet]`]:"onMagnetDblClick",[`contextmenu .${t}-cell [magnet]`]:"onMagnetContextMenu",[`mousedown   .${t}-cell [magnet]`]:"onMagnetMouseDown",[`touchstart  .${t}-cell [magnet]`]:"onMagnetMouseDown",[`dblclick    .${t}-cell [data-magnet]`]:"onMagnetDblClick",[`contextmenu .${t}-cell [data-magnet]`]:"onMagnetContextMenu",[`mousedown   .${t}-cell [data-magnet]`]:"onMagnetMouseDown",[`touchstart  .${t}-cell [data-magnet]`]:"onMagnetMouseDown",[`dragstart   .${t}-cell image`]:"onImageDragStart",[`mousedown   .${t}-edge .${t}-edge-label`]:"onLabelMouseDown",[`touchstart  .${t}-edge .${t}-edge-label`]:"onLabelMouseDown"},i.documentEvents={mousemove:"onMouseMove",touchmove:"onMouseMove",mouseup:"onMouseUp",touchend:"onMouseUp",touchcancel:"onMouseUp"}})(Ri||(Ri={}));var Oi;(function(i){function t(e,n){return(r,s,o)=>{const a=o.value;o.value=function(...l){if(this.scroller.widget==null){const u=`Shoule enable scroller to use method '${s}'`;if(e!==!1)throw console.error(u),new Error(u);return n!==!1&&console.warn(u),this}return a.call(this,...l)}}}i.checkScroller=t})(Oi||(Oi={}));const j7=`.x6-graph {
  position: relative;
  outline: none;
}
.x6-graph-background,
.x6-graph-grid,
.x6-graph-svg {
  position: absolute;
  top: 0;
  right: 0;
  bottom: 0;
  left: 0;
}
.x6-graph-background-stage,
.x6-graph-grid-stage,
.x6-graph-svg-stage {
  user-select: none;
}
.x6-graph.x6-graph-pannable {
  cursor: grab;
  cursor: -moz-grab;
  cursor: -webkit-grab;
}
.x6-graph.x6-graph-panning {
  cursor: grabbing;
  cursor: -moz-grabbing;
  cursor: -webkit-grabbing;
  user-select: none;
}
.x6-node {
  cursor: move;
  /* stylelint-disable-next-line */
}
.x6-node.x6-node-immovable {
  cursor: default;
}
.x6-node * {
  -webkit-user-drag: none;
}
.x6-node .scalable * {
  vector-effect: non-scaling-stroke;
}
.x6-node [magnet='true'] {
  cursor: crosshair;
  transition: opacity 0.3s;
}
.x6-node [magnet='true']:hover {
  opacity: 0.7;
}
.x6-node foreignObject {
  display: block;
  overflow: visible;
  background-color: transparent;
}
.x6-node foreignObject > body {
  position: static;
  width: 100%;
  height: 100%;
  margin: 0;
  padding: 0;
  overflow: visible;
  background-color: transparent;
}
.x6-edge .source-marker,
.x6-edge .target-marker {
  vector-effect: non-scaling-stroke;
}
.x6-edge .connection {
  stroke-linejoin: round;
  fill: none;
}
.x6-edge .connection-wrap {
  cursor: move;
  opacity: 0;
  fill: none;
  stroke: #000;
  stroke-width: 15;
  stroke-linecap: round;
  stroke-linejoin: round;
}
.x6-edge .connection-wrap:hover {
  opacity: 0.4;
  stroke-opacity: 0.4;
}
.x6-edge .vertices {
  cursor: move;
  opacity: 0;
}
.x6-edge .vertices .vertex {
  fill: #1abc9c;
}
.x6-edge .vertices .vertex :hover {
  fill: #34495e;
  stroke: none;
}
.x6-edge .vertices .vertex-remove {
  cursor: pointer;
  fill: #fff;
}
.x6-edge .vertices .vertex-remove-area {
  cursor: pointer;
  opacity: 0.1;
}
.x6-edge .vertices .vertex-group:hover .vertex-remove-area {
  opacity: 1;
}
.x6-edge .arrowheads {
  cursor: move;
  opacity: 0;
}
.x6-edge .arrowheads .arrowhead {
  fill: #1abc9c;
}
.x6-edge .arrowheads .arrowhead :hover {
  fill: #f39c12;
  stroke: none;
}
.x6-edge .tools {
  cursor: pointer;
  opacity: 0;
}
.x6-edge .tools .tool-options {
  display: none;
}
.x6-edge .tools .tool-remove circle {
  fill: #f00;
}
.x6-edge .tools .tool-remove path {
  fill: #fff;
}
.x6-edge:hover .vertices,
.x6-edge:hover .arrowheads,
.x6-edge:hover .tools {
  opacity: 1;
}
.x6-highlight-opacity {
  opacity: 0.3;
}
@keyframes halo-pie-visibility {
  0% {
    visibility: hidden;
  }
  100% {
    visibility: visible;
  }
}
@keyframes halo-pie-opening {
  0% {
    transform: scale(0.4) rotate(-20deg);
  }
  100% {
    transform: scale(1) rotate(0);
  }
}
.x6-widget-handle {
  position: absolute;
  width: 20px;
  height: 20px;
  background-color: transparent;
  background-repeat: no-repeat;
  background-position: 0 0;
  background-size: 20px 20px;
  cursor: pointer;
  user-select: none;
  pointer-events: auto;
  -webkit-user-drag: none;
  user-drag: none;
  /* stylelint-disable-line */
}
.x6-widget-handle.hidden {
  display: none;
}
.x6-widget-handle-selected {
  background-color: rgba(0, 0, 0, 0.1);
  border-radius: 3px;
}
.x6-widget-handle-remove {
  background-image: url('data:image/svg+xml;charset=utf8,%3C%3Fxml%20version%3D%221.0%22%20encoding%3D%22utf-8%22%3F%3E%3C!DOCTYPE%20svg%20PUBLIC%20%22-%2F%2FW3C%2F%2FDTD%20SVG%201.1%2F%2FEN%22%20%22http%3A%2F%2Fwww.w3.org%2FGraphics%2FSVG%2F1.1%2FDTD%2Fsvg11.dtd%22%3E%3Csvg%20version%3D%221.1%22%20id%3D%22Layer_1%22%20xmlns%3D%22http%3A%2F%2Fwww.w3.org%2F2000%2Fsvg%22%20xmlns%3Axlink%3D%22http%3A%2F%2Fwww.w3.org%2F1999%2Fxlink%22%20x%3D%220px%22%20y%3D%220px%22%20width%3D%2218.75px%22%20height%3D%2218.75px%22%20viewBox%3D%220%200%2018.75%2018.75%22%20enable-background%3D%22new%200%200%2018.75%2018.75%22%20xml%3Aspace%3D%22preserve%22%3E%3Cg%3E%3Cpath%20fill%3D%22%236A6C8A%22%20d%3D%22M15.386%2C3.365c-3.315-3.314-8.707-3.313-12.021%2C0c-3.314%2C3.315-3.314%2C8.706%2C0%2C12.02%20c3.314%2C3.314%2C8.707%2C3.314%2C12.021%2C0S18.699%2C6.68%2C15.386%2C3.365L15.386%2C3.365z%20M4.152%2C14.598C1.273%2C11.719%2C1.273%2C7.035%2C4.153%2C4.154%20c2.88-2.88%2C7.563-2.88%2C10.443%2C0c2.881%2C2.88%2C2.881%2C7.562%2C0%2C10.443C11.716%2C17.477%2C7.032%2C17.477%2C4.152%2C14.598L4.152%2C14.598z%22%2F%3E%3Cpath%20fill%3D%22%236A6C8A%22%20d%3D%22M12.157%2C11.371L7.38%2C6.593C7.162%2C6.375%2C6.809%2C6.375%2C6.592%2C6.592c-0.218%2C0.219-0.218%2C0.572%2C0%2C0.79%20l4.776%2C4.776c0.218%2C0.219%2C0.571%2C0.219%2C0.79%2C0C12.375%2C11.941%2C12.375%2C11.588%2C12.157%2C11.371L12.157%2C11.371z%22%2F%3E%3Cpath%20fill%3D%22%236A6C8A%22%20d%3D%22M11.369%2C6.593l-4.777%2C4.778c-0.217%2C0.217-0.217%2C0.568%2C0%2C0.787c0.219%2C0.219%2C0.571%2C0.217%2C0.788%2C0l4.777-4.777%20c0.218-0.218%2C0.218-0.571%2C0.001-0.789C11.939%2C6.375%2C11.587%2C6.375%2C11.369%2C6.593L11.369%2C6.593z%22%2F%3E%3C%2Fg%3E%3C%2Fsvg%3E%20');
  cursor: pointer;
}
.x6-widget-handle-remove:hover {
  background-image: url('data:image/svg+xml;charset=utf8,%3C%3Fxml%20version%3D%221.0%22%20encoding%3D%22utf-8%22%3F%3E%3C!DOCTYPE%20svg%20PUBLIC%20%22-%2F%2FW3C%2F%2FDTD%20SVG%201.1%2F%2FEN%22%20%22http%3A%2F%2Fwww.w3.org%2FGraphics%2FSVG%2F1.1%2FDTD%2Fsvg11.dtd%22%3E%3Csvg%20version%3D%221.1%22%20id%3D%22Layer_1%22%20xmlns%3D%22http%3A%2F%2Fwww.w3.org%2F2000%2Fsvg%22%20xmlns%3Axlink%3D%22http%3A%2F%2Fwww.w3.org%2F1999%2Fxlink%22%20x%3D%220px%22%20y%3D%220px%22%20width%3D%2218.75px%22%20height%3D%2218.75px%22%20viewBox%3D%220%200%2018.75%2018.75%22%20enable-background%3D%22new%200%200%2018.75%2018.75%22%20xml%3Aspace%3D%22preserve%22%3E%3Cg%3E%3Cpath%20fill%3D%22%236A6C8A%22%20d%3D%22M15.386%2C3.365c-3.315-3.314-8.707-3.313-12.021%2C0c-3.314%2C3.315-3.314%2C8.706%2C0%2C12.02%20c3.314%2C3.314%2C8.707%2C3.314%2C12.021%2C0S18.699%2C6.68%2C15.386%2C3.365L15.386%2C3.365z%22%2F%3E%3Cpath%20fill%3D%22%23FFFFFF%22%20d%3D%22M12.157%2C11.371L7.38%2C6.593C7.162%2C6.375%2C6.809%2C6.375%2C6.592%2C6.592c-0.218%2C0.219-0.218%2C0.572%2C0%2C0.79%20l4.776%2C4.776c0.218%2C0.219%2C0.571%2C0.219%2C0.79%2C0C12.375%2C11.941%2C12.375%2C11.588%2C12.157%2C11.371L12.157%2C11.371z%22%2F%3E%3Cpath%20fill%3D%22%23FFFFFF%22%20d%3D%22M11.369%2C6.593l-4.777%2C4.778c-0.217%2C0.217-0.217%2C0.568%2C0%2C0.787c0.219%2C0.219%2C0.571%2C0.217%2C0.788%2C0l4.777-4.777%20c0.218-0.218%2C0.218-0.571%2C0.001-0.789C11.939%2C6.375%2C11.587%2C6.375%2C11.369%2C6.593L11.369%2C6.593z%22%2F%3E%3C%2Fg%3E%3C%2Fsvg%3E%20');
}
.x6-widget-handle-rotate {
  background-image: url('data:image/svg+xml;charset=utf8,%3C%3Fxml%20version%3D%221.0%22%20encoding%3D%22utf-8%22%3F%3E%3C!DOCTYPE%20svg%20PUBLIC%20%22-%2F%2FW3C%2F%2FDTD%20SVG%201.1%2F%2FEN%22%20%22http%3A%2F%2Fwww.w3.org%2FGraphics%2FSVG%2F1.1%2FDTD%2Fsvg11.dtd%22%3E%3Csvg%20version%3D%221.1%22%20id%3D%22Layer_1%22%20xmlns%3D%22http%3A%2F%2Fwww.w3.org%2F2000%2Fsvg%22%20xmlns%3Axlink%3D%22http%3A%2F%2Fwww.w3.org%2F1999%2Fxlink%22%20x%3D%220px%22%20y%3D%220px%22%20width%3D%2218.75px%22%20height%3D%2218.75px%22%20viewBox%3D%220%200%2018.75%2018.75%22%20enable-background%3D%22new%200%200%2018.75%2018.75%22%20xml%3Aspace%3D%22preserve%22%3E%3Cpath%20fill%3D%22%236A6C8A%22%20d%3D%22M9.374%2C17.592c-4.176%2C0-7.57-3.401-7.57-7.575c0-4.175%2C3.395-7.574%2C7.57-7.574c0.28%2C0%2C0.56%2C0.018%2C0.837%2C0.05%20V1.268c0-0.158%2C0.099-0.3%2C0.239-0.36c0.151-0.058%2C0.315-0.026%2C0.428%2C0.086l2.683%2C2.688c0.152%2C0.154%2C0.152%2C0.399%2C0%2C0.553l-2.68%2C2.693%20c-0.115%2C0.112-0.279%2C0.147-0.431%2C0.087c-0.141-0.063-0.239-0.205-0.239-0.361V5.296C9.934%2C5.243%2C9.654%2C5.22%2C9.374%2C5.22%20c-2.646%2C0-4.796%2C2.152-4.796%2C4.797s2.154%2C4.798%2C4.796%2C4.798c2.645%2C0%2C4.798-2.153%2C4.798-4.798c0-0.214%2C0.174-0.391%2C0.391-0.391h1.991%20c0.217%2C0%2C0.394%2C0.177%2C0.394%2C0.391C16.947%2C14.19%2C13.549%2C17.592%2C9.374%2C17.592L9.374%2C17.592z%20M9.374%2C17.592%22%2F%3E%3C%2Fsvg%3E%20');
  cursor: move;
}
.x6-widget-handle-rotate:hover {
  background-image: url('data:image/svg+xml;charset=utf8,%3C%3Fxml%20version%3D%221.0%22%20encoding%3D%22utf-8%22%3F%3E%3C!DOCTYPE%20svg%20PUBLIC%20%22-%2F%2FW3C%2F%2FDTD%20SVG%201.1%2F%2FEN%22%20%22http%3A%2F%2Fwww.w3.org%2FGraphics%2FSVG%2F1.1%2FDTD%2Fsvg11.dtd%22%3E%3Csvg%20version%3D%221.1%22%20id%3D%22Layer_1%22%20xmlns%3D%22http%3A%2F%2Fwww.w3.org%2F2000%2Fsvg%22%20xmlns%3Axlink%3D%22http%3A%2F%2Fwww.w3.org%2F1999%2Fxlink%22%20x%3D%220px%22%20y%3D%220px%22%20width%3D%2218.75px%22%20height%3D%2218.75px%22%20viewBox%3D%220%200%2018.75%2018.75%22%20enable-background%3D%22new%200%200%2018.75%2018.75%22%20xml%3Aspace%3D%22preserve%22%3E%3Cpath%20fill%3D%22%23FD6EB6%22%20d%3D%22M9.374%2C17.592c-4.176%2C0-7.57-3.401-7.57-7.575c0-4.175%2C3.395-7.574%2C7.57-7.574c0.28%2C0%2C0.56%2C0.018%2C0.837%2C0.05%20V1.268c0-0.158%2C0.099-0.3%2C0.239-0.36c0.151-0.058%2C0.315-0.026%2C0.428%2C0.086l2.683%2C2.688c0.152%2C0.154%2C0.152%2C0.399%2C0%2C0.553l-2.68%2C2.693%20c-0.115%2C0.112-0.279%2C0.147-0.431%2C0.087c-0.141-0.063-0.239-0.205-0.239-0.361V5.296C9.934%2C5.243%2C9.654%2C5.22%2C9.374%2C5.22%20c-2.646%2C0-4.796%2C2.152-4.796%2C4.797s2.154%2C4.798%2C4.796%2C4.798c2.645%2C0%2C4.798-2.153%2C4.798-4.798c0-0.214%2C0.174-0.391%2C0.391-0.391h1.991%20c0.217%2C0%2C0.394%2C0.177%2C0.394%2C0.391C16.947%2C14.19%2C13.549%2C17.592%2C9.374%2C17.592L9.374%2C17.592z%20M9.374%2C17.592%22%2F%3E%3C%2Fsvg%3E%20');
}
.x6-widget-handle-resize {
  background-image: url('data:image/svg+xml;charset=utf8,%3C%3Fxml%20version%3D%221.0%22%20%3F%3E%3Csvg%20height%3D%2224px%22%20version%3D%221.1%22%20viewBox%3D%220%200%2024%2024%22%20width%3D%2224px%22%20xmlns%3D%22http%3A%2F%2Fwww.w3.org%2F2000%2Fsvg%22%20xmlns%3Asketch%3D%22http%3A%2F%2Fwww.bohemiancoding.com%2Fsketch%2Fns%22%20xmlns%3Axlink%3D%22http%3A%2F%2Fwww.w3.org%2F1999%2Fxlink%22%3E%3Ctitle%2F%3E%3Cdesc%2F%3E%3Cdefs%2F%3E%3Cg%20fill%3D%22none%22%20fill-rule%3D%22evenodd%22%20id%3D%22miu%22%20stroke%3D%22none%22%20stroke-width%3D%221%22%3E%3Cg%20id%3D%22Artboard-1%22%20transform%3D%22translate(-251.000000%2C%20-443.000000)%22%3E%3Cg%20id%3D%22slice%22%20transform%3D%22translate(215.000000%2C%20119.000000)%22%2F%3E%3Cpath%20d%3D%22M252%2C448%20L256%2C448%20L256%2C444%20L252%2C444%20L252%2C448%20Z%20M257%2C448%20L269%2C448%20L269%2C446%20L257%2C446%20L257%2C448%20Z%20M257%2C464%20L269%2C464%20L269%2C462%20L257%2C462%20L257%2C464%20Z%20M270%2C444%20L270%2C448%20L274%2C448%20L274%2C444%20L270%2C444%20Z%20M252%2C462%20L252%2C466%20L256%2C466%20L256%2C462%20L252%2C462%20Z%20M270%2C462%20L270%2C466%20L274%2C466%20L274%2C462%20L270%2C462%20Z%20M254%2C461%20L256%2C461%20L256%2C449%20L254%2C449%20L254%2C461%20Z%20M270%2C461%20L272%2C461%20L272%2C449%20L270%2C449%20L270%2C461%20Z%22%20fill%3D%22%236A6C8A%22%20id%3D%22editor-crop-glyph%22%2F%3E%3C%2Fg%3E%3C%2Fg%3E%3C%2Fsvg%3E');
  cursor: se-resize;
}
.x6-widget-handle-resize:hover {
  background-image: url('data:image/svg+xml;charset=utf8,%3C%3Fxml%20version%3D%221.0%22%20%3F%3E%3Csvg%20height%3D%2224px%22%20version%3D%221.1%22%20viewBox%3D%220%200%2024%2024%22%20width%3D%2224px%22%20xmlns%3D%22http%3A%2F%2Fwww.w3.org%2F2000%2Fsvg%22%20xmlns%3Asketch%3D%22http%3A%2F%2Fwww.bohemiancoding.com%2Fsketch%2Fns%22%20xmlns%3Axlink%3D%22http%3A%2F%2Fwww.w3.org%2F1999%2Fxlink%22%3E%3Ctitle%2F%3E%3Cdesc%2F%3E%3Cdefs%2F%3E%3Cg%20fill%3D%22none%22%20fill-rule%3D%22evenodd%22%20id%3D%22miu%22%20stroke%3D%22none%22%20stroke-width%3D%221%22%3E%3Cg%20id%3D%22Artboard-1%22%20transform%3D%22translate(-251.000000%2C%20-443.000000)%22%3E%3Cg%20id%3D%22slice%22%20transform%3D%22translate(215.000000%2C%20119.000000)%22%2F%3E%3Cpath%20d%3D%22M252%2C448%20L256%2C448%20L256%2C444%20L252%2C444%20L252%2C448%20Z%20M257%2C448%20L269%2C448%20L269%2C446%20L257%2C446%20L257%2C448%20Z%20M257%2C464%20L269%2C464%20L269%2C462%20L257%2C462%20L257%2C464%20Z%20M270%2C444%20L270%2C448%20L274%2C448%20L274%2C444%20L270%2C444%20Z%20M252%2C462%20L252%2C466%20L256%2C466%20L256%2C462%20L252%2C462%20Z%20M270%2C462%20L270%2C466%20L274%2C466%20L274%2C462%20L270%2C462%20Z%20M254%2C461%20L256%2C461%20L256%2C449%20L254%2C449%20L254%2C461%20Z%20M270%2C461%20L272%2C461%20L272%2C449%20L270%2C449%20L270%2C461%20Z%22%20fill%3D%22%23FD6EB6%22%20id%3D%22editor-crop-glyph%22%2F%3E%3C%2Fg%3E%3C%2Fg%3E%3C%2Fsvg%3E');
}
.x6-widget-handle-clone {
  background-image: url('data:image/svg+xml;charset=utf8,%3C%3Fxml%20version%3D%221.0%22%20encoding%3D%22utf-8%22%3F%3E%3C!DOCTYPE%20svg%20PUBLIC%20%22-%2F%2FW3C%2F%2FDTD%20SVG%201.1%2F%2FEN%22%20%22http%3A%2F%2Fwww.w3.org%2FGraphics%2FSVG%2F1.1%2FDTD%2Fsvg11.dtd%22%3E%3Csvg%20version%3D%221.1%22%20id%3D%22Layer_1%22%20xmlns%3D%22http%3A%2F%2Fwww.w3.org%2F2000%2Fsvg%22%20xmlns%3Axlink%3D%22http%3A%2F%2Fwww.w3.org%2F1999%2Fxlink%22%20x%3D%220px%22%20y%3D%220px%22%20width%3D%2218.75px%22%20height%3D%2218.75px%22%20viewBox%3D%220%200%2018.75%2018.75%22%20enable-background%3D%22new%200%200%2018.75%2018.75%22%20xml%3Aspace%3D%22preserve%22%3E%3Cg%3E%3Cpath%20fill%3D%22%236A6C8A%22%20d%3D%22M12.852%2C0.875h-9.27c-0.853%2C0-1.547%2C0.694-1.547%2C1.547v10.816h1.547V2.422h9.27V0.875z%20M15.172%2C3.965h-8.5%20c-0.849%2C0-1.547%2C0.698-1.547%2C1.547v10.816c0%2C0.849%2C0.698%2C1.547%2C1.547%2C1.547h8.5c0.85%2C0%2C1.543-0.698%2C1.543-1.547V5.512%20C16.715%2C4.663%2C16.021%2C3.965%2C15.172%2C3.965L15.172%2C3.965z%20M15.172%2C16.328h-8.5V5.512h8.5V16.328z%22%2F%3E%3C%2Fg%3E%3C%2Fsvg%3E%20');
  cursor: move;
}
.x6-widget-handle-clone:hover {
  background-image: url('data:image/svg+xml;charset=utf8,%3C%3Fxml%20version%3D%221.0%22%20encoding%3D%22utf-8%22%3F%3E%3C!DOCTYPE%20svg%20PUBLIC%20%22-%2F%2FW3C%2F%2FDTD%20SVG%201.1%2F%2FEN%22%20%22http%3A%2F%2Fwww.w3.org%2FGraphics%2FSVG%2F1.1%2FDTD%2Fsvg11.dtd%22%3E%3Csvg%20version%3D%221.1%22%20id%3D%22Layer_1%22%20xmlns%3D%22http%3A%2F%2Fwww.w3.org%2F2000%2Fsvg%22%20xmlns%3Axlink%3D%22http%3A%2F%2Fwww.w3.org%2F1999%2Fxlink%22%20x%3D%220px%22%20y%3D%220px%22%20width%3D%2218.75px%22%20height%3D%2218.75px%22%20viewBox%3D%220%200%2018.75%2018.75%22%20enable-background%3D%22new%200%200%2018.75%2018.75%22%20xml%3Aspace%3D%22preserve%22%3E%3Cg%3E%3Cpath%20fill%3D%22%23FD6EB6%22%20d%3D%22M12.852%2C0.875h-9.27c-0.853%2C0-1.547%2C0.694-1.547%2C1.547v10.816h1.547V2.422h9.27V0.875z%20M15.172%2C3.965h-8.5%20c-0.849%2C0-1.547%2C0.698-1.547%2C1.547v10.816c0%2C0.849%2C0.698%2C1.547%2C1.547%2C1.547h8.5c0.849%2C0%2C1.543-0.698%2C1.543-1.547V5.512%20C16.715%2C4.663%2C16.021%2C3.965%2C15.172%2C3.965L15.172%2C3.965z%20M15.172%2C16.328h-8.5V5.512h8.5V16.328z%20M15.172%2C16.328%22%2F%3E%3C%2Fg%3E%3C%2Fsvg%3E%20');
}
.x6-widget-handle-link {
  background-image: url('data:image/svg+xml;charset=utf8,%3C%3Fxml%20version%3D%221.0%22%20encoding%3D%22utf-8%22%3F%3E%3C!DOCTYPE%20svg%20PUBLIC%20%22-%2F%2FW3C%2F%2FDTD%20SVG%201.1%2F%2FEN%22%20%22http%3A%2F%2Fwww.w3.org%2FGraphics%2FSVG%2F1.1%2FDTD%2Fsvg11.dtd%22%3E%3Csvg%20version%3D%221.1%22%20id%3D%22Layer_1%22%20xmlns%3D%22http%3A%2F%2Fwww.w3.org%2F2000%2Fsvg%22%20xmlns%3Axlink%3D%22http%3A%2F%2Fwww.w3.org%2F1999%2Fxlink%22%20x%3D%220px%22%20y%3D%220px%22%20width%3D%2218.75px%22%20height%3D%2218.75px%22%20viewBox%3D%220%200%2018.75%2018.75%22%20enable-background%3D%22new%200%200%2018.75%2018.75%22%20xml%3Aspace%3D%22preserve%22%3E%3Cpath%20fill%3D%22%236A6C8A%22%20d%3D%22M9.884%2C9.838c0.54-0.551%2C1.005-0.955%2C1.384-1.201c0.463-0.308%2C0.749-0.352%2C0.887-0.352h1.34v1.367%20c0%2C0.104%2C0.061%2C0.2%2C0.154%2C0.242s0.204%2C0.027%2C0.284-0.038l3.168-2.669c0.06-0.051%2C0.096-0.125%2C0.096-0.203S17.16%2C6.83%2C17.101%2C6.781%20l-3.168-2.677c-0.08-0.067-0.19-0.081-0.284-0.038c-0.094%2C0.045-0.154%2C0.139-0.154%2C0.242v1.414h-1.343%20c-1.24%2C0.014-2.215%2C0.67-2.927%2C1.242c-0.797%2C0.65-1.533%2C1.447-2.245%2C2.217c-0.361%2C0.391-0.7%2C0.759-1.044%2C1.1%20c-0.541%2C0.549-1.011%2C0.951-1.395%2C1.199c-0.354%2C0.231-0.678%2C0.357-0.921%2C0.357h-1.8c-0.146%2C0-0.266%2C0.12-0.266%2C0.265v2.029%20c0%2C0.148%2C0.12%2C0.268%2C0.266%2C0.268h1.8l0%2C0c1.255-0.014%2C2.239-0.667%2C2.958-1.24c0.82-0.661%2C1.572-1.475%2C2.297-2.256%20C9.225%2C10.524%2C9.555%2C10.169%2C9.884%2C9.838z%22%2F%3E%3C%2Fsvg%3E%20');
  cursor: move;
  cursor: -moz-grabbing;
  cursor: -webkit-grabbing;
}
.x6-widget-handle-link:hover {
  background-image: url('data:image/svg+xml;charset=utf8,%3C%3Fxml%20version%3D%221.0%22%20encoding%3D%22utf-8%22%3F%3E%3C!DOCTYPE%20svg%20PUBLIC%20%22-%2F%2FW3C%2F%2FDTD%20SVG%201.1%2F%2FEN%22%20%22http%3A%2F%2Fwww.w3.org%2FGraphics%2FSVG%2F1.1%2FDTD%2Fsvg11.dtd%22%3E%3Csvg%20version%3D%221.1%22%20id%3D%22Layer_1%22%20xmlns%3D%22http%3A%2F%2Fwww.w3.org%2F2000%2Fsvg%22%20xmlns%3Axlink%3D%22http%3A%2F%2Fwww.w3.org%2F1999%2Fxlink%22%20x%3D%220px%22%20y%3D%220px%22%20width%3D%2218.75px%22%20height%3D%2218.75px%22%20viewBox%3D%220%200%2018.75%2018.75%22%20enable-background%3D%22new%200%200%2018.75%2018.75%22%20xml%3Aspace%3D%22preserve%22%3E%3Cpath%20fill%3D%22%23FD6EB6%22%20d%3D%22M9.884%2C9.838c0.54-0.551%2C1.005-0.955%2C1.384-1.201c0.463-0.308%2C0.749-0.352%2C0.887-0.352h1.34v1.367%20c0%2C0.104%2C0.061%2C0.2%2C0.154%2C0.242s0.204%2C0.027%2C0.284-0.038l3.168-2.669c0.06-0.051%2C0.096-0.125%2C0.096-0.203S17.16%2C6.83%2C17.101%2C6.781%20l-3.168-2.677c-0.08-0.067-0.19-0.081-0.284-0.038c-0.094%2C0.045-0.154%2C0.139-0.154%2C0.242v1.414h-1.343%20c-1.24%2C0.014-2.215%2C0.67-2.927%2C1.242c-0.797%2C0.65-1.533%2C1.447-2.245%2C2.217c-0.361%2C0.391-0.7%2C0.759-1.044%2C1.1%20c-0.541%2C0.549-1.011%2C0.951-1.395%2C1.199c-0.354%2C0.231-0.678%2C0.357-0.921%2C0.357h-1.8c-0.146%2C0-0.266%2C0.12-0.266%2C0.265v2.029%20c0%2C0.148%2C0.12%2C0.268%2C0.266%2C0.268h1.8l0%2C0c1.255-0.014%2C2.239-0.667%2C2.958-1.24c0.82-0.661%2C1.572-1.475%2C2.297-2.256%20C9.225%2C10.524%2C9.555%2C10.169%2C9.884%2C9.838z%22%2F%3E%3C%2Fsvg%3E%20');
}
.x6-widget-handle-fork {
  background-image: url('data:image/svg+xml;charset=utf8,%3C%3Fxml%20version%3D%221.0%22%20encoding%3D%22utf-8%22%3F%3E%3C!DOCTYPE%20svg%20PUBLIC%20%22-%2F%2FW3C%2F%2FDTD%20SVG%201.1%2F%2FEN%22%20%22http%3A%2F%2Fwww.w3.org%2FGraphics%2FSVG%2F1.1%2FDTD%2Fsvg11.dtd%22%3E%3Csvg%20version%3D%221.1%22%20id%3D%22Layer_1%22%20xmlns%3D%22http%3A%2F%2Fwww.w3.org%2F2000%2Fsvg%22%20xmlns%3Axlink%3D%22http%3A%2F%2Fwww.w3.org%2F1999%2Fxlink%22%20x%3D%220px%22%20y%3D%220px%22%20width%3D%2218.75px%22%20height%3D%2218.75px%22%20viewBox%3D%220%200%2018.75%2018.75%22%20enable-background%3D%22new%200%200%2018.75%2018.75%22%20xml%3Aspace%3D%22preserve%22%3E%3Cg%3E%3Cg%3E%3Cpath%20fill-rule%3D%22evenodd%22%20clip-rule%3D%22evenodd%22%20fill%3D%22%236A6C8A%22%20d%3D%22M13.307%2C11.593c-0.69%2C0-1.299%2C0.33-1.693%2C0.835l-4.136-2.387%20C7.552%2C9.82%2C7.602%2C9.589%2C7.602%2C9.344c0-0.25-0.051-0.487-0.129-0.71l4.097-2.364c0.393%2C0.536%2C1.022%2C0.888%2C1.737%2C0.888%20c1.193%2C0%2C2.16-0.967%2C2.16-2.159s-0.967-2.159-2.16-2.159c-1.191%2C0-2.158%2C0.967-2.158%2C2.159c0%2C0.076%2C0.014%2C0.149%2C0.021%2C0.223%20L6.848%2C7.716C6.469%2C7.39%2C5.982%2C7.185%2C5.442%2C7.185c-1.191%2C0-2.158%2C0.967-2.158%2C2.159s0.967%2C2.159%2C2.158%2C2.159%20c0.545%2C0%2C1.037-0.208%2C1.417-0.541l4.319%2C2.493c-0.014%2C0.098-0.029%2C0.194-0.029%2C0.296c0%2C1.193%2C0.967%2C2.159%2C2.158%2C2.159%20c1.193%2C0%2C2.16-0.966%2C2.16-2.159C15.467%2C12.559%2C14.5%2C11.593%2C13.307%2C11.593z%22%2F%3E%3C%2Fg%3E%3C%2Fg%3E%3C%2Fsvg%3E%20');
  cursor: move;
}
.x6-widget-handle-fork:hover {
  background-image: url('data:image/svg+xml;charset=utf8,%3C%3Fxml%20version%3D%221.0%22%20encoding%3D%22utf-8%22%3F%3E%3C!DOCTYPE%20svg%20PUBLIC%20%22-%2F%2FW3C%2F%2FDTD%20SVG%201.1%2F%2FEN%22%20%22http%3A%2F%2Fwww.w3.org%2FGraphics%2FSVG%2F1.1%2FDTD%2Fsvg11.dtd%22%3E%3Csvg%20version%3D%221.1%22%20id%3D%22Layer_1%22%20xmlns%3D%22http%3A%2F%2Fwww.w3.org%2F2000%2Fsvg%22%20xmlns%3Axlink%3D%22http%3A%2F%2Fwww.w3.org%2F1999%2Fxlink%22%20x%3D%220px%22%20y%3D%220px%22%20width%3D%2218.75px%22%20height%3D%2218.75px%22%20viewBox%3D%220%200%2018.75%2018.75%22%20enable-background%3D%22new%200%200%2018.75%2018.75%22%20xml%3Aspace%3D%22preserve%22%3E%3Cg%3E%3Cg%3E%3Cpath%20fill-rule%3D%22evenodd%22%20clip-rule%3D%22evenodd%22%20fill%3D%22%23FD6EB6%22%20d%3D%22M13.307%2C11.593c-0.69%2C0-1.299%2C0.33-1.693%2C0.835l-4.136-2.387%20c0.075-0.22%2C0.125-0.452%2C0.125-0.697c0-0.25-0.051-0.487-0.129-0.71l4.097-2.365c0.394%2C0.536%2C1.022%2C0.888%2C1.737%2C0.888%20c1.193%2C0%2C2.16-0.967%2C2.16-2.159s-0.967-2.159-2.16-2.159c-1.191%2C0-2.158%2C0.967-2.158%2C2.159c0%2C0.076%2C0.015%2C0.148%2C0.022%2C0.223%20L6.848%2C7.716C6.469%2C7.39%2C5.981%2C7.185%2C5.442%2C7.185c-1.191%2C0-2.158%2C0.967-2.158%2C2.159s0.967%2C2.159%2C2.158%2C2.159%20c0.545%2C0%2C1.037-0.208%2C1.417-0.541l4.319%2C2.493c-0.013%2C0.098-0.029%2C0.194-0.029%2C0.296c0%2C1.193%2C0.967%2C2.159%2C2.158%2C2.159%20c1.193%2C0%2C2.16-0.966%2C2.16-2.159C15.467%2C12.559%2C14.5%2C11.593%2C13.307%2C11.593z%22%2F%3E%3C%2Fg%3E%3C%2Fg%3E%3C%2Fsvg%3E%20');
}
.x6-widget-handle-unlink {
  background-image: url('data:image/svg+xml;charset=utf8,%3C%3Fxml%20version%3D%221.0%22%20encoding%3D%22utf-8%22%3F%3E%3C!DOCTYPE%20svg%20PUBLIC%20%22-%2F%2FW3C%2F%2FDTD%20SVG%201.1%2F%2FEN%22%20%22http%3A%2F%2Fwww.w3.org%2FGraphics%2FSVG%2F1.1%2FDTD%2Fsvg11.dtd%22%3E%3Csvg%20version%3D%221.1%22%20id%3D%22Layer_1%22%20xmlns%3D%22http%3A%2F%2Fwww.w3.org%2F2000%2Fsvg%22%20xmlns%3Axlink%3D%22http%3A%2F%2Fwww.w3.org%2F1999%2Fxlink%22%20x%3D%220px%22%20y%3D%220px%22%20width%3D%2218.75px%22%20height%3D%2218.75px%22%20viewBox%3D%220%200%2018.75%2018.75%22%20enable-background%3D%22new%200%200%2018.75%2018.75%22%20xml%3Aspace%3D%22preserve%22%3E%3Cg%3E%3Cg%3E%3Cpath%20fill%3D%22%236A6C8A%22%20d%3D%22M12.285%2C9.711l-2.104-0.302L9.243%2C8.568L6.669%2C7.095C6.948%2C6.6%2C6.995%2C6.026%2C6.845%2C5.474%20c-0.191-0.698-0.695-1.36-1.438-1.786C4.068%2C2.922%2C2.464%2C3.214%2C1.82%2C4.338C1.536%2C4.836%2C1.489%2C5.414%2C1.64%2C5.97%20c0.189%2C0.698%2C0.694%2C1.36%2C1.438%2C1.787c0.328%2C0.187%2C0.67%2C0.31%2C1.01%2C0.372c0.002%2C0%2C0.006%2C0.002%2C0.008%2C0.004%20c0.027%2C0.004%2C0.057%2C0.009%2C0.088%2C0.011c2.12%2C0.316%2C3.203%2C0.915%2C3.73%2C1.337c-0.527%2C0.424-1.61%2C1.021-3.731%2C1.339%20c-0.029%2C0.003-0.058%2C0.007-0.087%2C0.012c-0.002%2C0.002-0.004%2C0.002-0.007%2C0.003c-0.341%2C0.062-0.684%2C0.187-1.013%2C0.374%20c-0.74%2C0.425-1.246%2C1.089-1.437%2C1.787c-0.149%2C0.555-0.105%2C1.133%2C0.181%2C1.632c0.011%2C0.018%2C0.021%2C0.033%2C0.033%2C0.049l0.883%2C0.783%20c0.765%2C0.366%2C1.775%2C0.328%2C2.67-0.184c0.744-0.425%2C1.248-1.088%2C1.439-1.786c0.148-0.552%2C0.104-1.126-0.176-1.62l2.573-1.473%20c0.573%2C0.287%2C2.299%2C1.292%2C2.299%2C1.292s3.602%2C1.445%2C4.241%2C1.812c0.773%2C0.191%2C0.566-0.151%2C0.566-0.151L12.285%2C9.711z%20M5.571%2C6.482%20C5.279%2C6.993%2C4.425%2C7.076%2C3.705%2C6.664C3.282%2C6.424%2C2.966%2C6.039%2C2.856%2C5.64C2.81%2C5.464%2C2.778%2C5.203%2C2.917%2C4.963%20c0.291-0.51%2C1.146-0.593%2C1.866-0.182C5.21%2C5.027%2C5.521%2C5.4%2C5.632%2C5.807C5.679%2C5.98%2C5.708%2C6.242%2C5.571%2C6.482z%20M5.632%2C13.159%20c-0.111%2C0.406-0.422%2C0.778-0.848%2C1.025c-0.719%2C0.409-1.576%2C0.327-1.867-0.184c-0.137-0.239-0.106-0.499-0.06-0.676%20c0.108-0.398%2C0.426-0.781%2C0.847-1.022c0.72-0.412%2C1.574-0.329%2C1.866%2C0.181C5.708%2C12.723%2C5.679%2C12.983%2C5.632%2C13.159z%20M16.181%2C5.139%20c-0.448%2C0.258-4.435%2C1.9-4.435%2C1.9s-1.556%2C0.855-2.104%2C1.13l0.937%2C0.843l2.057-0.229l4.11-3.638%20C16.745%2C5.146%2C17.013%2C4.664%2C16.181%2C5.139z%22%2F%3E%3C%2Fg%3E%3C%2Fg%3E%3C%2Fsvg%3E%20');
}
.x6-widget-handle-unlink:hover {
  background-image: url('data:image/svg+xml;charset=utf8,%3C%3Fxml%20version%3D%221.0%22%20encoding%3D%22utf-8%22%3F%3E%3C!DOCTYPE%20svg%20PUBLIC%20%22-%2F%2FW3C%2F%2FDTD%20SVG%201.1%2F%2FEN%22%20%22http%3A%2F%2Fwww.w3.org%2FGraphics%2FSVG%2F1.1%2FDTD%2Fsvg11.dtd%22%3E%3Csvg%20version%3D%221.1%22%20id%3D%22Layer_1%22%20xmlns%3D%22http%3A%2F%2Fwww.w3.org%2F2000%2Fsvg%22%20xmlns%3Axlink%3D%22http%3A%2F%2Fwww.w3.org%2F1999%2Fxlink%22%20x%3D%220px%22%20y%3D%220px%22%20width%3D%2218.75px%22%20height%3D%2218.75px%22%20viewBox%3D%220%200%2018.75%2018.75%22%20enable-background%3D%22new%200%200%2018.75%2018.75%22%20xml%3Aspace%3D%22preserve%22%3E%3Cg%3E%3Cg%3E%3Cpath%20fill%3D%22%23FD6EB6%22%20d%3D%22M12.285%2C9.711l-2.104-0.302L9.243%2C8.568L6.669%2C7.095C6.948%2C6.6%2C6.995%2C6.026%2C6.845%2C5.474%20c-0.191-0.698-0.695-1.36-1.438-1.786C4.068%2C2.922%2C2.464%2C3.214%2C1.82%2C4.338C1.536%2C4.836%2C1.489%2C5.414%2C1.64%2C5.97%20c0.189%2C0.698%2C0.694%2C1.36%2C1.438%2C1.787c0.328%2C0.187%2C0.67%2C0.31%2C1.01%2C0.372c0.002%2C0%2C0.006%2C0.002%2C0.008%2C0.004%20c0.027%2C0.004%2C0.057%2C0.009%2C0.088%2C0.011c2.12%2C0.316%2C3.203%2C0.915%2C3.73%2C1.337c-0.527%2C0.424-1.61%2C1.021-3.731%2C1.339%20c-0.029%2C0.003-0.058%2C0.007-0.087%2C0.012c-0.002%2C0.002-0.004%2C0.002-0.007%2C0.003c-0.341%2C0.062-0.684%2C0.187-1.013%2C0.374%20c-0.74%2C0.425-1.246%2C1.089-1.437%2C1.787c-0.149%2C0.555-0.105%2C1.133%2C0.181%2C1.632c0.011%2C0.018%2C0.021%2C0.033%2C0.033%2C0.049l0.883%2C0.783%20c0.765%2C0.366%2C1.775%2C0.328%2C2.67-0.184c0.744-0.425%2C1.248-1.088%2C1.439-1.786c0.148-0.552%2C0.104-1.126-0.176-1.62l2.573-1.473%20c0.573%2C0.287%2C2.299%2C1.292%2C2.299%2C1.292s3.602%2C1.445%2C4.241%2C1.812c0.773%2C0.191%2C0.566-0.151%2C0.566-0.151L12.285%2C9.711z%20M5.571%2C6.482%20C5.279%2C6.993%2C4.425%2C7.076%2C3.705%2C6.664C3.282%2C6.424%2C2.966%2C6.039%2C2.856%2C5.64C2.81%2C5.464%2C2.778%2C5.203%2C2.917%2C4.963%20c0.291-0.51%2C1.146-0.593%2C1.866-0.182C5.21%2C5.027%2C5.521%2C5.4%2C5.632%2C5.807C5.679%2C5.98%2C5.708%2C6.242%2C5.571%2C6.482z%20M5.632%2C13.159%20c-0.111%2C0.406-0.422%2C0.778-0.848%2C1.025c-0.719%2C0.409-1.576%2C0.327-1.867-0.184c-0.137-0.239-0.106-0.499-0.06-0.676%20c0.108-0.398%2C0.426-0.781%2C0.847-1.022c0.72-0.412%2C1.574-0.329%2C1.866%2C0.181C5.708%2C12.723%2C5.679%2C12.983%2C5.632%2C13.159z%20M16.181%2C5.139%20c-0.448%2C0.258-4.435%2C1.9-4.435%2C1.9s-1.556%2C0.855-2.104%2C1.13l0.937%2C0.843l2.057-0.229l4.11-3.638%20C16.745%2C5.146%2C17.013%2C4.664%2C16.181%2C5.139z%22%2F%3E%3C%2Fg%3E%3C%2Fg%3E%3C%2Fsvg%3E%20');
}
.x6-widget-handle-direction {
  background-image: url("data:image/svg+xml;charset=UTF-8,%3C%3Fxml%20version%3D%221.0%22%20%3F%3E%3C!DOCTYPE%20svg%20%20PUBLIC%20'-%2F%2FW3C%2F%2FDTD%20SVG%201.1%2F%2FEN'%20%20'http%3A%2F%2Fwww.w3.org%2FGraphics%2FSVG%2F1.1%2FDTD%2Fsvg11.dtd'%3E%3Csvg%20id%3D%22Layer_1%22%20style%3D%22enable-background%3Anew%200%200%20512%20512%3B%22%20version%3D%221.1%22%20viewBox%3D%220%200%20512%20512%22%20xml%3Aspace%3D%22preserve%22%20xmlns%3D%22http%3A%2F%2Fwww.w3.org%2F2000%2Fsvg%22%20xmlns%3Axlink%3D%22http%3A%2F%2Fwww.w3.org%2F1999%2Fxlink%22%3E%3Cstyle%20type%3D%22text%2Fcss%22%3E%0A%09.st0%7Bfill%3A%236A6C8A%3Bstroke%3A%236A6C8A%3Bstroke-width%3A30%7D%0A%09.dot%7Bfill%3A%236A6C8A%3B%7D%0A%3C%2Fstyle%3E%3Cg%3E%3Cg%20id%3D%22XMLID_475_%22%3E%0A%3Cpath%20class%3D%22dot%22%20d%3D%22M133.1%2C277.1c1.8%2C0%2C3.7-0.6%2C5.4-1.7c4.1-3%2C5-8.7%2C2-12.8c-3-4.1-8.7-5-12.8-2c0%2C0%2C0%2C0%2C0%2C0%20%20%20%20%20c-4.1%2C3-5%2C8.7-2%2C12.8C127.5%2C275.8%2C130.3%2C277.1%2C133.1%2C277.1z%22%20id%3D%22XMLID_489_%22%2F%3E%0A%3Cpath%20class%3D%22dot%22%20d%3D%22M138.5%2C359.6c-4.1-3-9.8-2.1-12.8%2C2c-3%2C4.1-2.1%2C9.8%2C2%2C12.8c1.6%2C1.2%2C3.5%2C1.7%2C5.4%2C1.7%20%20%20%20%20c2.8%2C0%2C5.6-1.3%2C7.4-3.7C143.5%2C368.3%2C142.6%2C362.6%2C138.5%2C359.6z%22%20id%3D%22XMLID_726_%22%2F%3E%0A%3Cpath%20class%3D%22dot%22%20d%3D%22M108.1%2C327.7c-4.8%2C1.6-7.4%2C6.7-5.9%2C11.5c1.3%2C3.9%2C4.8%2C6.3%2C8.7%2C6.3c0.9%2C0%2C1.9-0.1%2C2.8-0.4%20%20%20%20%20c4.8-1.6%2C7.4-6.7%2C5.9-11.5C118%2C328.8%2C112.9%2C326.2%2C108.1%2C327.7z%22%20id%3D%22XMLID_776_%22%2F%3E%0A%3Cpath%20class%3D%22dot%22%20d%3D%22M108.1%2C307.3c0.9%2C0.3%2C1.9%2C0.4%2C2.8%2C0.4c3.8%2C0%2C7.4-2.4%2C8.7-6.3c1.6-4.8-1.1-9.9-5.9-11.5%20%20%20%20%20c-4.8-1.6-9.9%2C1.1-11.5%2C5.9C100.7%2C300.6%2C103.3%2C305.7%2C108.1%2C307.3z%22%20id%3D%22XMLID_777_%22%2F%3E%0A%3Cpath%20class%3D%22dot%22%20d%3D%22M169.2%2C265.4c2.4%2C0%2C4.7-1%2C6.5-2.6c1.7-1.7%2C2.7-4.1%2C2.7-6.5c0-2.4-1-4.8-2.7-6.5%20%20%20%20%20c-1.7-1.7-4.1-2.7-6.5-2.7s-4.7%2C1-6.5%2C2.7c-1.7%2C1.7-2.7%2C4-2.7%2C6.5c0%2C2.4%2C1%2C4.7%2C2.7%2C6.5C164.4%2C264.4%2C166.8%2C265.4%2C169.2%2C265.4z%22%20id%3D%22XMLID_797_%22%2F%3E%0A%3Cpath%20class%3D%22dot%22%20d%3D%22M247.7%2C256.3c0-5-4.1-9.1-9.1-9.1c-5%2C0-9.1%2C4.1-9.1%2C9.1c0%2C5%2C4.1%2C9.1%2C9.1%2C9.1%20%20%20%20%20C243.7%2C265.4%2C247.7%2C261.3%2C247.7%2C256.3z%22%20id%3D%22XMLID_798_%22%2F%3E%0A%3Cpath%20class%3D%22dot%22%20d%3D%22M213%2C256.3c0-5-4.1-9.1-9.1-9.1c-5%2C0-9.1%2C4.1-9.1%2C9.1c0%2C5%2C4.1%2C9.1%2C9.1%2C9.1%20%20%20%20%20C208.9%2C265.4%2C213%2C261.3%2C213%2C256.3z%22%20id%3D%22XMLID_799_%22%2F%3E%0A%3Cpath%20class%3D%22dot%22%20d%3D%22M317.2%2C256.3c0-5-4.1-9.1-9.1-9.1c-5%2C0-9.1%2C4.1-9.1%2C9.1c0%2C5%2C4.1%2C9.1%2C9.1%2C9.1%20%20%20%20%20C313.1%2C265.4%2C317.2%2C261.3%2C317.2%2C256.3z%22%20id%3D%22XMLID_800_%22%2F%3E%0A%3Cpath%20class%3D%22dot%22%20d%3D%22M282.5%2C256.3c0-5-4.1-9.1-9.1-9.1s-9.1%2C4.1-9.1%2C9.1c0%2C5%2C4.1%2C9.1%2C9.1%2C9.1%20%20%20%20%20S282.5%2C261.3%2C282.5%2C256.3z%22%20id%3D%22XMLID_801_%22%2F%3E%0A%3Cpath%20class%3D%22dot%22%20d%3D%22M401.1%2C185.2c0.9%2C0%2C1.9-0.1%2C2.8-0.5c4.8-1.6%2C7.4-6.7%2C5.9-11.5c-1.6-4.8-6.7-7.4-11.5-5.8%20%20%20%20%20c-4.8%2C1.6-7.4%2C6.7-5.8%2C11.5C393.6%2C182.8%2C397.2%2C185.2%2C401.1%2C185.2z%22%20id%3D%22XMLID_802_%22%2F%3E%0A%3Cpath%20class%3D%22dot%22%20d%3D%22M403.9%2C205.2c-4.8-1.6-9.9%2C1-11.5%2C5.9l0%2C0c-1.6%2C4.8%2C1.1%2C9.9%2C5.9%2C11.5%20%20%20%20%20c0.9%2C0.3%2C1.9%2C0.5%2C2.8%2C0.5c3.9%2C0%2C7.4-2.5%2C8.7-6.3c0%2C0%2C0%2C0%2C0%2C0C411.3%2C211.9%2C408.7%2C206.8%2C403.9%2C205.2z%22%20id%3D%22XMLID_803_%22%2F%3E%0A%3Cpath%20class%3D%22dot%22%20d%3D%22M373.5%2C237.2L373.5%2C237.2c-4.1%2C3-5%2C8.7-2%2C12.8c1.8%2C2.4%2C4.6%2C3.7%2C7.4%2C3.7%20%20%20%20%20c1.8%2C0%2C3.7-0.6%2C5.4-1.8c4.1-3%2C4.9-8.7%2C2-12.8C383.3%2C235.1%2C377.6%2C234.2%2C373.5%2C237.2z%22%20id%3D%22XMLID_804_%22%2F%3E%0A%3Cpath%20class%3D%22dot%22%20d%3D%22M373.5%2C152.9c1.6%2C1.2%2C3.5%2C1.8%2C5.4%2C1.8c2.8%2C0%2C5.6-1.3%2C7.4-3.8c3-4.1%2C2.1-9.8-2-12.7%20%20%20%20%20c-4.1-3-9.8-2.1-12.7%2C2C368.5%2C144.2%2C369.4%2C149.9%2C373.5%2C152.9z%22%20id%3D%22XMLID_805_%22%2F%3E%0A%3Cpath%20class%3D%22dot%22%20d%3D%22M342.8%2C247.1c-2.4%2C0-4.8%2C1-6.5%2C2.7c-1.7%2C1.7-2.7%2C4-2.7%2C6.5c0%2C2.4%2C1%2C4.7%2C2.7%2C6.4%20%20%20%20%20c1.7%2C1.7%2C4%2C2.7%2C6.5%2C2.7c2.4%2C0%2C4.7-1%2C6.5-2.7c1.7-1.7%2C2.7-4%2C2.7-6.4c0-2.4-1-4.8-2.7-6.5C347.6%2C248.1%2C345.2%2C247.1%2C342.8%2C247.1z%22%20id%3D%22XMLID_806_%22%2F%3E%0A%3Cpath%20class%3D%22st0%22%20d%3D%22M342.8%2C124.7H206.6l36.4-36.4c3.6-3.6%2C3.6-9.3%2C0-12.9c-3.6-3.6-9.3-3.6-12.9%2C0l-51.5%2C51.5%20%20%20%20%20c-1.9%2C1.9-2.8%2C4.4-2.7%2C6.9c-0.1%2C2.5%2C0.7%2C5%2C2.7%2C6.9l51.5%2C51.5c1.8%2C1.8%2C4.1%2C2.7%2C6.5%2C2.7c2.3%2C0%2C4.7-0.9%2C6.5-2.7%20%20%20%20%20c3.6-3.6%2C3.6-9.3%2C0-12.9l-36.4-36.4h136.1c0%2C0%2C0.1%2C0%2C0.1%2C0c0.6%2C0%2C1.2-0.1%2C1.8-0.2c0.2%2C0%2C0.4-0.1%2C0.6-0.1c0.1%2C0%2C0.2%2C0%2C0.3-0.1%20%20%20%20%20c3.2-1%2C5.6-3.6%2C6.3-6.9c0.1-0.6%2C0.2-1.2%2C0.2-1.8c0-0.6-0.1-1.2-0.2-1.8C351%2C127.8%2C347.3%2C124.7%2C342.8%2C124.7z%22%20id%3D%22XMLID_807_%22%2F%3E%0A%3Cpath%20class%3D%22st0%22%20d%3D%22M322.1%2C371.3l-51.5-51.5c-3.6-3.6-9.3-3.6-12.9%2C0c-3.6%2C3.6-3.6%2C9.3%2C0%2C12.9l36.9%2C36.9H169.2%20%20%20%20%20c-2.8%2C0-5.4%2C1.3-7%2C3.3c-0.1%2C0.1-0.2%2C0.2-0.3%2C0.4c-0.1%2C0.1-0.2%2C0.2-0.2%2C0.3c-0.1%2C0.1-0.1%2C0.2-0.2%2C0.4c-0.1%2C0.1-0.2%2C0.3-0.2%2C0.4%20%20%20%20%20c0%2C0.1-0.1%2C0.2-0.1%2C0.2c-0.1%2C0.2-0.2%2C0.4-0.3%2C0.6c0%2C0%2C0%2C0%2C0%2C0.1c-0.4%2C1.1-0.7%2C2.2-0.7%2C3.4c0%2C1.5%2C0.4%2C2.9%2C1%2C4.2c0%2C0%2C0%2C0.1%2C0.1%2C0.1%20%20%20%20%20c0.1%2C0.1%2C0.1%2C0.2%2C0.2%2C0.3c0.4%2C0.7%2C0.9%2C1.3%2C1.4%2C1.8c0.4%2C0.4%2C0.7%2C0.7%2C1.2%2C1c0.1%2C0.1%2C0.1%2C0.1%2C0.2%2C0.2c0%2C0%2C0.1%2C0%2C0.1%2C0.1%20%20%20%20%20c1.4%2C0.9%2C3.1%2C1.5%2C5%2C1.5h124.4l-36%2C36c-3.6%2C3.6-3.6%2C9.3%2C0%2C12.9c1.8%2C1.8%2C4.1%2C2.7%2C6.5%2C2.7c2.3%2C0%2C4.7-0.9%2C6.5-2.7l51.5-51.5%20%20%20%20%20c1.9-1.9%2C2.8-4.4%2C2.7-6.9C324.8%2C375.7%2C324%2C373.2%2C322.1%2C371.3z%22%20id%3D%22XMLID_808_%22%2F%3E%3C%2Fg%3E%3C%2Fg%3E%3C%2Fsvg%3E");
}
.x6-widget-handle-direction:hover {
  background-image: url("data:image/svg+xml;charset=UTF-8,%3C%3Fxml%20version%3D%221.0%22%20%3F%3E%3C!DOCTYPE%20svg%20%20PUBLIC%20'-%2F%2FW3C%2F%2FDTD%20SVG%201.1%2F%2FEN'%20%20'http%3A%2F%2Fwww.w3.org%2FGraphics%2FSVG%2F1.1%2FDTD%2Fsvg11.dtd'%3E%3Csvg%20id%3D%22Layer_1%22%20style%3D%22enable-background%3Anew%200%200%20512%20512%3B%22%20version%3D%221.1%22%20viewBox%3D%220%200%20512%20512%22%20xml%3Aspace%3D%22preserve%22%20xmlns%3D%22http%3A%2F%2Fwww.w3.org%2F2000%2Fsvg%22%20xmlns%3Axlink%3D%22http%3A%2F%2Fwww.w3.org%2F1999%2Fxlink%22%3E%3Cstyle%20type%3D%22text%2Fcss%22%3E%0A%09.st0%7Bfill%3A%23FD6EB6%3Bstroke%3A%23FD6EB6%3Bstroke-width%3A30%7D%0A%09.dot%7Bfill%3A%23FD6EB6%3B%7D%0A%3C%2Fstyle%3E%3Cg%3E%3Cg%20id%3D%22XMLID_475_%22%3E%0A%3Cpath%20class%3D%22dot%22%20d%3D%22M133.1%2C277.1c1.8%2C0%2C3.7-0.6%2C5.4-1.7c4.1-3%2C5-8.7%2C2-12.8c-3-4.1-8.7-5-12.8-2c0%2C0%2C0%2C0%2C0%2C0%20%20%20%20%20c-4.1%2C3-5%2C8.7-2%2C12.8C127.5%2C275.8%2C130.3%2C277.1%2C133.1%2C277.1z%22%20id%3D%22XMLID_489_%22%2F%3E%0A%3Cpath%20class%3D%22dot%22%20d%3D%22M138.5%2C359.6c-4.1-3-9.8-2.1-12.8%2C2c-3%2C4.1-2.1%2C9.8%2C2%2C12.8c1.6%2C1.2%2C3.5%2C1.7%2C5.4%2C1.7%20%20%20%20%20c2.8%2C0%2C5.6-1.3%2C7.4-3.7C143.5%2C368.3%2C142.6%2C362.6%2C138.5%2C359.6z%22%20id%3D%22XMLID_726_%22%2F%3E%0A%3Cpath%20class%3D%22dot%22%20d%3D%22M108.1%2C327.7c-4.8%2C1.6-7.4%2C6.7-5.9%2C11.5c1.3%2C3.9%2C4.8%2C6.3%2C8.7%2C6.3c0.9%2C0%2C1.9-0.1%2C2.8-0.4%20%20%20%20%20c4.8-1.6%2C7.4-6.7%2C5.9-11.5C118%2C328.8%2C112.9%2C326.2%2C108.1%2C327.7z%22%20id%3D%22XMLID_776_%22%2F%3E%0A%3Cpath%20class%3D%22dot%22%20d%3D%22M108.1%2C307.3c0.9%2C0.3%2C1.9%2C0.4%2C2.8%2C0.4c3.8%2C0%2C7.4-2.4%2C8.7-6.3c1.6-4.8-1.1-9.9-5.9-11.5%20%20%20%20%20c-4.8-1.6-9.9%2C1.1-11.5%2C5.9C100.7%2C300.6%2C103.3%2C305.7%2C108.1%2C307.3z%22%20id%3D%22XMLID_777_%22%2F%3E%0A%3Cpath%20class%3D%22dot%22%20d%3D%22M169.2%2C265.4c2.4%2C0%2C4.7-1%2C6.5-2.6c1.7-1.7%2C2.7-4.1%2C2.7-6.5c0-2.4-1-4.8-2.7-6.5%20%20%20%20%20c-1.7-1.7-4.1-2.7-6.5-2.7s-4.7%2C1-6.5%2C2.7c-1.7%2C1.7-2.7%2C4-2.7%2C6.5c0%2C2.4%2C1%2C4.7%2C2.7%2C6.5C164.4%2C264.4%2C166.8%2C265.4%2C169.2%2C265.4z%22%20id%3D%22XMLID_797_%22%2F%3E%0A%3Cpath%20class%3D%22dot%22%20d%3D%22M247.7%2C256.3c0-5-4.1-9.1-9.1-9.1c-5%2C0-9.1%2C4.1-9.1%2C9.1c0%2C5%2C4.1%2C9.1%2C9.1%2C9.1%20%20%20%20%20C243.7%2C265.4%2C247.7%2C261.3%2C247.7%2C256.3z%22%20id%3D%22XMLID_798_%22%2F%3E%0A%3Cpath%20class%3D%22dot%22%20d%3D%22M213%2C256.3c0-5-4.1-9.1-9.1-9.1c-5%2C0-9.1%2C4.1-9.1%2C9.1c0%2C5%2C4.1%2C9.1%2C9.1%2C9.1%20%20%20%20%20C208.9%2C265.4%2C213%2C261.3%2C213%2C256.3z%22%20id%3D%22XMLID_799_%22%2F%3E%0A%3Cpath%20class%3D%22dot%22%20d%3D%22M317.2%2C256.3c0-5-4.1-9.1-9.1-9.1c-5%2C0-9.1%2C4.1-9.1%2C9.1c0%2C5%2C4.1%2C9.1%2C9.1%2C9.1%20%20%20%20%20C313.1%2C265.4%2C317.2%2C261.3%2C317.2%2C256.3z%22%20id%3D%22XMLID_800_%22%2F%3E%0A%3Cpath%20class%3D%22dot%22%20d%3D%22M282.5%2C256.3c0-5-4.1-9.1-9.1-9.1s-9.1%2C4.1-9.1%2C9.1c0%2C5%2C4.1%2C9.1%2C9.1%2C9.1%20%20%20%20%20S282.5%2C261.3%2C282.5%2C256.3z%22%20id%3D%22XMLID_801_%22%2F%3E%0A%3Cpath%20class%3D%22dot%22%20d%3D%22M401.1%2C185.2c0.9%2C0%2C1.9-0.1%2C2.8-0.5c4.8-1.6%2C7.4-6.7%2C5.9-11.5c-1.6-4.8-6.7-7.4-11.5-5.8%20%20%20%20%20c-4.8%2C1.6-7.4%2C6.7-5.8%2C11.5C393.6%2C182.8%2C397.2%2C185.2%2C401.1%2C185.2z%22%20id%3D%22XMLID_802_%22%2F%3E%0A%3Cpath%20class%3D%22dot%22%20d%3D%22M403.9%2C205.2c-4.8-1.6-9.9%2C1-11.5%2C5.9l0%2C0c-1.6%2C4.8%2C1.1%2C9.9%2C5.9%2C11.5%20%20%20%20%20c0.9%2C0.3%2C1.9%2C0.5%2C2.8%2C0.5c3.9%2C0%2C7.4-2.5%2C8.7-6.3c0%2C0%2C0%2C0%2C0%2C0C411.3%2C211.9%2C408.7%2C206.8%2C403.9%2C205.2z%22%20id%3D%22XMLID_803_%22%2F%3E%0A%3Cpath%20class%3D%22dot%22%20d%3D%22M373.5%2C237.2L373.5%2C237.2c-4.1%2C3-5%2C8.7-2%2C12.8c1.8%2C2.4%2C4.6%2C3.7%2C7.4%2C3.7%20%20%20%20%20c1.8%2C0%2C3.7-0.6%2C5.4-1.8c4.1-3%2C4.9-8.7%2C2-12.8C383.3%2C235.1%2C377.6%2C234.2%2C373.5%2C237.2z%22%20id%3D%22XMLID_804_%22%2F%3E%0A%3Cpath%20class%3D%22dot%22%20d%3D%22M373.5%2C152.9c1.6%2C1.2%2C3.5%2C1.8%2C5.4%2C1.8c2.8%2C0%2C5.6-1.3%2C7.4-3.8c3-4.1%2C2.1-9.8-2-12.7%20%20%20%20%20c-4.1-3-9.8-2.1-12.7%2C2C368.5%2C144.2%2C369.4%2C149.9%2C373.5%2C152.9z%22%20id%3D%22XMLID_805_%22%2F%3E%0A%3Cpath%20class%3D%22dot%22%20d%3D%22M342.8%2C247.1c-2.4%2C0-4.8%2C1-6.5%2C2.7c-1.7%2C1.7-2.7%2C4-2.7%2C6.5c0%2C2.4%2C1%2C4.7%2C2.7%2C6.4%20%20%20%20%20c1.7%2C1.7%2C4%2C2.7%2C6.5%2C2.7c2.4%2C0%2C4.7-1%2C6.5-2.7c1.7-1.7%2C2.7-4%2C2.7-6.4c0-2.4-1-4.8-2.7-6.5C347.6%2C248.1%2C345.2%2C247.1%2C342.8%2C247.1z%22%20id%3D%22XMLID_806_%22%2F%3E%0A%3Cpath%20class%3D%22st0%22%20d%3D%22M342.8%2C124.7H206.6l36.4-36.4c3.6-3.6%2C3.6-9.3%2C0-12.9c-3.6-3.6-9.3-3.6-12.9%2C0l-51.5%2C51.5%20%20%20%20%20c-1.9%2C1.9-2.8%2C4.4-2.7%2C6.9c-0.1%2C2.5%2C0.7%2C5%2C2.7%2C6.9l51.5%2C51.5c1.8%2C1.8%2C4.1%2C2.7%2C6.5%2C2.7c2.3%2C0%2C4.7-0.9%2C6.5-2.7%20%20%20%20%20c3.6-3.6%2C3.6-9.3%2C0-12.9l-36.4-36.4h136.1c0%2C0%2C0.1%2C0%2C0.1%2C0c0.6%2C0%2C1.2-0.1%2C1.8-0.2c0.2%2C0%2C0.4-0.1%2C0.6-0.1c0.1%2C0%2C0.2%2C0%2C0.3-0.1%20%20%20%20%20c3.2-1%2C5.6-3.6%2C6.3-6.9c0.1-0.6%2C0.2-1.2%2C0.2-1.8c0-0.6-0.1-1.2-0.2-1.8C351%2C127.8%2C347.3%2C124.7%2C342.8%2C124.7z%22%20id%3D%22XMLID_807_%22%2F%3E%0A%3Cpath%20class%3D%22st0%22%20d%3D%22M322.1%2C371.3l-51.5-51.5c-3.6-3.6-9.3-3.6-12.9%2C0c-3.6%2C3.6-3.6%2C9.3%2C0%2C12.9l36.9%2C36.9H169.2%20%20%20%20%20c-2.8%2C0-5.4%2C1.3-7%2C3.3c-0.1%2C0.1-0.2%2C0.2-0.3%2C0.4c-0.1%2C0.1-0.2%2C0.2-0.2%2C0.3c-0.1%2C0.1-0.1%2C0.2-0.2%2C0.4c-0.1%2C0.1-0.2%2C0.3-0.2%2C0.4%20%20%20%20%20c0%2C0.1-0.1%2C0.2-0.1%2C0.2c-0.1%2C0.2-0.2%2C0.4-0.3%2C0.6c0%2C0%2C0%2C0%2C0%2C0.1c-0.4%2C1.1-0.7%2C2.2-0.7%2C3.4c0%2C1.5%2C0.4%2C2.9%2C1%2C4.2c0%2C0%2C0%2C0.1%2C0.1%2C0.1%20%20%20%20%20c0.1%2C0.1%2C0.1%2C0.2%2C0.2%2C0.3c0.4%2C0.7%2C0.9%2C1.3%2C1.4%2C1.8c0.4%2C0.4%2C0.7%2C0.7%2C1.2%2C1c0.1%2C0.1%2C0.1%2C0.1%2C0.2%2C0.2c0%2C0%2C0.1%2C0%2C0.1%2C0.1%20%20%20%20%20c1.4%2C0.9%2C3.1%2C1.5%2C5%2C1.5h124.4l-36%2C36c-3.6%2C3.6-3.6%2C9.3%2C0%2C12.9c1.8%2C1.8%2C4.1%2C2.7%2C6.5%2C2.7c2.3%2C0%2C4.7-0.9%2C6.5-2.7l51.5-51.5%20%20%20%20%20c1.9-1.9%2C2.8-4.4%2C2.7-6.9C324.8%2C375.7%2C324%2C373.2%2C322.1%2C371.3z%22%20id%3D%22XMLID_808_%22%2F%3E%3C%2Fg%3E%3C%2Fg%3E%3C%2Fsvg%3E");
}
.x6-widget-handle-surround .x6-widget-handle-animate .x6-widget-handle {
  transition: background-size 80ms, width 80ms, height 80ms, top 150ms, left 150ms, bottom 150ms, right 150ms;
}
.x6-widget-handle-surround .x6-widget-handle-pos-se {
  right: -25px;
  bottom: -25px;
}
.x6-widget-handle-surround .x6-widget-handle-pos-nw {
  top: -21px;
  left: -25px;
}
.x6-widget-handle-surround .x6-widget-handle-pos-n {
  top: -22px;
  left: 50%;
  margin-left: -10px;
}
.x6-widget-handle-surround .x6-widget-handle-pos-e {
  top: -webkit-calc(40%);
  top: calc(50% - 10px);
  right: -25px;
}
.x6-widget-handle-surround .x6-widget-handle-pos-ne {
  top: -21px;
  right: -25px;
}
.x6-widget-handle-surround .x6-widget-handle-pos-w {
  top: 50%;
  left: -25px;
  margin-top: -10px;
}
.x6-widget-handle-surround .x6-widget-handle-pos-sw {
  bottom: -25px;
  left: -25px;
}
.x6-widget-handle-surround .x6-widget-handle-pos-s {
  bottom: -24px;
  left: 50%;
  margin-left: -10px;
}
.x6-widget-handle-surround .x6-widget-handle-small .x6-widget-handle {
  width: 15px;
  height: 15px;
  font-size: 15px;
  background-size: 15px 15px;
}
.x6-widget-handle-surround .x6-widget-handle-small .x6-widget-handle-pos-se {
  right: -19px;
  bottom: -19px;
}
.x6-widget-handle-surround .x6-widget-handle-small .x6-widget-handle-pos-nw {
  top: -19px;
  left: -19px;
}
.x6-widget-handle-surround .x6-widget-handle-small .x6-widget-handle-pos-n {
  top: -19px;
  margin-left: -7.5px;
}
.x6-widget-handle-surround .x6-widget-handle-small .x6-widget-handle-pos-e {
  top: -webkit-calc(42%);
  top: calc(50% - 8px);
  right: -19px;
}
.x6-widget-handle-surround .x6-widget-handle-small .x6-widget-handle-pos-ne {
  top: -19px;
  right: -19px;
}
.x6-widget-handle-surround .x6-widget-handle-small .x6-widget-handle-pos-w {
  left: -19px;
  margin-top: -8px;
}
.x6-widget-handle-surround .x6-widget-handle-small .x6-widget-handle-pos-sw {
  bottom: -19px;
  left: -19px;
}
.x6-widget-handle-surround .x6-widget-handle-small .x6-widget-handle-pos-s {
  bottom: -19px;
  margin-left: -7.5px;
}
.x6-widget-handle-surround .x6-widget-handle-tiny .x6-widget-handle {
  width: 10px;
  height: 10px;
  font-size: 10px;
  background-size: 10px 10px;
}
.x6-widget-handle-surround .x6-widget-handle-tiny .x6-widget-handle-pos-se {
  right: -15px;
  bottom: -13px;
}
.x6-widget-handle-surround .x6-widget-handle-tiny .x6-widget-handle-pos-nw {
  top: -13px;
  left: -15px;
}
.x6-widget-handle-surround .x6-widget-handle-tiny .x6-widget-handle-pos-n {
  top: -13px;
  margin-left: -5px;
}
.x6-widget-handle-surround .x6-widget-handle-tiny .x6-widget-handle-pos-e {
  top: -webkit-calc(45%);
  top: calc(50% - 5px);
  right: -15px;
}
.x6-widget-handle-surround .x6-widget-handle-tiny .x6-widget-handle-pos-ne {
  top: -13px;
  right: -15px;
}
.x6-widget-handle-surround .x6-widget-handle-tiny .x6-widget-handle-pos-w {
  left: -15px;
  margin-top: -5px;
}
.x6-widget-handle-surround .x6-widget-handle-tiny .x6-widget-handle-pos-sw {
  bottom: -13px;
  left: -15px;
}
.x6-widget-handle-surround .x6-widget-handle-tiny .x6-widget-handle-pos-s {
  bottom: -13px;
  margin-left: -5px;
}
.x6-widget-handle-toolbar {
  position: absolute;
  top: -50px;
  display: table-row;
  padding: 7px 5px;
}
.x6-widget-handle-toolbar::after {
  position: absolute;
  top: 100%;
  left: 10px;
  width: 0;
  height: 0;
  margin-top: 4px;
  border-right: 10px solid transparent;
  border-left: 10px solid transparent;
  content: '';
}
.x6-widget-handle-toolbar .x6-widget-handle {
  position: relative;
  display: table-cell;
  min-width: 20px;
  margin: 0 2px;
  background-position: 3px 3px;
  background-size: 16px 16px;
}
.x6-widget-handle-toolbar .x6-widget-handle::after {
  position: absolute;
  bottom: -11px;
  width: 100%;
  content: '';
}
.x6-widget-handle-pie {
  position: absolute;
  top: -webkit-calc(0%);
  top: calc(50% - 50px);
  right: -50px;
  z-index: 1;
  display: none;
  width: 100px;
  height: 100px;
  margin: -2px -2px 0 0;
  border-radius: 50%;
  cursor: default;
  pointer-events: visiblePainted;
}
.x6-widget-handle-pie .x6-widget-handle {
  width: 1px;
  height: auto;
  pointer-events: visiblePainted;
}
.x6-widget-handle-pie-slice-svg {
  width: 100%;
  height: 100%;
  overflow: visible !important;
}
.x6-widget-handle-pie-slice-img,
.x6-widget-handle-pie-slice-txt {
  display: none;
  pointer-events: none;
}
.x6-widget-handle-pie[data-pie-toggle-position='e'] {
  top: calc(50% - 50px);
  right: -50px;
  left: auto;
}
.x6-widget-handle-pie[data-pie-toggle-position='w'] {
  top: calc(50% - 50px);
  right: auto;
  left: -52px;
}
.x6-widget-handle-pie[data-pie-toggle-position='n'] {
  top: -50px;
  right: auto;
  bottom: auto;
  left: calc(50% - 52px);
}
.x6-widget-handle-pie[data-pie-toggle-position='s'] {
  top: auto;
  right: auto;
  bottom: -52px;
  left: calc(50% - 52px);
}
.x6-widget-handle-pie-opened {
  display: block;
  animation: halo-pie-visibility 0.1s, halo-pie-opening 0.1s;
  animation-timing-function: step-end, ease;
  animation-delay: 0s, 0.1s;
}
.x6-widget-handle-pie-toggle {
  position: absolute;
  top: -webkit-calc(35%);
  top: calc(50% - 15px);
  right: -15px;
  z-index: 2;
  display: block;
  box-sizing: border-box;
  width: 30px;
  height: 30px;
  background-repeat: no-repeat;
  background-position: center;
  background-size: 20px 20px;
  border-radius: 50%;
  cursor: pointer;
  user-select: none;
  pointer-events: visiblePainted;
  -webkit-user-drag: none;
  user-drag: none;
  /* stylelint-disable-line */
}
.x6-widget-handle-pie-toggle-pos-e {
  top: -webkit-calc(35%);
  top: calc(50% - 15px);
  right: -15px;
  bottom: auto;
  left: auto;
}
.x6-widget-handle-pie-toggle-pos-w {
  top: -webkit-calc(35%);
  top: calc(50% - 15px);
  right: auto;
  bottom: auto;
  left: -15px;
}
.x6-widget-handle-pie-toggle-pos-n {
  top: -15px;
  right: auto;
  bottom: auto;
  left: -webkit-calc(35%);
  left: calc(50% - 15px);
}
.x6-widget-handle-pie-toggle-pos-s {
  top: auto;
  right: auto;
  bottom: -15px;
  left: -webkit-calc(35%);
  left: calc(50% - 15px);
}
.x6-widget-handle-pie-toggle-opened {
  transition: 0.1s background-image;
}
.x6-widget-handle-toolbar {
  position: static;
  display: inline-block;
  margin-top: -50px;
  margin-left: 45px;
  white-space: nowrap;
  vertical-align: top;
  background-color: #f5f5f5;
  border-bottom: 3px solid #333;
  border-radius: 5px;
  box-shadow: 0 1px 2px #222;
}
.x6-widget-handle-toolbar::after {
  top: -12px;
  left: 55px;
  margin-top: 0;
  border-top: 6px solid #333;
  border-right: 10px solid transparent;
  border-left: 10px solid transparent;
}
.x6-widget-handle-toolbar .x6-widget-handle {
  display: inline-block;
  vertical-align: top;
}
.x6-widget-handle-toolbar .x6-widget-handle:hover::after {
  border-bottom: 4px solid #fc6cb8;
}
.x6-widget-handle-toolbar .x6-widget-handle-rotate {
  position: absolute;
  top: 100%;
  right: 100%;
  margin-top: 3px;
  margin-right: 6px;
}
.x6-widget-handle-toolbar .x6-widget-handle-remove:hover::after,
.x6-widget-handle-toolbar .x6-widget-handle-rotate:hover::after {
  border-bottom: none;
}
.x6-widget-handle-toolbar .x6-widget-handle + .x6-widget-handle {
  margin-left: 4px;
}
.x6-widget-handle-pie {
  box-sizing: content-box;
  background-color: #f5f5f5;
  border: 2px solid #404040;
}
.x6-widget-handle-pie-slice {
  fill: transparent;
  stroke: #e9e9e9;
  stroke-width: 1;
}
.x6-widget-handle-pie-slice:hover {
  fill: #fff;
}
.x6-widget-handle-pie-slice-img {
  display: block;
}
.x6-widget-handle-selected .x6-widget-handle-pie-slice {
  fill: #fff;
}
.x6-widget-handle-pie-toggle {
  background-color: #f6f6f6;
  background-image: url('data:image/svg+xml;charset=utf8,%3C%3Fxml%20version%3D%221.0%22%20%3F%3E%3C!DOCTYPE%20svg%20PUBLIC%20%22-%2F%2FW3C%2F%2FDTD%20SVG%201.1%2F%2FEN%22%20%22http%3A%2F%2Fwww.w3.org%2FGraphics%2FSVG%2F1.1%2FDTD%2Fsvg11.dtd%22%3E%3Csvg%20height%3D%2216px%22%20id%3D%22Layer_1%22%20style%3D%22enable-background%3Anew%200%200%2016%2016%3B%22%20version%3D%221.1%22%20viewBox%3D%220%200%2016%2016%22%20width%3D%2216px%22%20xml%3Aspace%3D%22preserve%22%20xmlns%3D%22http%3A%2F%2Fwww.w3.org%2F2000%2Fsvg%22%20xmlns%3Axlink%3D%22http%3A%2F%2Fwww.w3.org%2F1999%2Fxlink%22%3E%3Cpath%20fill%3D%22%236A6C8A%22%20d%3D%22M15%2C6h-5V1c0-0.55-0.45-1-1-1H7C6.45%2C0%2C6%2C0.45%2C6%2C1v5H1C0.45%2C6%2C0%2C6.45%2C0%2C7v2c0%2C0.55%2C0.45%2C1%2C1%2C1h5v5c0%2C0.55%2C0.45%2C1%2C1%2C1h2%20c0.55%2C0%2C1-0.45%2C1-1v-5h5c0.55%2C0%2C1-0.45%2C1-1V7C16%2C6.45%2C15.55%2C6%2C15%2C6z%22%2F%3E%3C%2Fsvg%3E');
  background-size: 16px 16px;
  border: 2px solid #3b425f;
}
.x6-widget-handle-pie-toggle:hover {
  background-color: #fff;
  background-image: url('data:image/svg+xml;charset=utf8,%3C%3Fxml%20version%3D%221.0%22%20%3F%3E%3C!DOCTYPE%20svg%20PUBLIC%20%22-%2F%2FW3C%2F%2FDTD%20SVG%201.1%2F%2FEN%22%20%22http%3A%2F%2Fwww.w3.org%2FGraphics%2FSVG%2F1.1%2FDTD%2Fsvg11.dtd%22%3E%3Csvg%20height%3D%2216px%22%20id%3D%22Layer_1%22%20style%3D%22enable-background%3Anew%200%200%2016%2016%3B%22%20version%3D%221.1%22%20viewBox%3D%220%200%2016%2016%22%20width%3D%2216px%22%20xml%3Aspace%3D%22preserve%22%20xmlns%3D%22http%3A%2F%2Fwww.w3.org%2F2000%2Fsvg%22%20xmlns%3Axlink%3D%22http%3A%2F%2Fwww.w3.org%2F1999%2Fxlink%22%3E%3Cpath%20fill%3D%22%23FD6EB6%22%20d%3D%22M15%2C6h-5V1c0-0.55-0.45-1-1-1H7C6.45%2C0%2C6%2C0.45%2C6%2C1v5H1C0.45%2C6%2C0%2C6.45%2C0%2C7v2c0%2C0.55%2C0.45%2C1%2C1%2C1h5v5c0%2C0.55%2C0.45%2C1%2C1%2C1h2%20c0.55%2C0%2C1-0.45%2C1-1v-5h5c0.55%2C0%2C1-0.45%2C1-1V7C16%2C6.45%2C15.55%2C6%2C15%2C6z%22%2F%3E%3C%2Fsvg%3E');
  border-color: #fd6eb6;
}
.x6-widget-handle-pie-toggle-opened {
  background-image: url('data:image/svg+xml;charset=utf8,%3C%3Fxml%20version%3D%221.0%22%20encoding%3D%22UTF-8%22%20standalone%3D%22no%22%3F%3E%3Csvg%20xmlns%3Adc%3D%22http%3A%2F%2Fpurl.org%2Fdc%2Felements%2F1.1%2F%22%20xmlns%3Acc%3D%22http%3A%2F%2Fcreativecommons.org%2Fns%23%22%20xmlns%3Ardf%3D%22http%3A%2F%2Fwww.w3.org%2F1999%2F02%2F22-rdf-syntax-ns%23%22%20xmlns%3Asvg%3D%22http%3A%2F%2Fwww.w3.org%2F2000%2Fsvg%22%20xmlns%3D%22http%3A%2F%2Fwww.w3.org%2F2000%2Fsvg%22%20version%3D%221.1%22%20width%3D%2216%22%20height%3D%2216%22%20viewBox%3D%220%200%2016%2016%22%20id%3D%22Layer_1%22%20xml%3Aspace%3D%22preserve%22%3E%3Cmetadata%20id%3D%22metadata9%22%3E%3Crdf%3ARDF%3E%3Ccc%3AWork%20rdf%3Aabout%3D%22%22%3E%3Cdc%3Aformat%3Eimage%2Fsvg%2Bxml%3C%2Fdc%3Aformat%3E%3Cdc%3Atype%20rdf%3Aresource%3D%22http%3A%2F%2Fpurl.org%2Fdc%2Fdcmitype%2FStillImage%22%20%2F%3E%3Cdc%3Atitle%3E%3C%2Fdc%3Atitle%3E%3C%2Fcc%3AWork%3E%3C%2Frdf%3ARDF%3E%3C%2Fmetadata%3E%3Cdefs%20id%3D%22defs7%22%20%2F%3E%3Cpath%20d%3D%22M%2015%2C6%2010%2C6%20C%201.0301983%2C6.00505%2015.002631%2C6.011353%206%2C6%20L%201%2C6%20C%200.45%2C6%200%2C6.45%200%2C7%20l%200%2C2%20c%200%2C0.55%200.45%2C1%201%2C1%20l%205%2C0%20c%208.988585%2C-0.019732%20-5.02893401%2C-0.018728%204%2C0%20l%205%2C0%20c%200.55%2C0%201%2C-0.45%201%2C-1%20L%2016%2C7%20C%2016%2C6.45%2015.55%2C6%2015%2C6%20z%22%20id%3D%22path3%22%20style%3D%22fill%3A%236a6c8a%22%20%2F%3E%3C%2Fsvg%3E');
}
.x6-widget-handle-pie-toggle-opened:hover {
  background-image: url('data:image/svg+xml;charset=utf8,%3C%3Fxml%20version%3D%221.0%22%20encoding%3D%22UTF-8%22%20standalone%3D%22no%22%3F%3E%3Csvg%20xmlns%3Adc%3D%22http%3A%2F%2Fpurl.org%2Fdc%2Felements%2F1.1%2F%22%20xmlns%3Acc%3D%22http%3A%2F%2Fcreativecommons.org%2Fns%23%22%20xmlns%3Ardf%3D%22http%3A%2F%2Fwww.w3.org%2F1999%2F02%2F22-rdf-syntax-ns%23%22%20xmlns%3Asvg%3D%22http%3A%2F%2Fwww.w3.org%2F2000%2Fsvg%22%20xmlns%3D%22http%3A%2F%2Fwww.w3.org%2F2000%2Fsvg%22%20version%3D%221.1%22%20width%3D%2216%22%20height%3D%2216%22%20viewBox%3D%220%200%2016%2016%22%20id%3D%22Layer_1%22%20xml%3Aspace%3D%22preserve%22%3E%3Cmetadata%20id%3D%22metadata9%22%3E%3Crdf%3ARDF%3E%3Ccc%3AWork%20rdf%3Aabout%3D%22%22%3E%3Cdc%3Aformat%3Eimage%2Fsvg%2Bxml%3C%2Fdc%3Aformat%3E%3Cdc%3Atype%20rdf%3Aresource%3D%22http%3A%2F%2Fpurl.org%2Fdc%2Fdcmitype%2FStillImage%22%20%2F%3E%3Cdc%3Atitle%3E%3C%2Fdc%3Atitle%3E%3C%2Fcc%3AWork%3E%3C%2Frdf%3ARDF%3E%3C%2Fmetadata%3E%3Cdefs%20id%3D%22defs7%22%20%2F%3E%3Cpath%20d%3D%22M%2015%2C6%2010%2C6%20C%201.0301983%2C6.00505%2015.002631%2C6.011353%206%2C6%20L%201%2C6%20C%200.45%2C6%200%2C6.45%200%2C7%20l%200%2C2%20c%200%2C0.55%200.45%2C1%201%2C1%20l%205%2C0%20c%208.988585%2C-0.019732%20-5.02893401%2C-0.018728%204%2C0%20l%205%2C0%20c%200.55%2C0%201%2C-0.45%201%2C-1%20L%2016%2C7%20C%2016%2C6.45%2015.55%2C6%2015%2C6%20z%22%20id%3D%22path3%22%20style%3D%22fill%3A%23FD6EB6%22%20%2F%3E%3C%2Fsvg%3E');
}
.x6-widget-dnd {
  position: absolute;
  top: -10000px;
  left: -10000px;
  z-index: 999999;
  display: none;
  cursor: move;
  opacity: 0.7;
  pointer-events: 'cursor';
}
.x6-widget-dnd.dragging {
  display: inline-block;
}
.x6-widget-dnd.dragging * {
  pointer-events: none !important;
}
.x6-widget-dnd .x6-graph {
  background: transparent;
  box-shadow: none;
}
.x6-widget-halo {
  position: absolute;
  pointer-events: none;
}
.x6-widget-halo-content {
  position: absolute;
  top: 100%;
  padding: 6px;
  font-size: 10px;
  line-height: 14px;
  text-align: center;
  border-radius: 6px;
}
.x6-widget-halo-handles + .x6-widget-halo-content {
  right: -20px;
  left: -20px;
  margin-top: 30px;
}
.x6-widget-halo-handles.x6-widget-handle-small + .x6-widget-halo-content {
  margin-top: 25px;
}
.x6-widget-halo-handles.x6-widget-handle-small + .x6-widget-halo-content {
  margin-top: 20px;
}
.x6-widget-halo-handles.x6-widget-handle-pie + .x6-widget-halo-content {
  right: 0;
  left: 0;
  margin-top: 10px;
}
.x6-widget-halo-content {
  color: #fff;
  background-color: #6a6b8a;
}
.x6-widget-halo.type-node .x6-widget-handle-toolbar .x6-widget-handle-remove {
  position: absolute;
  right: 100%;
  bottom: 100%;
  margin-right: 6px;
  margin-bottom: 3px;
}
.x6-widget-halo.type-edge .x6-widget-handle-surround .x6-widget-handle-remove {
  background-color: #fff;
  border-radius: 50%;
}
.x6-widget-halo.type-edge .x6-widget-handle-toolbar {
  margin-top: -60px;
  margin-left: -18px;
}
.x6-widget-halo.type-edge .x6-widget-handle-toolbar::after {
  top: -22px;
  left: -9px;
}
.x6-widget-minimap {
  position: relative;
  display: table-cell;
  box-sizing: border-box;
  overflow: hidden;
  text-align: center;
  vertical-align: middle;
  background-color: #fff;
  user-select: none;
}
.x6-widget-minimap .x6-graph {
  display: inline-block;
  box-shadow: 0 0 4px 0 #eee;
  cursor: pointer;
}
.x6-widget-minimap .x6-graph > svg {
  pointer-events: none;
  shape-rendering: optimizeSpeed;
}
.x6-widget-minimap .x6-graph .x6-node * {
  /* stylelint-disable-next-line */
  vector-effect: initial;
}
.x6-widget-minimap-viewport {
  position: absolute;
  box-sizing: content-box !important;
  margin: -2px 0 0 -2px;
  border: 2px solid #31d0c6;
  cursor: move;
}
.x6-widget-minimap-viewport-zoom {
  position: absolute;
  right: 0;
  bottom: 0;
  box-sizing: border-box;
  width: 12px;
  height: 12px;
  margin: 0 -6px -6px 0;
  background-color: #fff;
  border: 2px solid #31d0c6;
  border-radius: 50%;
  cursor: nwse-resize;
}
.x6-graph-scroller {
  position: relative;
  box-sizing: border-box;
  overflow: scroll;
  outline: none;
}
.x6-graph-scroller-content {
  position: relative;
}
.x6-graph-scroller-background {
  position: absolute;
  top: 0;
  right: 0;
  bottom: 0;
  left: 0;
}
.x6-graph-scroller .x6-graph {
  position: absolute;
  display: inline-block;
  margin: 0;
  box-shadow: none;
}
.x6-graph-scroller .x6-graph > svg {
  display: block;
}
.x6-graph-scroller.x6-graph-scroller-paged .x6-graph {
  box-shadow: 0 0 4px 0 #eee;
}
.x6-graph-scroller.x6-graph-scroller-pannable[data-panning='false'] {
  cursor: grab;
  cursor: -moz-grab;
  cursor: -webkit-grab;
}
.x6-graph-scroller.x6-graph-scroller-pannable[data-panning='true'] {
  cursor: grabbing;
  cursor: -moz-grabbing;
  cursor: -webkit-grabbing;
  user-select: none;
}
.x6-graph-pagebreak {
  position: absolute;
  top: 0;
  right: 0;
  bottom: 0;
  left: 0;
}
.x6-graph-pagebreak-vertical {
  position: absolute;
  top: 0;
  bottom: 0;
  box-sizing: border-box;
  width: 1px;
  border-left: 1px dashed #bdbdbd;
}
.x6-graph-pagebreak-horizontal {
  position: absolute;
  right: 0;
  left: 0;
  box-sizing: border-box;
  height: 1px;
  border-top: 1px dashed #bdbdbd;
}
.x6-widget-selection {
  position: absolute;
  display: none;
  width: 0;
  height: 0;
  touch-action: none;
}
.x6-widget-selection-rubberband {
  display: block;
  overflow: visible;
  opacity: 0.3;
}
.x6-widget-selection-selected {
  display: block;
}
.x6-widget-selection-box {
  cursor: move;
}
.x6-widget-selection-inner[data-selection-length='0'],
.x6-widget-selection-inner[data-selection-length='1'] {
  display: none;
}
.x6-widget-selection-content {
  position: absolute;
  top: 100%;
  right: -20px;
  left: -20px;
  margin-top: 30px;
  padding: 6px;
  line-height: 14px;
  text-align: center;
  border-radius: 6px;
}
.x6-widget-selection-content:empty {
  display: none;
}
.x6-widget-selection-rubberband {
  background-color: #3498db;
  border: 2px solid #2980b9;
}
.x6-widget-selection-box {
  box-sizing: content-box !important;
  margin-top: -4px;
  margin-left: -4px;
  padding-right: 4px;
  padding-bottom: 4px;
  border: 2px dashed #feb663;
  box-shadow: 2px 2px 5px #d3d3d3;
}
.x6-widget-selection-inner {
  box-sizing: content-box !important;
  margin-top: -8px;
  margin-left: -8px;
  padding-right: 12px;
  padding-bottom: 12px;
  border: 2px solid #feb663;
  box-shadow: 2px 2px 5px #d3d3d3;
}
.x6-widget-selection-content {
  color: #fff;
  font-size: 10px;
  background-color: #6a6b8a;
}
.x6-widget-snapline {
  position: absolute;
  top: 0;
  right: 0;
  bottom: 0;
  left: 0;
  pointer-events: none;
}
.x6-widget-snapline-vertical,
.x6-widget-snapline-horizontal {
  position: absolute;
  opacity: 1;
  pointer-events: none;
}
.x6-widget-snapline-horizontal {
  border-bottom: 1px solid #2ecc71;
}
.x6-widget-snapline-vertical {
  border-right: 1px solid #2ecc71;
}
.x6-widget-stencil {
  position: absolute;
  top: 0;
  right: 0;
  bottom: 0;
  left: 0;
}
.x6-widget-stencil::after {
  position: absolute;
  top: 0;
  display: block;
  width: 100%;
  height: 20px;
  padding: 8px 0;
  line-height: 20px;
  text-align: center;
  opacity: 0;
  transition: top 0.1s linear, opacity 0.1s linear;
  content: ' ';
  pointer-events: none;
}
.x6-widget-stencil-content {
  position: absolute;
  top: 0;
  right: 0;
  bottom: 0;
  left: 0;
  height: auto;
  overflow-x: hidden;
  overflow-y: auto;
}
.x6-widget-stencil .x6-node [magnet]:not([magnet='passive']) {
  pointer-events: none;
}
.x6-widget-stencil-group {
  padding: 0;
  padding-bottom: 8px;
  overflow: hidden;
  user-select: none;
}
.x6-widget-stencil-group.collapsed {
  height: auto;
  padding-bottom: 0;
}
.x6-widget-stencil-group-title {
  position: relative;
  margin-top: 0;
  margin-bottom: 0;
  padding: 4px;
  cursor: pointer;
}
.x6-widget-stencil-title,
.x6-widget-stencil-group > .x6-widget-stencil-group-title {
  overflow: hidden;
  white-space: nowrap;
  text-overflow: ellipsis;
  user-select: none;
}
.x6-widget-stencil .unmatched {
  opacity: 0.3;
}
.x6-widget-stencil .x6-node.unmatched {
  display: none;
}
.x6-widget-stencil-group.unmatched {
  display: none;
}
.x6-widget-stencil-search-text {
  position: relative;
  z-index: 1;
  box-sizing: border-box;
  width: 100%;
  height: 30px;
  max-height: 30px;
  line-height: 30px;
  outline: 0;
}
.x6-widget-stencil.not-found::after {
  opacity: 1;
  content: attr(data-not-found-text);
}
.x6-widget-stencil.not-found.searchable::after {
  top: 30px;
}
.x6-widget-stencil.not-found.searchable.collapsable::after {
  top: 50px;
}
.x6-widget-stencil {
  color: #333;
  background: #f5f5f5;
}
.x6-widget-stencil-content {
  position: absolute;
}
.x6-widget-stencil.collapsable > .x6-widget-stencil-content {
  top: 32px;
}
.x6-widget-stencil.searchable > .x6-widget-stencil-content {
  top: 80px;
}
.x6-widget-stencil.not-found::after {
  position: absolute;
}
.x6-widget-stencil.not-found.searchable.collapsable::after {
  top: 80px;
}
.x6-widget-stencil.not-found.searchable::after {
  top: 60px;
}
.x6-widget-stencil-group {
  height: auto;
  margin-bottom: 1px;
  padding: 0;
  transition: none;
}
.x6-widget-stencil-group .x6-graph {
  background: transparent;
  box-shadow: none;
}
.x6-widget-stencil-group.collapsed {
  height: auto;
  max-height: 31px;
}
.x6-widget-stencil-title,
.x6-widget-stencil-group > .x6-widget-stencil-group-title {
  position: relative;
  left: 0;
  box-sizing: border-box;
  width: 100%;
  height: 32px;
  padding: 0 5px 0 8px;
  color: #666;
  font-weight: 700;
  font-size: 12px;
  line-height: 32px;
  cursor: default;
  transition: all 0.3;
}
.x6-widget-stencil-title:hover,
.x6-widget-stencil-group > .x6-widget-stencil-group-title:hover {
  color: #444;
}
.x6-widget-stencil-title {
  background: #e9e9e9;
}
.x6-widget-stencil-group > .x6-widget-stencil-group-title {
  background: #ededed;
}
.x6-widget-stencil.collapsable > .x6-widget-stencil-title,
.x6-widget-stencil-group.collapsable > .x6-widget-stencil-group-title {
  padding-left: 32px;
  cursor: pointer;
}
.x6-widget-stencil.collapsable > .x6-widget-stencil-title::before,
.x6-widget-stencil-group.collapsable > .x6-widget-stencil-group-title::before {
  position: absolute;
  top: 6px;
  left: 8px;
  display: block;
  width: 18px;
  height: 18px;
  margin: 0;
  padding: 0;
  background-color: transparent;
  background-repeat: no-repeat;
  background-position: 0 0;
  border: none;
  content: ' ';
}
.x6-widget-stencil.collapsable > .x6-widget-stencil-title::before,
.x6-widget-stencil-group.collapsable > .x6-widget-stencil-group-title::before {
  background-image: url('data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMTgiIGhlaWdodD0iMTgiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyI+PGcgZmlsbD0iIzAwMCIgZmlsbC1ydWxlPSJub256ZXJvIj48cGF0aCBkPSJNOS4zNzUuNUM0LjY4Ny41Ljg3NSA0LjMxMy44NzUgOWMwIDQuNjg4IDMuODEyIDguNSA4LjUgOC41IDQuNjg3IDAgOC41LTMuODEyIDguNS04LjUgMC00LjY4Ny0zLjgxMy04LjUtOC41LTguNXptMCAxNS44ODZDNS4zMDMgMTYuMzg2IDEuOTkgMTMuMDcyIDEuOTkgOXMzLjMxMi03LjM4NSA3LjM4NS03LjM4NVMxNi43NiA0LjkyOCAxNi43NiA5YzAgNC4wNzItMy4zMTMgNy4zODYtNy4zODUgNy4zODZ6Ii8+PHBhdGggZD0iTTEyLjc1MyA4LjQ0M0g1Ljk5N2EuNTU4LjU1OCAwIDAwMCAxLjExNmg2Ljc1NmEuNTU4LjU1OCAwIDAwMC0xLjExNnoiLz48L2c+PC9zdmc+');
  opacity: 0.4;
  transition: all 0.3s;
}
.x6-widget-stencil.collapsable > .x6-widget-stencil-title:hover::before,
.x6-widget-stencil-group.collapsable > .x6-widget-stencil-group-title:hover::before {
  opacity: 0.6;
}
.x6-widget-stencil.collapsable.collapsed > .x6-widget-stencil-title::before,
.x6-widget-stencil-group.collapsable.collapsed > .x6-widget-stencil-group-title::before {
  background-image: url('data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMTgiIGhlaWdodD0iMTgiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyI+PGcgZmlsbD0iIzAwMCIgZmlsbC1ydWxlPSJub256ZXJvIj48cGF0aCBkPSJNOS4zNzUuNUM0LjY4Ny41Ljg3NSA0LjMxMy44NzUgOWMwIDQuNjg4IDMuODEyIDguNSA4LjUgOC41IDQuNjg3IDAgOC41LTMuODEyIDguNS04LjUgMC00LjY4Ny0zLjgxMy04LjUtOC41LTguNXptMCAxNS44ODZDNS4zMDMgMTYuMzg2IDEuOTkgMTMuMDcyIDEuOTkgOXMzLjMxMi03LjM4NSA3LjM4NS03LjM4NVMxNi43NiA0LjkyOCAxNi43NiA5YzAgNC4wNzItMy4zMTMgNy4zODYtNy4zODUgNy4zODZ6Ii8+PHBhdGggZD0iTTEyLjc1MyA4LjQ0M0g1Ljk5N2EuNTU4LjU1OCAwIDAwMCAxLjExNmg2Ljc1NmEuNTU4LjU1OCAwIDAwMC0xLjExNnoiLz48cGF0aCBkPSJNOC44MTcgNS42MjN2Ni43NTZhLjU1OC41NTggMCAwMDEuMTE2IDBWNS42MjNhLjU1OC41NTggMCAxMC0xLjExNiAweiIvPjwvZz48L3N2Zz4=');
  opacity: 0.4;
}
.x6-widget-stencil.collapsable.collapsed > .x6-widget-stencil-title:hover::before,
.x6-widget-stencil-group.collapsable.collapsed > .x6-widget-stencil-group-title:hover::before {
  opacity: 0.6;
}
.x6-widget-stencil input[type='search'] {
  -webkit-appearance: textfield;
}
.x6-widget-stencil input[type='search']::-webkit-search-cancel-button,
.x6-widget-stencil input[type='search']::-webkit-search-decoration {
  -webkit-appearance: none;
}
.x6-widget-stencil-search-text {
  display: block;
  width: 90%;
  margin: 8px 5%;
  padding-left: 8px;
  color: #333;
  background: #fff;
  border: 1px solid #e9e9e9;
  border-radius: 12px;
  outline: 0;
}
.x6-widget-stencil-search-text:focus {
  outline: 0;
}
.x6-widget-stencil::after {
  color: #808080;
  font-weight: 600;
  font-size: 12px;
  background: 0 0;
}
.x6-widget-transform {
  position: absolute;
  box-sizing: content-box !important;
  margin: -5px 0 0 -5px;
  padding: 4px;
  border: 1px dashed #000;
  border-radius: 5px;
  user-select: none;
  pointer-events: none;
}
.x6-widget-transform > div {
  position: absolute;
  box-sizing: border-box;
  background-color: #fff;
  border: 1px solid #000;
  transition: background-color 0.2s;
  pointer-events: auto;
  -webkit-user-drag: none;
  user-drag: none;
  /* stylelint-disable-line */
}
.x6-widget-transform > div:hover {
  background-color: #d3d3d3;
}
.x6-widget-transform-cursor-n {
  cursor: n-resize;
}
.x6-widget-transform-cursor-s {
  cursor: s-resize;
}
.x6-widget-transform-cursor-e {
  cursor: e-resize;
}
.x6-widget-transform-cursor-w {
  cursor: w-resize;
}
.x6-widget-transform-cursor-ne {
  cursor: ne-resize;
}
.x6-widget-transform-cursor-nw {
  cursor: nw-resize;
}
.x6-widget-transform-cursor-se {
  cursor: se-resize;
}
.x6-widget-transform-cursor-sw {
  cursor: sw-resize;
}
.x6-widget-transform-resize {
  width: 10px;
  height: 10px;
  border-radius: 6px;
}
.x6-widget-transform-resize[data-position='top-left'] {
  top: -5px;
  left: -5px;
}
.x6-widget-transform-resize[data-position='top-right'] {
  top: -5px;
  right: -5px;
}
.x6-widget-transform-resize[data-position='bottom-left'] {
  bottom: -5px;
  left: -5px;
}
.x6-widget-transform-resize[data-position='bottom-right'] {
  right: -5px;
  bottom: -5px;
}
.x6-widget-transform-resize[data-position='top'] {
  top: -5px;
  left: 50%;
  margin-left: -5px;
}
.x6-widget-transform-resize[data-position='bottom'] {
  bottom: -5px;
  left: 50%;
  margin-left: -5px;
}
.x6-widget-transform-resize[data-position='left'] {
  top: 50%;
  left: -5px;
  margin-top: -5px;
}
.x6-widget-transform-resize[data-position='right'] {
  top: 50%;
  right: -5px;
  margin-top: -5px;
}
.x6-widget-transform.prevent-aspect-ratio .x6-widget-transform-resize[data-position='top'],
.x6-widget-transform.prevent-aspect-ratio .x6-widget-transform-resize[data-position='bottom'],
.x6-widget-transform.prevent-aspect-ratio .x6-widget-transform-resize[data-position='left'],
.x6-widget-transform.prevent-aspect-ratio .x6-widget-transform-resize[data-position='right'] {
  display: none;
}
.x6-widget-transform.no-orth-resize .x6-widget-transform-resize[data-position='bottom'],
.x6-widget-transform.no-orth-resize .x6-widget-transform-resize[data-position='left'],
.x6-widget-transform.no-orth-resize .x6-widget-transform-resize[data-position='right'],
.x6-widget-transform.no-orth-resize .x6-widget-transform-resize[data-position='top'] {
  display: none;
}
.x6-widget-transform.no-resize .x6-widget-transform-resize {
  display: none;
}
.x6-widget-transform-rotate {
  top: -20px;
  left: -20px;
  width: 12px;
  height: 12px;
  border-radius: 6px;
  cursor: crosshair;
}
.x6-widget-transform.no-rotate .x6-widget-transform-rotate {
  display: none;
}
.x6-widget-transform-active {
  border-color: transparent;
  pointer-events: all;
}
.x6-widget-transform-active > div {
  display: none;
}
.x6-widget-transform-active > .x6-widget-transform-active-handle {
  display: block;
  background-color: #808080;
}
.x6-widget-knob {
  position: absolute;
  box-sizing: border-box;
  width: 16px;
  height: 16px;
  margin-top: -8px;
  margin-left: -8px;
  cursor: pointer;
  user-select: none;
}
.x6-widget-knob::before,
.x6-widget-knob::after {
  position: absolute;
  transform: rotate(45deg);
  content: '';
}
.x6-widget-knob::before {
  top: 4px;
  left: 4px;
  box-sizing: border-box;
  width: 8px;
  height: 8px;
  background-color: #fff;
}
.x6-widget-knob::after {
  top: 5px;
  left: 5px;
  box-sizing: border-box;
  width: 6px;
  height: 6px;
  background-color: #fca000;
}
.x6-graph-print {
  position: relative;
}
.x6-graph-print .x6-graph-print-ready {
  display: none;
}
.x6-graph-print .x6-graph-print-preview {
  overflow: hidden !important;
  background: #fff !important;
}
@media print {
  html,
  html > body.x6-graph-printing {
    position: relative !important;
    width: 100% !important;
    height: 100% !important;
    margin: 0 !important;
    padding: 0 !important;
  }
  html > body.x6-graph-printing > * {
    display: none !important;
  }
  html > body.x6-graph-printing > .x6-graph-print {
    display: block !important;
  }
  .x6-graph-print {
    top: 0 !important;
    left: 0 !important;
    margin: 0 !important;
    padding: 0 !important;
    overflow: hidden !important;
    page-break-after: always;
    background: #fff !important;
  }
  .x6-graph-print .x6-graph-print-ready {
    display: none;
  }
}
.x6-cell-tool-editor {
  position: relative;
  display: inline-block;
  min-height: 1em;
  margin: 0;
  padding: 0;
  line-height: 1;
  white-space: normal;
  text-align: center;
  vertical-align: top;
  overflow-wrap: normal;
  outline: none;
  transform-origin: 0 0;
  -webkit-user-drag: none;
}
.x6-edge-tool-editor {
  border: 1px solid #275fc5;
  border-radius: 2px;
}
`;var B7=globalThis&&globalThis.__decorate||function(i,t,e,n){var r=arguments.length,s=r<3?t:n===null?n=Object.getOwnPropertyDescriptor(t,e):n,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")s=Reflect.decorate(i,t,e,n);else for(var a=i.length-1;a>=0;a--)(o=i[a])&&(s=(r<3?o(s):r>3?o(t,e,s):o(t,e))||s);return r>3&&s&&Object.defineProperty(t,e,s),s};class ts extends Ee{init(){ts.ensure()}dispose(){ts.clean()}}B7([ts.dispose()],ts.prototype,"dispose",null);(function(i){let t,e=0;function n(){if(e+=1,!(e>1)&&!Ze.isApplyingHMR()){t=document.createElement("style"),t.setAttribute("type","text/css"),t.textContent=j7;const s=document.querySelector("head");s&&s.insertBefore(t,s.firstChild)}}i.ensure=n;function r(){e-=1,!(e>0)&&(t&&t.parentNode&&t.parentNode.removeChild(t),t=null)}i.clean=r})(ts||(ts={}));var R7=globalThis&&globalThis.__rest||function(i,t){var e={};for(var n in i)Object.prototype.hasOwnProperty.call(i,n)&&t.indexOf(n)<0&&(e[n]=i[n]);if(i!=null&&typeof Object.getOwnPropertySymbols=="function")for(var r=0,n=Object.getOwnPropertySymbols(i);r<n.length;r++)t.indexOf(n[r])<0&&Object.prototype.propertyIsEnumerable.call(i,n[r])&&(e[n[r]]=i[n[r]]);return e};class qs{get handleClassName(){return Ce.handle}get pie(){return Object.assign(Object.assign({},qs.defaultPieOptions),this.handleOptions.pie)}initHandles(){if(this.handles=[],this.handleOptions.handles&&this.handleOptions.handles.forEach(t=>this.addHandle(t)),this.handleOptions.type==="pie"){if(this.pie.toggles){const t=Ce.pieToggle;this.$pieToggles={},this.pie.toggles.forEach(e=>{const n=this.$("<div/>");this.applyAttrs(n,e.attrs),n.addClass(t).addClass(`${t}-pos-${e.position||"e"}`).attr("data-name",e.name).appendTo(this.container),this.$pieToggles[e.name]=n})}this.setPieIcons()}if(this.$handleContainer){const t=this.handleOptions.type||"surround";this.$handleContainer.addClass(Ce.wrap).addClass(Ce.animate).addClass(`${Ce.handle}-${t}`)}this.delegateEvents({[`mousedown .${Ce.handle}`]:"onHandleMouseDown",[`touchstart .${Ce.handle}`]:"onHandleMouseDown",[`mousedown .${Ce.pieToggle}`]:"onPieToggleMouseDown",[`touchstart .${Ce.pieToggle}`]:"onPieToggleMouseDown"})}onHandleMouseDown(t){const e=this.$(t.currentTarget).closest(`.${Ce.handle}`).attr("data-action");e&&(t.preventDefault(),t.stopPropagation(),this.setEventData(t,{action:e,clientX:t.clientX,clientY:t.clientY,startX:t.clientX,startY:t.clientY}),t.type==="mousedown"&&t.button===2?this.triggerHandleAction(e,"contextmenu",t):(this.triggerHandleAction(e,"mousedown",t),this.delegateDocumentEvents({mousemove:"onHandleMouseMove",touchmove:"onHandleMouseMove",mouseup:"onHandleMouseUp",touchend:"onHandleMouseUp",touchcancel:"onHandleMouseUp"},t.data)))}onHandleMouseMove(t){const n=this.getEventData(t).action;n&&this.triggerHandleAction(n,"mousemove",t)}onHandleMouseUp(t){const n=this.getEventData(t).action;n&&(this.triggerHandleAction(n,"mouseup",t),this.undelegateDocumentEvents())}triggerHandleAction(t,e,n,r){n.preventDefault(),n.stopPropagation();const s=this.normalizeEvent(n),o=this.getEventData(s),a=this.graph.snapToGrid(s.clientX,s.clientY),l=this.graph.snapToGrid(o.clientX,o.clientY),c=a.x-l.x,u=a.y-l.y;this.trigger(`action:${t}:${e}`,Object.assign({e:s,dx:c,dy:u,x:a.x,y:a.y,offsetX:n.clientX-o.startX,offsetY:n.clientY-o.startY},r)),o.clientX=n.clientX,o.clientY=n.clientY}onPieToggleMouseDown(t){t.stopPropagation();const e=this.$(t.target).closest(`.${Ce.pieToggle}`).attr("data-name");this.isOpen(e)||this.isOpen()&&this.toggleState(),this.toggleState(e)}setPieIcons(){this.handleOptions.type==="pie"&&this.$handleContainer.find(`.${Ce.handle}`).each((t,e)=>{const n=this.$(e),r=n.attr("data-action"),s=Ce.pieSlice,o=this.getHandle(r);if(!o||!o.icon){const a=window.getComputedStyle(e,":before").getPropertyValue("content");if(a&&a!=="none"){const c=n.find(`.${s}-txt`);c.length&&Et.create(c[0]).text(a.replace(/['"]/g,""))}const l=n.css("background-image");if(l){const c=l.match(/url\(['"]?([^'"]+)['"]?\)/);if(c){const u=c[1],h=n.find(`.${s}-img`);h.length>0&&Et.create(h[0]).attr("xlink:href",u)}}}})}getHandleIdx(t){return this.handles.findIndex(e=>e.name===t)}hasHandle(t){return this.getHandleIdx(t)>=0}getHandle(t){return this.handles.find(e=>e.name===t)}renderHandle(t){const e=this.$("<div/>").addClass(`${Ce.handle} ${Ce.handle}-${t.name}`).attr("data-action",t.name).prop("draggable",!1);if(this.handleOptions.type==="pie"){const n=this.getHandleIdx(t.name),r=this.pie,s=r.outerRadius,o=r.innerRadius,a=(s+o)/2,l=new N(s,s),c=re.toRad(r.sliceAngle),u=n*c+re.toRad(r.startAngle),h=u+c,f=BN(o,s,u,h),p=Et.create("svg").addClass(`${Ce.pieSlice}-svg`),b=Et.create("path").addClass(Ce.pieSlice).attr("d",f).translate(s,s),v=N.fromPolar(a,-u-c/2,l).toJSON(),w=r.iconSize,x=Et.create("image").attr(v).addClass(`${Ce.pieSlice}-img`);v.y=v.y+w-2;const E=Et.create("text",{"font-size":w}).attr(v).addClass(`${Ce.pieSlice}-txt`);x.attr({width:w,height:w}),x.translate(-w/2,-w/2),E.translate(-w/2,-w/2),p.append([b,x,E]),e.append(p.node)}else e.addClass(`${Ce.handle}-pos-${t.position}`),t.content&&(typeof t.content=="string"?e.html(t.content):e.append(t.content));return this.updateHandleIcon(e,t.icon),this.applyAttrs(e,t.attrs),e}addHandle(t){if(!this.hasHandle(t.name)){this.handles.push(t);const e=t.events;e&&Object.keys(e).forEach(n=>{const r=e[n],s=`action:${t.name}:${n}`;typeof r=="string"?this.on(s,this[r],this):this.on(s,r)}),this.$handleContainer&&this.$handleContainer.append(this.renderHandle(t))}return this}addHandles(t){return t.forEach(e=>this.addHandle(e)),this}removeHandles(){for(;this.handles.length;)this.removeHandle(this.handles[0].name);return this}removeHandle(t){const e=this.getHandleIdx(t),n=this.handles[e];return n&&(n.events&&Object.keys(n.events).forEach(r=>{this.off(`action:${t}:${r}`)}),this.getHandleElem(t).remove(),this.handles.splice(e,1)),this}changeHandle(t,e){const n=this.getHandle(t);return n&&(this.removeHandle(t),this.addHandle(Object.assign(Object.assign({},n),e))),this}toggleHandle(t,e){const n=this.getHandle(t);if(n){const r=this.getHandleElem(t),s=`${Ce.handle}-selected`;e===void 0&&(e=!r.hasClass(s)),r.toggleClass(s,e);const o=e?n.iconSelected:n.icon;o&&this.updateHandleIcon(r,o)}return this}selectHandle(t){return this.toggleHandle(t,!0)}deselectHandle(t){return this.toggleHandle(t,!1)}deselectAllHandles(){return this.handles.forEach(t=>this.deselectHandle(t.name)),this}getHandleElem(t){return this.$handleContainer.find(`.${Ce.handle}-${t}`)}updateHandleIcon(t,e){if(this.handleOptions.type==="pie"){const n=t.find(`.${Ce.pieSliceImg}`);this.$(n[0]).attr("xlink:href",e||"")}else t.css("background-image",e?`url(${e})`:"")}isRendered(){return this.$handleContainer!=null}isOpen(t){return this.isRendered()?t?this.$pieToggles[t].hasClass(Ce.pieToggleOpened):this.$handleContainer.hasClass(`${Ce.pieOpended}`):!1}toggleState(t){if(this.isRendered()){const e=this.$handleContainer;if(Object.keys(this.$pieToggles).forEach(n=>{this.$pieToggles[n].removeClass(Ce.pieToggleOpened)}),this.isOpen())this.trigger("pie:close",{name:t}),e.removeClass(Ce.pieOpended);else{if(this.trigger("pie:open",{name:t}),t){const n=this.pie.toggles,r=n&&n.find(s=>s.name===t);r&&e.attr({"data-pie-toggle-name":r.name,"data-pie-toggle-position":r.position}),this.$pieToggles[t].addClass(Ce.pieToggleOpened)}e.addClass(Ce.pieOpended)}}}applyAttrs(t,e){if(e){const n=se.$(t);Object.keys(e).forEach(r=>{const s=n.find(r).addBack().filter(r),o=e[r],{class:a}=o,l=R7(o,["class"]);a&&s.addClass(a),s.attr(l)})}}}(function(i){i.defaultPieOptions={innerRadius:20,outerRadius:50,sliceAngle:45,startAngle:0,iconSize:14,toggles:[{name:"default",position:"e"}]}})(qs||(qs={}));var Ce;(function(i){i.handle=se.prototype.prefixClassName("widget-handle"),i.wrap=`${i.handle}-wrap`,i.animate=`${i.handle}-animate`,i.pieOpended=`${i.handle}-pie-opened`,i.pieToggle=`${i.handle}-pie-toggle`,i.pieToggleOpened=`${i.handle}-pie-toggle-opened`,i.pieSlice=`${i.handle}-pie-slice`,i.pieSliceImg=`${i.handle}-pie-slice-img`})(Ce||(Ce={}));var V7=globalThis&&globalThis.__decorate||function(i,t,e,n){var r=arguments.length,s=r<3?t:n===null?n=Object.getOwnPropertyDescriptor(t,e):n,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")s=Reflect.decorate(i,t,e,n);else for(var a=i.length-1;a>=0;a--)(o=i[a])&&(s=(r<3?o(s):r>3?o(t,e,s):o(t,e))||s);return r>3&&s&&Object.defineProperty(t,e,s),s},H7=globalThis&&globalThis.__rest||function(i,t){var e={};for(var n in i)Object.prototype.hasOwnProperty.call(i,n)&&t.indexOf(n)<0&&(e[n]=i[n]);if(i!=null&&typeof Object.getOwnPropertySymbols=="function")for(var r=0,n=Object.getOwnPropertySymbols(i);r<n.length;r++)t.indexOf(n[r])<0&&Object.prototype.propertyIsEnumerable.call(i,n[r])&&(e[n[r]]=i[n[r]]);return e};class Vl extends se{constructor(t){super();const e=t,{view:n,cell:r,node:s,edge:o,graph:a}=e,l=H7(e,["view","cell","node","edge","graph"]);n?(this.view=n,this.cell=n.cell,this.graph=n.graph,this.model=this.graph.model):(r||o||s)&&a&&(this.cell=s||o||r,this.view=a.renderer.findViewByCell(this.cell),this.graph=a,this.model=this.graph.model);const c=this.constructor;t.clearAll!==!1&&c.removeInstances(this.graph),c.register(this),this.init(l)}static ensureCache(){return this.instanceCache.has(this)||this.instanceCache.set(this,{}),this.instanceCache.get(this)}static register(t,e){e==null&&(e=t.graph);const n=this.ensureCache();let r=n[e.view.cid];r==null&&(r=n[e.view.cid]={}),r[t.cid]=t}static unregister(t,e){e==null&&(e=t.graph);const n=this.ensureCache();n[e.view.cid]&&delete n[e.view.cid][t.cid]}static removeInstances(t){const n=this.ensureCache()[t.view.cid];n&&Object.keys(n).forEach(r=>{const s=n[r];s&&s.remove()})}static getInstances(t){return this.ensureCache()[t.view.cid]||{}}init(t){}render(){return this}startListening(){this.options.clearOnBlankMouseDown!==!1&&this.graph.on("blank:mousedown",this.remove,this)}stopListening(){this.options.clearOnBlankMouseDown!==!1&&this.graph.off("blank:mousedown",this.remove,this)}remove(){return this.stopListening(),this.constructor.unregister(this),super.remove()}dispose(){this.remove()}}Vl.instanceCache=new WeakMap;V7([se.dispose()],Vl.prototype,"dispose",null);class R2 extends Vl{get node(){return this.cell}get metadata(){const t=this.cell.prop("knob");return Array.isArray(t)?this.options.index!=null?t[this.options.index]:null:t}init(t){this.options=Object.assign({},t),this.render(),this.startListening()}startListening(){this.delegateEvents({mousedown:"onMouseDown",touchstart:"onMouseDown"}),this.model.on("*",this.update,this),this.graph.on("scale",this.update,this),this.graph.on("translate",this.update,this),this.model.on("reseted",this.remove,this),this.node.on("removed",this.remove,this),this.view.on("node:resize:mousedown",this.onTransform,this),this.view.on("node:rotate:mousedown",this.onTransform,this),this.view.on("node:resize:mouseup",this.onTransformed,this),this.view.on("node:rotate:mouseup",this.onTransformed,this),this.view.on("cell:knob:mousedown",this.onKnobMouseDown,this),this.view.on("cell:knob:mouseup",this.onKnobMouseUp,this),super.startListening()}stopListening(){this.undelegateEvents(),this.model.off("*",this.update,this),this.graph.off("scale",this.update,this),this.graph.off("translate",this.update,this),this.model.off("reseted",this.remove,this),this.node.off("removed",this.remove,this),this.view.off("node:resize:mousedown",this.onTransform,this),this.view.off("node:rotate:mousedown",this.onTransform,this),this.view.off("node:resize:mouseup",this.onTransformed,this),this.view.off("node:rotate:mouseup",this.onTransformed,this),this.view.off("cell:knob:mousedown",this.onKnobMouseDown,this),this.view.off("cell:knob:mouseup",this.onKnobMouseUp,this),super.stopListening()}render(){return this.container=document.createElement("div"),ge(this.container,this.prefixClassName("widget-knob")),this.options.className&&ge(this.container,this.options.className),this.view.addClass(Os.KNOB),this.graph.container.appendChild(this.container),this.update(),this}remove(){return this.view.removeClass(Os.KNOB),super.remove()}update(){if(this.metadata){const{update:t,position:e}=this.metadata,n={knob:this,cell:this.cell,node:this.node};if(e){const r=e.call(this.graph,Object.assign({},n));if(r){const s=this.graph.matrix(),o=this.node.getBBox(),a=re.normalize(this.node.getAngle()),l=N.create(r);a!==0&&l.rotate(-a,{x:o.width/2,y:o.height/2}),l.translate(o).scale(s.a,s.d).translate(s.e,s.f),this.container.style.left=`${l.x}px`,this.container.style.top=`${l.y}px`}}t&&t.call(this.graph,Object.assign({},n))}}hide(){this.container.style.display="none"}show(){this.container.style.display=""}onTransform(){this.hide()}onTransformed(){this.show()}onKnobMouseDown({knob:t}){this.cid!==t.cid&&this.hide()}onKnobMouseUp(){this.show()}notify(t,e){if(this.view){const n=this.view.normalizeEvent(e),r=this.graph.snapToGrid(n.clientX,n.clientY);this.view.notify(`cell:${t}`,{e:n,view:this.view,node:this.node,cell:this.cell,x:r.x,y:r.y,knob:this}),this.cell.isNode()?this.view.notify(`node:${t}`,{e:n,view:this.view,node:this.node,cell:this.cell,x:r.x,y:r.y,knob:this}):this.cell.isEdge()&&this.view.notify(`edge:${t}`,{e:n,view:this.view,edge:this.cell,cell:this.cell,x:r.x,y:r.y,knob:this})}}onMouseDown(t){t.stopPropagation(),this.setEventData(t,{knobbing:!1,originX:t.clientX,originY:t.clientY,clientX:t.clientX,clientY:t.clientY}),this.graph.view.undelegateEvents(),this.delegateDocumentEvents(Os.documentEvents,t.data),this.metadata&&this.metadata.onMouseDown&&this.metadata.onMouseDown.call(this.graph,{e:t,data:this.getEventData(t),knob:this,cell:this.cell,node:this.node}),this.notify("knob:mousedown",t)}onMouseMove(t){const e=this.getEventData(t),n=this.graph.findViewByCell(this.node);if(e.knobbing||(e.knobbing=!0,n&&(n.addClass(Os.KNOBBING),this.notify("knob",t)),this.model.startBatch("knob",{cid:this.cid})),e.clientX=t.clientX,e.clientY=t.clientY,this.metadata&&this.metadata.onMouseMove){const r=this.graph.matrix(),s=(t.clientX-e.originX)/r.a,o=(t.clientY-e.originY)/r.d,a=this.node.getAngle(),l=new N(s,o).rotate(a);this.metadata.onMouseMove.call(this.graph,{e:t,data:e,deltaX:l.x,deltaY:l.y,knob:this,cell:this.cell,node:this.node})}this.notify("knobbing",t),this.notify("knob:mousemove",t)}onMouseUp(t){this.undelegateDocumentEvents(),this.graph.view.delegateEvents();const e=this.getEventData(t),n=this.graph.findViewByCell(this.node);e.knobbing&&(n&&n.removeClass(Os.KNOBBING),this.metadata&&this.metadata.onMouseUp&&this.metadata.onMouseUp.call(this.graph,{e:t,data:e,knob:this,cell:this.cell,node:this.node}),this.model.stopBatch("knob",{cid:this.cid}),this.notify("knobbed",t)),this.notify("knob:mouseup",t)}}var Os;(function(i){i.KNOB="has-widget-knob",i.KNOBBING="node-knobbing",i.documentEvents={mousemove:"onMouseMove",touchmove:"onMouseMove",mouseup:"onMouseUp",touchend:"onMouseUp"}})(Os||(Os={}));var G7=globalThis&&globalThis.__decorate||function(i,t,e,n){var r=arguments.length,s=r<3?t:n===null?n=Object.getOwnPropertyDescriptor(t,e):n,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")s=Reflect.decorate(i,t,e,n);else for(var a=i.length-1;a>=0;a--)(o=i[a])&&(s=(r<3?o(s):r>3?o(t,e,s):o(t,e))||s);return r>3&&s&&Object.defineProperty(t,e,s),s},Ya;(function(i){i.root="widget-minimap",i.viewport=`${i.root}-viewport`,i.zoom=`${i.viewport}-zoom`})(Ya||(Ya={}));class x1 extends se{constructor(t){super(),this.options=Object.assign(Object.assign({},su.defaultOptions),t),this.updateViewport=If(this.updateViewport.bind(this),0),this.container=document.createElement("div"),this.$container=this.$(this.container).addClass(this.prefixClassName(Ya.root));const e=document.createElement("div");this.container.appendChild(e),this.$viewport=this.$("<div>").addClass(this.prefixClassName(Ya.viewport)),this.options.scalable&&(this.zoomHandle=this.$("<div>").addClass(this.prefixClassName(Ya.zoom)).appendTo(this.$viewport).get(0)),this.$container.append(this.$viewport).css({width:this.options.width,height:this.options.height,padding:this.options.padding}),this.options.container&&this.options.container.appendChild(this.container),this.sourceGraph=this.graph;const n=Object.assign(Object.assign({},this.options.graphOptions),{container:e,model:this.sourceGraph.model,frozen:!0,async:this.sourceGraph.isAsync(),interacting:!1,grid:!1,background:!1,rotating:!1,resizing:!1,embedding:!1,selecting:!1,snapline:!1,clipboard:!1,history:!1,scroller:!1});this.targetGraph=this.options.createGraph?this.options.createGraph(n):new ae(n),this.targetGraph.renderer.unfreeze(),this.updatePaper(this.sourceGraph.options.width,this.sourceGraph.options.height),this.startListening()}get graph(){return this.options.graph}get scroller(){return this.graph.scroller.widget}get graphContainer(){return this.scroller?this.scroller.container:this.graph.container}get $graphContainer(){return this.scroller?this.scroller.$container:this.$(this.graph.container)}startListening(){this.scroller?this.$graphContainer.on(`scroll${this.getEventNamespace()}`,this.updateViewport):(this.sourceGraph.on("translate",this.onTransform,this),this.sourceGraph.on("scale",this.onTransform,this),this.sourceGraph.on("model:updated",this.onModelUpdated,this)),this.sourceGraph.on("resize",this.updatePaper,this),this.delegateEvents({mousedown:"startAction",touchstart:"startAction",[`mousedown .${this.prefixClassName("graph")}`]:"scrollTo",[`touchstart .${this.prefixClassName("graph")}`]:"scrollTo"})}stopListening(){this.scroller?this.$graphContainer.off(this.getEventNamespace()):(this.sourceGraph.off("translate",this.onTransform,this),this.sourceGraph.off("scale",this.onTransform,this),this.sourceGraph.off("model:updated",this.onModelUpdated,this)),this.sourceGraph.off("resize",this.updatePaper,this),this.undelegateEvents()}onRemove(){this.targetGraph.view.remove(),this.stopListening(),this.targetGraph.dispose()}onTransform(t){(t.ui||this.targetGraphTransforming)&&this.updateViewport()}onModelUpdated(){this.targetGraph.zoomToFit()}updatePaper(t,e){let n,r;typeof t=="object"?(n=t.width,r=t.height):(n=t,r=e);const s=this.sourceGraph.options,o=this.sourceGraph.transform.getScale(),a=this.options.width-2*this.options.padding,l=this.options.height-2*this.options.padding;n/=o.sx,r/=o.sy,this.ratio=Math.min(a/n,l/r);const c=this.ratio,u=s.x*c/o.sx,h=s.y*c/o.sy;return n*=c,r*=c,this.targetGraph.resizeGraph(n,r),this.targetGraph.translate(u,h),this.scroller?this.targetGraph.scale(c,c):this.targetGraph.zoomToFit(),this.updateViewport(),this}updateViewport(){const t=this.sourceGraph.transform.getScale(),e=this.targetGraph.transform.getScale();let n=null;this.scroller?n=this.scroller.clientToLocalPoint(0,0):n=this.graph.graphToLocal(0,0);const r=this.$(this.targetGraph.container).position(),s=this.targetGraph.translate();s.ty=s.ty||0,this.geometry={top:r.top+n.y*e.sy+s.ty,left:r.left+n.x*e.sx+s.tx,width:this.$graphContainer.innerWidth()*e.sx/t.sx,height:this.$graphContainer.innerHeight()*e.sy/t.sy},this.$viewport.css(this.geometry)}startAction(t){const e=this.normalizeEvent(t),n=e.target===this.zoomHandle?"zooming":"panning",{tx:r,ty:s}=this.sourceGraph.translate(),o={action:n,clientX:e.clientX,clientY:e.clientY,scrollLeft:this.graphContainer.scrollLeft,scrollTop:this.graphContainer.scrollTop,zoom:this.sourceGraph.zoom(),scale:this.sourceGraph.transform.getScale(),geometry:this.geometry,translateX:r,translateY:s};this.targetGraphTransforming=!0,this.delegateDocumentEvents(su.documentEvents,o)}doAction(t){const e=this.normalizeEvent(t),n=e.clientX,r=e.clientY,s=e.data;switch(s.action){case"panning":{const o=this.sourceGraph.transform.getScale(),a=(n-s.clientX)*o.sx,l=(r-s.clientY)*o.sy;this.scroller?(this.graphContainer.scrollLeft=s.scrollLeft+a/this.ratio,this.graphContainer.scrollTop=s.scrollTop+l/this.ratio):this.sourceGraph.translate(s.translateX-a/this.ratio,s.translateY-l/this.ratio);break}case"zooming":{const o=s.scale,a=s.geometry,l=1+(s.clientX-n)/a.width/o.sx;s.frameId&&cancelAnimationFrame(s.frameId),s.frameId=requestAnimationFrame(()=>{this.sourceGraph.zoom(l*s.zoom,{absolute:!0,minScale:this.options.minScale,maxScale:this.options.maxScale})});break}}}stopAction(){this.undelegateDocumentEvents(),this.targetGraphTransforming=!1}scrollTo(t){const e=this.normalizeEvent(t);let n,r;const s=this.targetGraph.translate();if(s.ty=s.ty||0,e.offsetX==null){const l=this.$(this.targetGraph.container).offset();n=e.pageX-l.left,r=e.pageY-l.top}else n=e.offsetX,r=e.offsetY;const o=(n-s.tx)/this.ratio,a=(r-s.ty)/this.ratio;this.sourceGraph.centerPoint(o,a)}dispose(){this.remove()}}G7([se.dispose()],x1.prototype,"dispose",null);var su;(function(i){i.defaultOptions={width:300,height:200,padding:10,scalable:!0,minScale:.01,maxScale:16,graphOptions:{},createGraph:t=>new ae(t)},i.documentEvents={mousemove:"doAction",touchmove:"doAction",mouseup:"stopAction",touchend:"stopAction"}})(su||(su={}));var q7=globalThis&&globalThis.__decorate||function(i,t,e,n){var r=arguments.length,s=r<3?t:n===null?n=Object.getOwnPropertyDescriptor(t,e):n,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")s=Reflect.decorate(i,t,e,n);else for(var a=i.length-1;a>=0;a--)(o=i[a])&&(s=(r<3?o(s):r>3?o(t,e,s):o(t,e))||s);return r>3&&s&&Object.defineProperty(t,e,s),s},U7=globalThis&&globalThis.__rest||function(i,t){var e={};for(var n in i)Object.prototype.hasOwnProperty.call(i,n)&&t.indexOf(n)<0&&(e[n]=i[n]);if(i!=null&&typeof Object.getOwnPropertySymbols=="function")for(var r=0,n=Object.getOwnPropertySymbols(i);r<n.length;r++)t.indexOf(n[r])<0&&Object.prototype.propertyIsEnumerable.call(i,n[r])&&(e[n[r]]=i[n[r]]);return e};class w1 extends se{constructor(t){super();const{graph:e}=t,n=U7(t,["graph"]);this.graph=e,this.options=Object.assign({tolerance:10},n),this.render(),this.parseFilter(),this.disabled||this.startListening()}get model(){return this.graph.model}get containerClassName(){return this.prefixClassName("widget-snapline")}get verticalClassName(){return`${this.containerClassName}-vertical`}get horizontalClassName(){return`${this.containerClassName}-horizontal`}get disabled(){return this.options.enabled!==!0||this.graph.options.snapline.enabled!==!0}enable(){this.disabled&&(this.options.enabled=!0,this.graph.options.snapline.enabled=!0,this.startListening())}disable(){this.disabled||(this.options.enabled=!1,this.graph.options.snapline.enabled=!1,this.stopListening())}setFilter(t){this.options.filter=t,this.parseFilter()}render(){this.container=document.createElement("div"),this.$container=this.$(this.container),this.$horizontal=this.$(document.createElement("div")).addClass(this.horizontalClassName),this.$vertical=this.$(document.createElement("div")).addClass(this.verticalClassName),this.$container.hide().addClass(this.containerClassName).append([this.$horizontal,this.$vertical]),this.options.className&&this.$container.addClass(this.options.className)}startListening(){this.stopListening(),this.graph.on("node:mousedown",this.captureCursorOffset,this),this.graph.on("node:mousemove",this.snapOnMoving,this),this.model.on("batch:stop",this.onBatchStop,this),this.delegateDocumentEvents({mouseup:"hide",touchend:"hide"})}stopListening(){this.graph.off("node:mousedown",this.captureCursorOffset,this),this.graph.off("node:mousemove",this.snapOnMoving,this),this.model.off("batch:stop",this.onBatchStop,this),this.undelegateDocumentEvents()}parseFilter(){this.filterShapes={},this.filterCells={},this.filterFunction=null;const t=this.options.filter;Array.isArray(t)?t.forEach(e=>{typeof e=="string"?this.filterShapes[e]=!0:this.filterCells[e.id]=!0}):typeof t=="function"&&(this.filterFunction=t)}onBatchStop({name:t,data:e}){t==="resize"&&this.snapOnResizing(e.cell,e)}captureCursorOffset({view:t,x:e,y:n}){const r=t.getDelegatedView();if(r&&this.isNodeMovable(r)){const s=t.cell.getPosition();this.offset={x:e-s.x,y:n-s.y}}}isNodeMovable(t){return t&&t.cell.isNode()&&t.can("nodeMovable")}snapOnResizing(t,e){if(this.options.resizing&&!e.snapped&&e.ui&&e.direction&&e.trueDirection){const n=this.graph.renderer.findViewByCell(t);if(n&&n.cell.isNode()){const r=t.getBBox(),s=r.bbox(t.getAngle()),o=s.getTopLeft(),a=s.getBottomRight(),l=re.normalize(t.getAngle()),c=this.options.tolerance||0;let u,h,f,p,b,v;const w={vertical:0,horizontal:0},x=e.direction,E=e.trueDirection,S=e.relativeDirection;E.indexOf("right")!==-1?w.vertical=a.x:w.vertical=o.x,E.indexOf("bottom")!==-1?w.horizontal=a.y:w.horizontal=o.y,this.model.getNodes().some(R=>{if(this.isIgnored(t,R))return!1;const rt=R.getBBox().bbox(R.getAngle()),st=rt.getTopLeft(),j=rt.getBottomRight(),B={vertical:[st.x,j.x],horizontal:[st.y,j.y]},tt={};return Object.keys(B).forEach(bt=>{const Ot=bt,Gt=B[Ot].map(pt=>({position:pt,distance:Math.abs(pt-w[Ot])})).filter(pt=>pt.distance<=c);tt[Ot]=zf(Gt,pt=>pt.distance)}),u==null&&tt.vertical.length>0&&(u=tt.vertical[0].position,h=Math.min(s.y,rt.y),f=Math.max(a.y,j.y)-h),p==null&&tt.horizontal.length>0&&(p=tt.horizontal[0].position,b=Math.min(s.x,rt.x),v=Math.max(a.x,j.x)-b),u!=null&&p!=null}),this.hide();let O=0,k=0;(p!=null||u!=null)&&(u!=null&&(O=E.indexOf("right")!==-1?u-a.x:o.x-u),p!=null&&(k=E.indexOf("bottom")!==-1?p-a.y:o.y-p));let m=0,T=0;if(l%90===0)l===90||l===270?(m=k,T=O):(m=O,T=k);else{const R=l>=0&&l<90?1:l>=90&&l<180?4:l>=180&&l<270?3:2;p!=null&&u!=null&&(O<k?(k=0,p=void 0):(O=0,u=void 0));const rt=re.toRad(l%90);O&&(m=R===3?O/Math.cos(rt):O/Math.sin(rt)),k&&(T=R===3?k/Math.cos(rt):k/Math.sin(rt));const st=R===1||R===3;switch(S){case"top":case"bottom":T=k?k/(st?Math.cos(rt):Math.sin(rt)):O/(st?Math.sin(rt):Math.cos(rt));break;case"left":case"right":m=O?O/(st?Math.cos(rt):Math.sin(rt)):k/(st?Math.sin(rt):Math.cos(rt));break}}switch(S){case"top":case"bottom":m=0;break;case"left":case"right":T=0;break}const D=this.graph.getGridSize();let z=Math.max(r.width+m,D),H=Math.max(r.height+T,D);e.minWidth&&e.minWidth>D&&(z=Math.max(z,e.minWidth)),e.minHeight&&e.minHeight>D&&(H=Math.max(H,e.minHeight)),e.maxWidth&&(z=Math.min(z,e.maxWidth)),e.maxHeight&&(H=Math.min(H,e.maxHeight)),e.preserveAspectRatio&&(T<m?H=z*(r.height/r.width):z=H*(r.width/r.height)),(z!==r.width||H!==r.height)&&(t.resize(z,H,{direction:x,relativeDirection:S,trueDirection:E,snapped:!0,snaplines:this.cid,restrict:this.graph.hook.getRestrictArea(n)}),f&&(f+=H-r.height),v&&(v+=z-r.width));const q=t.getBBox().bbox(l);u&&Math.abs(q.x-u)>1&&Math.abs(q.width+q.x-u)>1&&(u=void 0),p&&Math.abs(q.y-p)>1&&Math.abs(q.height+q.y-p)>1&&(p=void 0),this.update({verticalLeft:u,verticalTop:h,verticalHeight:f,horizontalTop:p,horizontalLeft:b,horizontalWidth:v})}}}snapOnMoving({view:t,e,x:n,y:r}){const s=t.getEventData(e).delegatedView||t;if(!this.isNodeMovable(s))return;const o=s.cell,a=o.getSize(),l=o.getPosition(),c=new ht(n-this.offset.x,r-this.offset.y,a.width,a.height),u=o.getAngle(),h=c.getCenter(),f=c.bbox(u),p=f.getTopLeft(),b=f.getBottomRight(),v=this.options.tolerance||0;let w,x,E,S,O,k,m=0,T=0;if(this.model.getNodes().some(D=>{if(this.isIgnored(o,D))return!1;const z=D.getBBox().bbox(D.getAngle()),H=z.getCenter(),q=z.getTopLeft(),R=z.getBottomRight();return w==null&&(Math.abs(H.x-h.x)<v?(w=H.x,m=.5):Math.abs(q.x-p.x)<v?(w=q.x,m=0):Math.abs(q.x-b.x)<v?(w=q.x,m=1):Math.abs(R.x-b.x)<v?(w=R.x,m=1):Math.abs(R.x-p.x)<v&&(w=R.x),w!=null&&(x=Math.min(f.y,z.y),E=Math.max(b.y,R.y)-x)),S==null&&(Math.abs(H.y-h.y)<v?(S=H.y,T=.5):Math.abs(q.y-p.y)<v?S=q.y:Math.abs(q.y-b.y)<v?(S=q.y,T=1):Math.abs(R.y-b.y)<v?(S=R.y,T=1):Math.abs(R.y-p.y)<v&&(S=R.y),S!=null&&(O=Math.min(f.x,z.x),k=Math.max(b.x,R.x)-O)),w!=null&&S!=null}),this.hide(),S!=null||w!=null){S!=null&&(f.y=S-T*f.height),w!=null&&(f.x=w-m*f.width);const D=f.getCenter(),z=D.x-c.width/2,H=D.y-c.height/2,q=z-l.x,R=H-l.y;(q!==0||R!==0)&&(o.translate(q,R,{snapped:!0,restrict:this.graph.hook.getRestrictArea(s)}),k&&(k+=q),E&&(E+=R)),this.update({verticalLeft:w,verticalTop:x,verticalHeight:E,horizontalTop:S,horizontalLeft:O,horizontalWidth:k})}}isIgnored(t,e){return e.id===t.id||e.isDescendantOf(t)||this.filterShapes[e.shape]||this.filterCells[e.id]||this.filterFunction&&xt(this.filterFunction,this.graph,e)}update(t){const e=this.graph.matrix(),n=e.a,r=e.d,s=e.e,o=e.f,a=this.options.sharp,l=this.graph.scroller.widget!=null;t.horizontalTop?this.$horizontal.css({top:t.horizontalTop*r+o,left:a?t.horizontalLeft*n+s:l?"-300%":0,width:a?t.horizontalWidth*n:l?"700%":"100%"}).show():this.$horizontal.hide(),t.verticalLeft?this.$vertical.css({left:t.verticalLeft*n+s,top:a?t.verticalTop*r+o:l?"-300%":0,height:a?t.verticalHeight*r:l?"700%":"100%"}).show():this.$vertical.hide(),this.show()}resetTimer(){this.timer&&(clearTimeout(this.timer),this.timer=null)}show(){return this.$container.show(),this.resetTimer(),this.container.parentNode==null&&this.graph.container.appendChild(this.container),this}hide(){this.$container.hide(),this.resetTimer();const t=this.options.clean,e=typeof t=="number"?t:t!==!1?3e3:0;return e>0&&(this.timer=window.setTimeout(()=>{this.unmount()},e)),this}onRemove(){this.stopListening(),this.hide()}dispose(){this.remove()}}q7([se.dispose()],w1.prototype,"dispose",null);var W7=globalThis&&globalThis.__decorate||function(i,t,e,n){var r=arguments.length,s=r<3?t:n===null?n=Object.getOwnPropertyDescriptor(t,e):n,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")s=Reflect.decorate(i,t,e,n);else for(var a=i.length-1;a>=0;a--)(o=i[a])&&(s=(r<3?o(s):r>3?o(t,e,s):o(t,e))||s);return r>3&&s&&Object.defineProperty(t,e,s),s};class pe extends Ee{init(){this.resetUpdates(),this.startListening(),this.resetViews(this.model.getCells()),!this.isFrozen()&&this.isAsync()&&this.updateViewsAsync()}startListening(){this.model.on("sorted",this.onSortModel,this),this.model.on("reseted",this.onModelReseted,this),this.model.on("batch:stop",this.onBatchStop,this),this.model.on("cell:added",this.onCellAdded,this),this.model.on("cell:removed",this.onCellRemoved,this),this.model.on("cell:change:zIndex",this.onCellZIndexChanged,this),this.model.on("cell:change:visible",this.onCellVisibleChanged,this)}stopListening(){this.model.off("sorted",this.onSortModel,this),this.model.off("reseted",this.onModelReseted,this),this.model.off("batch:stop",this.onBatchStop,this),this.model.off("cell:added",this.onCellAdded,this),this.model.off("cell:removed",this.onCellRemoved,this),this.model.off("cell:change:zIndex",this.onCellZIndexChanged,this),this.model.off("cell:change:visible",this.onCellVisibleChanged,this)}resetUpdates(){this.updates={priorities:[{},{},{}],mounted:{},mountedCids:[],unmounted:{},unmountedCids:[],count:0,sort:!1,frozen:!1,freezeKey:null,animationId:null}}onSortModel(){this.model.hasActiveBatch(pe.SORT_DELAYING_BATCHES)||this.sortViews()}onModelReseted({options:t}){this.removeZPivots(),this.resetViews(this.model.getCells(),t)}onBatchStop({name:t,data:e}){if(this.isFrozen())return;const n=this.model;if(!this.isAsync()){const s=pe.UPDATE_DELAYING_BATCHES;s.includes(t)&&!n.hasActiveBatch(s)&&this.updateViews(e)}const r=pe.SORT_DELAYING_BATCHES;r.includes(t)&&!n.hasActiveBatch(r)&&this.sortViews()}onCellAdded({cell:t,options:e}){const n=e.position;this.isAsync()||typeof n!="number"?this.renderView(t,e):(e.maxPosition===n&&this.freeze({key:"addCells"}),this.renderView(t,e),n===0&&this.unfreeze({key:"addCells"}))}onCellRemoved({cell:t,options:e}){const n=this.findViewByCell(t);n&&this.requestViewUpdate(n,pe.FLAG_REMOVE,n.priority,e)}onCellZIndexChanged({cell:t,options:e}){if(this.options.sorting==="approx"){const n=this.findViewByCell(t);n&&this.requestViewUpdate(n,pe.FLAG_INSERT,n.priority,e)}}onCellVisibleChanged({cell:t,current:e,options:n}){e||this.processEdgeOnTerminalVisibleChanged(t,!1);const r=this.findViewByCell(t);!e&&r?this.removeView(t):e&&r==null&&this.renderView(t,n),e&&this.processEdgeOnTerminalVisibleChanged(t,!0)}processEdgeOnTerminalVisibleChanged(t,e){const n=(r,s)=>r.getSourceCellId()!==s.id?r.getSourceCell():r.getTargetCellId()!==s.id?r.getTargetCell():null;this.model.getConnectedEdges(t).forEach(r=>{const s=n(r,t);(s==null||s.isVisible())&&(e?r.show():r.hide())})}isEdgeTerminalVisible(t,e){const n=e==="source"?t.getSourceCellId():t.getTargetCellId(),r=n?this.model.getCell(n):null;return!(r&&!r.isVisible())}requestConnectedEdgesUpdate(t,e={}){if(Be.isCellView(t)){const n=t.cell,r=this.model.getConnectedEdges(n);for(let s=0,o=r.length;s<o;s+=1){const a=r[s],l=this.findViewByCell(a);if(!l)continue;const c=["update"];a.getTargetCell()===n&&c.push("target"),a.getSourceCell()===n&&c.push("source"),this.scheduleViewUpdate(l,l.getFlag(c),l.priority,e)}}}forcePostponedViewUpdate(t,e){if(!t||!Be.isCellView(t))return!1;const n=t.cell;if(n.isNode())return!1;const r=t;if(n.isEdge()&&(e&t.getFlag(["source","target"]))===0){let s=0;const o=this.findViewByCell(n.getSourceCell());o&&!this.isViewMounted(o)&&(s=this.dumpView(o),r.updateTerminalMagnet("source"));let a=0;const l=this.findViewByCell(n.getTargetCell());if(l&&!this.isViewMounted(l)&&(a=this.dumpView(l),r.updateTerminalMagnet("target")),s===0&&a===0)return!this.dumpView(r)}return!1}scheduleViewUpdate(t,e,n,r={}){const s=t.cid,o=this.updates;let a=o.priorities[n];a||(a=o.priorities[n]={});const l=a[s]||0;(l&e)!==e&&(l||(o.count+=1),e&pe.FLAG_REMOVE&&l&pe.FLAG_INSERT?a[s]^=pe.FLAG_INSERT:e&pe.FLAG_INSERT&&l&pe.FLAG_REMOVE&&(a[s]^=pe.FLAG_REMOVE),a[s]|=e,this.graph.hook.onViewUpdated(t,e,r))}requestViewUpdate(t,e,n,r={}){this.scheduleViewUpdate(t,e,n,r);const s=this.isAsync();if(this.isFrozen()||s&&r.async!==!1||this.model.hasActiveBatch(pe.UPDATE_DELAYING_BATCHES))return;const o=this.updateViews(r);s&&this.graph.trigger("render:done",{stats:o,options:r})}dumpView(t,e={}){if(t==null)return 0;const n=t.cid,s=this.updates.priorities[t.priority],o=this.registerMountedView(t)|s[n];return delete s[n],o?this.updateView(t,o,e):0}dumpViews(t={}){this.checkView(t),this.updateViews(t)}requireView(t,e={}){const n=this.findViewByCell(t);return n==null?null:(this.dumpView(n,e),n)}updateView(t,e,n={}){if(t==null)return 0;if(Be.isCellView(t)){if(e&pe.FLAG_REMOVE)return this.removeView(t.cell),0;e&pe.FLAG_INSERT&&(this.insertView(t),e^=pe.FLAG_INSERT)}return e?t.confirmUpdate(e,n):0}updateViews(t={}){let e,n=0,r=0,s=pe.MIN_PRIORITY;do e=this.updateViewsBatch(t),n+=1,r+=e.updatedCount,s=Math.min(e.priority,s);while(!e.empty);return{priority:s,batchCount:n,updatedCount:r}}updateViewsBatch(t={}){const e=this.updates,n=e.priorities,r=t.batchSize||pe.UPDATE_BATCH_SIZE;let s=!0,o=pe.MIN_PRIORITY,a=0,l=0,c=0,u=0,h=t.checkView||this.options.checkView;typeof h!="function"&&(h=null);t:for(let f=0,p=n.length;f<p;f+=1){const b=n[f];for(const v in b){if(c>=r){s=!1;break t}const w=se.views[v];if(!w){delete b[v];continue}let x=b[v];if((x&pe.FLAG_REMOVE)===0){const O=v in e.unmounted;if(h&&!xt(h,this.graph,{view:w,unmounted:O})){O||(this.registerUnmountedView(w),w.unmount()),e.unmounted[v]|=x,delete b[v],l+=1;continue}O&&(x|=pe.FLAG_INSERT,a+=1),x|=this.registerMountedView(w)}const E=w;let S=this.updateView(w,x,t);if(S>0){const O=E.cell;O&&O.isEdge()&&(E.hasAction(S,"source")&&!this.isEdgeTerminalVisible(O,"source")&&(S=E.removeAction(S,"source"),S|=pe.FLAG_REMOVE),E.hasAction(S,"target")&&!this.isEdgeTerminalVisible(O,"target")&&(S=E.removeAction(S,"target"),S|=pe.FLAG_REMOVE))}if(S>0&&(b[v]=S,!this.graph.hook.onViewPostponed(E,S,t)||b[v])){u+=1,s=!1;continue}o>f&&(o=f),c+=1,delete b[v]}}return{empty:s,priority:o,mountedCount:a,unmountedCount:l,updatedCount:c,postponedCount:u}}updateViewsAsync(t={},e={processed:0,priority:pe.MIN_PRIORITY}){const n=this.updates,r=n.animationId;if(r){if(zd(r),e.processed===0){const f=t.before;typeof f=="function"&&xt(f,this.graph,this.graph)}const s=this.updateViewsBatch(t),o=this.checkViewImpl({checkView:t.checkView,mountedBatchSize:pe.MOUNT_BATCH_SIZE-s.mountedCount,unmountedBatchSize:pe.MOUNT_BATCH_SIZE-s.unmountedCount});let a=e.processed;const l=n.count,c=o.mountedCount,u=o.unmountedCount;s.updatedCount>0&&(a+=s.updatedCount+s.unmountedCount,e.priority=Math.min(s.priority,e.priority),s.empty&&c===0?(s.priority=e.priority,s.mountedCount+=c,s.unmountedCount+=u,this.graph.trigger("render:done",{stats:s,options:t}),e.processed=0,n.count=0):e.processed=a);const h=t.progress;if(l&&typeof h=="function"&&xt(h,this.graph,{total:l,done:s.empty,current:a}),n.animationId!==r)return}n.animationId=Id(()=>{this.updateViewsAsync(t,e)})}registerMountedView(t){const e=t.cid,n=this.updates;if(e in n.mounted)return 0;n.mounted[e]=!0,n.mountedCids.push(e);const r=n.unmounted[e]||0;return delete n.unmounted[e],r}registerUnmountedView(t){const e=t.cid,n=this.updates;if(e in n.unmounted)return 0;n.unmounted[e]|=pe.FLAG_INSERT;const r=n.unmounted[e];return n.unmountedCids.push(e),delete n.mounted[e],r}isViewMounted(t){return t==null?!1:t.cid in this.updates.mounted}getMountedViews(){return Object.keys(this.updates.mounted).map(t=>Be.views[t])}getUnmountedViews(){return Object.keys(this.updates.unmounted).map(t=>Be.views[t])}checkMountedViews(t,e){let n=0;if(typeof t!="function")return n;const r=this.updates,s=r.mounted,o=r.mountedCids,a=e==null?o.length:Math.min(o.length,e);for(let l=0;l<a;l+=1){const c=o[l];if(!(c in s))continue;const u=Be.views[c];if(u==null)continue;if(xt(t,this.graph,{view:u,unmounted:!0})){o.push(c);continue}n+=1,this.registerUnmountedView(u)&&u.unmount()}return o.splice(0,a),n}checkUnmountedViews(t,e){let n=0;typeof t!="function"&&(t=null);const r=this.updates,s=r.unmounted,o=r.unmountedCids,a=e==null?o.length:Math.min(o.length,e);for(let l=0;l<a;l+=1){const c=o[l];if(!(c in s))continue;const u=Be.views[c];if(u==null)continue;if(t&&!xt(t,this.graph,{view:u,unmounted:!1})){o.push(c);continue}n+=1;const h=this.registerMountedView(u);h&&this.scheduleViewUpdate(u,h,u.priority,{mounting:!0})}return o.splice(0,a),n}checkViewImpl(t={mountedBatchSize:Number.MAX_SAFE_INTEGER,unmountedBatchSize:Number.MAX_SAFE_INTEGER}){const e=t.checkView||this.options.checkView,n=this.checkMountedViews(e,t.unmountedBatchSize);return{mountedCount:this.checkUnmountedViews(e,n>0?Math.min(this.updates.unmountedCids.length-n,t.mountedBatchSize):t.mountedBatchSize),unmountedCount:n}}checkView(t={}){return this.checkViewImpl(t)}isFrozen(){return!!this.options.frozen}freeze(t={}){const e=t.key,n=this.updates,r=this.options.frozen,s=n.freezeKey;if(e&&e!==s){if(r&&s)return;n.frozen=r,n.freezeKey=e}this.options.frozen=!0;const o=n.animationId;n.animationId=null,this.isAsync()&&o!=null&&zd(o),this.graph.trigger("freeze",{key:e})}unfreeze(t={}){const e=t.key,n=this.updates,r=n.freezeKey;if(e&&r&&e!==r||(n.freezeKey=null,e&&e===r&&n.frozen))return;const s=()=>{this.options.frozen=n.frozen=!1,n.sort&&(this.sortViews(),n.sort=!1);const o=t.after;o&&xt(o,this.graph,this.graph),this.graph.trigger("unfreeze",{key:e})};if(this.isAsync()){this.freeze();const o=t.progress;this.updateViewsAsync(Object.assign(Object.assign({},t),{progress:({done:a,current:l,total:c})=>{o&&xt(o,this.graph,{done:a,current:l,total:c}),a&&s()}}))}else this.updateViews(t),s()}isAsync(){return!!this.options.async}setAsync(t){this.options.async=t}onRemove(){this.freeze(),this.removeViews()}resetViews(t=[],e={}){this.resetUpdates(),this.removeViews(),this.freeze({key:"reset"});for(let n=0,r=t.length;n<r;n+=1)this.renderView(t[n],e);this.unfreeze({key:"reset"}),this.sortViews()}removeView(t){const e=this.views[t.id];if(e){const n=e.cid,r=this.updates,s=r.mounted,o=r.unmounted;e.remove(),delete this.views[t.id],delete s[n],delete o[n]}return e}removeViews(){this.views&&Object.keys(this.views).forEach(t=>{const e=this.views[t];e&&this.removeView(e.cell)}),this.views={}}renderView(t,e={}){const n=t.id,r=this.views;let s=0,o=r[n];if(!!t.isVisible()&&!(t.isEdge()&&(!this.isEdgeTerminalVisible(t,"source")||!this.isEdgeTerminalVisible(t,"target")))){if(o)s=pe.FLAG_INSERT;else{const a=this.graph.hook.createCellView(t);a&&(o=r[t.id]=a,o.graph=this.graph,s=this.registerUnmountedView(o)|o.getBootstrapFlag())}o&&this.requestViewUpdate(o,s,o.priority,e)}}isExactSorting(){return this.options.sorting==="exact"}sortViews(){if(!!this.isExactSorting()){if(this.isFrozen()){this.updates.sort=!0;return}this.sortViewsExact()}}sortElements(t,e){const n=t.map(r=>{const s=r.parentNode,o=s.insertBefore(document.createTextNode(""),r.nextSibling);return a=>{if(s===a)throw new Error("You can't sort elements if any one is a descendant of another.");s.insertBefore(a,o),s.removeChild(o)}});t.sort(e).forEach((r,s)=>n[s](r))}sortViewsExact(){const t=this.view.$(this.view.stage).children("[data-cell-id]").toArray(),e=this.model;this.sortElements(t,(n,r)=>{const s=e.getCell(n.getAttribute("data-cell-id")||""),o=e.getCell(r.getAttribute("data-cell-id")||""),a=s.getZIndex()||0,l=o.getZIndex()||0;return a===l?0:a<l?-1:1})}addZPivot(t=0){this.zPivots==null&&(this.zPivots={});const e=this.zPivots;let n=e[t];if(n)return n;n=e[t]=document.createComment(`z-index:${t+1}`);let r=-1/0;for(const o in e){const a=+o;a<t&&a>r&&(r=a,t-1)}const s=this.view.stage;if(r!==-1/0){const o=e[r];s.insertBefore(n,o.nextSibling)}else s.insertBefore(n,s.firstChild);return n}removeZPivots(){this.zPivots&&Object.keys(this.zPivots).forEach(t=>{const e=this.zPivots[t];e&&e.parentNode&&e.parentNode.removeChild(e)}),this.zPivots={}}insertView(t){const e=this.view.stage;switch(this.options.sorting){case"approx":{const n=t.cell.getZIndex(),r=this.addZPivot(n);e.insertBefore(t.container,r);break}case"exact":default:e.appendChild(t.container);break}}findViewByCell(t){if(t==null)return null;const e=ie.isCell(t)?t.id:t;return this.views[e]}findViewByElem(t){if(t==null)return null;const e=typeof t=="string"?this.view.stage.querySelector(t):t instanceof Element?t:t[0];if(e){const n=this.view.findAttr("data-cell-id",e);if(n)return this.views[n]}return null}findViewsFromPoint(t){const e={x:t.x,y:t.y};return this.model.getCells().map(n=>this.findViewByCell(n)).filter(n=>n!=null?vn(n.container,{target:this.view.stage}).containsPoint(e):!1)}findEdgeViewsInArea(t,e={}){const n=ht.create(t);return this.model.getEdges().map(r=>this.findViewByCell(r)).filter(r=>{if(r){const s=vn(r.container,{target:this.view.stage});return s.width===0?s.inflate(1,0):s.height===0&&s.inflate(0,1),e.strict?n.containsRect(s):n.isIntersectWithRect(s)}return!1})}findViewsInArea(t,e={}){const n=ht.create(t);return this.model.getNodes().map(r=>this.findViewByCell(r)).filter(r=>{if(r){const s=vn(r.container,{target:this.view.stage});return e.strict?n.containsRect(s):n.isIntersectWithRect(s)}return!1})}dispose(){this.resetUpdates(),this.stopListening()}}W7([Ee.dispose()],pe.prototype,"dispose",null);(function(i){i.FLAG_INSERT=1<<30,i.FLAG_REMOVE=1<<29,i.MOUNT_BATCH_SIZE=1e3,i.UPDATE_BATCH_SIZE=1e3,i.MIN_PRIORITY=2,i.SORT_DELAYING_BATCHES=["add","to-front","to-back"],i.UPDATE_DELAYING_BATCHES=["translate"]})(pe||(pe={}));var X7=globalThis&&globalThis.__decorate||function(i,t,e,n){var r=arguments.length,s=r<3?t:n===null?n=Object.getOwnPropertyDescriptor(t,e):n,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")s=Reflect.decorate(i,t,e,n);else for(var a=i.length-1;a>=0;a--)(o=i[a])&&(s=(r<3?o(s):r>3?o(t,e,s):o(t,e))||s);return r>3&&s&&Object.defineProperty(t,e,s),s};class Xu extends Ee{get elem(){return this.view.background}init(){this.startListening(),this.options.background&&this.draw(this.options.background)}startListening(){this.graph.on("scale",this.update,this),this.graph.on("translate",this.update,this)}stopListening(){this.graph.off("scale",this.update,this),this.graph.off("translate",this.update,this)}updateBackgroundImage(t={}){let e=t.size||"auto auto",n=t.position||"center";const r=this.graph.transform.getScale(),s=this.graph.translate();if(typeof n=="object"){const o=s.tx+r.sx*(n.x||0),a=s.ty+r.sy*(n.y||0);n=`${o}px ${a}px`}typeof e=="object"&&(e=ht.fromSize(e).scale(r.sx,r.sy),e=`${e.width}px ${e.height}px`),this.elem.style.backgroundSize=e,this.elem.style.backgroundPosition=n}drawBackgroundImage(t,e={}){if(!(t instanceof HTMLImageElement)){this.elem.style.backgroundImage="";return}const n=this.optionsCache;if(n&&n.image!==e.image)return;let r;const s=e.opacity,o=e.size;let a=e.repeat||"no-repeat";const l=vl.registry.get(a);if(typeof l=="function"){const u=e.quality||1;t.width*=u,t.height*=u;const h=l(t,e);if(!(h instanceof HTMLCanvasElement))throw new Error("Background pattern must return an HTML Canvas instance");r=h.toDataURL("image/png"),e.repeat&&a!==e.repeat?a=e.repeat:a="repeat",typeof o=="object"?(o.width*=h.width/t.width,o.height*=h.height/t.height):o===void 0&&(e.size={width:h.width/u,height:h.height/u})}else r=t.src,o===void 0&&(e.size={width:t.width,height:t.height});n!=null&&typeof e.size=="object"&&e.image===n.image&&e.repeat===n.repeat&&e.quality===n.quality&&(n.size=Vs(e.size));const c=this.elem.style;c.backgroundImage=`url(${r})`,c.backgroundRepeat=a,c.opacity=s==null||s>=1?"":`${s}`,this.updateBackgroundImage(e)}updateBackgroundColor(t){this.elem.style.backgroundColor=t||""}updateBackgroundOptions(t){this.graph.options.background=t}update(){this.optionsCache&&this.updateBackgroundImage(this.optionsCache)}draw(t){const e=t||{};if(this.updateBackgroundOptions(t),this.updateBackgroundColor(e.color),e.image){this.optionsCache=Vs(e);const n=document.createElement("img");n.onload=()=>this.drawBackgroundImage(n,t),n.setAttribute("crossorigin","anonymous"),n.src=e.image}else this.drawBackgroundImage(null),this.optionsCache=null}clear(){this.draw()}dispose(){this.clear(),this.stopListening()}}X7([Ee.dispose()],Xu.prototype,"dispose",null);var Y7=globalThis&&globalThis.__decorate||function(i,t,e,n){var r=arguments.length,s=r<3?t:n===null?n=Object.getOwnPropertyDescriptor(t,e):n,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")s=Reflect.decorate(i,t,e,n);else for(var a=i.length-1;a>=0;a--)(o=i[a])&&(s=(r<3?o(s):r>3?o(t,e,s):o(t,e))||s);return r>3&&s&&Object.defineProperty(t,e,s),s},K7=globalThis&&globalThis.__rest||function(i,t){var e={};for(var n in i)Object.prototype.hasOwnProperty.call(i,n)&&t.indexOf(n)<0&&(e[n]=i[n]);if(i!=null&&typeof Object.getOwnPropertySymbols=="function")for(var r=0,n=Object.getOwnPropertySymbols(i);r<n.length;r++)t.indexOf(n[r])<0&&Object.prototype.propertyIsEnumerable.call(i,n[r])&&(e[n[r]]=i[n[r]]);return e};class la extends se{constructor(t){super(),this.padding={left:0,top:0,right:0,bottom:0},this.options=bi.getOptions(t);const e=this.graph.transform.getScale();this.sx=e.sx,this.sy=e.sy;const n=this.options.width||this.graph.options.width,r=this.options.height||this.graph.options.height;this.container=document.createElement("div"),this.$container=this.$(this.container).addClass(this.prefixClassName(bi.containerClass)).css({width:n,height:r}),this.options.pageVisible&&this.$container.addClass(this.prefixClassName(bi.pagedClass)),this.options.className&&this.$container.addClass(this.options.className);const s=this.graph.container;s.parentNode&&this.$container.insertBefore(s);const o=s.getAttribute("style");if(o){const a={};o.split(";").forEach(c=>{const u=c.trim();if(u){const h=u.split(":");h.length&&(a[h[0].trim()]=h[1]?h[1].trim():"")}}),Object.keys(a).forEach(c=>{c==="width"||c==="height"||(s.style[c]="",this.container.style[c]=a[c])})}this.content=document.createElement("div"),this.$content=this.$(this.content).addClass(this.prefixClassName(bi.contentClass)).css({width:this.graph.options.width,height:this.graph.options.height}),this.background=document.createElement("div"),this.$background=this.$(this.background).addClass(this.prefixClassName(bi.backgroundClass)),this.$content.append(this.background),this.options.pageVisible||this.$content.append(this.graph.view.grid),this.$content.append(s),this.$content.appendTo(this.container),this.startListening(),this.options.pageVisible||this.graph.grid.update(),this.backgroundManager=new la.Background(this),this.options.autoResize||this.update()}get graph(){return this.options.graph}get model(){return this.graph.model}startListening(){const t=this.graph,e=this.model;t.on("scale",this.onScale,this),t.on("resize",this.onResize,this),t.on("before:print",this.storeScrollPosition,this),t.on("before:export",this.storeScrollPosition,this),t.on("after:print",this.restoreScrollPosition,this),t.on("after:export",this.restoreScrollPosition,this),t.on("render:done",this.onRenderDone,this),t.on("unfreeze",this.onUpdate,this),e.on("reseted",this.onUpdate,this),e.on("cell:added",this.onUpdate,this),e.on("cell:removed",this.onUpdate,this),e.on("cell:changed",this.onUpdate,this),e.on("batch:stop",this.onBatchStop,this),this.delegateBackgroundEvents()}stopListening(){const t=this.graph,e=this.model;t.off("scale",this.onScale,this),t.off("resize",this.onResize,this),t.off("beforeprint",this.storeScrollPosition,this),t.off("beforeexport",this.storeScrollPosition,this),t.off("afterprint",this.restoreScrollPosition,this),t.off("afterexport",this.restoreScrollPosition,this),t.off("render:done",this.onRenderDone,this),t.off("unfreeze",this.onUpdate,this),e.off("reseted",this.onUpdate,this),e.off("cell:added",this.onUpdate,this),e.off("cell:removed",this.onUpdate,this),e.off("cell:changed",this.onUpdate,this),e.off("batch:stop",this.onBatchStop,this),this.undelegateBackgroundEvents()}enableAutoResize(){this.options.autoResize=!0}disableAutoResize(){this.options.autoResize=!1}onUpdate(){this.graph.isAsync()||!this.options.autoResize||this.update()}onBatchStop(t){this.graph.isAsync()||!this.options.autoResize||pe.UPDATE_DELAYING_BATCHES.includes(t.name)&&this.update()}delegateBackgroundEvents(t){const e=t||Ri.events;this.delegatedHandlers=Object.keys(e).reduce((n,r)=>{const s=e[r];if(r.indexOf(" ")===-1)if(typeof s=="function")n[r]=s;else{let o=this.graph.view[s];typeof o=="function"&&(o=o.bind(this.graph.view),n[r]=o)}return n},{}),this.onBackgroundEvent=this.onBackgroundEvent.bind(this),Object.keys(this.delegatedHandlers).forEach(n=>{this.delegateEvent(n,{guarded:!1},this.onBackgroundEvent)})}undelegateBackgroundEvents(){Object.keys(this.delegatedHandlers).forEach(t=>{this.undelegateEvent(t,this.onBackgroundEvent)})}onBackgroundEvent(t){let e=!1;const n=t.target;if(this.options.pageVisible)this.options.background?e=this.background===n:e=this.content===n;else{const r=this.graph.view;e=r.background===n||r.grid===n}if(e){const r=this.delegatedHandlers[t.type];typeof r=="function"&&r.apply(this.graph,arguments)}}onRenderDone({stats:t}){this.options.autoResize&&t.priority<2&&this.update()}onResize(){this.cachedCenterPoint&&(this.centerPoint(this.cachedCenterPoint.x,this.cachedCenterPoint.y),this.updatePageBreak())}onScale({sx:t,sy:e,ox:n,oy:r}){this.updateScale(t,e),(n||r)&&(this.centerPoint(n,r),this.updatePageBreak()),typeof(this.options.autoResizeOptions||this.options.fitTocontentOptions)=="function"&&this.update()}storeScrollPosition(){this.cachedScrollLeft=this.container.scrollLeft,this.cachedScrollTop=this.container.scrollTop}restoreScrollPosition(){this.container.scrollLeft=this.cachedScrollLeft,this.container.scrollTop=this.cachedScrollTop,this.cachedScrollLeft=null,this.cachedScrollTop=null}storeClientSize(){this.cachedClientSize={width:this.container.clientWidth,height:this.container.clientHeight}}restoreClientSize(){this.cachedClientSize=null}beforeManipulation(){(Ze.IS_IE||Ze.IS_EDGE)&&this.$container.css("visibility","hidden")}afterManipulation(){(Ze.IS_IE||Ze.IS_EDGE)&&this.$container.css("visibility","visible")}updatePageSize(t,e){t!=null&&(this.options.pageWidth=t),e!=null&&(this.options.pageHeight=e),this.updatePageBreak()}updatePageBreak(){if(this.pageBreak&&this.pageBreak.parentNode&&this.pageBreak.parentNode.removeChild(this.pageBreak),this.pageBreak=null,this.options.pageVisible&&this.options.pageBreak){const t=this.graph.options.width,e=this.graph.options.height,n=this.options.pageWidth*this.sx,r=this.options.pageHeight*this.sy;if(t>n||e>r){let s=!1;const o=document.createElement("div");for(let a=1,l=Math.floor(t/n);a<l;a+=1)this.$("<div/>").addClass(this.prefixClassName("graph-pagebreak-vertical")).css({left:a*n}).appendTo(o),s=!0;for(let a=1,l=Math.floor(e/r);a<l;a+=1)this.$("<div/>").addClass(this.prefixClassName("graph-pagebreak-horizontal")).css({top:a*r}).appendTo(o),s=!0;s&&(ge(o,this.prefixClassName("graph-pagebreak")),this.$(this.graph.view.grid).after(o),this.pageBreak=o)}}}update(){const t=this.getClientSize();this.cachedCenterPoint=this.clientToLocalPoint(t.width/2,t.height/2);let e=this.options.autoResizeOptions||this.options.fitTocontentOptions;typeof e=="function"&&(e=xt(e,this,this));const n=Object.assign({gridWidth:this.options.pageWidth,gridHeight:this.options.pageHeight,allowNewOrigin:"negative"},e);this.graph.fitToContent(this.getFitToContentOptions(n))}getFitToContentOptions(t){const e=this.sx,n=this.sy;return t.gridWidth&&(t.gridWidth*=e),t.gridHeight&&(t.gridHeight*=n),t.minWidth&&(t.minWidth*=e),t.minHeight&&(t.minHeight*=n),typeof t.padding=="object"?t.padding={left:(t.padding.left||0)*e,right:(t.padding.right||0)*e,top:(t.padding.top||0)*n,bottom:(t.padding.bottom||0)*n}:typeof t.padding=="number"&&(t.padding*=e),this.options.autoResize||(t.contentArea=ht.create()),t}updateScale(t,e){const n=this.graph.options,r=t/this.sx,s=e/this.sy;this.sx=t,this.sy=e,this.graph.translate(n.x*r,n.y*s),this.graph.resizeGraph(n.width*r,n.height*s)}scrollbarPosition(t,e,n){if(t==null&&e==null)return{left:this.container.scrollLeft,top:this.container.scrollTop};const r={};return typeof t=="number"&&(r.scrollLeft=t),typeof e=="number"&&(r.scrollTop=e),n&&n.animation?this.$container.animate(r,n.animation):this.$container.prop(r),this}scrollToPoint(t,e,n){const r=this.getClientSize(),s=this.graph.matrix(),o={};return typeof t=="number"&&(o.scrollLeft=t-r.width/2+s.e+(this.padding.left||0)),typeof e=="number"&&(o.scrollTop=e-r.height/2+s.f+(this.padding.top||0)),n&&n.animation?this.$container.animate(o,n.animation):this.$container.prop(o),this}scrollToContent(t){const e=this.sx,n=this.sy,r=this.graph.getContentArea().getCenter();return this.scrollToPoint(r.x*e,r.y*n,t)}scrollToCell(t,e){const n=this.sx,r=this.sy,s=t.getBBox().getCenter();return this.scrollToPoint(s.x*n,s.y*r,e)}center(t){return this.centerPoint(t)}centerPoint(t,e,n){const r=this.graph.matrix(),s=r.a,o=r.d,a=-r.e,l=-r.f,c=a+this.graph.options.width,u=l+this.graph.options.height;let h;if(this.storeClientSize(),typeof t=="number"||typeof e=="number"){h=n;const k=this.getVisibleArea().getCenter();typeof t=="number"?t*=s:t=k.x,typeof e=="number"?e*=o:e=k.y}else h=t,t=(a+c)/2,e=(l+u)/2;if(h&&h.padding)return this.positionPoint({x:t,y:e},"50%","50%",h);const f=this.getPadding(),p=this.getClientSize(),b=p.width/2,v=p.height/2,w=b-f.left-t+a,x=b-f.right+t-c,E=v-f.top-e+l,S=v-f.bottom+e-u;this.addPadding(Math.max(w,0),Math.max(x,0),Math.max(E,0),Math.max(S,0));const O=this.scrollToPoint(t,e,h||void 0);return this.restoreClientSize(),O}centerContent(t){return this.positionContent("center",t)}centerCell(t,e){return this.positionCell(t,"center",e)}positionContent(t,e){const n=this.graph.getContentArea(e);return this.positionRect(n,t,e)}positionCell(t,e,n){const r=t.getBBox();return this.positionRect(r,e,n)}positionRect(t,e,n){const r=ht.create(t);switch(e){case"center":return this.positionPoint(r.getCenter(),"50%","50%",n);case"top":return this.positionPoint(r.getTopCenter(),"50%",0,n);case"top-right":return this.positionPoint(r.getTopRight(),"100%",0,n);case"right":return this.positionPoint(r.getRightMiddle(),"100%","50%",n);case"bottom-right":return this.positionPoint(r.getBottomRight(),"100%","100%",n);case"bottom":return this.positionPoint(r.getBottomCenter(),"50%","100%",n);case"bottom-left":return this.positionPoint(r.getBottomLeft(),0,"100%",n);case"left":return this.positionPoint(r.getLeftMiddle(),0,"50%",n);case"top-left":return this.positionPoint(r.getTopLeft(),0,0,n);default:return this}}positionPoint(t,e,n,r={}){const{padding:s}=r,o=K7(r,["padding"]),a=Kn(s),l=ht.fromSize(this.getClientSize()),c=l.clone().moveAndExpand({x:a.left,y:a.top,width:-a.right-a.left,height:-a.top-a.bottom});e=tr(e,Math.max(0,c.width)),e<0&&(e=c.width+e),n=tr(n,Math.max(0,c.height)),n<0&&(n=c.height+n);const u=c.getTopLeft().translate(e,n),h=l.getCenter().diff(u),f=this.zoom(),p=h.scale(1/f,1/f),b=N.create(t).translate(p);return this.centerPoint(b.x,b.y,o)}zoom(t,e){if(t==null)return this.sx;e=e||{};let n,r;const s=this.getClientSize(),o=this.clientToLocalPoint(s.width/2,s.height/2);let a=t,l=t;if(e.absolute||(a+=this.sx,l+=this.sy),e.scaleGrid&&(a=Math.round(a/e.scaleGrid)*e.scaleGrid,l=Math.round(l/e.scaleGrid)*e.scaleGrid),e.maxScale&&(a=Math.min(e.maxScale,a),l=Math.min(e.maxScale,l)),e.minScale&&(a=Math.max(e.minScale,a),l=Math.max(e.minScale,l)),a=this.graph.transform.clampScale(a),l=this.graph.transform.clampScale(l),e.center){const c=a/this.sx,u=l/this.sy;n=e.center.x-(e.center.x-o.x)/c,r=e.center.y-(e.center.y-o.y)/u}else n=o.x,r=o.y;return this.beforeManipulation(),this.graph.transform.scale(a,l),this.centerPoint(n,r),this.afterManipulation(),this}zoomToRect(t,e={}){const n=ht.create(t),r=this.graph;e.contentArea=n,e.viewportArea==null&&(e.viewportArea={x:r.options.x,y:r.options.y,width:this.$container.width(),height:this.$container.height()}),this.beforeManipulation(),r.transform.scaleContentToFitImpl(e,!1);const s=n.getCenter();return this.centerPoint(s.x,s.y),this.afterManipulation(),this}zoomToFit(t={}){return this.zoomToRect(this.graph.getContentArea(t),t)}transitionToPoint(t,e,n){typeof t=="object"?(n=e,e=t.y,t=t.x):e=e,n==null&&(n={});let r,s;const o=this.sx,a=Math.max(n.scale||o,1e-6),l=this.getClientSize(),c=new N(t,e),u=this.clientToLocalPoint(l.width/2,l.height/2);if(o===a){const f=u.diff(c).scale(o,o).round();r=`translate(${f.x}px,${f.y}px)`}else{const f=a/(o-a)*c.distance(u),p=u.clone().move(c,f),b=this.localToBackgroundPoint(p).round();r=`scale(${a/o})`,s=`${b.x}px ${b.y}px`}const h=n.onTransitionEnd;return this.$container.addClass(bi.transitionClassName),this.$content.off(bi.transitionEventName).on(bi.transitionEventName,f=>{this.syncTransition(a,{x:t,y:e}),typeof h=="function"&&xt(h,this,f.originalEvent)}).css({transform:r,transformOrigin:s,transition:"transform",transitionDuration:n.duration||"1s",transitionDelay:n.delay,transitionTimingFunction:n.timing}),this}syncTransition(t,e){return this.beforeManipulation(),this.graph.scale(t),this.removeTransition(),this.centerPoint(e.x,e.y),this.afterManipulation(),this}removeTransition(){return this.$container.removeClass(bi.transitionClassName),this.$content.off(bi.transitionEventName).css({transform:"",transformOrigin:"",transition:"",transitionDuration:"",transitionDelay:"",transitionTimingFunction:""}),this}transitionToRect(t,e={}){const n=ht.create(t),r=e.maxScale||1/0,s=e.minScale||Number.MIN_VALUE,o=e.scaleGrid||null,a=e.visibility||1,l=e.center?N.create(e.center):n.getCenter(),c=this.getClientSize(),u=c.width*a,h=c.height*a;let f=new ht(l.x-u/2,l.y-h/2,u,h).getMaxUniformScaleToFit(n,l);return f=Math.min(f,r),o&&(f=Math.floor(f/o)*o),f=Math.max(s,f),this.transitionToPoint(l,Object.assign({scale:f},e))}startPanning(t){const e=this.normalizeEvent(t);this.clientX=e.clientX,this.clientY=e.clientY,this.trigger("pan:start",{e}),this.$(document.body).on({"mousemove.panning touchmove.panning":this.pan.bind(this),"mouseup.panning touchend.panning":this.stopPanning.bind(this),"mouseleave.panning":this.stopPanning.bind(this)}),this.$(window).on("mouseup.panning",this.stopPanning.bind(this))}pan(t){const e=this.normalizeEvent(t),n=e.clientX-this.clientX,r=e.clientY-this.clientY;this.container.scrollTop-=r,this.container.scrollLeft-=n,this.clientX=e.clientX,this.clientY=e.clientY,this.trigger("panning",{e})}stopPanning(t){this.$(document.body).off(".panning"),this.$(window).off(".panning"),this.trigger("pan:stop",{e:t})}clientToLocalPoint(t,e){let n=typeof t=="object"?t.x:t,r=typeof t=="object"?t.y:e;const s=this.graph.matrix();return n+=this.container.scrollLeft-this.padding.left-s.e,r+=this.container.scrollTop-this.padding.top-s.f,new N(n/s.a,r/s.d)}localToBackgroundPoint(t,e){const n=typeof t=="object"?N.create(t):new N(t,e),r=this.graph.matrix(),s=this.padding;return fr(n,r).translate(s.left,s.top)}resize(t,e){let n=t!=null?t:this.container.offsetWidth,r=e!=null?e:this.container.offsetHeight;typeof n=="number"&&(n=Math.round(n)),typeof r=="number"&&(r=Math.round(r)),this.options.width=n,this.options.height=r,this.$container.css({width:n,height:r}),this.update()}getClientSize(){return this.cachedClientSize?this.cachedClientSize:{width:this.container.clientWidth,height:this.container.clientHeight}}autoScroll(t,e){const r=this.container,s=r.getBoundingClientRect();let o=0,a=0;return t<=s.left+10&&(o=-10),e<=s.top+10&&(a=-10),t>=s.right-10&&(o=10),e>=s.bottom-10&&(a=10),o!==0&&(r.scrollLeft+=o),a!==0&&(r.scrollTop+=a),{scrollerX:o,scrollerY:a}}addPadding(t,e,n,r){let s=this.getPadding();this.padding={left:Math.round(s.left+(t||0)),top:Math.round(s.top+(n||0)),bottom:Math.round(s.bottom+(r||0)),right:Math.round(s.right+(e||0))},s=this.padding,this.$content.css({width:s.left+this.graph.options.width+s.right,height:s.top+this.graph.options.height+s.bottom});const o=this.graph.container;return o.style.left=`${this.padding.left}px`,o.style.top=`${this.padding.top}px`,this}getPadding(){const t=this.options.padding;return Kn(typeof t=="function"?xt(t,this,this):t)}getVisibleArea(){const t=this.graph.matrix(),e=this.getClientSize(),n={x:this.container.scrollLeft||0,y:this.container.scrollTop||0,width:e.width,height:e.height},r=ai(n,t.inverse());return r.x-=(this.padding.left||0)/this.sx,r.y-=(this.padding.top||0)/this.sy,r}isCellVisible(t,e={}){const n=t.getBBox(),r=this.getVisibleArea();return e.strict?r.containsRect(n):r.isIntersectWithRect(n)}isPointVisible(t){return this.getVisibleArea().containsPoint(t)}lock(){return this.$container.css("overflow","hidden"),this}unlock(){return this.$container.css("overflow","scroll"),this}onRemove(){this.stopListening()}dispose(){this.$(this.graph.container).insertBefore(this.$container),this.remove()}}Y7([se.dispose()],la.prototype,"dispose",null);(function(i){class t extends Xu{constructor(n){super(n.graph),this.scroller=n,n.options.background&&this.draw(n.options.background)}get elem(){return this.scroller.background}init(){this.graph.on("scale",this.update,this),this.graph.on("translate",this.update,this)}updateBackgroundOptions(n){this.scroller.options.background=n}}i.Background=t})(la||(la={}));var bi;(function(i){i.containerClass="graph-scroller",i.panningClass=`${i.containerClass}-panning`,i.pannableClass=`${i.containerClass}-pannable`,i.pagedClass=`${i.containerClass}-paged`,i.contentClass=`${i.containerClass}-content`,i.backgroundClass=`${i.containerClass}-background`,i.transitionClassName="transition-in-progress",i.transitionEventName="transitionend.graph-scroller-transition",i.defaultOptions={padding(){const e=this.getClientSize(),n=Math.max(this.options.minVisibleWidth||0,1)||1,r=Math.max(this.options.minVisibleHeight||0,1)||1,s=Math.max(e.width-n,0),o=Math.max(e.height-r,0);return{left:s,top:o,right:s,bottom:o}},minVisibleWidth:50,minVisibleHeight:50,pageVisible:!1,pageBreak:!1,autoResize:!0};function t(e){const n=De({},i.defaultOptions,e);return n.pageWidth==null&&(n.pageWidth=e.graph.options.width),n.pageHeight==null&&(n.pageHeight=e.graph.options.height),n}i.getOptions=t})(bi||(bi={}));function rn(i,t,e,n={}){if(e){const r=e.graph,s=r.view.normalizeEvent(t),o=r.snapToGrid(s.clientX,s.clientY);e.notify(i,Object.assign({e:s,view:e,node:e.cell,cell:e.cell,x:o.x,y:o.y},n))}}var J7=globalThis&&globalThis.__decorate||function(i,t,e,n){var r=arguments.length,s=r<3?t:n===null?n=Object.getOwnPropertyDescriptor(t,e):n,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")s=Reflect.decorate(i,t,e,n);else for(var a=i.length-1;a>=0;a--)(o=i[a])&&(s=(r<3?o(s):r>3?o(t,e,s):o(t,e))||s);return r>3&&s&&Object.defineProperty(t,e,s),s};class bp extends se{constructor(t){super(),this.options=De({},Ln.defaultOptions,t),this.options.model&&(this.options.collection=this.options.model.collection),this.options.collection?this.collection=this.options.collection:(this.collection=new y1([],{comparator:Ln.depthComparator}),this.options.collection=this.collection),this.boxCount=0,this.createContainer(),this.initHandles(),this.startListening()}get graph(){return this.options.graph}get boxClassName(){return this.prefixClassName(Ln.classNames.box)}get $boxes(){return this.$container.children(`.${this.boxClassName}`)}get handleOptions(){return this.options}startListening(){const t=this.graph,e=this.collection;this.delegateEvents({[`mousedown .${this.boxClassName}`]:"onSelectionBoxMouseDown",[`touchstart .${this.boxClassName}`]:"onSelectionBoxMouseDown"},!0),t.on("scale",this.onGraphTransformed,this),t.on("translate",this.onGraphTransformed,this),t.model.on("updated",this.onModelUpdated,this),e.on("added",this.onCellAdded,this),e.on("removed",this.onCellRemoved,this),e.on("reseted",this.onReseted,this),e.on("updated",this.onCollectionUpdated,this),e.on("node:change:position",this.onNodePositionChanged,this),e.on("cell:changed",this.onCellChanged,this)}stopListening(){const t=this.graph,e=this.collection;this.undelegateEvents(),t.off("scale",this.onGraphTransformed,this),t.off("translate",this.onGraphTransformed,this),t.model.off("updated",this.onModelUpdated,this),e.off("added",this.onCellAdded,this),e.off("removed",this.onCellRemoved,this),e.off("reseted",this.onReseted,this),e.off("updated",this.onCollectionUpdated,this),e.off("node:change:position",this.onNodePositionChanged,this),e.off("cell:changed",this.onCellChanged,this)}onRemove(){this.stopListening()}onGraphTransformed(){this.updateSelectionBoxes({async:!1})}onCellChanged(){this.updateSelectionBoxes()}onNodePositionChanged({node:t,options:e}){const{showNodeSelectionBox:n,pointerEvents:r}=this.options,{ui:s,selection:o}=e;let a=!this.translating;if(a=a&&(n!==!0||r==="none"),a=a&&s&&!o,a){this.translating=!0;const l=t.position(),c=t.previous("position"),u=l.x-c.x,h=l.y-c.y;(u!==0||h!==0)&&this.translateSelectedNodes(u,h,t,e),this.translating=!1}}onModelUpdated({removed:t}){t&&t.length&&this.unselect(t)}isEmpty(){return this.length<=0}isSelected(t){return this.collection.has(t)}get length(){return this.collection.length}get cells(){return this.collection.toArray()}select(t,e={}){e.dryrun=!0;const n=this.filter(Array.isArray(t)?t:[t]);return this.collection.add(n,e),this}unselect(t,e={}){return e.dryrun=!0,this.collection.remove(Array.isArray(t)?t:[t],e),this}reset(t,e={}){if(t){if(e.batch){const c=this.filter(Array.isArray(t)?t:[t]);return this.collection.reset(c,Object.assign(Object.assign({},e),{ui:!0})),this}const n=this.cells,r=this.filter(Array.isArray(t)?t:[t]),s={},o={};n.forEach(c=>s[c.id]=c),r.forEach(c=>o[c.id]=c);const a=[],l=[];return r.forEach(c=>{s[c.id]||a.push(c)}),n.forEach(c=>{o[c.id]||l.push(c)}),l.length&&this.unselect(l,Object.assign(Object.assign({},e),{ui:!0})),a.length&&this.select(a,Object.assign(Object.assign({},e),{ui:!0})),l.length===0&&a.length===0&&this.updateContainer(),this}return this.clean(e)}clean(t={}){return this.length&&(t.batch===!1?this.unselect(this.cells,t):this.collection.reset([],Object.assign(Object.assign({},t),{ui:!0}))),this}setFilter(t){this.options.filter=t}setContent(t){this.options.content=t}startSelecting(t){t=this.normalizeEvent(t),this.clean();let e,n;const r=this.graph.container;if(t.offsetX!=null&&t.offsetY!=null&&r.contains(t.target))e=t.offsetX,n=t.offsetY;else{const s=this.$(r).offset(),o=r.scrollLeft,a=r.scrollTop;e=t.clientX-s.left+window.pageXOffset+o,n=t.clientY-s.top+window.pageYOffset+a}this.$container.css({top:n,left:e,width:1,height:1}),this.setEventData(t,{action:"selecting",clientX:t.clientX,clientY:t.clientY,offsetX:e,offsetY:n,scrollerX:0,scrollerY:0}),this.delegateDocumentEvents(Ln.documentEvents,t.data)}filter(t){const e=this.options.filter;return Array.isArray(e)?t.filter(n=>!e.includes(n)&&!e.includes(n.shape)):typeof e=="function"?t.filter(n=>xt(e,this.graph,n)):t}stopSelecting(t){const e=this.graph,n=this.getEventData(t);switch(n.action){case"selecting":{let s=this.$container.width(),o=this.$container.height();const a=this.$container.offset(),l=e.pageToLocal(a.left,a.top),c=e.transform.getScale();s/=c.sx,o/=c.sy;const u=new ht(l.x,l.y,s,o),h=this.getCellViewsInArea(u).map(f=>f.cell);this.reset(h,{batch:!0}),this.hideRubberband();break}case"translating":{const s=e.snapToGrid(t.clientX,t.clientY);if(!this.options.following){const o=n;this.updateSelectedNodesPosition({dx:o.clientX-o.originX,dy:o.clientY-o.originY})}this.graph.model.stopBatch("move-selection"),this.notifyBoxEvent("box:mouseup",t,s.x,s.y);break}default:{this.clean();break}}}onMouseUp(t){this.getEventData(t).action&&(this.stopSelecting(t),this.undelegateDocumentEvents())}onSelectionBoxMouseDown(t){this.options.following||t.stopPropagation();const e=this.normalizeEvent(t);this.options.movable&&this.startTranslating(e);const n=this.getCellViewFromElem(e.target);this.setEventData(e,{activeView:n});const r=this.graph.snapToGrid(e.clientX,e.clientY);this.notifyBoxEvent("box:mousedown",e,r.x,r.y),this.delegateDocumentEvents(Ln.documentEvents,e.data)}startTranslating(t){this.graph.model.startBatch("move-selection");const e=this.graph.snapToGrid(t.clientX,t.clientY);this.setEventData(t,{action:"translating",clientX:e.x,clientY:e.y,originX:e.x,originY:e.y})}getSelectionOffset(t,e){let n=t.x-e.clientX,r=t.y-e.clientY;const s=this.graph.hook.getRestrictArea();if(s){const o=this.collection.toArray(),a=ie.getCellsBBox(o,{deep:!0})||ht.create(),l=s.x-a.x,c=s.y-a.y,u=s.x+s.width-(a.x+a.width),h=s.y+s.height-(a.y+a.height);if(n<l&&(n=l),r<c&&(r=c),u<n&&(n=u),h<r&&(r=h),!this.options.following){const f=t.x-e.originX,p=t.y-e.originY;n=f<=l||f>=u?0:n,r=p<=c||p>=h?0:r}}return{dx:n,dy:r}}updateSelectedNodesPosition(t){const{dx:e,dy:n}=t;if(e||n)if(this.translateSelectedNodes(e,n),this.boxesUpdated)this.collection.length>1&&this.updateSelectionBoxes();else{const r=this.graph.transform.getScale();this.$boxes.add(this.$selectionContainer).css({left:`+=${e*r.sx}`,top:`+=${n*r.sy}`})}}autoScrollGraph(t,e){const n=this.graph.scroller.widget;return n?n.autoScroll(t,e):{scrollerX:0,scrollerY:0}}adjustSelection(t){const e=this.normalizeEvent(t),n=this.getEventData(e);switch(n.action){case"selecting":{const s=n;s.moving!==!0&&(this.$container.appendTo(this.graph.container),this.showRubberband(),s.moving=!0);const{scrollerX:o,scrollerY:a}=this.autoScrollGraph(e.clientX,e.clientY);s.scrollerX+=o,s.scrollerY+=a;const l=e.clientX-s.clientX+s.scrollerX,c=e.clientY-s.clientY+s.scrollerY,u=parseInt(this.$container.css("left"),10),h=parseInt(this.$container.css("top"),10);this.$container.css({left:l<0?s.offsetX+l:u,top:c<0?s.offsetY+c:h,width:Math.abs(l),height:Math.abs(c)});break}case"translating":{const s=this.graph.snapToGrid(e.clientX,e.clientY),o=n,a=this.getSelectionOffset(s,o);this.options.following?this.updateSelectedNodesPosition(a):this.updateContainerPosition(a),a.dx&&(o.clientX=s.x),a.dy&&(o.clientY=s.y),this.notifyBoxEvent("box:mousemove",t,s.x,s.y);break}}this.boxesUpdated=!1}translateSelectedNodes(t,e,n,r){const s={},o=[];if(n&&(s[n.id]=!0),this.collection.toArray().forEach(a=>{a.getDescendants({deep:!0}).forEach(l=>{s[l.id]=!0})}),r&&r.translateBy){const a=this.graph.getCellById(r.translateBy);a&&(s[a.id]=!0,a.getDescendants({deep:!0}).forEach(l=>{s[l.id]=!0}),o.push(a))}this.collection.toArray().forEach(a=>{if(!s[a.id]){const l=Object.assign(Object.assign({},r),{selection:this.cid,exclude:o});a.translate(t,e,l),this.graph.model.getConnectedEdges(a).forEach(c=>{s[c.id]||(c.translate(t,e,l),s[c.id]=!0)})}})}getCellViewsInArea(t){const e=this.graph,n={strict:this.options.strict};let r=[];return this.options.rubberNode&&(this.options.useCellGeometry?r=r.concat(e.model.getNodesInArea(t,n).map(s=>e.renderer.findViewByCell(s)).filter(s=>s!=null)):r=r.concat(e.renderer.findViewsInArea(t,n))),this.options.rubberEdge&&(this.options.useCellGeometry?r=r.concat(e.model.getEdgesInArea(t,n).map(s=>e.renderer.findViewByCell(s)).filter(s=>s!=null)):r=r.concat(e.renderer.findEdgeViewsInArea(t,n))),r}notifyBoxEvent(t,e,n,r){const o=this.getEventData(e).activeView;this.trigger(t,{e,view:o,x:n,y:r,cell:o.cell})}getSelectedClassName(t){return this.prefixClassName(`${t.isNode()?"node":"edge"}-selected`)}addCellSelectedClassName(t){const e=this.graph.renderer.findViewByCell(t);e&&e.addClass(this.getSelectedClassName(t))}removeCellUnSelectedClassName(t){const e=this.graph.renderer.findViewByCell(t);e&&e.removeClass(this.getSelectedClassName(t))}destroySelectionBox(t){this.removeCellUnSelectedClassName(t),this.canShowSelectionBox(t)&&(this.$container.find(`[data-cell-id="${t.id}"]`).remove(),this.$boxes.length===0&&this.hide(),this.boxCount=Math.max(0,this.boxCount-1))}destroyAllSelectionBoxes(t){t.forEach(e=>this.removeCellUnSelectedClassName(e)),this.hide(),this.$boxes.remove(),this.boxCount=0}hide(){this.$container.removeClass(this.prefixClassName(Ln.classNames.rubberband)).removeClass(this.prefixClassName(Ln.classNames.selected))}showRubberband(){this.$container.addClass(this.prefixClassName(Ln.classNames.rubberband))}hideRubberband(){this.$container.removeClass(this.prefixClassName(Ln.classNames.rubberband))}showSelected(){this.$container.removeAttr("style").addClass(this.prefixClassName(Ln.classNames.selected))}createContainer(){this.container=document.createElement("div"),this.$container=this.$(this.container),this.$container.addClass(this.prefixClassName(Ln.classNames.root)),this.options.className&&this.$container.addClass(this.options.className),this.$selectionContainer=this.$("<div/>").addClass(this.prefixClassName(Ln.classNames.inner)),this.$selectionContent=this.$("<div/>").addClass(this.prefixClassName(Ln.classNames.content)),this.$selectionContainer.append(this.$selectionContent),this.$selectionContainer.attr("data-selection-length",this.collection.length),this.$container.prepend(this.$selectionContainer),this.$handleContainer=this.$selectionContainer}updateContainerPosition(t){(t.dx||t.dy)&&this.$selectionContainer.css({left:`+=${t.dx}`,top:`+=${t.dy}`})}updateContainer(){const t={x:1/0,y:1/0},e={x:0,y:0};this.collection.toArray().filter(s=>this.canShowSelectionBox(s)).forEach(s=>{const o=this.graph.renderer.findViewByCell(s);if(o){const a=o.getBBox({useCellGeometry:this.options.useCellGeometry});t.x=Math.min(t.x,a.x),t.y=Math.min(t.y,a.y),e.x=Math.max(e.x,a.x+a.width),e.y=Math.max(e.y,a.y+a.height)}}),this.$selectionContainer.css({position:"absolute",pointerEvents:"none",left:t.x,top:t.y,width:e.x-t.x,height:e.y-t.y}).attr("data-selection-length",this.collection.length);const r=this.options.content;if(r)if(typeof r=="function"){const s=xt(r,this.graph,this,this.$selectionContent[0]);s&&this.$selectionContent.html(s)}else this.$selectionContent.html(r);this.collection.length>0&&!this.container.parentNode?this.$container.appendTo(this.graph.container):this.collection.length<=0&&this.container.parentNode&&this.container.parentNode.removeChild(this.container)}canShowSelectionBox(t){return t.isNode()&&this.options.showNodeSelectionBox===!0||t.isEdge()&&this.options.showEdgeSelectionBox===!0}createSelectionBox(t){if(this.addCellSelectedClassName(t),this.canShowSelectionBox(t)){const e=this.graph.renderer.findViewByCell(t);if(e){const n=e.getBBox({useCellGeometry:this.options.useCellGeometry}),r=this.boxClassName;this.$("<div/>").addClass(r).addClass(`${r}-${t.isNode()?"node":"edge"}`).attr("data-cell-id",t.id).css({position:"absolute",left:n.x,top:n.y,width:n.width,height:n.height,pointerEvents:this.options.pointerEvents||"auto"}).appendTo(this.container),this.showSelected(),this.boxCount+=1}}}updateSelectionBoxes(t={}){this.collection.length>0&&(this.boxesUpdated=!0,this.graph.renderer.requestViewUpdate(this,1,2,t))}confirmUpdate(){return this.boxCount&&(this.hide(),this.$boxes.each((t,e)=>{const n=this.$(e).remove().attr("data-cell-id"),r=this.collection.get(n);r&&this.createSelectionBox(r)}),this.updateContainer()),0}getCellViewFromElem(t){const e=t.getAttribute("data-cell-id");if(e){const n=this.collection.get(e);if(n)return this.graph.renderer.findViewByCell(n)}return null}onCellRemoved({cell:t}){this.destroySelectionBox(t),this.updateContainer()}onReseted({previous:t,current:e}){this.destroyAllSelectionBoxes(t),e.forEach(n=>{this.listenCellRemoveEvent(n),this.createSelectionBox(n)}),this.updateContainer()}onCellAdded({cell:t}){this.listenCellRemoveEvent(t),this.createSelectionBox(t),this.updateContainer()}listenCellRemoveEvent(t){t.off("removed",this.onCellRemoved,this),t.on("removed",this.onCellRemoved,this)}onCollectionUpdated({added:t,removed:e,options:n}){t.forEach(s=>{this.trigger("cell:selected",{cell:s,options:n}),this.graph.trigger("cell:selected",{cell:s,options:n}),s.isNode()?(this.trigger("node:selected",{cell:s,options:n,node:s}),this.graph.trigger("node:selected",{cell:s,options:n,node:s})):s.isEdge()&&(this.trigger("edge:selected",{cell:s,options:n,edge:s}),this.graph.trigger("edge:selected",{cell:s,options:n,edge:s}))}),e.forEach(s=>{this.trigger("cell:unselected",{cell:s,options:n}),this.graph.trigger("cell:unselected",{cell:s,options:n}),s.isNode()?(this.trigger("node:unselected",{cell:s,options:n,node:s}),this.graph.trigger("node:unselected",{cell:s,options:n,node:s})):s.isEdge()&&(this.trigger("edge:unselected",{cell:s,options:n,edge:s}),this.graph.trigger("edge:unselected",{cell:s,options:n,edge:s}))});const r={added:t,removed:e,options:n,selected:this.cells};this.trigger("selection:changed",r),this.graph.trigger("selection:changed",r)}deleteSelectedCells(){const t=this.collection.toArray();this.clean(),this.graph.model.removeCells(t,{selection:this.cid})}startRotate({e:t}){const e=this.collection.toArray(),n=ie.getCellsBBox(e).getCenter(),r=this.graph.snapToGrid(t.clientX,t.clientY),s=e.reduce((o,a)=>(o[a.id]=re.normalize(a.getAngle()),o),{});this.setEventData(t,{center:n,angles:s,start:r.theta(n)})}doRotate({e:t}){const e=this.getEventData(t),n=this.graph.options.rotating.grid,r=typeof n=="function"?xt(n,this.graph,null):n,s=this.graph.snapToGrid(t.clientX,t.clientY),o=e.start-s.theta(e.center);e.rotated||(e.rotated=!0),Math.abs(o)>.001&&(this.collection.toArray().forEach(a=>{const l=Qe.snapToGrid(e.angles[a.id]+o,r||15);a.rotate(l,{absolute:!0,center:e.center,selection:this.cid})}),this.updateSelectionBoxes())}stopRotate({e:t}){const e=this.getEventData(t);e.rotated&&(e.rotated=!1,this.collection.toArray().forEach(n=>{rn("node:rotated",t,this.graph.findViewByCell(n))}))}startResize({e:t}){const e=this.graph.getGridSize(),n=this.collection.toArray(),r=ie.getCellsBBox(n),s=n.map(l=>l.getBBox()),o=s.reduce((l,c)=>c.width<l?c.width:l,1/0),a=s.reduce((l,c)=>c.height<l?c.height:l,1/0);this.setEventData(t,{bbox:r,cells:this.graph.model.getSubGraph(n),minWidth:e*r.width/o,minHeight:e*r.height/a})}doResize({e:t,dx:e,dy:n}){const r=this.eventData(t),s=r.bbox,o=s.width,a=s.height,l=Math.max(o+e,r.minWidth),c=Math.max(a+n,r.minHeight);r.resized||(r.resized=!0),(Math.abs(o-l)>.001||Math.abs(a-c)>.001)&&(this.graph.model.resizeCells(l,c,r.cells,{selection:this.cid}),s.width=l,s.height=c,this.updateSelectionBoxes())}stopResize({e:t}){const e=this.eventData(t);e.resized&&(e.resized=!1,this.collection.toArray().forEach(n=>{rn("node:resized",t,this.graph.findViewByCell(n))}))}dispose(){this.clean(),this.remove()}}J7([se.dispose()],bp.prototype,"dispose",null);ey(bp,qs);var Ln;(function(i){const t="widget-selection";i.classNames={root:t,inner:`${t}-inner`,box:`${t}-box`,content:`${t}-content`,rubberband:`${t}-rubberband`,selected:`${t}-selected`},i.documentEvents={mousemove:"adjustSelection",touchmove:"adjustSelection",mouseup:"onMouseUp",touchend:"onMouseUp",touchcancel:"onMouseUp"},i.defaultOptions={movable:!0,following:!0,strict:!1,useCellGeometry:!1,content(n){return So('<%= length %> node<%= length > 1 ? "s":"" %> selected.')({length:n.length})},handles:[{name:"remove",position:"nw",events:{mousedown:"deleteSelectedCells"}},{name:"rotate",position:"sw",events:{mousedown:"startRotate",mousemove:"doRotate",mouseup:"stopRotate"}},{name:"resize",position:"se",events:{mousedown:"startResize",mousemove:"doResize",mouseup:"stopResize"}}]};function e(n){return n.getAncestors().length}i.depthComparator=e})(Ln||(Ln={}));class V2 extends Vl{get node(){return this.cell}get containerClassName(){return this.prefixClassName("widget-transform")}get resizeClassName(){return`${this.containerClassName}-resize`}get rotateClassName(){return`${this.containerClassName}-rotate`}init(t){this.options=Object.assign(Object.assign({},hn.defaultOptions),t),this.render(),this.startListening()}startListening(){this.delegateEvents({[`mousedown .${this.resizeClassName}`]:"startResizing",[`touchstart .${this.resizeClassName}`]:"startResizing",[`mousedown .${this.rotateClassName}`]:"startRotating",[`touchstart .${this.rotateClassName}`]:"startRotating"}),this.model.on("*",this.update,this),this.graph.on("scale",this.update,this),this.graph.on("translate",this.update,this),this.node.on("removed",this.remove,this),this.model.on("reseted",this.remove,this),this.view.on("cell:knob:mousedown",this.onKnobMouseDown,this),this.view.on("cell:knob:mouseup",this.onKnobMouseUp,this),super.startListening()}stopListening(){this.undelegateEvents(),this.model.off("*",this.update,this),this.graph.off("scale",this.update,this),this.graph.off("translate",this.update,this),this.node.off("removed",this.remove,this),this.model.off("reseted",this.remove,this),this.view.off("cell:knob:mousedown",this.onKnobMouseDown,this),this.view.off("cell:knob:mouseup",this.onKnobMouseUp,this),super.stopListening()}renderHandles(){this.container=document.createElement("div"),this.$container=this.$(this.container);const t=this.$("<div/>").prop("draggable",!1),e=t.clone().addClass(this.rotateClassName),n=hn.POSITIONS.map(r=>t.clone().addClass(this.resizeClassName).attr("data-position",r));this.empty(),this.$container.append(n,e)}render(){return this.renderHandles(),this.view.addClass(hn.NODE_CLS),this.$container.addClass(this.containerClassName).toggleClass("no-orth-resize",this.options.preserveAspectRatio||!this.options.orthogonalResizing).toggleClass("no-resize",!this.options.resizable).toggleClass("no-rotate",!this.options.rotatable),this.options.className&&this.$container.addClass(this.options.className),this.graph.container.appendChild(this.container),this.update()}update(){const t=this.graph.matrix(),e=this.node.getBBox();e.x*=t.a,e.x+=t.e,e.y*=t.d,e.y+=t.f,e.width*=t.a,e.height*=t.d;const n=re.normalize(this.node.getAngle()),r=n!==0?`rotate(${n}deg)`:"";return this.$container.css({transform:r,width:e.width,height:e.height,left:e.x,top:e.y}),this.updateResizerDirections(),this}remove(){return this.view.removeClass(hn.NODE_CLS),super.remove()}onKnobMouseDown(){this.startHandle()}onKnobMouseUp(){this.stopHandle()}updateResizerDirections(){const t=re.normalize(this.node.getAngle()),e=Math.floor(t*(hn.DIRECTIONS.length/360));if(e!==this.prevShift){const n=hn.DIRECTIONS.slice(e).concat(hn.DIRECTIONS.slice(0,e)),r=s=>`${this.containerClassName}-cursor-${s}`;this.$container.find(`.${this.resizeClassName}`).removeClass(hn.DIRECTIONS.map(s=>r(s)).join(" ")).each((s,o)=>{this.$(o).addClass(r(n[s]))}),this.prevShift=e}}getTrueDirection(t){const e=re.normalize(this.node.getAngle());let n=hn.POSITIONS.indexOf(t);return n+=Math.floor(e*(hn.POSITIONS.length/360)),n%=hn.POSITIONS.length,hn.POSITIONS[n]}toValidResizeDirection(t){return{top:"top-left",bottom:"bottom-right",left:"bottom-left",right:"top-right"}[t]||t}startResizing(t){t.stopPropagation(),this.model.startBatch("resize",{cid:this.cid});const e=this.$(t.target).attr("data-position"),n=this.graph.findViewByCell(this.node);this.prepareResizing(t,e),this.startAction(t),rn("node:resize:mousedown",t,n)}prepareResizing(t,e){const n=this.getTrueDirection(e);let r=0,s=0;e.split("-").forEach(c=>{r={left:-1,right:1}[c]||r,s={top:-1,bottom:1}[c]||s});const o=this.toValidResizeDirection(e),a={"top-right":"bottomLeft","top-left":"bottomRight","bottom-left":"topRight","bottom-right":"topLeft"}[o],l=re.normalize(this.node.getAngle());this.setEventData(t,{selector:a,direction:o,trueDirection:n,relativeDirection:e,angle:l,resizeX:r,resizeY:s,action:"resizing"})}startRotating(t){t.stopPropagation(),this.model.startBatch("rotate",{cid:this.cid});const e=this.graph.findViewByCell(this.node),n=this.node.getBBox().getCenter(),r=this.normalizeEvent(t),s=this.graph.snapToGrid(r.clientX,r.clientY);this.setEventData(t,{center:n,action:"rotating",angle:re.normalize(this.node.getAngle()),start:N.create(s).theta(n)}),this.startAction(t),rn("node:rotate:mousedown",t,e)}onMouseMove(t){const e=this.graph.findViewByCell(this.node);let n=this.getEventData(t);if(n.action){const r=this.normalizeEvent(t);let s=r.clientX,o=r.clientY;const a=this.graph.scroller.widget,l=this.options.restrictedResizing;if(l===!0||typeof l=="number"){const p=l===!0?0:l,b=a?Math.max(p,8):p,v=this.graph.container.getBoundingClientRect();s=In(s,v.left+b,v.right-b),o=In(o,v.top+b,v.bottom-b)}else this.options.autoScrollOnResizing&&a&&a.autoScroll(s,o);const c=this.graph.snapToGrid(s,o),u=this.graph.getGridSize(),h=this.node,f=this.options;if(n.action==="resizing"){n=n,n.resized||(e&&(e.addClass("node-resizing"),rn("node:resize",t,e)),n.resized=!0);const p=h.getBBox(),b=N.create(c).rotate(n.angle,p.getCenter()).diff(p[n.selector]);let v=n.resizeX?b.x*n.resizeX:p.width,w=n.resizeY?b.y*n.resizeY:p.height;const x=v,E=w;if(v=Qe.snapToGrid(v,u),w=Qe.snapToGrid(w,u),v=Math.max(v,f.minWidth||u),w=Math.max(w,f.minHeight||u),v=Math.min(v,f.maxWidth||1/0),w=Math.min(w,f.maxHeight||1/0),f.preserveAspectRatio){const O=p.width*w/p.height,k=p.height*v/p.width;v<O?w=k:v=O}const S=n.relativeDirection;if(f.allowReverse&&(x<=-v||E<=-w)){let O;S==="left"?x<=-v&&(O="right"):S==="right"?x<=-v&&(O="left"):S==="top"?E<=-w&&(O="bottom"):S==="bottom"?E<=-w&&(O="top"):S==="top-left"?x<=-v&&E<=-w?O="bottom-right":x<=-v?O="top-right":E<=-w&&(O="bottom-left"):S==="top-right"?x<=-v&&E<=-w?O="bottom-left":x<=-v?O="top-left":E<=-w&&(O="bottom-right"):S==="bottom-left"?x<=-v&&E<=-w?O="top-right":x<=-v?O="bottom-right":E<=-w&&(O="top-left"):S==="bottom-right"&&(x<=-v&&E<=-w?O="top-left":x<=-v?O="bottom-left":E<=-w&&(O="top-right"));const k=O;this.stopHandle();const m=this.$container.find(`.${this.resizeClassName}[data-position="${k}"]`);this.startHandle(m[0]),this.prepareResizing(t,k),this.onMouseMove(t)}if(p.width!==v||p.height!==w){const O={ui:!0,direction:n.direction,relativeDirection:n.relativeDirection,trueDirection:n.trueDirection,minWidth:f.minWidth,minHeight:f.minHeight,maxWidth:f.maxWidth,maxHeight:f.maxHeight,preserveAspectRatio:f.preserveAspectRatio===!0};h.resize(v,w,O),rn("node:resizing",t,e)}rn("node:resize:mousemove",t,e)}else if(n.action==="rotating"){n=n,n.rotated||(e&&(e.addClass("node-rotating"),rn("node:rotate",t,e)),n.rotated=!0);const p=h.getAngle(),b=n.start-N.create(c).theta(n.center);let v=n.angle+b;f.rotateGrid&&(v=Qe.snapToGrid(v,f.rotateGrid)),p!==v&&(h.rotate(v,{absolute:!0}),rn("node:rotating",t,e)),rn("node:rotate:mousemove",t,e)}}}onMouseUp(t){const e=this.graph.findViewByCell(this.node),n=this.getEventData(t);n.action&&(this.stopAction(t),this.model.stopBatch(n.action==="resizing"?"resize":"rotate",{cid:this.cid}),n.action==="resizing"?rn("node:resize:mouseup",t,e):n.action==="rotating"&&rn("node:rotate:mouseup",t,e))}startHandle(t){if(this.handle=t||null,this.$container.addClass(`${this.containerClassName}-active`),t){this.$(t).addClass(`${this.containerClassName}-active-handle`);const e=t.getAttribute("data-position");if(e){const n=hn.DIRECTIONS[hn.POSITIONS.indexOf(e)];this.$container.addClass(`${this.containerClassName}-cursor-${n}`)}}}stopHandle(){if(this.$container.removeClass(`${this.containerClassName}-active`),this.handle){this.$(this.handle).removeClass(`${this.containerClassName}-active-handle`);const t=this.handle.getAttribute("data-position");if(t){const e=hn.DIRECTIONS[hn.POSITIONS.indexOf(t)];this.$container.removeClass(`${this.containerClassName}-cursor-${e}`)}this.handle=null}}startAction(t){this.startHandle(t.target),this.graph.view.undelegateEvents(),this.delegateDocumentEvents(hn.documentEvents,t.data)}stopAction(t){this.stopHandle(),this.undelegateDocumentEvents(),this.graph.view.delegateEvents();const e=this.graph.findViewByCell(this.node),n=this.getEventData(t);e&&(e.removeClass(`node-${n.action}`),n.action==="resizing"&&n.resized?rn("node:resized",t,e):n.action==="rotating"&&n.rotated&&rn("node:rotated",t,e))}}var hn;(function(i){i.NODE_CLS="has-widget-transform",i.DIRECTIONS=["nw","n","ne","e","se","s","sw","w"],i.POSITIONS=["top-left","top","top-right","right","bottom-right","bottom","bottom-left","left"],i.documentEvents={mousemove:"onMouseMove",touchmove:"onMouseMove",mouseup:"onMouseUp",touchend:"onMouseUp"},i.defaultOptions={minWidth:0,minHeight:0,maxWidth:1/0,maxHeight:1/0,rotateGrid:15,rotatable:!0,preserveAspectRatio:!1,orthogonalResizing:!0,restrictedResizing:!1,autoScrollOnResizing:!0,allowReverse:!0}})(hn||(hn={}));var Z7=globalThis&&globalThis.__rest||function(i,t){var e={};for(var n in i)Object.prototype.hasOwnProperty.call(i,n)&&t.indexOf(n)<0&&(e[n]=i[n]);if(i!=null&&typeof Object.getOwnPropertySymbols=="function")for(var r=0,n=Object.getOwnPropertySymbols(i);r<n.length;r++)t.indexOf(n[r])<0&&Object.prototype.propertyIsEnumerable.call(i,n[r])&&(e[n[r]]=i[n[r]]);return e},Fi;(function(i){function t(e,n,r){const s={};return Object.keys(r||{}).forEach(o=>{const a=r[o];s[o]=typeof a=="function"?a.call(e,n):a}),s}i.parseOptionGroup=t})(Fi||(Fi={}));(function(i){function t(e){const{grid:n,panning:r,selecting:s,embedding:o,snapline:a,resizing:l,rotating:c,knob:u,clipboard:h,history:f,scroller:p,minimap:b,keyboard:v,mousewheel:w}=e,x=Z7(e,["grid","panning","selecting","embedding","snapline","resizing","rotating","knob","clipboard","history","scroller","minimap","keyboard","mousewheel"]),E=e.container;if(E!=null)x.width==null&&(x.width=E.clientWidth),x.height==null&&(x.height=E.clientHeight);else throw new Error("Ensure the container of the graph is specified and valid");const S=De({},i.defaults,x),O={size:10,visible:!1};return typeof n=="number"?S.grid={size:n,visible:!1}:typeof n=="boolean"?S.grid=Object.assign(Object.assign({},O),{visible:n}):S.grid=Object.assign(Object.assign({},O),n),["panning","selecting","embedding","snapline","resizing","rotating","knob","clipboard","history","scroller","minimap","keyboard","mousewheel"].forEach(m=>{const T=e[m];typeof T=="boolean"?S[m].enabled=T:S[m]=Object.assign(Object.assign({},S[m]),T)}),S.background&&S.scroller.enabled&&S.scroller.background==null&&(S.scroller.background=S.background,delete S.background),S}i.get=t})(Fi||(Fi={}));(function(i){i.defaults={x:0,y:0,grid:{size:10,visible:!1},scaling:{min:.01,max:16},background:!1,highlighting:{default:{name:"stroke",args:{padding:3}},nodeAvailable:{name:"className",args:{className:Qe.prefix("available-node")}},magnetAvailable:{name:"className",args:{className:Qe.prefix("available-magnet")}}},connecting:{snap:!1,multi:!0,dangling:!0,allowLoop:!0,allowNode:!0,allowEdge:!1,allowPort:!0,highlight:!1,anchor:"center",edgeAnchor:"ratio",connectionPoint:"boundary",strategy:null,router:"normal",connector:"normal",validateConnection({type:t,sourceView:e,targetView:n}){return(t==="target"?n:e)!=null},createEdge(){return new mp}},transforming:{clearAll:!0,clearOnBlankMouseDown:!0},resizing:{enabled:!1,minWidth:0,minHeight:0,maxWidth:Number.MAX_SAFE_INTEGER,maxHeight:Number.MAX_SAFE_INTEGER,orthogonal:!0,restricted:!1,autoScroll:!0,preserveAspectRatio:!1,allowReverse:!0},rotating:{enabled:!1,grid:15},translating:{restrict:!1},knob:{enabled:!1,clearAll:!0,clearOnBlankMouseDown:!0},embedding:{enabled:!1,findParent:"bbox",frontOnly:!0,validate:()=>!0},selecting:{enabled:!1,rubberband:!1,rubberNode:!0,rubberEdge:!1,pointerEvents:"auto",multiple:!0,movable:!0,strict:!1,useCellGeometry:!1,selectCellOnMoved:!1,selectNodeOnMoved:!1,selectEdgeOnMoved:!1,content:null,handles:null},panning:{enabled:!1,eventTypes:["leftMouseDown"]},snapline:{enabled:!1},clipboard:{enabled:!1},history:{enabled:!1},scroller:{enabled:!1},keyboard:{enabled:!1},mousewheel:{enabled:!1,factor:1.2,zoomAtMousePosition:!0},async:!1,frozen:!1,sorting:"exact",moveThreshold:0,clickThreshold:0,magnetThreshold:0,preventDefaultDblClick:!0,preventDefaultMouseDown:!1,preventDefaultContextMenu:!0,preventDefaultBlankAction:!0,interacting:{edgeLabelMovable:!1},guard:()=>!1}})(Fi||(Fi={}));var H2=globalThis&&globalThis.__rest||function(i,t){var e={};for(var n in i)Object.prototype.hasOwnProperty.call(i,n)&&t.indexOf(n)<0&&(e[n]=i[n]);if(i!=null&&typeof Object.getOwnPropertySymbols=="function")for(var r=0,n=Object.getOwnPropertySymbols(i);r<n.length;r++)t.indexOf(n[r])<0&&Object.prototype.propertyIsEnumerable.call(i,n[r])&&(e[n[r]]=i[n[r]]);return e};class C1 extends Ee{get cid(){return this.graph.view.cid}get svg(){return this.view.svg}get defs(){return this.view.defs}isDefined(t){return this.svg.getElementById(t)!=null}filter(t){let e=t.id;const n=t.name;if(e||(e=`filter-${n}-${this.cid}-${jh(JSON.stringify(t))}`),!this.isDefined(e)){const r=Jo.registry.get(n);if(r==null)return Jo.registry.onNotFound(n);const s=r(t.args||{}),o=Object.assign(Object.assign({x:-1,y:-1,width:3,height:3,filterUnits:"objectBoundingBox"},t.attrs),{id:e});Et.create(he.sanitize(s),o).appendTo(this.defs)}return e}gradient(t){let e=t.id;const n=t.type;if(e||(e=`gradient-${n}-${this.cid}-${jh(JSON.stringify(t))}`),!this.isDefined(e)){const s=t.stops.map(l=>{const c=l.opacity!=null&&Number.isFinite(l.opacity)?l.opacity:1;return`<stop offset="${l.offset}" stop-color="${l.color}" stop-opacity="${c}"/>`}),o=`<${n}>${s.join("")}</${n}>`,a=Object.assign({id:e},t.attrs);Et.create(o,a).appendTo(this.defs)}return e}marker(t){const{id:e,refX:n,refY:r,markerUnits:s,markerOrient:o,tagName:a,children:l}=t,c=H2(t,["id","refX","refY","markerUnits","markerOrient","tagName","children"]);let u=e;if(u||(u=`marker-${this.cid}-${jh(JSON.stringify(t))}`),!this.isDefined(u)){a!=="path"&&delete c.d;const h=Et.create("marker",{refX:n,refY:r,id:u,overflow:"visible",orient:o!=null?o:"auto",markerUnits:s||"userSpaceOnUse"},l?l.map(f=>{var{tagName:p}=f,b=H2(f,["tagName"]);return Et.create(`${p}`||"path",ml(Object.assign(Object.assign({},c),b)))}):[Et.create(a||"path",ml(c))]);this.defs.appendChild(h.node)}return u}remove(t){const e=this.svg.getElementById(t);e&&e.parentNode&&e.parentNode.removeChild(e)}}var Q7=globalThis&&globalThis.__decorate||function(i,t,e,n){var r=arguments.length,s=r<3?t:n===null?n=Object.getOwnPropertyDescriptor(t,e):n,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")s=Reflect.decorate(i,t,e,n);else for(var a=i.length-1;a>=0;a--)(o=i[a])&&(s=(r<3?o(s):r>3?o(t,e,s):o(t,e))||s);return r>3&&s&&Object.defineProperty(t,e,s),s},t9=globalThis&&globalThis.__rest||function(i,t){var e={};for(var n in i)Object.prototype.hasOwnProperty.call(i,n)&&t.indexOf(n)<0&&(e[n]=i[n]);if(i!=null&&typeof Object.getOwnPropertySymbols=="function")for(var r=0,n=Object.getOwnPropertySymbols(i);r<n.length;r++)t.indexOf(n[r])<0&&Object.prototype.propertyIsEnumerable.call(i,n[r])&&(e[n[r]]=i[n[r]]);return e};class vp extends Ee{get elem(){return this.view.grid}get grid(){return this.options.grid}init(){this.startListening(),this.draw(this.grid)}startListening(){this.graph.on("scale",this.update,this),this.graph.on("translate",this.update,this)}stopListening(){this.graph.off("scale",this.update,this),this.graph.off("translate",this.update,this)}setVisible(t){this.grid.visible!==t&&(this.grid.visible=t,this.update())}getGridSize(){return this.grid.size}setGridSize(t){this.grid.size=Math.max(t,1),this.update()}show(){this.setVisible(!0),this.update()}hide(){this.setVisible(!1),this.update()}clear(){this.elem.style.backgroundImage=""}draw(t){this.clear(),this.instance=null,Object.assign(this.grid,t),this.patterns=this.resolveGrid(t),this.update()}update(t={}){const e=this.grid.size;if(e<=1||!this.grid.visible)return this.clear();const n=this.graph.matrix(),r=this.getInstance(),s=Array.isArray(t)?t:[t];this.patterns.forEach((l,c)=>{const u=`pattern_${c}`,h=n.a||1,f=n.d||1,{update:p,markup:b}=l,v=t9(l,["update","markup"]),w=Object.assign(Object.assign(Object.assign({},v),s[c]),{sx:h,sy:f,ox:n.e||0,oy:n.f||0,width:e*h,height:e*f});r.has(u)||r.add(u,Et.create("pattern",{id:u,patternUnits:"userSpaceOnUse"},Et.createVectors(b)).node);const x=r.get(u);typeof p=="function"&&p(x.childNodes[0],w);let E=w.ox%w.width;E<0&&(E+=w.width);let S=w.oy%w.height;S<0&&(S+=w.height),me(x,{x:E,y:S,width:w.width,height:w.height})});const o=new XMLSerializer().serializeToString(r.root),a=`url(data:image/svg+xml;base64,${btoa(o)})`;this.elem.style.backgroundImage=a}getInstance(){return this.instance||(this.instance=new qr),this.instance}resolveGrid(t){if(!t)return[];const e=t.type;if(e==null)return[Object.assign(Object.assign({},qr.presets.dot),t.args)];const n=qr.registry.get(e);if(n){let r=t.args||[];return Array.isArray(r)||(r=[r]),Array.isArray(n)?n.map((s,o)=>Object.assign(Object.assign({},s),r[o])):[Object.assign(Object.assign({},n),r[0])]}return qr.registry.onNotFound(e)}dispose(){this.stopListening(),this.clear()}}Q7([Ee.dispose()],vp.prototype,"dispose",null);class E1 extends Ee{getClientMatrix(){return yn(this.view.stage.getScreenCTM())}getClientOffset(){const t=this.view.svg.getBoundingClientRect();return new N(t.left,t.top)}getPageOffset(){return this.getClientOffset().translate(window.scrollX,window.scrollY)}snapToGrid(t,e){return(typeof t=="number"?this.clientToLocalPoint(t,e):this.clientToLocalPoint(t.x,t.y)).snapToGrid(this.graph.getGridSize())}localToGraphPoint(t,e){const n=N.create(t,e);return fr(n,this.graph.matrix())}localToClientPoint(t,e){const n=N.create(t,e);return fr(n,this.getClientMatrix())}localToPagePoint(t,e){return(typeof t=="number"?this.localToGraphPoint(t,e):this.localToGraphPoint(t)).translate(this.getPageOffset())}localToGraphRect(t,e,n,r){const s=ht.create(t,e,n,r);return ai(s,this.graph.matrix())}localToClientRect(t,e,n,r){const s=ht.create(t,e,n,r);return ai(s,this.getClientMatrix())}localToPageRect(t,e,n,r){return(typeof t=="number"?this.localToGraphRect(t,e,n,r):this.localToGraphRect(t)).translate(this.getPageOffset())}graphToLocalPoint(t,e){const n=N.create(t,e);return fr(n,this.graph.matrix().inverse())}clientToLocalPoint(t,e){const n=N.create(t,e);return fr(n,this.getClientMatrix().inverse())}clientToGraphPoint(t,e){const n=N.create(t,e);return fr(n,this.graph.matrix().multiply(this.getClientMatrix().inverse()))}pageToLocalPoint(t,e){const r=N.create(t,e).diff(this.getPageOffset());return this.graphToLocalPoint(r)}graphToLocalRect(t,e,n,r){const s=ht.create(t,e,n,r);return ai(s,this.graph.matrix().inverse())}clientToLocalRect(t,e,n,r){const s=ht.create(t,e,n,r);return ai(s,this.getClientMatrix().inverse())}clientToGraphRect(t,e,n,r){const s=ht.create(t,e,n,r);return ai(s,this.graph.matrix().multiply(this.getClientMatrix().inverse()))}pageToLocalRect(t,e,n,r){const s=ht.create(t,e,n,r),o=this.getPageOffset();return s.x-=o.x,s.y-=o.y,this.graphToLocalRect(s)}}var e9=globalThis&&globalThis.__decorate||function(i,t,e,n){var r=arguments.length,s=r<3?t:n===null?n=Object.getOwnPropertyDescriptor(t,e):n,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")s=Reflect.decorate(i,t,e,n);else for(var a=i.length-1;a>=0;a--)(o=i[a])&&(s=(r<3?o(s):r>3?o(t,e,s):o(t,e))||s);return r>3&&s&&Object.defineProperty(t,e,s),s};class yp extends Ee{constructor(){super(...arguments),this.widget=this.graph.hook.createSnapline()}dispose(){this.widget.dispose()}}e9([Ee.dispose()],yp.prototype,"dispose",null);var Us;(function(i){function t(r){const s=[],o=[];return Array.isArray(r)?s.push(...r):r.split("|").forEach(a=>{a.indexOf("&")===-1?s.push(a):o.push(...a.split("&"))}),{or:s,and:o}}i.parse=t;function e(r,s){if(r!=null&&s!=null){const o=t(r),a=t(s),l=o.or.sort(),c=a.or.sort(),u=o.and.sort(),h=a.and.sort(),f=(p,b)=>p.length===b.length&&(p.length===0||p.every((v,w)=>v===b[w]));return f(l,c)&&f(u,h)}return r==null&&s==null}i.equals=e;function n(r,s,o){if(s==null||Array.isArray(s)&&s.length===0)return o?r.altKey!==!0&&r.ctrlKey!==!0&&r.metaKey!==!0&&r.shiftKey!==!0:!0;const{or:a,and:l}=t(s),c=u=>{const h=`${u.toLowerCase()}Key`;return r[h]===!0};return a.some(u=>c(u))&&l.every(u=>c(u))}i.isMatch=n})(Us||(Us={}));var n9=globalThis&&globalThis.__decorate||function(i,t,e,n){var r=arguments.length,s=r<3?t:n===null?n=Object.getOwnPropertyDescriptor(t,e):n,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")s=Reflect.decorate(i,t,e,n);else for(var a=i.length-1;a>=0;a--)(o=i[a])&&(s=(r<3?o(s):r>3?o(t,e,s):o(t,e))||s);return r>3&&s&&Object.defineProperty(t,e,s),s};class xp extends Ee{get widgetOptions(){return this.options.scroller}get pannable(){return this.widgetOptions?typeof this.widgetOptions.pannable=="object"?this.widgetOptions.pannable.enabled:!!this.widgetOptions.pannable:!1}init(){this.widget=this.graph.hook.createScroller(),this.startListening(),this.updateClassName(),this.widget&&this.widget.center()}startListening(){let t=[];const e=this.widgetOptions.pannable;typeof e=="object"?t=e.eventTypes||[]:t=["leftMouseDown"],t.includes("leftMouseDown")&&(this.graph.on("blank:mousedown",this.preparePanning,this),this.graph.on("node:unhandled:mousedown",this.preparePanning,this),this.graph.on("edge:unhandled:mousedown",this.preparePanning,this)),t.includes("rightMouseDown")&&(this.onRightMouseDown=this.onRightMouseDown.bind(this),this.view.$(this.widget.container).on("mousedown",this.onRightMouseDown))}stopListening(){let t=[];const e=this.widgetOptions.pannable;typeof e=="object"?t=e.eventTypes||[]:t=["leftMouseDown"],t.includes("leftMouseDown")&&(this.graph.off("blank:mousedown",this.preparePanning,this),this.graph.off("node:unhandled:mousedown",this.preparePanning,this),this.graph.off("edge:unhandled:mousedown",this.preparePanning,this)),t.includes("rightMouseDown")&&this.view.$(this.widget.container).off("mousedown",this.onRightMouseDown)}onRightMouseDown(t){t.button===2&&this.allowPanning(t,!0)&&this.widget&&(this.updateClassName(!0),this.widget.startPanning(t),this.widget.once("pan:stop",()=>this.updateClassName(!1)))}preparePanning({e:t}){this.widget&&(this.allowPanning(t,!0)||this.allowPanning(t)&&!this.graph.selection.allowRubberband(t,!0))&&(this.updateClassName(!0),this.widget.startPanning(t),this.widget.once("pan:stop",()=>this.updateClassName(!1)))}allowPanning(t,e){return this.widget&&this.pannable&&Us.isMatch(t,this.widgetOptions.modifiers,e)&&this.graph.hook.allowPanning(t)}updateClassName(t){if(this.widget==null)return;const e=this.widget.container,n=this.view.prefixClassName("graph-scroller-pannable");this.pannable?(ge(e,n),e.dataset.panning=(!!t).toString()):yi(e,n)}enablePanning(){this.pannable||(this.widgetOptions.pannable=!0,this.updateClassName())}disablePanning(){this.pannable&&(this.widgetOptions.pannable=!1,this.updateClassName())}lock(){this.widget&&this.widget.lock()}unlock(){this.widget&&this.widget.unlock()}update(){this.widget&&this.widget.update()}enableAutoResize(){this.widget&&this.widget.enableAutoResize()}disableAutoResize(){this.widget&&this.widget.disableAutoResize()}resize(t,e){this.widget&&this.widget.resize(t,e)}dispose(){this.widget&&this.widget.dispose(),this.stopListening()}}n9([Ee.dispose()],xp.prototype,"dispose",null);var i9=globalThis&&globalThis.__decorate||function(i,t,e,n){var r=arguments.length,s=r<3?t:n===null?n=Object.getOwnPropertyDescriptor(t,e):n,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")s=Reflect.decorate(i,t,e,n);else for(var a=i.length-1;a>=0;a--)(o=i[a])&&(s=(r<3?o(s):r>3?o(t,e,s):o(t,e))||s);return r>3&&s&&Object.defineProperty(t,e,s),s},r9=globalThis&&globalThis.__rest||function(i,t){var e={};for(var n in i)Object.prototype.hasOwnProperty.call(i,n)&&t.indexOf(n)<0&&(e[n]=i[n]);if(i!=null&&typeof Object.getOwnPropertySymbols=="function")for(var r=0,n=Object.getOwnPropertySymbols(i);r<n.length;r++)t.indexOf(n[r])<0&&Object.prototype.propertyIsEnumerable.call(i,n[r])&&(e[n[r]]=i[n[r]]);return e};class wp extends Ee{get commonOptions(){const t=this.instanceOptions;return r9(t,["enabled"])}get instanceOptions(){return this.options.clipboard}get cells(){return this.widget.cells}get disabled(){return this.instanceOptions.enabled!==!0}init(){this.widget=this.graph.hook.createClipboard(),this.widget.deserialize(this.instanceOptions)}enable(){this.disabled&&(this.instanceOptions.enabled=!0)}disable(){this.disabled||(this.instanceOptions.enabled=!1)}copy(t,e={}){this.disabled||this.widget.copy(t,this.graph,Object.assign(Object.assign({},this.commonOptions),e))}cut(t,e={}){this.disabled||this.widget.cut(t,this.graph,Object.assign(Object.assign({},this.commonOptions),e))}paste(t={},e=this.graph){return this.disabled?[]:this.widget.paste(e,Object.assign(Object.assign({},this.commonOptions),t))}clean(t){(!this.disabled||t)&&this.widget.clean()}isEmpty(){return this.widget.isEmpty()}dispose(){this.clean(!0)}}i9([Ee.dispose()],wp.prototype,"dispose",null);var s9=globalThis&&globalThis.__decorate||function(i,t,e,n){var r=arguments.length,s=r<3?t:n===null?n=Object.getOwnPropertyDescriptor(t,e):n,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")s=Reflect.decorate(i,t,e,n);else for(var a=i.length-1;a>=0;a--)(o=i[a])&&(s=(r<3?o(s):r>3?o(t,e,s):o(t,e))||s);return r>3&&s&&Object.defineProperty(t,e,s),s};class ou extends Ee{constructor(){super(...arguments),this.highlights={}}init(){this.startListening()}startListening(){this.graph.on("cell:highlight",this.onCellHighlight,this),this.graph.on("cell:unhighlight",this.onCellUnhighlight,this)}stopListening(){this.graph.off("cell:highlight",this.onCellHighlight,this),this.graph.off("cell:unhighlight",this.onCellUnhighlight,this)}onCellHighlight({view:t,magnet:e,options:n={}}){const r=this.resolveHighlighter(n);if(!r)return;const s=this.getHighlighterId(e,r);if(!this.highlights[s]){const o=r.highlighter;o.highlight(t,e,Object.assign({},r.args)),this.highlights[s]={cellView:t,magnet:e,highlighter:o,args:r.args}}}onCellUnhighlight({magnet:t,options:e={}}){const n=this.resolveHighlighter(e);if(!n)return;const r=this.getHighlighterId(t,n);this.unhighlight(r)}resolveHighlighter(t){const e=this.options;let n=t.highlighter;if(n==null){const a=t.type;n=a&&e.highlighting[a]||e.highlighting.default}if(n==null)return null;const r=typeof n=="string"?{name:n}:n,s=r.name,o=mr.registry.get(s);return o==null?mr.registry.onNotFound(s):(mr.check(s,o),{name:s,highlighter:o,args:r.args||{}})}getHighlighterId(t,e){return ju(t),e.name+t.id+JSON.stringify(e.args)}unhighlight(t){const e=this.highlights[t];e&&(e.highlighter.unhighlight(e.cellView,e.magnet,e.args),delete this.highlights[t])}dispose(){Object.keys(this.highlights).forEach(t=>this.unhighlight(t)),this.stopListening()}}s9([ou.dispose()],ou.prototype,"dispose",null);var o9=globalThis&&globalThis.__decorate||function(i,t,e,n){var r=arguments.length,s=r<3?t:n===null?n=Object.getOwnPropertyDescriptor(t,e):n,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")s=Reflect.decorate(i,t,e,n);else for(var a=i.length-1;a>=0;a--)(o=i[a])&&(s=(r<3?o(s):r>3?o(t,e,s):o(t,e))||s);return r>3&&s&&Object.defineProperty(t,e,s),s};class au extends Ee{constructor(){super(...arguments),this.widgets=new Map}get container(){return this.graph.view.container}get viewport(){return this.graph.view.viewport}get isSelectionEnabled(){return this.options.selecting.enabled===!0}init(){this.startListening(),this.resize()}startListening(){this.graph.on("node:mouseup",this.onNodeMouseUp,this),this.graph.on("node:selected",this.onNodeSelected,this),this.graph.on("node:unselected",this.onNodeUnSelected,this)}stopListening(){this.graph.off("node:mouseup",this.onNodeMouseUp,this),this.graph.off("node:selected",this.onNodeSelected,this),this.graph.off("node:unselected",this.onNodeUnSelected,this)}onNodeMouseUp({node:t}){if(!this.isSelectionEnabled){const e=this.graph.hook.createTransform(t,{clearAll:!0});e&&this.widgets.set(t,e)}}onNodeSelected({node:t}){if(this.isSelectionEnabled){const e=this.graph.hook.createTransform(t,{clearAll:!1});e&&this.widgets.set(t,e)}}onNodeUnSelected({node:t}){if(this.isSelectionEnabled){const e=this.widgets.get(t);e&&e.dispose(),this.widgets.delete(t)}}getMatrix(){const t=this.viewport.getAttribute("transform");return t!==this.viewportTransformString&&(this.viewportMatrix=this.viewport.getCTM(),this.viewportTransformString=t),yn(this.viewportMatrix)}setMatrix(t){const e=yn(t),n=lo(e);this.viewport.setAttribute("transform",n),this.viewportMatrix=e,this.viewportTransformString=n}resize(t,e){let n=t===void 0?this.options.width:t,r=e===void 0?this.options.height:e;this.options.width=n,this.options.height=r,typeof n=="number"&&(n=Math.round(n)),typeof r=="number"&&(r=Math.round(r)),this.container.style.width=n==null?"":`${n}px`,this.container.style.height=r==null?"":`${r}px`;const s=this.getComputedSize();return this.graph.trigger("resize",Object.assign({},s)),this}getComputedSize(){let t=this.options.width,e=this.options.height;return O0(t)||(t=this.container.clientWidth),O0(e)||(e=this.container.clientHeight),{width:t,height:e}}getScale(){return qN(this.getMatrix())}scale(t,e=t,n=0,r=0,s={}){if(t=this.clampScale(t),e=this.clampScale(e),n||r){const a=this.getTranslation(),l=a.tx-n*(t-1),c=a.ty-r*(e-1);(l!==a.tx||c!==a.ty)&&this.translate(l,c)}const o=this.getMatrix();return o.a=t,o.d=e,this.setMatrix(o),this.graph.trigger("scale",Object.assign({sx:t,sy:e,ox:n,oy:r},s)),this}clampScale(t){const e=this.graph.options.scaling;return In(t,e.min||.01,e.max||16)}getZoom(){return this.getScale().sx}zoom(t,e){e=e||{};let n=t,r=t;const s=this.getScale(),o=this.getComputedSize();let a=o.width/2,l=o.height/2;if(e.absolute||(n+=s.sx,r+=s.sy),e.scaleGrid&&(n=Math.round(n/e.scaleGrid)*e.scaleGrid,r=Math.round(r/e.scaleGrid)*e.scaleGrid),e.maxScale&&(n=Math.min(e.maxScale,n),r=Math.min(e.maxScale,r)),e.minScale&&(n=Math.max(e.minScale,n),r=Math.max(e.minScale,r)),e.center&&(a=e.center.x,l=e.center.y),n=this.clampScale(n),r=this.clampScale(r),a||l){const c=this.getTranslation(),u=a-(a-c.tx)*(n/s.sx),h=l-(l-c.ty)*(r/s.sy);(u!==c.tx||h!==c.ty)&&this.translate(u,h,{ui:e.ui})}return this.scale(n,r,0,0,{ui:e.ui}),this}getRotation(){return UN(this.getMatrix())}rotate(t,e,n){if(e==null||n==null){const s=vn(this.graph.view.stage);e=s.width/2,n=s.height/2}const r=this.getMatrix().translate(e,n).rotate(t).translate(-e,-n);return this.setMatrix(r),this}getTranslation(){return WN(this.getMatrix())}translate(t,e,n={}){const r=this.getMatrix();r.e=t||0,r.f=e||0,this.setMatrix(r);const s=this.getTranslation();return this.options.x=s.tx,this.options.y=s.ty,this.graph.trigger("translate",Object.assign(Object.assign({},s),n)),this}setOrigin(t,e){return this.translate(t||0,e||0)}fitToContent(t,e,n,r){if(typeof t=="object"){const S=t;t=S.gridWidth||1,e=S.gridHeight||1,n=S.padding||0,r=S}else t=t||1,e=e||1,n=n||0,r==null&&(r={});const s=Kn(n),o=r.border||0,a=r.contentArea?ht.create(r.contentArea):this.getContentArea(r);o>0&&a.inflate(o);const l=this.getScale(),c=this.getTranslation(),u=l.sx,h=l.sy;a.x*=u,a.y*=h,a.width*=u,a.height*=h;let f=Math.max(Math.ceil((a.width+a.x)/t),1)*t,p=Math.max(Math.ceil((a.height+a.y)/e),1)*e,b=0,v=0;(r.allowNewOrigin==="negative"&&a.x<0||r.allowNewOrigin==="positive"&&a.x>=0||r.allowNewOrigin==="any")&&(b=Math.ceil(-a.x/t)*t,b+=s.left,f+=b),(r.allowNewOrigin==="negative"&&a.y<0||r.allowNewOrigin==="positive"&&a.y>=0||r.allowNewOrigin==="any")&&(v=Math.ceil(-a.y/e)*e,v+=s.top,p+=v),f+=s.right,p+=s.bottom,f=Math.max(f,r.minWidth||0),p=Math.max(p,r.minHeight||0),f=Math.min(f,r.maxWidth||Number.MAX_SAFE_INTEGER),p=Math.min(p,r.maxHeight||Number.MAX_SAFE_INTEGER);const w=this.getComputedSize(),x=f!==w.width||p!==w.height;return(b!==c.tx||v!==c.ty)&&this.translate(b,v),x&&this.resize(f,p),new ht(-b/u,-v/h,f/u,p/h)}scaleContentToFit(t={}){this.scaleContentToFitImpl(t)}scaleContentToFitImpl(t={},e=!0){let n,r;if(t.contentArea){const x=t.contentArea;n=this.graph.localToGraph(x),r=N.create(x)}else n=this.getContentBBox(t),r=this.graph.graphToLocal(n);if(!n.width||!n.height)return;const s=Kn(t.padding),o=t.minScale||0,a=t.maxScale||Number.MAX_SAFE_INTEGER,l=t.minScaleX||o,c=t.maxScaleX||a,u=t.minScaleY||o,h=t.maxScaleY||a;let f;if(t.viewportArea)f=t.viewportArea;else{const x=this.getComputedSize(),E=this.getTranslation();f={x:E.tx,y:E.ty,width:x.width,height:x.height}}f=ht.create(f).moveAndExpand({x:s.left,y:s.top,width:-s.left-s.right,height:-s.top-s.bottom});const p=this.getScale();let b=f.width/n.width*p.sx,v=f.height/n.height*p.sy;t.preserveAspectRatio!==!1&&(b=v=Math.min(b,v));const w=t.scaleGrid;if(w&&(b=w*Math.floor(b/w),v=w*Math.floor(v/w)),b=In(b,l,c),v=In(v,u,h),this.scale(b,v),e){const x=this.options,E=f.x-r.x*b-x.x,S=f.y-r.y*v-x.y;this.translate(E,S)}}getContentArea(t={}){return t.useCellGeometry?this.model.getAllCellsBBox()||new ht:vn(this.graph.view.stage)}getContentBBox(t={}){return this.graph.localToGraph(this.getContentArea(t))}getGraphArea(){const t=ht.fromSize(this.getComputedSize());return this.graph.graphToLocal(t)}zoomToRect(t,e={}){const n=ht.create(t),r=this.graph;e.contentArea=n,e.viewportArea==null&&(e.viewportArea={x:r.options.x,y:r.options.y,width:this.options.width,height:this.options.height}),this.scaleContentToFitImpl(e,!1);const s=n.getCenter();return this.centerPoint(s.x,s.y),this}zoomToFit(t={}){return this.zoomToRect(this.getContentArea(t),t)}centerPoint(t,e){const n=this.getComputedSize(),r=this.getScale(),s=this.getTranslation(),o=n.width/2,a=n.height/2;t=typeof t=="number"?t:o,e=typeof e=="number"?e:a,t=o-t*r.sx,e=a-e*r.sy,(s.tx!==t||s.ty!==e)&&this.translate(t,e)}centerContent(t){const n=this.graph.getContentArea(t).getCenter();this.centerPoint(n.x,n.y)}centerCell(t){return this.positionCell(t,"center")}positionPoint(t,e,n){const r=this.getComputedSize();e=tr(e,Math.max(0,r.width)),e<0&&(e=r.width+e),n=tr(n,Math.max(0,r.height)),n<0&&(n=r.height+n);const s=this.getTranslation(),o=this.getScale(),a=e-t.x*o.sx,l=n-t.y*o.sy;(s.tx!==a||s.ty!==l)&&this.translate(a,l)}positionRect(t,e){const n=ht.create(t);switch(e){case"center":return this.positionPoint(n.getCenter(),"50%","50%");case"top":return this.positionPoint(n.getTopCenter(),"50%",0);case"top-right":return this.positionPoint(n.getTopRight(),"100%",0);case"right":return this.positionPoint(n.getRightMiddle(),"100%","50%");case"bottom-right":return this.positionPoint(n.getBottomRight(),"100%","100%");case"bottom":return this.positionPoint(n.getBottomCenter(),"50%","100%");case"bottom-left":return this.positionPoint(n.getBottomLeft(),0,"100%");case"left":return this.positionPoint(n.getLeftMiddle(),0,"50%");case"top-left":return this.positionPoint(n.getTopLeft(),0,0);default:return this}}positionCell(t,e){const n=t.getBBox();return this.positionRect(n,e)}positionContent(t,e){const n=this.graph.getContentArea(e);return this.positionRect(n,t)}dispose(){this.widgets.forEach(t=>t.dispose()),this.widgets.clear(),this.stopListening()}}o9([au.dispose()],au.prototype,"dispose",null);var a9=globalThis&&globalThis.__decorate||function(i,t,e,n){var r=arguments.length,s=r<3?t:n===null?n=Object.getOwnPropertyDescriptor(t,e):n,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")s=Reflect.decorate(i,t,e,n);else for(var a=i.length-1;a>=0;a--)(o=i[a])&&(s=(r<3?o(s):r>3?o(t,e,s):o(t,e))||s);return r>3&&s&&Object.defineProperty(t,e,s),s};class Cp extends Ee{constructor(){super(...arguments),this.movedMap=new WeakMap,this.unselectMap=new WeakMap}get widgetOptions(){return this.options.selecting}get rubberbandDisabled(){return this.widgetOptions.enabled!==!0||this.widgetOptions.rubberband!==!0}get disabled(){return this.widgetOptions.enabled!==!0}get length(){return this.widget.length}get cells(){return this.widget.cells}init(){this.widget=this.graph.hook.createSelection(),this.startListening()}startListening(){this.graph.on("blank:mousedown",this.onBlankMouseDown,this),this.graph.on("blank:click",this.onBlankClick,this),this.graph.on("cell:mousemove",this.onCellMouseMove,this),this.graph.on("cell:mouseup",this.onCellMouseUp,this),this.widget.on("box:mousedown",this.onBoxMouseDown,this)}stopListening(){this.graph.off("blank:mousedown",this.onBlankMouseDown,this),this.graph.off("blank:click",this.onBlankClick,this),this.graph.off("cell:mousemove",this.onCellMouseMove,this),this.graph.off("cell:mouseup",this.onCellMouseUp,this),this.widget.off("box:mousedown",this.onBoxMouseDown,this)}onBlankMouseDown({e:t}){(this.allowRubberband(t,!0)||this.allowRubberband(t)&&!this.graph.scroller.allowPanning(t,!0)&&!this.graph.panning.allowPanning(t,!0))&&this.startRubberband(t)}onBlankClick(){this.clean()}allowRubberband(t,e){return!this.rubberbandDisabled&&Us.isMatch(t,this.widgetOptions.modifiers,e)&&this.graph.hook.allowRubberband(t)}onCellMouseMove({cell:t}){this.movedMap.set(t,!0)}onCellMouseUp({e:t,cell:e}){const n=this.widgetOptions;let r=this.disabled;!r&&this.movedMap.has(e)&&(r=n.selectCellOnMoved===!1,r||(r=n.selectNodeOnMoved===!1&&e.isNode()),r||(r=n.selectEdgeOnMoved===!1&&e.isEdge())),r||(n.multiple===!1||!t.ctrlKey&&!t.metaKey?this.reset(e):this.unselectMap.has(e)?this.unselectMap.delete(e):this.isSelected(e)?this.unselect(e):this.select(e)),this.movedMap.delete(e)}onBoxMouseDown({e:t,cell:e}){this.disabled||this.widgetOptions.multiple!==!1&&(t.ctrlKey||t.metaKey)&&(this.unselect(e),this.unselectMap.set(e,!0))}isEmpty(){return this.length<=0}isSelected(t){return this.widget.isSelected(t)}getCells(t){return(Array.isArray(t)?t:[t]).map(e=>typeof e=="string"?this.graph.getCellById(e):e).filter(e=>e!=null)}select(t,e={}){const n=this.getCells(t);return n.length&&(this.isMultiple()?this.widget.select(n,e):this.reset(n.slice(0,1),e)),this}unselect(t,e={}){return this.widget.unselect(this.getCells(t),e),this}reset(t,e={}){return this.widget.reset(t?this.getCells(t):[],e),this}clean(t={}){return this.widget.clean(t),this}enable(){return this.disabled&&(this.widgetOptions.enabled=!0),this}disable(){return this.disabled||(this.widgetOptions.enabled=!1),this}startRubberband(t){return this.rubberbandDisabled||this.widget.startSelecting(t),this}enableRubberband(){return this.rubberbandDisabled&&(this.widgetOptions.rubberband=!0),this}disableRubberband(){return this.rubberbandDisabled||(this.widgetOptions.rubberband=!1),this}isMultiple(){return this.widgetOptions.multiple!==!1}enableMultiple(){return this.widgetOptions.multiple=!0,this}disableMultiple(){return this.widgetOptions.multiple=!1,this}setModifiers(t){return this.widgetOptions.modifiers=t,this}setContent(t){return this.widget.setContent(t),this}setFilter(t){return this.widget.setFilter(t),this}dispose(){this.stopListening(),this.widget.dispose()}}a9([Ee.dispose()],Cp.prototype,"dispose",null);var S1=globalThis&&globalThis.__decorate||function(i,t,e,n){var r=arguments.length,s=r<3?t:n===null?n=Object.getOwnPropertyDescriptor(t,e):n,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")s=Reflect.decorate(i,t,e,n);else for(var a=i.length-1;a>=0;a--)(o=i[a])&&(s=(r<3?o(s):r>3?o(t,e,s):o(t,e))||s);return r>3&&s&&Object.defineProperty(t,e,s),s},l9=globalThis&&globalThis.__rest||function(i,t){var e={};for(var n in i)Object.prototype.hasOwnProperty.call(i,n)&&t.indexOf(n)<0&&(e[n]=i[n]);if(i!=null&&typeof Object.getOwnPropertySymbols=="function")for(var r=0,n=Object.getOwnPropertySymbols(i);r<n.length;r++)t.indexOf(n[r])<0&&Object.prototype.propertyIsEnumerable.call(i,n[r])&&(e[n[r]]=i[n[r]]);return e};class Ws extends Mn{constructor(t){super(),this.batchCommands=null,this.batchLevel=0,this.lastBatchIndex=-1,this.freezed=!1,this.handlers=[],this.graph=t.graph,this.model=t.graph.model,this.options=Ue.getOptions(t),this.validator=new Ws.Validator({history:this,cancelInvalid:this.options.cancelInvalid}),this.clean(),this.startListening()}get disabled(){return this.options.enabled!==!0}enable(){this.disabled&&(this.options.enabled=!0)}disable(){this.disabled||(this.options.enabled=!1)}undo(t={}){if(!this.disabled){const e=this.undoStack.pop();e&&(this.revertCommand(e,t),this.redoStack.push(e),this.notify("undo",e,t))}return this}redo(t={}){if(!this.disabled){const e=this.redoStack.pop();e&&(this.applyCommand(e,t),this.undoStack.push(e),this.notify("redo",e,t))}return this}cancel(t={}){if(!this.disabled){const e=this.undoStack.pop();e&&(this.revertCommand(e,t),this.redoStack=[],this.notify("cancel",e,t))}return this}clean(t={}){return this.undoStack=[],this.redoStack=[],this.notify("clean",null,t),this}canUndo(){return!this.disabled&&this.undoStack.length>0}canRedo(){return!this.disabled&&this.redoStack.length>0}validate(t,...e){return this.validator.validate(t,...e),this}dispose(){this.validator.dispose(),this.clean(),this.stopListening()}startListening(){this.model.on("batch:start",this.initBatchCommand,this),this.model.on("batch:stop",this.storeBatchCommand,this),this.options.eventNames&&this.options.eventNames.forEach((t,e)=>{this.handlers[e]=this.addCommand.bind(this,t),this.model.on(t,this.handlers[e])}),this.validator.on("invalid",t=>this.trigger("invalid",t))}stopListening(){this.model.off("batch:start",this.initBatchCommand,this),this.model.off("batch:stop",this.storeBatchCommand,this),this.options.eventNames&&(this.options.eventNames.forEach((t,e)=>{this.model.off(t,this.handlers[e])}),this.handlers.length=0),this.validator.off("invalid")}createCommand(t){return{batch:t?t.batch:!1,data:{}}}revertCommand(t,e){this.freezed=!0;const n=Array.isArray(t)?Ue.sortBatchCommands(t):[t];for(let r=n.length-1;r>=0;r-=1){const s=n[r],o=Object.assign(Object.assign({},e),T0(s.options,this.options.revertOptionsList||[]));this.executeCommand(s,!0,o)}this.freezed=!1}applyCommand(t,e){this.freezed=!0;const n=Array.isArray(t)?Ue.sortBatchCommands(t):[t];for(let r=0;r<n.length;r+=1){const s=n[r],o=Object.assign(Object.assign({},e),T0(s.options,this.options.applyOptionsList||[]));this.executeCommand(s,!1,o)}this.freezed=!1}executeCommand(t,e,n){const r=this.model,s=r.getCell(t.data.id),o=t.event;if(Ue.isAddEvent(o)&&e||Ue.isRemoveEvent(o)&&!e)s.remove(n);else if(Ue.isAddEvent(o)&&!e||Ue.isRemoveEvent(o)&&e){const a=t.data;a.node?r.addNode(a.props,n):a.edge&&r.addEdge(a.props,n)}else if(Ue.isChangeEvent(o)){const a=t.data,l=a.key;if(l){const c=e?a.prev[l]:a.next[l];s.prop(l,c,n)}}else{const a=this.options.executeCommand;a&&xt(a,this,t,e,n)}}addCommand(t,e){if(this.freezed||this.disabled)return;const n=e,r=n.options||{};if(r.dryrun||Ue.isAddEvent(t)&&this.options.ignoreAdd||Ue.isRemoveEvent(t)&&this.options.ignoreRemove||Ue.isChangeEvent(t)&&this.options.ignoreChange)return;const s=this.options.beforeAddCommand;if(s!=null&&xt(s,this,t,e)===!1)return;t==="cell:change:*"&&(t=`cell:change:${n.key}`);const o=n.cell,a=Cn.isModel(o);let l;if(this.batchCommands){l=this.batchCommands[Math.max(this.lastBatchIndex,0)];const u=a&&!l.modelChange||l.data.id!==o.id,h=l.event!==t;if(this.lastBatchIndex>=0&&(u||h)){const f=this.batchCommands.findIndex(p=>(a&&p.modelChange||p.data.id===o.id)&&p.event===t);f<0||Ue.isAddEvent(t)||Ue.isRemoveEvent(t)?l=this.createCommand({batch:!0}):(l=this.batchCommands[f],this.batchCommands.splice(f,1)),this.batchCommands.push(l),this.lastBatchIndex=this.batchCommands.length-1}}else l=this.createCommand({batch:!1});if(Ue.isAddEvent(t)||Ue.isRemoveEvent(t)){const u=l.data;return l.event=t,l.options=r,u.id=o.id,u.props=Xe(o.toJSON()),o.isEdge()?u.edge=!0:o.isNode()&&(u.node=!0),this.push(l,r)}if(Ue.isChangeEvent(t)){const u=e.key,h=l.data;return(!l.batch||!l.event)&&(l.event=t,l.options=r,h.key=u,h.prev==null&&(h.prev={}),h.prev[u]=Vs(o.previous(u)),a?l.modelChange=!0:h.id=o.id),h.next==null&&(h.next={}),h.next[u]=Vs(o.prop(u)),this.push(l,r)}const c=this.options.afterAddCommand;c&&xt(c,this,t,e,l),this.push(l,r)}initBatchCommand(t){this.freezed||(this.batchCommands?this.batchLevel+=1:(this.batchCommands=[this.createCommand({batch:!0})],this.batchLevel=0,this.lastBatchIndex=-1))}storeBatchCommand(t){if(!this.freezed)if(this.batchCommands&&this.batchLevel<=0){const e=this.filterBatchCommand(this.batchCommands);e.length>0&&(this.redoStack=[],this.undoStack.push(e),this.notify("add",e,t)),this.batchCommands=null,this.lastBatchIndex=-1,this.batchLevel=0}else this.batchCommands&&this.batchLevel>0&&(this.batchLevel-=1)}filterBatchCommand(t){let e=t.slice();const n=[];for(;e.length>0;){const r=e.shift(),s=r.event,o=r.data.id;if(s!=null&&(o!=null||r.modelChange)){if(Ue.isAddEvent(s)){const a=e.findIndex(l=>Ue.isRemoveEvent(l.event)&&l.data.id===o);if(a>=0){e=e.filter((l,c)=>a<c||l.data.id!==o);continue}}else if(Ue.isRemoveEvent(s)){const a=e.findIndex(l=>Ue.isAddEvent(l.event)&&l.data.id===o);if(a>=0){e.splice(a,1);continue}}else if(Ue.isChangeEvent(s)){const a=r.data;if(Ii(a.prev,a.next))continue}n.push(r)}}return n}notify(t,e,n){const r=e==null?null:Array.isArray(e)?e:[e];this.emit(t,{cmds:r,options:n}),this.emit("change",{cmds:r,options:n})}push(t,e){this.redoStack=[],t.batch?(this.lastBatchIndex=Math.max(this.lastBatchIndex,0),this.emit("batch",{cmd:t,options:e})):(this.undoStack.push(t),this.notify("add",t,e))}}S1([Mn.dispose()],Ws.prototype,"dispose",null);(function(i){class t extends Mn{constructor(n){super(),this.map={},this.command=n.history,this.cancelInvalid=n.cancelInvalid!==!1,this.command.on("add",this.onCommandAdded,this)}onCommandAdded({cmds:n}){return Array.isArray(n)?n.every(r=>this.isValidCommand(r)):this.isValidCommand(n)}isValidCommand(n){if(n.options&&n.options.validation===!1)return!0;const r=n.event&&this.map[n.event]||[];let s=null;return r.forEach(o=>{let a=0;const l=c=>{const u=o[a];a+=1;try{if(u)u(c,n,l);else{s=c;return}}catch(h){l(h)}};l(s)}),s?(this.cancelInvalid&&this.command.cancel(),this.emit("invalid",{err:s}),!1):!0}validate(n,...r){const s=Array.isArray(n)?n:n.split(/\s+/);return r.forEach(o=>{if(typeof o!="function")throw new Error(`${s.join(" ")} requires callback functions.`)}),s.forEach(o=>{this.map[o]==null&&(this.map[o]=[]),this.map[o].push(r)}),this}dispose(){this.command.off("add",this.onCommandAdded,this)}}S1([Mn.dispose()],t.prototype,"dispose",null),i.Validator=t})(Ws||(Ws={}));var Ue;(function(i){function t(o){return o==="cell:added"}i.isAddEvent=t;function e(o){return o==="cell:removed"}i.isRemoveEvent=e;function n(o){return o!=null&&o.startsWith("cell:change:")}i.isChangeEvent=n;function r(o){const a=l9(o,["graph"]),l=["cell:added","cell:removed","cell:change:*"],c=["batch:start","batch:stop"],u=o.eventNames?o.eventNames.filter(h=>!(i.isChangeEvent(h)||l.includes(h)||c.includes(h))):l;return Object.assign(Object.assign({},a),{eventNames:u,applyOptionsList:o.applyOptionsList||["propertyPath"],revertOptionsList:o.revertOptionsList||["propertyPath"]})}i.getOptions=r;function s(o){const a=[];for(let l=0,c=o.length;l<c;l+=1){const u=o[l];let h=null;if(i.isAddEvent(u.event)){const f=u.data.id;for(let p=0;p<l;p+=1)if(o[p].data.id===f){h=p;break}}h!==null?a.splice(h,0,u):a.push(u)}return a}i.sortBatchCommands=s})(Ue||(Ue={}));var c9=globalThis&&globalThis.__decorate||function(i,t,e,n){var r=arguments.length,s=r<3?t:n===null?n=Object.getOwnPropertyDescriptor(t,e):n,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")s=Reflect.decorate(i,t,e,n);else for(var a=i.length-1;a>=0;a--)(o=i[a])&&(s=(r<3?o(s):r>3?o(t,e,s):o(t,e))||s);return r>3&&s&&Object.defineProperty(t,e,s),s};class Ep extends Ee{get widgetOptions(){return this.options.minimap}init(){this.widget=this.graph.hook.createMiniMap()}dispose(){this.widget&&this.widget.dispose()}}c9([Ee.dispose()],Ep.prototype,"dispose",null);var A1={exports:{}};(function(i){(function(t,e,n){if(!t)return;for(var r={8:"backspace",9:"tab",13:"enter",16:"shift",17:"ctrl",18:"alt",20:"capslock",27:"esc",32:"space",33:"pageup",34:"pagedown",35:"end",36:"home",37:"left",38:"up",39:"right",40:"down",45:"ins",46:"del",91:"meta",93:"meta",224:"meta"},s={106:"*",107:"+",109:"-",110:".",111:"/",186:";",187:"=",188:",",189:"-",190:".",191:"/",192:"`",219:"[",220:"\\",221:"]",222:"'"},o={"~":"`","!":"1","@":"2","#":"3",$:"4","%":"5","^":"6","&":"7","*":"8","(":"9",")":"0",_:"-","+":"=",":":";",'"':"'","<":",",">":".","?":"/","|":"\\"},a={option:"alt",command:"meta",return:"enter",escape:"esc",plus:"+",mod:/Mac|iPod|iPhone|iPad/.test(navigator.platform)?"meta":"ctrl"},l,c=1;c<20;++c)r[111+c]="f"+c;for(c=0;c<=9;++c)r[c+96]=c.toString();function u(T,D,z){if(T.addEventListener){T.addEventListener(D,z,!1);return}T.attachEvent("on"+D,z)}function h(T){if(T.type=="keypress"){var D=String.fromCharCode(T.which);return T.shiftKey||(D=D.toLowerCase()),D}return r[T.which]?r[T.which]:s[T.which]?s[T.which]:String.fromCharCode(T.which).toLowerCase()}function f(T,D){return T.sort().join(",")===D.sort().join(",")}function p(T){var D=[];return T.shiftKey&&D.push("shift"),T.altKey&&D.push("alt"),T.ctrlKey&&D.push("ctrl"),T.metaKey&&D.push("meta"),D}function b(T){if(T.preventDefault){T.preventDefault();return}T.returnValue=!1}function v(T){if(T.stopPropagation){T.stopPropagation();return}T.cancelBubble=!0}function w(T){return T=="shift"||T=="ctrl"||T=="alt"||T=="meta"}function x(){if(!l){l={};for(var T in r)T>95&&T<112||r.hasOwnProperty(T)&&(l[r[T]]=T)}return l}function E(T,D,z){return z||(z=x()[T]?"keydown":"keypress"),z=="keypress"&&D.length&&(z="keydown"),z}function S(T){return T==="+"?["+"]:(T=T.replace(/\+{2}/g,"+plus"),T.split("+"))}function O(T,D){var z,H,q,R=[];for(z=S(T),q=0;q<z.length;++q)H=z[q],a[H]&&(H=a[H]),D&&D!="keypress"&&o[H]&&(H=o[H],R.push("shift")),w(H)&&R.push(H);return D=E(H,R,D),{key:H,modifiers:R,action:D}}function k(T,D){return T===null||T===e?!1:T===D?!0:k(T.parentNode,D)}function m(T){var D=this;if(T=T||e,!(D instanceof m))return new m(T);D.target=T,D._callbacks={},D._directMap={};var z={},H,q=!1,R=!1,rt=!1;function st(pt){pt=pt||{};var $t=!1,Dt;for(Dt in z){if(pt[Dt]){$t=!0;continue}z[Dt]=0}$t||(rt=!1)}function j(pt,$t,Dt,_t,zt,de){var at,Tt,Ut=[],te=Dt.type;if(!D._callbacks[pt])return[];for(te=="keyup"&&w(pt)&&($t=[pt]),at=0;at<D._callbacks[pt].length;++at)if(Tt=D._callbacks[pt][at],!(!_t&&Tt.seq&&z[Tt.seq]!=Tt.level)&&te==Tt.action&&(te=="keypress"&&!Dt.metaKey&&!Dt.ctrlKey||f($t,Tt.modifiers))){var pn=!_t&&Tt.combo==zt,$n=_t&&Tt.seq==_t&&Tt.level==de;(pn||$n)&&D._callbacks[pt].splice(at,1),Ut.push(Tt)}return Ut}function B(pt,$t,Dt,_t){D.stopCallback($t,$t.target||$t.srcElement,Dt,_t)||pt($t,Dt)===!1&&(b($t),v($t))}D._handleKey=function(pt,$t,Dt){var _t=j(pt,$t,Dt),zt,de={},at=0,Tt=!1;for(zt=0;zt<_t.length;++zt)_t[zt].seq&&(at=Math.max(at,_t[zt].level));for(zt=0;zt<_t.length;++zt){if(_t[zt].seq){if(_t[zt].level!=at)continue;Tt=!0,de[_t[zt].seq]=1,B(_t[zt].callback,Dt,_t[zt].combo,_t[zt].seq);continue}Tt||B(_t[zt].callback,Dt,_t[zt].combo)}var Ut=Dt.type=="keypress"&&R;Dt.type==rt&&!w(pt)&&!Ut&&st(de),R=Tt&&Dt.type=="keydown"};function tt(pt){typeof pt.which!="number"&&(pt.which=pt.keyCode);var $t=h(pt);if(!!$t){if(pt.type=="keyup"&&q===$t){q=!1;return}D.handleKey($t,p(pt),pt)}}function bt(){clearTimeout(H),H=setTimeout(st,1e3)}function Ot(pt,$t,Dt,_t){z[pt]=0;function zt(te){return function(){rt=te,++z[pt],bt()}}function de(te){B(Dt,te,pt),_t!=="keyup"&&(q=h(te)),setTimeout(st,10)}for(var at=0;at<$t.length;++at){var Tt=at+1===$t.length,Ut=Tt?de:zt(_t||O($t[at+1]).action);Gt($t[at],Ut,_t,pt,at)}}function Gt(pt,$t,Dt,_t,zt){D._directMap[pt+":"+Dt]=$t,pt=pt.replace(/\s+/g," ");var de=pt.split(" "),at;if(de.length>1){Ot(pt,de,$t,Dt);return}at=O(pt,Dt),D._callbacks[at.key]=D._callbacks[at.key]||[],j(at.key,at.modifiers,{type:at.action},_t,pt,zt),D._callbacks[at.key][_t?"unshift":"push"]({callback:$t,modifiers:at.modifiers,action:at.action,seq:_t,level:zt,combo:pt})}D._bindMultiple=function(pt,$t,Dt){for(var _t=0;_t<pt.length;++_t)Gt(pt[_t],$t,Dt)},u(T,"keypress",tt),u(T,"keydown",tt),u(T,"keyup",tt)}m.prototype.bind=function(T,D,z){var H=this;return T=T instanceof Array?T:[T],H._bindMultiple.call(H,T,D,z),H},m.prototype.unbind=function(T,D){var z=this;return z.bind.call(z,T,function(){},D)},m.prototype.trigger=function(T,D){var z=this;return z._directMap[T+":"+D]&&z._directMap[T+":"+D]({},T),z},m.prototype.reset=function(){var T=this;return T._callbacks={},T._directMap={},T},m.prototype.stopCallback=function(T,D){var z=this;if((" "+D.className+" ").indexOf(" mousetrap ")>-1||k(D,z.target))return!1;if("composedPath"in T&&typeof T.composedPath=="function"){var H=T.composedPath()[0];H!==T.target&&(D=H)}return D.tagName=="INPUT"||D.tagName=="SELECT"||D.tagName=="TEXTAREA"||D.isContentEditable},m.prototype.handleKey=function(){var T=this;return T._handleKey.apply(T,arguments)},m.addKeycodes=function(T){for(var D in T)T.hasOwnProperty(D)&&(r[D]=T[D]);l=null},m.init=function(){var T=m(e);for(var D in T)D.charAt(0)!=="_"&&(m[D]=function(z){return function(){return T[z].apply(T,arguments)}}(D))},m.init(),t.Mousetrap=m,i.exports&&(i.exports=m),typeof n=="function"&&n.amd&&n(function(){return m})})(typeof window!="undefined"?window:null,typeof window!="undefined"?document:null)})(A1);var u9=A1.exports,h9=globalThis&&globalThis.__decorate||function(i,t,e,n){var r=arguments.length,s=r<3?t:n===null?n=Object.getOwnPropertyDescriptor(t,e):n,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")s=Reflect.decorate(i,t,e,n);else for(var a=i.length-1;a>=0;a--)(o=i[a])&&(s=(r<3?o(s):r>3?o(t,e,s):o(t,e))||s);return r>3&&s&&Object.defineProperty(t,e,s),s};class Xs extends Bi{constructor(t){super(),this.options=t;const e=this.graph.scroller.widget;this.container=e?e.container:this.graph.container,t.global?this.target=document:(this.target=this.container,this.disabled||this.target.setAttribute("tabindex","-1"),this.graph.on("cell:mouseup",this.focus,this),this.graph.on("blank:mouseup",this.focus,this)),this.mousetrap=Xs.createMousetrap(this)}get graph(){return this.options.graph}get disabled(){return this.options.enabled!==!0}enable(){this.disabled&&(this.options.enabled=!0,this.graph.options.keyboard.enabled=!0,this.target instanceof HTMLElement&&this.target.setAttribute("tabindex","-1"))}disable(){this.disabled||(this.options.enabled=!1,this.graph.options.keyboard.enabled=!1,this.target instanceof HTMLElement&&this.target.removeAttribute("tabindex"))}on(t,e,n){this.mousetrap.bind(this.getKeys(t),e,n)}off(t,e){this.mousetrap.unbind(this.getKeys(t),e)}focus(t){if(this.isInputEvent(t.e))return;this.target.focus({preventScroll:!0})}getKeys(t){return(Array.isArray(t)?t:[t]).map(e=>this.formatkey(e))}formatkey(t){const e=t.toLowerCase().replace(/\s/g,"").replace("delete","del").replace("cmd","command"),n=this.options.format;return n?xt(n,this.graph,e):e}isGraphEvent(t){const e=t.srcElement||t.target;return e?e===this.target||e===document.body?!0:ap(this.container,e):!1}isInputEvent(t){const e=t.target;return(e&&e.tagName.toLowerCase())==="input"}isEnabledForEvent(t){const e=!this.disabled&&this.isGraphEvent(t),n=this.isInputEvent(t);if(e){const r=t.keyCode||t.which;if(n&&(r===8||r===46))return!1;if(this.options.guard)return xt(this.options.guard,this.graph,t)}return e}dispose(){this.mousetrap.reset()}}h9([Bi.dispose()],Xs.prototype,"dispose",null);(function(i){function t(e){const n=new u9(e.target),r=n.stopCallback;return n.stopCallback=(s,o,a)=>e.isEnabledForEvent(s)?r?r.call(n,s,o,a):!1:!0,n}i.createMousetrap=t})(Xs||(Xs={}));var d9=globalThis&&globalThis.__decorate||function(i,t,e,n){var r=arguments.length,s=r<3?t:n===null?n=Object.getOwnPropertyDescriptor(t,e):n,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")s=Reflect.decorate(i,t,e,n);else for(var a=i.length-1;a>=0;a--)(o=i[a])&&(s=(r<3?o(s):r>3?o(t,e,s):o(t,e))||s);return r>3&&s&&Object.defineProperty(t,e,s),s};class Sp extends Bi{constructor(t){super(),this.options=t,this.cumulatedFactor=1;const e=this.graph.scroller.widget;this.container=e?e.container:this.graph.container,this.target=this.options.global?document:this.container,this.mousewheelHandle=new Ay(this.target,this.onMouseWheel.bind(this),this.allowMouseWheel.bind(this)),this.options.enabled&&this.enable(!0)}get graph(){return this.options.graph}get disabled(){return this.options.enabled!==!0}enable(t){(this.disabled||t)&&(this.options.enabled=!0,this.graph.options.mousewheel.enabled=!0,this.mousewheelHandle.enable())}disable(){this.disabled||(this.options.enabled=!1,this.graph.options.mousewheel.enabled=!1,this.mousewheelHandle.disable())}allowMouseWheel(t){const e=t.originalEvent||t,n=this.options.guard;return(n==null||n.call(this.graph,e))&&Us.isMatch(e,this.options.modifiers)}onMouseWheel(t){const e=t.originalEvent||t,n=this.options.guard;if((n==null||n.call(this.graph,e))&&Us.isMatch(e,this.options.modifiers)){const r=this.options.factor||1.2;this.currentScale==null&&(this.startPos={x:t.clientX,y:t.clientY},this.currentScale=this.graph.scroller.widget?this.graph.scroller.widget.zoom():this.graph.transform.getScale().sx),t.deltaY<0?this.currentScale<.15?this.cumulatedFactor=(this.currentScale+.01)/this.currentScale:this.cumulatedFactor=Math.round(this.currentScale*r*20)/20/this.currentScale:this.currentScale<=.15?this.cumulatedFactor=(this.currentScale-.01)/this.currentScale:this.cumulatedFactor=Math.round(this.currentScale*(1/r)*20)/20/this.currentScale,this.cumulatedFactor=Math.max(.01,Math.min(this.currentScale*this.cumulatedFactor,160)/this.currentScale);const o=this.graph.scroller.widget,a=this.currentScale;let l=this.graph.transform.clampScale(a*this.cumulatedFactor);const c=this.options.minScale||Number.MIN_SAFE_INTEGER,u=this.options.maxScale||Number.MAX_SAFE_INTEGER;if(l=In(l,c,u),l!==a)if(o)if(this.options.zoomAtMousePosition){const h=this.graph.coord.clientToLocalPoint(this.startPos);o.zoom(l,{absolute:!0,center:h.clone()})}else o.zoom(l,{absolute:!0});else if(this.options.zoomAtMousePosition){const h=this.graph.coord.clientToGraphPoint(this.startPos);this.graph.transform.zoom(l,{absolute:!0,center:h.clone(),ui:!0})}else this.graph.transform.zoom(l,{absolute:!0,ui:!0});this.currentScale=null,this.cumulatedFactor=1}}dispose(){this.disable()}}d9([Bi.dispose()],Sp.prototype,"dispose",null);var f9=globalThis&&globalThis.__decorate||function(i,t,e,n){var r=arguments.length,s=r<3?t:n===null?n=Object.getOwnPropertyDescriptor(t,e):n,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")s=Reflect.decorate(i,t,e,n);else for(var a=i.length-1;a>=0;a--)(o=i[a])&&(s=(r<3?o(s):r>3?o(t,e,s):o(t,e))||s);return r>3&&s&&Object.defineProperty(t,e,s),s};class Ys extends Ee{show(t={}){const e=Object.assign(Object.assign({},Ys.defaultOptions),t),n=this.createPrintPages(e);e.ready(n,r=>this.showPrintWindow(r,e),{sheetSize:this.getSheetSize(e)})}get className(){return this.view.prefixClassName("graph-print")}showPrintWindow(t,e){if(t){const n=Ke(document.body),r=Ke(this.view.container),s=this.view.prefixClassName("graph-printing");n.addClass(s);const o=r.children().detach();t.forEach(c=>{c.removeClass(`${this.className}-preview`).addClass(`${this.className}-ready`).appendTo(n)});let a=!1;const l=()=>{a||(a=!0,n.removeClass(s),t.forEach(c=>c.remove()),r.append(o),Ke(`#${this.styleSheetId}`).remove(),this.graph.trigger("after:print",e),Ke(window).off("afterprint",l))};Ke(window).one("afterprint",l),setTimeout(l,200),window.print()}}createPrintPage(t,e){this.graph.trigger("before:print",e);const n=Ke("<div/>").addClass(this.className),r=Ke("<div/>").addClass(this.view.prefixClassName("graph-print-inner")).css("position","relative");e.size&&n.addClass(`${this.className}-size-${e.size}`);const s=Et.create(this.view.svg).clone(),o=s.findOne(`.${this.view.prefixClassName("graph-svg-stage")}`);r.append(s.node);const a=this.getSheetSize(e),l=this.graph.transform.getGraphArea(),c=this.graph.transform.getScale(),u=this.graph.translate(),h=yn().translate(u.tx/c.sx,u.ty/c.sy),f=this.getPageInfo(l,t,a),p=f.scale,b=f.bbox;return r.css({left:0,top:0}),s.attr({width:b.width*p,height:b.height*p,style:"position:relative",viewBox:[b.x,b.y,b.width,b.height].join(" ")}),o.attr("transform",lo(h)),n.append(r),n.addClass(`${this.className}-preview`),{$page:n,sheetSize:a}}createPrintPages(t){let e;const n=this.getPrintArea(t),r=[];if(t.page){const s=this.getPageSize(n,t.page);this.getPageAreas(n,s).forEach(a=>{e=this.createPrintPage(a,t),r.push(e.$page)})}else e=this.createPrintPage(n,t),r.push(e.$page);if(e){const s={width:e.sheetSize.cssWidth,height:e.sheetSize.cssHeight};this.updatePrintStyle(s,t)}return r}get styleSheetId(){return this.view.prefixClassName("graph-print-style")}updatePrintStyle(t,e){const n=Object.keys(t).reduce((u,h)=>`${u} ${h}:${t[h]};`,""),r=Kn(e.margin),s=e.marginUnit||"",o=e.sheetUnit||"",a=`
      @media print {
        .${this.className}.${this.className}-ready {
          ${n}
        }

        @page {
          margin:
          ${[r.top+s,r.right+s,r.bottom+s,r.left+s].join(" ")};
          size: ${e.sheet.width+o} ${e.sheet.height+o};

        .${this.className}.${this.className}-preview {
          ${n}
        }
      }`,l=this.styleSheetId,c=Ke(`#${l}`);c.length?c.html(a):Ke("head").append(`'<style type="text/css" id="${l}">${a}</style>'`)}getPrintArea(t){let e=t.area;if(!e){const n=Kn(t.padding);e=this.graph.getContentArea().moveAndExpand({x:-n.left,y:-n.top,width:n.left+n.right,height:n.top+n.bottom})}return e}getPageSize(t,e){if(typeof e=="object"){const n=e,r={width:n.width,height:n.height};return r.width==null&&(r.width=Math.ceil(t.width/(n.columns||1))),r.height==null&&(r.height=Math.ceil(t.height/(n.rows||1))),r}return{width:t.width,height:t.height}}getPageAreas(t,e){const n=[],r=e.width,s=e.height;for(let o=0,a=0;o<t.height&&a<200;o+=s,a+=1)for(let l=0,c=0;l<t.width&&c<200;l+=r,c+=1)n.push(new ht(t.x+l,t.y+o,r,s));return n}getSheetSize(t){const e=t.sheet,n=Kn(t.margin),r=t.marginUnit||"",s=t.sheetUnit||"",o=`calc(${e.width}${s} - ${n.left+n.right}${r})`,a=`calc(${e.height}${s} - ${n.top+n.bottom}${r})`,l=Ld.measure(o,a);return{cssWidth:o,cssHeight:a,width:l.width,height:l.height}}getPageInfo(t,e,n){const r=new ht(e.x-t.x,e.y-t.y,e.width,e.height),s=r.width/r.height,o=n.width/n.height;return{bbox:r,scale:o<s?n.width/r.width:n.height/r.height,fitHorizontal:o<s}}dispose(){}}f9([Ee.dispose()],Ys.prototype,"dispose",null);(function(i){i.defaultOptions={page:!1,sheet:{width:210,height:297},sheetUnit:"mm",margin:.4,marginUnit:"in",padding:5,ready:(t,e)=>e(t)}})(Ys||(Ys={}));class M1 extends Ee{toSVG(t,e={}){this.graph.trigger("before:export",e);const n=this.view.svg,r=Et.create(n).clone();let s=r.node;const o=r.findOne(`.${this.view.prefixClassName("graph-svg-stage")}`),a=e.viewBox||this.graph.graphToLocal(this.graph.getContentBBox()),l=e.preserveDimensions;if(l){const h=typeof l=="boolean"?a:l;r.attr({width:h.width,height:h.height})}if(r.removeAttribute("style").attr("viewBox",[a.x,a.y,a.width,a.height].join(" ")),o.removeAttribute("transform"),e.copyStyles!==!1){const h=n.ownerDocument,f=Array.from(n.querySelectorAll("*")),p=Array.from(s.querySelectorAll("*")),b=h.styleSheets.length,v=[];for(let E=b-1;E>=0;E-=1)v[E]=h.styleSheets[E],h.styleSheets[E].disabled=!0;const w={};f.forEach((E,S)=>{const O=window.getComputedStyle(E,null),k={};Object.keys(O).forEach(m=>{k[m]=O.getPropertyValue(m)}),w[S]=k}),b!==h.styleSheets.length&&v.forEach((E,S)=>{h.styleSheets[S]=E});for(let E=0;E<b;E+=1)h.styleSheets[E].disabled=!1;const x={};f.forEach((E,S)=>{const O=window.getComputedStyle(E,null),k=w[S],m={};Object.keys(O).forEach(T=>{!tN(T)&&O.getPropertyValue(T)!==k[T]&&(m[T]=O.getPropertyValue(T))}),x[S]=m}),p.forEach((E,S)=>{Ke(E).css(x[S])})}const c=e.stylesheet;if(typeof c=="string"){const h=n.ownerDocument.implementation.createDocument(null,"xml",null).createCDATASection(c);r.prepend(Et.create("style",{type:"text/css"},[h]))}const u=()=>{const h=e.beforeSerialize;if(typeof h=="function"){const p=xt(h,this.graph,s);p instanceof SVGSVGElement&&(s=p)}const f=new XMLSerializer().serializeToString(s).replace(/&nbsp;/g,"\xA0");this.graph.trigger("after:export",e),t(f)};if(e.serializeImages){const h=r.find("image").map(f=>new Promise(p=>{const b=f.attr("xlink:href")||f.attr("href");Fd.imageToDataUri(b,(v,w)=>{!v&&w&&f.attr("xlink:href",w),p()})}));Promise.all(h).then(u)}else u()}toDataURL(t,e){let n=e.viewBox||this.graph.getContentBBox();const r=Kn(e.padding);e.width&&e.height&&(r.left+r.right>=e.width&&(r.left=r.right=0),r.top+r.bottom>=e.height&&(r.top=r.bottom=0));const s=new ht(-r.left,-r.top,r.left+r.right,r.top+r.bottom);if(e.width&&e.height){const u=n.width+r.left+r.right,h=n.height+r.top+r.bottom;s.scale(u/e.width,h/e.height)}n=ht.create(n).moveAndExpand(s);const o=typeof e.width=="number"&&typeof e.height=="number"?{width:e.width,height:e.height}:n;let a=e.ratio?parseFloat(e.ratio):1;(!Number.isFinite(a)||a===0)&&(a=1);const l={width:Math.max(Math.round(o.width*a),1),height:Math.max(Math.round(o.height*a),1)};{const u=document.createElement("canvas"),h=u.getContext("2d");u.width=l.width,u.height=l.height;const f=l.width-1,p=l.height-1;h.fillStyle="rgb(1,1,1)",h.fillRect(f,p,1,1);const b=h.getImageData(f,p,1,1).data;if(b[0]!==1||b[1]!==1||b[2]!==1)throw new Error("size exceeded")}const c=new Image;c.onload=()=>{const u=document.createElement("canvas");u.width=l.width,u.height=l.height;const h=u.getContext("2d");h.fillStyle=e.backgroundColor||"white",h.fillRect(0,0,l.width,l.height);try{h.drawImage(c,0,0,l.width,l.height);const f=u.toDataURL(e.type,e.quality);t(f)}catch{}},this.toSVG(u=>{c.src=`data:image/svg+xml,${encodeURIComponent(u)}`},Object.assign(Object.assign({},e),{viewBox:n,serializeImages:!0,preserveDimensions:Object.assign({},l)}))}toPNG(t,e={}){this.toDataURL(t,Object.assign(Object.assign({},e),{type:"image/png"}))}toJPEG(t,e={}){this.toDataURL(t,Object.assign(Object.assign({},e),{type:"image/jpeg"}))}}class p9 extends Ee{constructor(){super(...arguments),this.widgets=new Map}get isSelectionEnabled(){return this.options.selecting.enabled===!0}init(){this.startListening()}startListening(){this.graph.on("node:mouseup",this.onNodeMouseUp,this),this.graph.on("node:selected",this.onNodeSelected,this),this.graph.on("node:unselected",this.onNodeUnSelected,this)}stopListening(){this.graph.off("node:mouseup",this.onNodeMouseUp,this),this.graph.off("node:selected",this.onNodeSelected,this),this.graph.off("node:unselected",this.onNodeUnSelected,this)}onNodeMouseUp({node:t}){if(!this.isSelectionEnabled){const e=this.graph.hook.createKnob(t,{clearAll:!0});e&&this.widgets.set(t,e)}}onNodeSelected({node:t}){if(this.isSelectionEnabled){const e=this.graph.hook.createKnob(t,{clearAll:!1});e&&this.widgets.set(t,e)}}onNodeUnSelected({node:t}){if(this.isSelectionEnabled){const e=this.widgets.get(t);e&&e.forEach(n=>n.dispose()),this.widgets.delete(t)}}}var g9=globalThis&&globalThis.__decorate||function(i,t,e,n){var r=arguments.length,s=r<3?t:n===null?n=Object.getOwnPropertyDescriptor(t,e):n,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")s=Reflect.decorate(i,t,e,n);else for(var a=i.length-1;a>=0;a--)(o=i[a])&&(s=(r<3?o(s):r>3?o(t,e,s):o(t,e))||s);return r>3&&s&&Object.defineProperty(t,e,s),s};class O1 extends Ee{get widgetOptions(){return this.options.panning}get pannable(){return this.widgetOptions&&this.widgetOptions.enabled===!0}init(){this.startListening(),this.updateClassName()}startListening(){const t=this.widgetOptions.eventTypes;!t||(t.includes("leftMouseDown")&&(this.graph.on("blank:mousedown",this.preparePanning,this),this.graph.on("node:unhandled:mousedown",this.preparePanning,this),this.graph.on("edge:unhandled:mousedown",this.preparePanning,this)),t.includes("rightMouseDown")&&(this.onRightMouseDown=this.onRightMouseDown.bind(this),this.view.$(this.graph.container).on("mousedown",this.onRightMouseDown)),t.includes("mouseWheel")&&(this.mousewheelHandle=new Ay(this.graph.container,this.onMouseWheel.bind(this),this.allowMouseWheel.bind(this)),this.mousewheelHandle.enable()))}stopListening(){const t=this.widgetOptions.eventTypes;!t||(t.includes("leftMouseDown")&&(this.graph.off("blank:mousedown",this.preparePanning,this),this.graph.off("node:unhandled:mousedown",this.preparePanning,this),this.graph.off("edge:unhandled:mousedown",this.preparePanning,this)),t.includes("rightMouseDown")&&this.view.$(this.graph.container).off("mousedown",this.onRightMouseDown),t.includes("mouseWheel")&&this.mousewheelHandle&&this.mousewheelHandle.disable())}preparePanning({e:t}){(this.allowPanning(t,!0)||this.allowPanning(t)&&!this.graph.selection.allowRubberband(t,!0))&&this.startPanning(t)}allowPanning(t,e){return this.pannable&&Us.isMatch(t,this.widgetOptions.modifiers,e)&&this.graph.hook.allowPanning(t)}startPanning(t){const e=this.view.normalizeEvent(t);this.clientX=e.clientX,this.clientY=e.clientY,this.panning=!0,this.updateClassName(),this.view.$(document.body).on({"mousemove.panning touchmove.panning":this.pan.bind(this),"mouseup.panning touchend.panning":this.stopPanning.bind(this),"mouseleave.panning":this.stopPanning.bind(this)}),this.view.$(window).on("mouseup.panning",this.stopPanning.bind(this))}pan(t){const e=this.view.normalizeEvent(t),n=e.clientX-this.clientX,r=e.clientY-this.clientY;this.clientX=e.clientX,this.clientY=e.clientY;const s=this.graph.transform.getTranslation(),o=s.tx+n,a=s.ty+r;this.graph.transform.translate(o,a,{ui:!0})}stopPanning(t){this.panning=!1,this.updateClassName(),this.view.$(document.body).off(".panning"),this.view.$(window).off(".panning")}updateClassName(){const t=this.view.container,e=this.view.prefixClassName("graph-panning"),n=this.view.prefixClassName("graph-pannable");this.pannable?this.panning?(ge(t,e),yi(t,n)):(yi(t,e),ge(t,n)):(yi(t,e),yi(t,n))}onRightMouseDown(t){t.button===2&&this.allowPanning(t,!0)&&this.startPanning(t)}allowMouseWheel(t){return this.pannable&&!t.ctrlKey}onMouseWheel(t,e,n){t.ctrlKey||this.graph.translateBy(-e,-n)}autoPanning(t,e){const r=this.graph.getGraphArea();let s=0,o=0;t<=r.left+10&&(s=-10),e<=r.top+10&&(o=-10),t>=r.right-10&&(s=10),e>=r.bottom-10&&(o=10),(s!==0||o!==0)&&this.graph.translateBy(-s,-o)}enablePanning(){this.pannable||(this.widgetOptions.enabled=!0,this.updateClassName())}disablePanning(){this.pannable&&(this.widgetOptions.enabled=!1,this.updateClassName())}dispose(){this.stopListening()}}g9([Ee.dispose()],O1.prototype,"dispose",null);var m9=globalThis&&globalThis.__decorate||function(i,t,e,n){var r=arguments.length,s=r<3?t:n===null?n=Object.getOwnPropertyDescriptor(t,e):n,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")s=Reflect.decorate(i,t,e,n);else for(var a=i.length-1;a>=0;a--)(o=i[a])&&(s=(r<3?o(s):r>3?o(t,e,s):o(t,e))||s);return r>3&&s&&Object.defineProperty(t,e,s),s};class T1 extends Ee{hasScroller(){return this.graph.scroller.widget!=null}getContainer(){return this.hasScroller()?this.graph.scroller.widget.container:this.graph.container}init(){const t=this.options.autoResize;if(t){const e=typeof t=="boolean"?this.getContainer():t;Kc.bind(e,()=>{const n=this.getContainer(),r=n.offsetWidth,s=n.offsetHeight;this.resize(r,s)})}}resize(t,e){this.hasScroller()?this.resizeScroller(t,e):this.resizeGraph(t,e)}resizeGraph(t,e){this.graph.transform.resize(t,e)}resizeScroller(t,e){this.graph.scroller.resize(t,e)}resizePage(t,e){const n=this.graph.scroller.widget;n&&n.updatePageSize(t,e)}dispose(){Kc.clear(this.getContainer())}}m9([Ee.dispose()],T1.prototype,"dispose",null);var oe=globalThis&&globalThis.__decorate||function(i,t,e,n){var r=arguments.length,s=r<3?t:n===null?n=Object.getOwnPropertyDescriptor(t,e):n,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")s=Reflect.decorate(i,t,e,n);else for(var a=i.length-1;a>=0;a--)(o=i[a])&&(s=(r<3?o(s):r>3?o(t,e,s):o(t,e))||s);return r>3&&s&&Object.defineProperty(t,e,s),s},b9=globalThis&&globalThis.__rest||function(i,t){var e={};for(var n in i)Object.prototype.hasOwnProperty.call(i,n)&&t.indexOf(n)<0&&(e[n]=i[n]);if(i!=null&&typeof Object.getOwnPropertySymbols=="function")for(var r=0,n=Object.getOwnPropertySymbols(i);r<n.length;r++)t.indexOf(n[r])<0&&Object.prototype.propertyIsEnumerable.call(i,n[r])&&(e[n[r]]=i[n[r]]);return e},ee;(function(i){function t(n,r){return(s,o,a)=>{const l=a.value,c=r||o;a.value=function(...u){const h=this.options[c];if(h!=null){this.getNativeValue=l.bind(this,...u);const f=xt(h,this.graph,...u);if(this.getNativeValue=null,f!=null||n===!0&&f===null)return f}return l.call(this,...u)}}}i.hook=t;function e(n){return(r,s,o)=>{const a=o.value,l=n||s;o.value=function(...c){let u=a.call(this,...c);const h=this.options[l];return h!=null&&(u=xt(h,this.graph,...c)&&u),u}}}i.after=e})(ee||(ee={}));class ne extends Ee{createModel(){if(this.options.model)return this.options.model;const t=new Cn;return t.graph=this.graph,t}createView(){return new Ri(this.graph)}createRenderer(){return new pe(this.graph)}createDefsManager(){return new C1(this.graph)}createGridManager(){return new vp(this.graph)}createCoordManager(){return new E1(this.graph)}createKnobManager(){return new p9(this.graph)}createTransform(t,e){const n=this.getTransformOptions(t);return n.resizable||n.rotatable?new V2(Object.assign(Object.assign({node:t,graph:this.graph},n),e)):(n.clearAll&&V2.removeInstances(this.graph),null)}createKnob(t,e){const n=Fi.parseOptionGroup(this.graph,t,this.options.knob),r=Object.assign(Object.assign({},n),e);r.clearAll&&R2.removeInstances(this.graph),r.clearAll=!1;const s=t.prop("knob"),o=[];return(Array.isArray(s)?s:[s]).forEach((l,c)=>{if(l){if(l.enabled===!1||typeof l.enabled=="function"&&l.enabled.call(this.graph,t)===!1)return}else return;n.enabled&&o.push(new R2(Object.assign({node:t,index:c,graph:this.graph},r)))}),o}getTransformOptions(t){const e=Fi.parseOptionGroup(this.graph,t,this.options.resizing),n=Fi.parseOptionGroup(this.graph,t,this.options.rotating),r=Fi.parseOptionGroup(this.graph,t,this.options.transforming);return Object.assign(Object.assign({},r),{resizable:e.enabled,minWidth:e.minWidth,maxWidth:e.maxWidth,minHeight:e.minHeight,maxHeight:e.maxHeight,orthogonalResizing:e.orthogonal,restrictedResizing:e.restrict!=null?e.restrict:e.restricted,autoScrollOnResizing:e.autoScroll,preserveAspectRatio:e.preserveAspectRatio,allowReverse:e.allowReverse,rotatable:n.enabled,rotateGrid:n.grid})}createTransformManager(){return new au(this.graph)}createHighlightManager(){return new ou(this.graph)}createBackgroundManager(){return new Xu(this.graph)}createClipboard(){return new v9}createClipboardManager(){return new wp(this.graph)}createSnapline(){return new w1(Object.assign({graph:this.graph},this.options.snapline))}createSnaplineManager(){return new yp(this.graph)}createSelection(){return new bp(Object.assign({graph:this.graph},this.options.selecting))}createSelectionManager(){return new Cp(this.graph)}allowRubberband(t){return!0}createHistoryManager(){return new Ws(Object.assign({graph:this.graph},this.options.history))}createScroller(){return this.options.scroller.enabled?new la(Object.assign({graph:this.graph},this.options.scroller)):null}createScrollerManager(){return new xp(this.graph)}allowPanning(t){return!0}createMiniMap(){const t=this.options.minimap,{enabled:e}=t,n=b9(t,["enabled"]);return e?new x1(Object.assign({graph:this.graph},n)):null}createMiniMapManager(){return new Ep(this.graph)}createKeyboard(){return new Xs(Object.assign({graph:this.graph},this.options.keyboard))}createMouseWheel(){return new Sp(Object.assign({graph:this.graph},this.options.mousewheel))}createPrintManager(){return new Ys(this.graph)}createFormatManager(){return new M1(this.graph)}createPanningManager(){return new O1(this.graph)}createSizeManager(){return new T1(this.graph)}allowConnectToBlank(t){const e=this.options.connecting,n=e.allowBlank!=null?e.allowBlank:e.dangling;if(typeof n!="function")return!!n;const r=this.graph.findViewByCell(t),s=t.getSourceCell(),o=t.getTargetCell(),a=this.graph.findViewByCell(s),l=this.graph.findViewByCell(o);return xt(n,this.graph,{edge:t,edgeView:r,sourceCell:s,targetCell:o,sourceView:a,targetView:l,sourcePort:t.getSourcePortId(),targetPort:t.getTargetPortId(),sourceMagnet:r.sourceMagnet,targetMagnet:r.targetMagnet})}validateEdge(t,e,n){if(!this.allowConnectToBlank(t)){const s=t.getSourceCellId(),o=t.getTargetCellId();if(!(s&&o))return!1}const r=this.options.connecting.validateEdge;return r?xt(r,this.graph,{edge:t,type:e,previous:n}):!0}validateMagnet(t,e,n){if(e.getAttribute("magnet")!=="passive"){const r=this.options.connecting.validateMagnet;return r?xt(r,this.graph,{e:n,magnet:e,view:t,cell:t.cell}):!0}return!1}getDefaultEdge(t,e){let n;const r=this.options.connecting.createEdge;return r&&(n=xt(r,this.graph,{sourceMagnet:e,sourceView:t,sourceCell:t.cell})),n==null&&(n=new mp),n}validateConnection(t,e,n,r,s,o,a){const l=this.options.connecting,c=l.allowLoop,u=l.allowNode,h=l.allowEdge,f=l.allowPort,p=l.allowMulti!=null?l.allowMulti:l.multi,b=l.validateConnection,v=o?o.cell:null,w=s==="target"?n:t,x=s==="target"?r:e;let E=!0;const S=O=>{const k=s==="source"?a?a.port:null:v?v.getSourcePortId():null,m=s==="target"?a?a.port:null:v?v.getTargetPortId():null;return xt(O,this.graph,{edge:v,edgeView:o,sourceView:t,targetView:n,sourcePort:k,targetPort:m,sourceMagnet:e,targetMagnet:r,sourceCell:t?t.cell:null,targetCell:n?n.cell:null,type:s})};if(c!=null&&(typeof c=="boolean"?!c&&t===n&&(E=!1):E=S(c)),E&&f!=null&&(typeof f=="boolean"?!f&&x&&(E=!1):E=S(f)),E&&h!=null&&(typeof h=="boolean"?!h&&wr.isEdgeView(w)&&(E=!1):E=S(h)),E&&u!=null&&(typeof u=="boolean"?!u&&w!=null&&Bn.isNodeView(w)&&x==null&&(E=!1):E=S(u)),E&&p!=null&&o){const O=o.cell,k=s==="source"?a:O.getSource(),m=s==="target"?a:O.getTarget(),T=a?this.graph.getCellById(a.cell):null;if(k&&m&&k.cell&&m.cell&&T)if(typeof p=="function")E=S(p);else{const D=this.model.getConnectedEdges(T,{outgoing:s==="source",incoming:s==="target"});D.length&&(p==="withPort"?D.some(H=>{const q=H.getSource(),R=H.getTarget();return q&&R&&q.cell===k.cell&&R.cell===m.cell&&q.port!=null&&q.port===k.port&&R.port!=null&&R.port===m.port})&&(E=!1):p||D.some(H=>{const q=H.getSource(),R=H.getTarget();return q&&R&&q.cell===k.cell&&R.cell===m.cell})&&(E=!1))}}return E&&b!=null&&(E=S(b)),E}getRestrictArea(t){const e=this.options.translating.restrict,n=typeof e=="function"?xt(e,this.graph,t):e;return typeof n=="number"?this.graph.transform.getGraphArea().inflate(n):n===!0?this.graph.transform.getGraphArea():n||null}onViewUpdated(t,e,n){e&pe.FLAG_INSERT||n.mounting||this.graph.renderer.requestConnectedEdgesUpdate(t,n)}onViewPostponed(t,e,n){return this.graph.renderer.forcePostponedViewUpdate(t,e)}getCellView(t){return null}createCellView(t){const e={graph:this.graph},n=this.getCellView(t);if(n)return new n(t,e);const r=t.view;if(r!=null&&typeof r=="string"){const s=Be.registry.get(r);return s?new s(t,e):Be.registry.onNotFound(r)}return t.isNode()?new Bn(t,e):t.isEdge()?new wr(t,e):null}getHTMLComponent(t){let e=t.getHTML();return typeof e=="string"&&(e=rr.componentRegistry.get(e)||e),fi(e)&&(e=e.render),typeof e=="function"?xt(e,this.graph,t):e}shouldUpdateHTMLComponent(t){let e=t.getHTML();if(typeof e=="string"&&(e=rr.componentRegistry.get(e)||e),fi(e)){const n=e.shouldComponentUpdate;return typeof n=="function"?xt(n,this.graph,t):!!n}return!1}onEdgeLabelRendered(t){}onPortRendered(t){}onToolItemCreated(t){}}oe([ee.hook()],ne.prototype,"createModel",null);oe([ee.hook()],ne.prototype,"createView",null);oe([ee.hook()],ne.prototype,"createRenderer",null);oe([ee.hook()],ne.prototype,"createDefsManager",null);oe([ee.hook()],ne.prototype,"createGridManager",null);oe([ee.hook()],ne.prototype,"createCoordManager",null);oe([ee.hook()],ne.prototype,"createKnobManager",null);oe([ee.hook()],ne.prototype,"createTransform",null);oe([ee.hook()],ne.prototype,"createKnob",null);oe([ee.hook()],ne.prototype,"createTransformManager",null);oe([ee.hook()],ne.prototype,"createHighlightManager",null);oe([ee.hook()],ne.prototype,"createBackgroundManager",null);oe([ee.hook()],ne.prototype,"createClipboard",null);oe([ee.hook()],ne.prototype,"createClipboardManager",null);oe([ee.hook()],ne.prototype,"createSnapline",null);oe([ee.hook()],ne.prototype,"createSnaplineManager",null);oe([ee.hook()],ne.prototype,"createSelection",null);oe([ee.hook()],ne.prototype,"createSelectionManager",null);oe([ee.hook()],ne.prototype,"allowRubberband",null);oe([ee.hook()],ne.prototype,"createHistoryManager",null);oe([ee.hook()],ne.prototype,"createScroller",null);oe([ee.hook()],ne.prototype,"createScrollerManager",null);oe([ee.hook()],ne.prototype,"allowPanning",null);oe([ee.hook()],ne.prototype,"createMiniMap",null);oe([ee.hook()],ne.prototype,"createMiniMapManager",null);oe([ee.hook()],ne.prototype,"createKeyboard",null);oe([ee.hook()],ne.prototype,"createMouseWheel",null);oe([ee.hook()],ne.prototype,"createPrintManager",null);oe([ee.hook()],ne.prototype,"createFormatManager",null);oe([ee.hook()],ne.prototype,"createPanningManager",null);oe([ee.hook()],ne.prototype,"createSizeManager",null);oe([ee.after()],ne.prototype,"onViewUpdated",null);oe([ee.after()],ne.prototype,"onViewPostponed",null);oe([ee.hook()],ne.prototype,"getCellView",null);oe([ee.hook(!0)],ne.prototype,"createCellView",null);oe([ee.hook()],ne.prototype,"getHTMLComponent",null);oe([ee.hook()],ne.prototype,"shouldUpdateHTMLComponent",null);oe([ee.hook()],ne.prototype,"onEdgeLabelRendered",null);oe([ee.hook()],ne.prototype,"onPortRendered",null);oe([ee.hook()],ne.prototype,"onToolItemCreated",null);var Gi=globalThis&&globalThis.__decorate||function(i,t,e,n){var r=arguments.length,s=r<3?t:n===null?n=Object.getOwnPropertyDescriptor(t,e):n,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")s=Reflect.decorate(i,t,e,n);else for(var a=i.length-1;a>=0;a--)(o=i[a])&&(s=(r<3?o(s):r>3?o(t,e,s):o(t,e))||s);return r>3&&s&&Object.defineProperty(t,e,s),s};class ae extends Mn{constructor(t){super(),this.options=Fi.get(t),this.css=new ts(this),this.hook=new ne(this),this.view=this.hook.createView(),this.defs=this.hook.createDefsManager(),this.coord=this.hook.createCoordManager(),this.transform=this.hook.createTransformManager(),this.knob=this.hook.createKnobManager(),this.highlight=this.hook.createHighlightManager(),this.grid=this.hook.createGridManager(),this.background=this.hook.createBackgroundManager(),this.model=this.hook.createModel(),this.renderer=this.hook.createRenderer(),this.clipboard=this.hook.createClipboardManager(),this.snapline=this.hook.createSnaplineManager(),this.selection=this.hook.createSelectionManager(),this.history=this.hook.createHistoryManager(),this.scroller=this.hook.createScrollerManager(),this.minimap=this.hook.createMiniMapManager(),this.keyboard=this.hook.createKeyboard(),this.mousewheel=this.hook.createMouseWheel(),this.print=this.hook.createPrintManager(),this.format=this.hook.createFormatManager(),this.panning=this.hook.createPanningManager(),this.size=this.hook.createSizeManager()}get container(){return this.view.container}get[Symbol.toStringTag](){return ae.toStringTag}isNode(t){return t.isNode()}isEdge(t){return t.isEdge()}resetCells(t,e={}){return this.model.resetCells(t,e),this}clearCells(t={}){return this.model.clear(t),this}toJSON(t={}){return this.model.toJSON(t)}parseJSON(t){return this.model.parseJSON(t)}fromJSON(t,e={}){return this.model.fromJSON(t,e),this}getCellById(t){return this.model.getCell(t)}addNode(t,e={}){return this.model.addNode(t,e)}addNodes(t,e={}){return this.addCell(t.map(n=>Le.isNode(n)?n:this.createNode(n)),e)}createNode(t){return this.model.createNode(t)}removeNode(t,e={}){return this.model.removeCell(t,e)}addEdge(t,e={}){return this.model.addEdge(t,e)}addEdges(t,e={}){return this.addCell(t.map(n=>Ne.isEdge(n)?n:this.createEdge(n)),e)}removeEdge(t,e={}){return this.model.removeCell(t,e)}createEdge(t){return this.model.createEdge(t)}addCell(t,e={}){return this.model.addCell(t,e),this}removeCell(t,e={}){return this.model.removeCell(t,e)}removeCells(t,e={}){return this.model.removeCells(t,e)}removeConnectedEdges(t,e={}){return this.model.removeConnectedEdges(t,e)}disconnectConnectedEdges(t,e={}){return this.model.disconnectConnectedEdges(t,e),this}hasCell(t){return this.model.has(t)}getCell(t){return this.model.getCell(t)}getCells(){return this.model.getCells()}getCellCount(){return this.model.total()}getNodes(){return this.model.getNodes()}getEdges(){return this.model.getEdges()}getOutgoingEdges(t){return this.model.getOutgoingEdges(t)}getIncomingEdges(t){return this.model.getIncomingEdges(t)}getConnectedEdges(t,e={}){return this.model.getConnectedEdges(t,e)}getRootNodes(){return this.model.getRoots()}getLeafNodes(){return this.model.getLeafs()}isRootNode(t){return this.model.isRoot(t)}isLeafNode(t){return this.model.isLeaf(t)}getNeighbors(t,e={}){return this.model.getNeighbors(t,e)}isNeighbor(t,e,n={}){return this.model.isNeighbor(t,e,n)}getSuccessors(t,e={}){return this.model.getSuccessors(t,e)}isSuccessor(t,e,n={}){return this.model.isSuccessor(t,e,n)}getPredecessors(t,e={}){return this.model.getPredecessors(t,e)}isPredecessor(t,e,n={}){return this.model.isPredecessor(t,e,n)}getCommonAncestor(...t){return this.model.getCommonAncestor(...t)}getSubGraph(t,e={}){return this.model.getSubGraph(t,e)}cloneSubGraph(t,e={}){return this.model.cloneSubGraph(t,e)}cloneCells(t){return this.model.cloneCells(t)}getNodesFromPoint(t,e){return this.model.getNodesFromPoint(t,e)}getNodesInArea(t,e,n,r,s){return this.model.getNodesInArea(t,e,n,r,s)}getNodesUnderNode(t,e={}){return this.model.getNodesUnderNode(t,e)}searchCell(t,e,n={}){return this.model.search(t,e,n),this}getShortestPath(t,e,n={}){return this.model.getShortestPath(t,e,n)}getAllCellsBBox(){return this.model.getAllCellsBBox()}getCellsBBox(t,e={}){return this.model.getCellsBBox(t,e)}startBatch(t,e={}){this.model.startBatch(t,e)}stopBatch(t,e={}){this.model.stopBatch(t,e)}batchUpdate(t,e,n){const r=typeof t=="string"?t:"update",s=typeof t=="string"?e:t,o=typeof e=="function"?n:e;this.startBatch(r,o);const a=s();return this.stopBatch(r,o),a}updateCellId(t,e){return this.model.updateCellId(t,e)}isFrozen(){return this.renderer.isFrozen()}freeze(t={}){return this.renderer.freeze(t),this}unfreeze(t={}){return this.renderer.unfreeze(t),this}isAsync(){return this.renderer.isAsync()}setAsync(t){return this.renderer.setAsync(t),this}findView(t){return ie.isCell(t)?this.findViewByCell(t):this.findViewByElem(t)}findViews(t){return ht.isRectangleLike(t)?this.findViewsInArea(t):N.isPointLike(t)?this.findViewsFromPoint(t):[]}findViewByCell(t){return this.renderer.findViewByCell(t)}findViewByElem(t){return this.renderer.findViewByElem(t)}findViewsFromPoint(t,e){const n=typeof t=="number"?{x:t,y:e}:t;return this.renderer.findViewsFromPoint(n)}findViewsInArea(t,e,n,r,s){const o=typeof t=="number"?{x:t,y:e,width:n,height:r}:t,a=typeof t=="number"?s:e;return this.renderer.findViewsInArea(o,a)}isViewMounted(t){return this.renderer.isViewMounted(t)}getMountedViews(){return this.renderer.getMountedViews()}getUnmountedViews(){return this.renderer.getUnmountedViews()}matrix(t){return typeof t=="undefined"?this.transform.getMatrix():(this.transform.setMatrix(t),this)}resize(t,e){return this.size.resize(t,e),this}resizeGraph(t,e){return this.size.resizeGraph(t,e),this}resizeScroller(t,e){return this.size.resizeScroller(t,e),this}resizePage(t,e){return this.size.resizePage(t,e),this}scale(t,e=t,n=0,r=0){return typeof t=="undefined"?this.transform.getScale():(this.transform.scale(t,e,n,r),this)}zoom(t,e){const n=this.scroller.widget;if(n){if(typeof t=="undefined")return n.zoom();n.zoom(t,e)}else{if(typeof t=="undefined")return this.transform.getZoom();this.transform.zoom(t,e)}return this}zoomTo(t,e={}){const n=this.scroller.widget;return n?n.zoom(t,Object.assign(Object.assign({},e),{absolute:!0})):this.transform.zoom(t,Object.assign(Object.assign({},e),{absolute:!0})),this}zoomToRect(t,e={}){const n=this.scroller.widget;return n?n.zoomToRect(t,e):this.transform.zoomToRect(t,e),this}zoomToFit(t={}){const e=this.scroller.widget;return e?e.zoomToFit(t):this.transform.zoomToFit(t),this}rotate(t,e,n){return typeof t=="undefined"?this.transform.getRotation():(this.transform.rotate(t,e,n),this)}translate(t,e){return typeof t=="undefined"?this.transform.getTranslation():(this.transform.translate(t,e),this)}translateBy(t,e){const n=this.translate(),r=n.tx+t,s=n.ty+e;return this.translate(r,s)}getArea(){return this.transform.getGraphArea()}getGraphArea(){return this.transform.getGraphArea()}getContentArea(t={}){return this.transform.getContentArea(t)}getContentBBox(t={}){return this.transform.getContentBBox(t)}fitToContent(t,e,n,r){return this.transform.fitToContent(t,e,n,r)}scaleContentToFit(t={}){return this.transform.scaleContentToFit(t),this}center(t){return this.centerPoint(t)}centerPoint(t,e,n){const r=this.scroller.widget;return r?r.centerPoint(t,e,n):this.transform.centerPoint(t,e),this}centerContent(t){const e=this.scroller.widget;return e?e.centerContent(t):this.transform.centerContent(t),this}centerCell(t,e){const n=this.scroller.widget;return n?n.centerCell(t,e):this.transform.centerCell(t),this}positionPoint(t,e,n,r={}){const s=this.scroller.widget;return s?s.positionPoint(t,e,n,r):this.transform.positionPoint(t,e,n),this}positionRect(t,e,n){const r=this.scroller.widget;return r?r.positionRect(t,e,n):this.transform.positionRect(t,e),this}positionCell(t,e,n){const r=this.scroller.widget;return r?r.positionCell(t,e,n):this.transform.positionCell(t,e),this}positionContent(t,e){const n=this.scroller.widget;return n?n.positionContent(t,e):this.transform.positionContent(t,e),this}getClientMatrix(){return this.coord.getClientMatrix()}getClientOffset(){return this.coord.getClientOffset()}getPageOffset(){return this.coord.getPageOffset()}snapToGrid(t,e){return this.coord.snapToGrid(t,e)}pageToLocal(t,e,n,r){return ht.isRectangleLike(t)?this.coord.pageToLocalRect(t):typeof t=="number"&&typeof e=="number"&&typeof n=="number"&&typeof r=="number"?this.coord.pageToLocalRect(t,e,n,r):this.coord.pageToLocalPoint(t,e)}localToPage(t,e,n,r){return ht.isRectangleLike(t)?this.coord.localToPageRect(t):typeof t=="number"&&typeof e=="number"&&typeof n=="number"&&typeof r=="number"?this.coord.localToPageRect(t,e,n,r):this.coord.localToPagePoint(t,e)}clientToLocal(t,e,n,r){return ht.isRectangleLike(t)?this.coord.clientToLocalRect(t):typeof t=="number"&&typeof e=="number"&&typeof n=="number"&&typeof r=="number"?this.coord.clientToLocalRect(t,e,n,r):this.coord.clientToLocalPoint(t,e)}localToClient(t,e,n,r){return ht.isRectangleLike(t)?this.coord.localToClientRect(t):typeof t=="number"&&typeof e=="number"&&typeof n=="number"&&typeof r=="number"?this.coord.localToClientRect(t,e,n,r):this.coord.localToClientPoint(t,e)}localToGraph(t,e,n,r){return ht.isRectangleLike(t)?this.coord.localToGraphRect(t):typeof t=="number"&&typeof e=="number"&&typeof n=="number"&&typeof r=="number"?this.coord.localToGraphRect(t,e,n,r):this.coord.localToGraphPoint(t,e)}graphToLocal(t,e,n,r){return ht.isRectangleLike(t)?this.coord.graphToLocalRect(t):typeof t=="number"&&typeof e=="number"&&typeof n=="number"&&typeof r=="number"?this.coord.graphToLocalRect(t,e,n,r):this.coord.graphToLocalPoint(t,e)}clientToGraph(t,e,n,r){return ht.isRectangleLike(t)?this.coord.clientToGraphRect(t):typeof t=="number"&&typeof e=="number"&&typeof n=="number"&&typeof r=="number"?this.coord.clientToGraphRect(t,e,n,r):this.coord.clientToGraphPoint(t,e)}defineFilter(t){return this.defs.filter(t)}defineGradient(t){return this.defs.gradient(t)}defineMarker(t){return this.defs.marker(t)}getGridSize(){return this.grid.getGridSize()}setGridSize(t){return this.grid.setGridSize(t),this}showGrid(){return this.grid.show(),this}hideGrid(){return this.grid.hide(),this}clearGrid(){return this.grid.clear(),this}drawGrid(t){return this.grid.draw(t),this}updateBackground(){return this.background.update(),this}drawBackground(t,e){const n=this.scroller.widget;return n!=null&&(this.options.background==null||!e)?n.backgroundManager.draw(t):this.background.draw(t),this}clearBackground(t){const e=this.scroller.widget;return e!=null&&(this.options.background==null||!t)?e.backgroundManager.clear():this.background.clear(),this}isClipboardEnabled(){return!this.clipboard.disabled}enableClipboard(){return this.clipboard.enable(),this}disableClipboard(){return this.clipboard.disable(),this}toggleClipboard(t){return t!=null?t!==this.isClipboardEnabled()&&(t?this.enableClipboard():this.disableClipboard()):this.isClipboardEnabled()?this.disableClipboard():this.enableClipboard(),this}isClipboardEmpty(){return this.clipboard.isEmpty()}getCellsInClipboard(){return this.clipboard.cells}cleanClipboard(){return this.clipboard.clean(),this}copy(t,e={}){return this.clipboard.copy(t,e),this}cut(t,e={}){return this.clipboard.cut(t,e),this}paste(t={},e=this){return this.clipboard.paste(t,e)}isHistoryEnabled(){return!this.history.disabled}enableHistory(){return this.history.enable(),this}disableHistory(){return this.history.disable(),this}toggleHistory(t){return t!=null?t!==this.isHistoryEnabled()&&(t?this.enableHistory():this.disableHistory()):this.isHistoryEnabled()?this.disableHistory():this.enableHistory(),this}undo(t={}){return this.history.undo(t),this}undoAndCancel(t={}){return this.history.cancel(t),this}redo(t={}){return this.history.redo(t),this}canUndo(){return this.history.canUndo()}canRedo(){return this.history.canRedo()}cleanHistory(t={}){this.history.clean(t)}isKeyboardEnabled(){return!this.keyboard.disabled}enableKeyboard(){return this.keyboard.enable(),this}disableKeyboard(){return this.keyboard.disable(),this}toggleKeyboard(t){return t!=null?t!==this.isKeyboardEnabled()&&(t?this.enableKeyboard():this.disableKeyboard()):this.isKeyboardEnabled()?this.disableKeyboard():this.enableKeyboard(),this}bindKey(t,e,n){return this.keyboard.on(t,e,n),this}unbindKey(t,e){return this.keyboard.off(t,e),this}isMouseWheelEnabled(){return!this.mousewheel.disabled}enableMouseWheel(){return this.mousewheel.enable(),this}disableMouseWheel(){return this.mousewheel.disable(),this}toggleMouseWheel(t){return t==null?this.isMouseWheelEnabled()?this.disableMouseWheel():this.enableMouseWheel():t?this.enableMouseWheel():this.disableMouseWheel(),this}isPannable(){return this.scroller.widget?this.scroller.pannable:this.panning.pannable}enablePanning(){return this.scroller.widget?this.scroller.enablePanning():this.panning.enablePanning(),this}disablePanning(){return this.scroller.widget?this.scroller.disablePanning():this.panning.disablePanning(),this}togglePanning(t){return t==null?this.isPannable()?this.disablePanning():this.enablePanning():t!==this.isPannable()&&(t?this.enablePanning():this.disablePanning()),this}lockScroller(){var t;(t=this.scroller.widget)===null||t===void 0||t.lock()}unlockScroller(){var t;(t=this.scroller.widget)===null||t===void 0||t.unlock()}updateScroller(){var t;(t=this.scroller.widget)===null||t===void 0||t.update()}getScrollbarPosition(){return this.scroller.widget.scrollbarPosition()}setScrollbarPosition(t,e,n){return this.scroller.widget.scrollbarPosition(t,e,n),this}scrollToPoint(t,e,n){return this.scroller.widget.scrollToPoint(t,e,n),this}scrollToContent(t){return this.scroller.widget.scrollToContent(t),this}scrollToCell(t,e){return this.scroller.widget.scrollToCell(t,e),this}transitionToPoint(t,e,n){return this.scroller.widget.transitionToPoint(t,e,n),this}transitionToRect(t,e={}){return this.scroller.widget.transitionToRect(t,e),this}isSelectionEnabled(){return!this.selection.disabled}enableSelection(){return this.selection.enable(),this}disableSelection(){return this.selection.disable(),this}toggleSelection(t){return t!=null?t!==this.isSelectionEnabled()&&(t?this.enableSelection():this.disableSelection()):this.isSelectionEnabled()?this.disableSelection():this.enableSelection(),this}isMultipleSelection(){return this.selection.isMultiple()}enableMultipleSelection(){return this.selection.enableMultiple(),this}disableMultipleSelection(){return this.selection.disableMultiple(),this}toggleMultipleSelection(t){return t!=null?t!==this.isMultipleSelection()&&(t?this.enableMultipleSelection():this.disableMultipleSelection()):this.isMultipleSelection()?this.disableMultipleSelection():this.enableMultipleSelection(),this}isSelectionMovable(){return this.selection.widget.options.movable!==!1}enableSelectionMovable(){return this.selection.widget.options.movable=!0,this}disableSelectionMovable(){return this.selection.widget.options.movable=!1,this}toggleSelectionMovable(t){return t!=null?t!==this.isSelectionMovable()&&(t?this.enableSelectionMovable():this.disableSelectionMovable()):this.isSelectionMovable()?this.disableSelectionMovable():this.enableSelectionMovable(),this}isRubberbandEnabled(){return!this.selection.rubberbandDisabled}enableRubberband(){return this.selection.enableRubberband(),this}disableRubberband(){return this.selection.disableRubberband(),this}toggleRubberband(t){return t!=null?t!==this.isRubberbandEnabled()&&(t?this.enableRubberband():this.disableRubberband()):this.isRubberbandEnabled()?this.disableRubberband():this.enableRubberband(),this}isStrictRubberband(){return this.selection.widget.options.strict===!0}enableStrictRubberband(){return this.selection.widget.options.strict=!0,this}disableStrictRubberband(){return this.selection.widget.options.strict=!1,this}toggleStrictRubberband(t){return t!=null?t!==this.isStrictRubberband()&&(t?this.enableStrictRubberband():this.disableStrictRubberband()):this.isStrictRubberband()?this.disableStrictRubberband():this.enableStrictRubberband(),this}setRubberbandModifiers(t){this.selection.setModifiers(t)}setSelectionFilter(t){return this.selection.setFilter(t),this}setSelectionDisplayContent(t){return this.selection.setContent(t),this}isSelectionEmpty(){return this.selection.isEmpty()}cleanSelection(t){return this.selection.clean(t),this}resetSelection(t,e){return this.selection.reset(t,e),this}getSelectedCells(){return this.selection.cells}getSelectedCellCount(){return this.selection.length}isSelected(t){return this.selection.isSelected(t)}select(t,e){return this.selection.select(t,e),this}unselect(t,e){return this.selection.unselect(t,e),this}isSnaplineEnabled(){return!this.snapline.widget.disabled}enableSnapline(){return this.snapline.widget.enable(),this}disableSnapline(){return this.snapline.widget.disable(),this}toggleSnapline(t){if(t!=null)t!==this.isSnaplineEnabled()&&(t?this.enableSnapline():this.disableSnapline());else return this.isSnaplineEnabled()?this.disableSnapline():this.enableSnapline(),this}hideSnapline(){return this.snapline.widget.hide(),this}setSnaplineFilter(t){return this.snapline.widget.setFilter(t),this}isSnaplineOnResizingEnabled(){return this.snapline.widget.options.resizing===!0}enableSnaplineOnResizing(){return this.snapline.widget.options.resizing=!0,this}disableSnaplineOnResizing(){return this.snapline.widget.options.resizing=!1,this}toggleSnaplineOnResizing(t){return t!=null?t!==this.isSnaplineOnResizingEnabled()&&(t?this.enableSnaplineOnResizing():this.disableSnaplineOnResizing()):this.isSnaplineOnResizingEnabled()?this.disableSnaplineOnResizing():this.enableSnaplineOnResizing(),this}isSharpSnapline(){return this.snapline.widget.options.sharp===!0}enableSharpSnapline(){return this.snapline.widget.options.sharp=!0,this}disableSharpSnapline(){return this.snapline.widget.options.sharp=!1,this}toggleSharpSnapline(t){return t!=null?t!==this.isSharpSnapline()&&(t?this.enableSharpSnapline():this.disableSharpSnapline()):this.isSharpSnapline()?this.disableSharpSnapline():this.enableSharpSnapline(),this}getSnaplineTolerance(){return this.snapline.widget.options.tolerance}setSnaplineTolerance(t){return this.snapline.widget.options.tolerance=t,this}removeTools(){return this.emit("tools:remove"),this}hideTools(){return this.emit("tools:hide"),this}showTools(){return this.emit("tools:show"),this}toSVG(t,e={}){this.format.toSVG(t,e)}toDataURL(t,e){this.format.toDataURL(t,e)}toPNG(t,e={}){this.format.toPNG(t,e)}toJPEG(t,e={}){this.format.toJPEG(t,e)}printPreview(t){this.print.show(t)}dispose(){this.clearCells(),this.off(),this.css.dispose(),this.hook.dispose(),this.defs.dispose(),this.grid.dispose(),this.coord.dispose(),this.transform.dispose(),this.knob.dispose(),this.highlight.dispose(),this.background.dispose(),this.clipboard.dispose(),this.snapline.dispose(),this.selection.dispose(),this.history.dispose(),this.keyboard.dispose(),this.mousewheel.dispose(),this.print.dispose(),this.format.dispose(),this.minimap.dispose(),this.panning.dispose(),this.scroller.dispose(),this.view.dispose(),this.renderer.dispose(),this.size.dispose()}}Gi([Oi.checkScroller()],ae.prototype,"lockScroller",null);Gi([Oi.checkScroller()],ae.prototype,"unlockScroller",null);Gi([Oi.checkScroller()],ae.prototype,"updateScroller",null);Gi([Oi.checkScroller()],ae.prototype,"getScrollbarPosition",null);Gi([Oi.checkScroller()],ae.prototype,"setScrollbarPosition",null);Gi([Oi.checkScroller()],ae.prototype,"scrollToPoint",null);Gi([Oi.checkScroller()],ae.prototype,"scrollToContent",null);Gi([Oi.checkScroller()],ae.prototype,"scrollToCell",null);Gi([Oi.checkScroller()],ae.prototype,"transitionToPoint",null);Gi([Oi.checkScroller()],ae.prototype,"transitionToRect",null);Gi([Mn.dispose()],ae.prototype,"dispose",null);(function(i){i.View=Ri,i.Hook=ne,i.Renderer=pe,i.Keyboard=Xs,i.MouseWheel=Sp,i.BaseManager=Ee,i.DefsManager=C1,i.GridManager=vp,i.CoordManager=E1,i.PrintManager=Ys,i.FormatManager=M1,i.MiniMapManager=Ep,i.HistoryManager=Ws,i.SnaplineManager=yp,i.ScrollerManager=xp,i.ClipboardManager=wp,i.TransformManager=au,i.HighlightManager=ou,i.BackgroundManager=Xu,i.SelectionManager=Cp})(ae||(ae={}));(function(i){i.toStringTag=`X6.${i.name}`;function t(e){if(e==null)return!1;if(e instanceof i)return!0;const n=e[Symbol.toStringTag],r=e;return(n==null||n===i.toStringTag)&&r.hook!=null&&r.view!=null&&r.model!=null}i.isGraph=t})(ae||(ae={}));(function(i){function t(e,n){const r=e instanceof HTMLElement?new i({container:e}):new i(e);return n!=null&&r.fromJSON(n),r}i.render=t})(ae||(ae={}));(function(i){i.registerNode=Le.registry.register,i.registerEdge=Ne.registry.register,i.registerView=Be.registry.register,i.registerAttr=nr.registry.register,i.registerGrid=qr.registry.register,i.registerFilter=Jo.registry.register,i.registerNodeTool=ea.registry.register,i.registerEdgeTool=na.registry.register,i.registerBackground=vl.registry.register,i.registerHighlighter=mr.registry.register,i.registerPortLayout=js.registry.register,i.registerPortLabelLayout=Zo.registry.register,i.registerMarker=Zr.registry.register,i.registerRouter=Ur.registry.register,i.registerConnector=Bs.registry.register,i.registerAnchor=ia.registry.register,i.registerEdgeAnchor=ra.registry.register,i.registerConnectionPoint=sa.registry.register,i.registerConnectionStrategy=Qo.registry.register,i.registerHTMLComponent=rr.componentRegistry.register})(ae||(ae={}));(function(i){i.unregisterNode=Le.registry.unregister,i.unregisterEdge=Ne.registry.unregister,i.unregisterView=Be.registry.unregister,i.unregisterAttr=nr.registry.unregister,i.unregisterGrid=qr.registry.unregister,i.unregisterFilter=Jo.registry.unregister,i.unregisterNodeTool=ea.registry.unregister,i.unregisterEdgeTool=na.registry.unregister,i.unregisterBackground=vl.registry.unregister,i.unregisterHighlighter=mr.registry.unregister,i.unregisterPortLayout=js.registry.unregister,i.unregisterPortLabelLayout=Zo.registry.unregister,i.unregisterMarker=Zr.registry.unregister,i.unregisterRouter=Ur.registry.unregister,i.unregisterConnector=Bs.registry.unregister,i.unregisterAnchor=ia.registry.unregister,i.unregisterEdgeAnchor=ra.registry.unregister,i.unregisterConnectionPoint=sa.registry.unregister,i.unregisterConnectionStrategy=Qo.registry.unregister,i.unregisterHTMLComponent=rr.componentRegistry.unregister})(ae||(ae={}));class v9{constructor(){this.cells=[]}copy(t,e,n={}){this.options=Object.assign({},n);const s=(Cn.isModel(e)?e:e.model).cloneSubGraph(t,n);this.cells=zf(Object.keys(s).map(o=>s[o]),o=>o.isEdge()?2:1),this.serialize(n)}cut(t,e,n={}){this.copy(t,e,n),(ae.isGraph(e)?e.model:e).batchUpdate("cut",()=>{t.forEach(s=>s.remove())})}paste(t,e={}){const n=Object.assign(Object.assign({},this.options),e),{offset:r,edgeProps:s,nodeProps:o}=n;let a=20,l=20;r&&(a=typeof r=="number"?r:r.dx,l=typeof r=="number"?r:r.dy),this.deserialize(n);const c=this.cells;c.forEach(h=>{h.model=null,h.removeProp("zIndex"),(a||l)&&h.translate(a,l),o&&h.isNode()&&h.prop(o),s&&h.isEdge()&&h.prop(s)});const u=ae.isGraph(t)?t.model:t;return u.batchUpdate("paste",()=>{u.addCells(this.cells)}),this.copy(c,t,e),c}serialize(t){t.useLocalStorage!==!1&&Ka.save(this.cells)}deserialize(t){if(t.useLocalStorage){const e=Ka.fetch();e&&(this.cells=e)}}isEmpty(){return this.cells.length<=0}clean(){this.options={},this.cells=[],Ka.clean()}}var Ka;(function(i){const t=`${ir.prefixCls}.clipboard.cells`;function e(s){if(window.localStorage){const o=s.map(a=>a.toJSON());localStorage.setItem(t,JSON.stringify(o))}}i.save=e;function n(){if(window.localStorage){const s=localStorage.getItem(t),o=s?JSON.parse(s):[];if(o)return Cn.fromJSON(o)}}i.fetch=n;function r(){window.localStorage&&localStorage.removeItem(t)}i.clean=r})(Ka||(Ka={}));class y9{constructor(t){this.halo=t}get options(){return this.halo.options}get graph(){return this.halo.graph}get model(){return this.halo.model}get view(){return this.halo.view}get cell(){return this.halo.cell}get node(){return this.cell}getPresets(){return{className:"type-node",handles:[{name:"remove",position:"nw",events:{mousedown:this.removeCell.bind(this)},icon:null},{name:"resize",position:"se",events:{mousedown:this.startResize.bind(this),mousemove:this.doResize.bind(this),mouseup:this.stopResize.bind(this)},icon:null},{name:"clone",position:"n",events:{mousedown:this.startClone.bind(this),mousemove:this.doClone.bind(this),mouseup:this.stopClone.bind(this)},icon:null},{name:"link",position:"e",events:{mousedown:this.startLink.bind(this),mousemove:this.doLink.bind(this),mouseup:this.stopLink.bind(this)},icon:null},{name:"fork",position:"ne",events:{mousedown:this.startFork.bind(this),mousemove:this.doFork.bind(this),mouseup:this.stopFork.bind(this)},icon:null},{name:"unlink",position:"w",events:{mousedown:this.unlink.bind(this)},icon:null},{name:"rotate",position:"sw",events:{mousedown:this.startRotate.bind(this),mousemove:this.doRotate.bind(this),mouseup:this.stopRotate.bind(this)},icon:null}],bbox(t){return this.options.useCellGeometry?t.cell.getBBox():t.getBBox()},content(t){const e=So("x: <%= x %>, y: <%= y %>, width: <%= width %>, height: <%= height %>, angle: <%= angle %>"),n=t.cell,r=n.getBBox();return e({x:Math.floor(r.x),y:Math.floor(r.y),width:Math.floor(r.width),height:Math.floor(r.height),angle:Math.floor(n.getAngle())})},magnet(t){return t.container},tinyThreshold:40,smallThreshold:80,loopEdgePreferredSide:"top",loopEdgeWidth:40,rotateGrid:15,rotateEmbeds:!1}}removeCell(){this.model.removeConnectedEdges(this.cell),this.cell.remove()}startLink({x:t,y:e}){this.halo.startBatch();const n=this.graph,r=this.createEdgeConnectedToSource();r.setTarget({x:t,y:e}),this.model.addEdge(r,{validation:!1,halo:this.halo.cid,async:!1}),n.view.undelegateEvents(),this.edgeView=n.renderer.findViewByCell(r),this.edgeView.prepareArrowheadDragging("target",{x:t,y:e,fallbackAction:"remove"})}createEdgeConnectedToSource(){const t=this.getMagnet(this.view,"source"),e=this.getEdgeTerminal(this.view,t),n=this.graph.hook.getDefaultEdge(this.view,t);return n.setSource(e),n}getMagnet(t,e){const n=this.options.magnet;if(typeof n=="function"){const r=xt(n,this.halo,t,e);if(r instanceof SVGElement)return r}throw new Error("`magnet()` has to return an SVGElement")}getEdgeTerminal(t,e){const n={cell:t.cell.id};if(e!==t.container){const r=e.getAttribute("port");r?n.port=r:n.selector=t.getSelector(e)}return n}doLink({e:t,x:e,y:n}){this.edgeView&&this.edgeView.onMouseMove(t,e,n)}stopLink({e:t,x:e,y:n}){const r=this.edgeView;if(r){r.onMouseUp(t,e,n);const s=r.cell;s.hasLoop()&&this.makeLoopEdge(s),this.halo.stopBatch(),this.halo.trigger("action:edge:addde",{edge:s}),this.edgeView=null}this.graph.view.delegateEvents()}makeLoopEdge(t){let e=null,n=null;const r=this.options.loopEdgeWidth,s=this.graph.options,o=new ht(0,0,s.width,s.height),a=this.graph.graphToLocal(this.view.getBBox());[this.options.loopEdgePreferredSide,"top","bottom","left","right"].some(c=>{let u=null,h=0,f=0;switch(c){case"top":u=new N(a.x+a.width/2,a.y-r),h=r/2;break;case"bottom":u=new N(a.x+a.width/2,a.y+a.height+r),h=r/2;break;case"left":u=new N(a.x-r,a.y+a.height/2),f=r/2;break;case"right":u=new N(a.x+a.width+r,a.y+a.height/2),f=r/2;break}return u?(e=u.translate(-h,-f),n=u.translate(h,f),o.containsPoint(e)&&o.containsPoint(n)):!1})&&e&&n&&t.setVertices([e,n])}startResize({e:t}){this.halo.startBatch(),this.flip=[1,0,0,1,1,0,0,1][Math.floor(re.normalize(this.node.getAngle())/45)],this.view.addClass("node-resizing"),rn("node:resize",t,this.view)}doResize({e:t,dx:e,dy:n}){const r=this.node.getSize(),s=Math.max(r.width+(this.flip?e:n),1),o=Math.max(r.height+(this.flip?n:e),1);this.node.resize(s,o,{absolute:!0}),rn("node:resizing",t,this.view)}stopResize({e:t}){this.view.removeClass("node-resizing"),rn("node:resized",t,this.view),this.halo.stopBatch()}startClone({e:t,x:e,y:n}){this.halo.startBatch();const s=this.options.clone(this.cell,{clone:!0});if(!ie.isCell(s))throw new Error("option 'clone()' has to return a cell");this.centerNodeAtCursor(s,e,n),this.model.addCell(s,{halo:this.halo.cid,async:!1});const o=this.graph.renderer.findViewByCell(s);o.onMouseDown(t,e,n),this.halo.setEventData(t,{cloneView:o})}centerNodeAtCursor(t,e,n){const r=t.getBBox().getCenter(),s=e-r.x,o=n-r.y;t.translate(s,o)}doClone({e:t,x:e,y:n}){const r=this.halo.getEventData(t).cloneView;r&&r.onMouseMove(t,e,n)}stopClone({e:t,x:e,y:n}){const r=this.halo.getEventData(t).cloneView;r&&r.onMouseUp(t,e,n),this.halo.stopBatch()}startFork({e:t,x:e,y:n}){this.halo.startBatch();const r=this.options.clone(this.cell,{fork:!0});if(!ie.isCell(r))throw new Error("option 'clone()' has to return a cell");this.centerNodeAtCursor(r,e,n),this.model.addCell(r,{halo:this.halo.cid,async:!1});const s=this.createEdgeConnectedToSource(),o=this.graph.renderer.findViewByCell(r),a=this.getMagnet(o,"target"),l=this.getEdgeTerminal(o,a);s.setTarget(l),this.model.addEdge(s,{halo:this.halo.cid,async:!1}),o.onMouseDown(t,e,n),this.halo.setEventData(t,{cloneView:o})}doFork({e:t,x:e,y:n}){const r=this.halo.getEventData(t).cloneView;r&&r.onMouseMove(t,e,n)}stopFork({e:t,x:e,y:n}){const r=this.halo.getEventData(t).cloneView;r&&r.onMouseUp(t,e,n),this.halo.stopBatch()}startRotate({e:t,x:e,y:n}){this.halo.startBatch();const r=this.node.getBBox().getCenter(),s=[this.node];this.options.rotateEmbeds&&this.node.getDescendants({deep:!0}).reduce((o,a)=>(a.isNode()&&o.push(a),o),s),this.halo.setEventData(t,{center:r,nodes:s,rotateStartAngles:s.map(o=>o.getAngle()),clientStartAngle:new N(e,n).theta(r)}),s.forEach(o=>{const a=this.graph.findViewByCell(o);a&&(a.addClass("node-rotating"),rn("node:rotate",t,a))})}doRotate({e:t,x:e,y:n}){const r=this.halo.getEventData(t),s=r.clientStartAngle-new N(e,n).theta(r.center);r.nodes.forEach((o,a)=>{const l=r.rotateStartAngles[a],c=Qe.snapToGrid(l+s,this.options.rotateGrid);o.rotate(c,{absolute:!0,center:r.center,halo:this.halo.cid}),rn("node:rotating",t,this.graph.findViewByCell(o))})}stopRotate({e:t}){this.halo.getEventData(t).nodes.forEach(n=>{const r=this.graph.findViewByCell(n);r.removeClass("node-rotating"),rn("node:rotated",t,r)}),this.halo.stopBatch()}unlink(){this.halo.startBatch(),this.model.removeConnectedEdges(this.cell),this.halo.stopBatch()}}class x9{constructor(t){this.halo=t}get options(){return this.halo.options}get graph(){return this.halo.graph}get model(){return this.halo.model}get view(){return this.halo.view}get cell(){return this.halo.cell}get edge(){return this.cell}getPresets(){return{className:"type-edge",handles:[{name:"remove",position:"nw",icon:null,events:{mousedown:this.removeEdge.bind(this)}},{name:"direction",position:"se",icon:null,events:{mousedown:this.directionSwap.bind(this)}}],content:!1,bbox(t){return t.graph.localToGraph(t.getPointAtRatio(.5))},tinyThreshold:-1,smallThreshold:-1}}removeEdge(){this.cell.remove()}directionSwap(){const t=this.edge.getSource(),e=this.edge.getTarget();this.edge.prop({source:e,target:t})}}class Al extends Vl{get type(){return this.options.type||"surround"}get handleOptions(){return this.options}init(t){this.options=De(Al.defaultOptions,this.cell.isNode()?new y9(this).getPresets():this.cell.isEdge()?new x9(this).getPresets():null,t),this.render(),this.initHandles(),this.update(),this.startListening()}startListening(){const t=this.model,e=this.graph;this.view.cell.on("removed",this.remove,this),t.on("reseted",this.remove,this),e.on("halo:destroy",this.remove,this),t.on("*",this.update,this),e.on("scale",this.update,this),e.on("translate",this.update,this),super.startListening()}stopListening(){const t=this.model,e=this.graph,n=this.view.cell;this.undelegateEvents(),n.off("removed",this.remove,this),t.off("reseted",this.remove,this),e.off("halo:destroy",this.remove,this),t.off("*",this.update,this),e.off("scale",this.update,this),e.off("translate",this.update,this),super.stopListening()}render(){const t=this.options,e=this.prefixClassName("widget-halo");return this.view.addClass(lu.NODE_CLS),this.container=document.createElement("div"),this.$container=this.$(this.container).addClass(e).attr("data-shape",this.view.cell.shape),t.className&&this.$container.addClass(t.className),this.$handleContainer=this.$("<div/>").addClass(`${e}-handles`).appendTo(this.container),this.$content=this.$("<div/>").addClass(`${e}-content`).appendTo(this.container),this.$container.appendTo(this.graph.container),this}remove(){return this.stopBatch(),this.view.removeClass(lu.NODE_CLS),super.remove()}update(){if(this.isRendered()){this.updateContent();const t=this.getBBox(),e=this.options.tinyThreshold||0,n=this.options.smallThreshold||0;this.$handleContainer.toggleClass(`${this.handleClassName}-tiny`,t.width<e&&t.height<e);const r=`${this.handleClassName}-small`;this.$handleContainer.toggleClass(r,!this.$handleContainer.hasClass(r)&&t.width<n&&t.height<n),this.$container.css({width:t.width,height:t.height,left:t.x,top:t.y}),this.hasHandle("unlink")&&this.toggleUnlink(),(this.type==="surround"||this.type==="toolbar")&&this.hasHandle("fork")&&this.toggleFork()}}updateContent(){const t=this.options.content;if(typeof t=="function"){const e=xt(t,this,this.view,this.$content[0]);e&&this.$content.html(e)}else t?this.$content.html(t):this.$content.remove()}getBBox(){const t=this.view,e=this.options.bbox,n=typeof e=="function"?xt(e,this,t):e;return ht.create(Object.assign({x:0,y:0,width:1,height:1},n))}removeCell(){this.cell.remove()}toggleFork(){const t=this.view.cell.clone(),e=this.graph.hook.createCellView(t),n=this.graph.hook.validateConnection(this.view,null,e,null,"target");this.$handleContainer.children(".fork").toggleClass("hidden",!n),e.remove()}toggleUnlink(){const t=this.model.getConnectedEdges(this.view.cell).length>0;this.$handleContainer.children(".unlink").toggleClass("hidden",!t)}startBatch(){this.model.startBatch("halo",{halo:this.cid})}stopBatch(){this.model.hasActiveBatch("halo")&&this.model.stopBatch("halo",{halo:this.cid})}}(function(i){i.defaultOptions={type:"surround",clearAll:!0,clearOnBlankMouseDown:!0,useCellGeometry:!1,clone:t=>t.clone().removeZIndex()}})(Al||(Al={}));Object.getOwnPropertyNames(qs.prototype).forEach(i=>{i!=="constructor"&&Object.defineProperty(Al.prototype,i,Object.getOwnPropertyDescriptor(qs.prototype,i))});var lu;(function(i){i.NODE_CLS="has-widget-halo"})(lu||(lu={}));var w9=globalThis&&globalThis.__decorate||function(i,t,e,n){var r=arguments.length,s=r<3?t:n===null?n=Object.getOwnPropertyDescriptor(t,e):n,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")s=Reflect.decorate(i,t,e,n);else for(var a=i.length-1;a>=0;a--)(o=i[a])&&(s=(r<3?o(s):r>3?o(t,e,s):o(t,e))||s);return r>3&&s&&Object.defineProperty(t,e,s),s};class es extends se{constructor(t){super(),this.options=Object.assign(Object.assign({},es.defaults),t),this.container=document.createElement("div"),this.$container=this.$(this.container).addClass(this.prefixClassName("widget-dnd")),this.draggingGraph=new ae(Object.assign(Object.assign({},this.options.delegateGraphOptions),{container:document.createElement("div"),width:1,height:1})),this.$container.append(this.draggingGraph.container)}get targetScroller(){const t=this.options.target;return ae.isGraph(t)?t.scroller.widget:t}get targetGraph(){const t=this.options.target;return ae.isGraph(t)?t:t.graph}get targetModel(){return this.targetGraph.model}get snapline(){return this.targetGraph.snapline.widget}start(t,e){const n=e;n.preventDefault(),this.targetModel.startBatch("dnd"),this.$container.addClass("dragging").appendTo(this.options.containerParent||document.body),this.sourceNode=t,this.prepareDragging(t,n.clientX,n.clientY);const r=this.updateNodePosition(n.clientX,n.clientY);this.isSnaplineEnabled()&&(this.snapline.captureCursorOffset({e:n,node:t,cell:t,view:this.draggingView,x:r.x,y:r.y}),this.draggingNode.on("change:position",this.snap,this)),this.delegateDocumentEvents(es.documentEvents,n.data)}isSnaplineEnabled(){return this.snapline&&!this.snapline.disabled}prepareDragging(t,e,n){const r=this.draggingGraph,s=r.model,o=this.options.getDragNode(t,{sourceNode:t,draggingGraph:r,targetGraph:this.targetGraph});o.position(0,0);let a=5;if(this.isSnaplineEnabled()&&(a+=this.snapline.options.tolerance||0),this.isSnaplineEnabled()||this.options.scaled){const u=this.targetGraph.transform.getScale();r.scale(u.sx,u.sy),a*=Math.max(u.sx,u.sy)}else r.scale(1,1);this.clearDragging(),this.options.animation&&this.$container.stop(!0,!0),s.resetCells([o]);const l=r.findViewByCell(o);l.undelegateEvents(),l.cell.off("changed"),r.fitToContent({padding:a,allowNewOrigin:"any"});const c=l.getBBox();this.geometryBBox=l.getBBox({useCellGeometry:!0}),this.delta=this.geometryBBox.getTopLeft().diff(c.getTopLeft()),this.draggingNode=o,this.draggingView=l,this.draggingBBox=o.getBBox(),this.padding=a,this.originOffset=this.updateGraphPosition(e,n)}updateGraphPosition(t,e){const n=document.body.scrollTop||document.documentElement.scrollTop,r=this.delta,s=this.geometryBBox,o=this.padding||5,a={left:t-r.x-s.width/2-o,top:e-r.y-s.height/2-o+n};return this.draggingGraph&&this.$container.offset(a),a}updateNodePosition(t,e){const n=this.targetGraph.clientToLocal(t,e),r=this.draggingBBox;return n.x-=r.width/2,n.y-=r.height/2,this.draggingNode.position(n.x,n.y),n}snap({cell:t,current:e,options:n}){const r=t;if(n.snapped){const s=this.draggingBBox;r.position(s.x+n.tx,s.y+n.ty,{silent:!0}),this.draggingView.translate(),r.position(e.x,e.y,{silent:!0}),this.snapOffset={x:n.tx,y:n.ty}}else this.snapOffset=null}onDragging(t){const e=this.draggingView;if(e){t.preventDefault();const n=this.normalizeEvent(t),r=n.clientX,s=n.clientY;this.updateGraphPosition(r,s);const o=this.updateNodePosition(r,s),a=this.targetGraph.options.embedding.enabled,l=(a||this.isSnaplineEnabled())&&this.isInsideValidArea({x:r,y:s});if(a){e.setEventData(n,{graph:this.targetGraph,candidateEmbedView:this.candidateEmbedView});const c=e.getEventData(n);l?e.processEmbedding(n,c):e.clearEmbedding(c),this.candidateEmbedView=c.candidateEmbedView}this.isSnaplineEnabled()&&(l?this.snapline.snapOnMoving({e:n,view:e,x:o.x,y:o.y}):this.snapline.hide())}}onDragEnd(t){const e=this.draggingNode;if(e){const n=this.normalizeEvent(t),r=this.draggingView,s=this.draggingBBox,o=this.snapOffset;let a=s.x,l=s.y;o&&(a+=o.x,l+=o.y),e.position(a,l,{silent:!0});const c=this.drop(e,{x:n.clientX,y:n.clientY}),u=h=>{h?(this.onDropped(e),this.targetGraph.options.embedding.enabled&&r&&(r.setEventData(n,{cell:h,graph:this.targetGraph,candidateEmbedView:this.candidateEmbedView}),r.finalizeEmbedding(n,r.getEventData(n)))):this.onDropInvalid(),this.candidateEmbedView=null,this.targetModel.stopBatch("dnd")};_d(c)?(this.undelegateDocumentEvents(),c.then(u)):u(c)}}clearDragging(){this.draggingNode&&(this.sourceNode=null,this.draggingNode.remove(),this.draggingNode=null,this.draggingView=null,this.delta=null,this.padding=null,this.snapOffset=null,this.originOffset=null,this.undelegateDocumentEvents())}onDropped(t){this.draggingNode===t&&(this.clearDragging(),this.$container.removeClass("dragging").remove())}onDropInvalid(){const t=this.draggingNode;if(t){const e=this.options.animation;if(e){const n=typeof e=="object"&&e.duration||150,r=typeof e=="object"&&e.easing||"swing";this.draggingView=null,this.$container.animate(this.originOffset,n,r,()=>this.onDropped(t))}else this.onDropped(t)}}isInsideValidArea(t){let e;const n=this.targetGraph,r=this.targetScroller;if(r)if(r.options.autoResize)e=this.getDropArea(r.container);else{const s=this.getDropArea(r.container);e=this.getDropArea(n.container).intersectsWithRect(s)}else e=this.getDropArea(n.container);return e&&e.containsPoint(t)}getDropArea(t){const e=this.$(t),n=e.offset(),r=document.body.scrollTop||document.documentElement.scrollTop,s=document.body.scrollLeft||document.documentElement.scrollLeft;return ht.create({x:n.left+parseInt(e.css("border-left-width"),10)-s,y:n.top+parseInt(e.css("border-top-width"),10)-r,width:e.innerWidth(),height:e.innerHeight()})}drop(t,e){if(this.isInsideValidArea(e)){const n=this.targetGraph,r=n.model,s=n.clientToLocal(e),o=this.sourceNode,a=this.options.getDropNode(t,{sourceNode:o,draggingNode:t,targetGraph:this.targetGraph,draggingGraph:this.draggingGraph}),l=a.getBBox();s.x+=l.x-l.width/2,s.y+=l.y-l.height/2;const c=this.snapOffset?1:n.getGridSize();a.position(Qe.snapToGrid(s.x,c),Qe.snapToGrid(s.y,c)),a.removeZIndex();const u=this.options.validateNode,h=u?u(a,{sourceNode:o,draggingNode:t,droppingNode:a,targetGraph:n,draggingGraph:this.draggingGraph}):!0;return typeof h=="boolean"?h?(r.addCell(a,{stencil:this.cid}),a):null:cN(h).then(f=>f?(r.addCell(a,{stencil:this.cid}),a):null)}return null}onRemove(){this.draggingGraph&&(this.draggingGraph.view.remove(),this.draggingGraph.dispose())}dispose(){this.remove()}}w9([se.dispose()],es.prototype,"dispose",null);(function(i){i.defaults={animation:!1,getDragNode:t=>t.clone(),getDropNode:t=>t.clone()},i.documentEvents={mousemove:"onDragging",touchmove:"onDragging",mouseup:"onDragEnd",touchend:"onDragEnd",touchcancel:"onDragEnd"}})(es||(es={}));function C9(i,t={}){const e=Cn.isModel(i)?i:new Cn().resetCells(i,{sort:!1,dryrun:!0}),n=e.getNodes(),r=t.columns||1,s=Math.ceil(n.length/r),o=t.dx||0,a=t.dy||0,l=t.center!==!1,c=t.resizeToFit===!0,u=t.marginX||0,h=t.marginY||0,f=[];let p=t.columnWidth;if(p==="compact")for(let E=0;E<r;E+=1){const S=Ui.getNodesInColumn(n,E,r);f.push(Ui.getMaxDim(S,"width")+o)}else{(p==null||p==="auto")&&(p=Ui.getMaxDim(n,"width")+o);for(let E=0;E<r;E+=1)f.push(p)}const b=Ui.accumulate(f,u),v=[];let w=t.rowHeight;if(w==="compact")for(let E=0;E<s;E+=1){const S=Ui.getNodesInRow(n,E,r);v.push(Ui.getMaxDim(S,"height")+a)}else{(w==null||w==="auto")&&(w=Ui.getMaxDim(n,"height")+a);for(let E=0;E<s;E+=1)v.push(w)}const x=Ui.accumulate(v,h);e.startBatch("layout"),n.forEach((E,S)=>{const O=S%r,k=Math.floor(S/r),m=f[O],T=v[k];let D=0,z=0,H=E.getSize();if(c){let q=m-2*o,R=T-2*a;const rt=H.height*(H.width?q/H.width:1),st=H.width*(H.height?R/H.height:1);T<rt?q=st:R=rt,H={width:q,height:R},E.setSize(H,t)}l&&(D=(m-H.width)/2,z=(T-H.height)/2),E.position(b[O]+o+D,x[k]+a+z,t)}),e.stopBatch("layout")}var Ui;(function(i){function t(s,o){return s.reduce((a,l)=>Math.max(l.getSize()[o],a),0)}i.getMaxDim=t;function e(s,o,a){const l=[];for(let c=a*o,u=c+a;c<u;c+=1)l.push(s[c]);return l}i.getNodesInRow=e;function n(s,o,a){const l=[];for(let c=o,u=s.length;c<u;c+=a)l.push(s[c]);return l}i.getNodesInColumn=n;function r(s,o){return s.reduce((a,l,c)=>(a.push(a[c]+l),a),[o||0])}i.accumulate=r})(Ui||(Ui={}));class Ml extends se{constructor(t){super(),this.graphs={},this.$groups={},this.options=Object.assign(Object.assign({},Ml.defaultOptions),t),this.dnd=new es(this.options),this.onSearch=If(this.onSearch,200),this.container=document.createElement("div"),this.$container=this.$(this.container).addClass(this.prefixClassName(qn.base)).attr("data-not-found-text",this.options.notFoundText||"No matches found"),this.options.collapsable=t.collapsable&&t.groups&&t.groups.some(n=>n.collapsable!==!1),this.options.collapsable&&(this.$container.addClass("collapsable"),t.groups&&t.groups.every(r=>r.collapsed||r.collapsable===!1)&&this.$container.addClass("collapsed")),this.$("<div/>").addClass(this.prefixClassName(qn.title)).html(this.options.title).appendTo(this.$container),t.search&&this.$container.addClass("searchable").append(this.renderSearch()),this.$content=this.$("<div/>").addClass(this.prefixClassName(qn.content)).appendTo(this.$container);const e=t.stencilGraphOptions||{};if(t.groups&&t.groups.length)t.groups.forEach(n=>{const r=this.$("<div/>").addClass(this.prefixClassName(qn.group)).attr("data-name",n.name);(n.collapsable==null&&t.collapsable||n.collapsable!==!1)&&r.addClass("collapsable"),r.toggleClass("collapsed",n.collapsed===!0);const s=this.$("<h3/>").addClass(this.prefixClassName(qn.groupTitle)).html(n.title||n.name),o=this.$("<div/>").addClass(this.prefixClassName(qn.groupContent)),a=n.graphOptions,l=new ae(Object.assign(Object.assign(Object.assign({},e),a),{container:document.createElement("div"),model:e.model||new Cn,width:n.graphWidth||t.stencilGraphWidth,height:n.graphHeight||t.stencilGraphHeight,interacting:!1,preventDefaultBlankAction:!1}));o.append(l.container),r.append(s,o).appendTo(this.$content),this.$groups[n.name]=r,this.graphs[n.name]=l});else{const n=new ae(Object.assign(Object.assign({},e),{container:document.createElement("div"),model:e.model||new Cn,width:t.stencilGraphWidth,height:t.stencilGraphHeight,interacting:!1,preventDefaultBlankAction:!1}));this.$content.append(n.container),this.graphs[Ja.defaultGroupName]=n}return this.startListening(),this}get targetScroller(){const t=this.options.target;return ae.isGraph(t)?t.scroller.widget:t}get targetGraph(){const t=this.options.target;return ae.isGraph(t)?t:t.graph}get targetModel(){return this.targetGraph.model}renderSearch(){return this.$("<div/>").addClass(this.prefixClassName(qn.search)).append(this.$("<input/>").attr({type:"search",placeholder:this.options.placeholder||"Search"}).addClass(this.prefixClassName(qn.searchText)))}startListening(){const t=this.prefixClassName(qn.title),e=this.prefixClassName(qn.searchText),n=this.prefixClassName(qn.groupTitle);this.delegateEvents({[`click .${t}`]:"onTitleClick",[`touchstart .${t}`]:"onTitleClick",[`click .${n}`]:"onGroupTitleClick",[`touchstart .${n}`]:"onGroupTitleClick",[`input .${e}`]:"onSearch",[`focusin .${e}`]:"onSearchFocusIn",[`focusout .${e}`]:"onSearchFocusOut"}),Object.keys(this.graphs).forEach(r=>{this.graphs[r].on("cell:mousedown",this.onDragStart,this)})}stopListening(){this.undelegateEvents(),Object.keys(this.graphs).forEach(t=>{this.graphs[t].off("cell:mousedown",this.onDragStart,this)})}load(t,e){return Array.isArray(t)?this.loadGroup(t,e):this.options.groups&&Object.keys(this.options.groups).forEach(n=>{t[n]&&this.loadGroup(t[n],n)}),this}loadGroup(t,e){const n=this.getModel(e);if(n){const a=t.map(l=>Le.isNode(l)?l:Le.create(l));n.resetCells(a)}const r=this.getGroup(e);let s=this.options.stencilGraphHeight;r&&r.graphHeight!=null&&(s=r.graphHeight);const o=r&&r.layout||this.options.layout;if(o&&n&&xt(o,this,n,r),!s){const a=this.getGraph(e);a.fitToContent({minWidth:a.options.width,gridHeight:1,padding:r&&r.graphPadding||this.options.stencilGraphPadding||10})}return this}onDragStart(t){const{e,node:n}=t;this.dnd.start(n,e)}filter(t,e){const n=Object.keys(this.graphs).reduce((r,s)=>{const o=this.graphs[s],a=s===Ja.defaultGroupName?null:s,l=o.model.getNodes().filter(f=>{let p=!1;typeof e=="function"?p=xt(e,this,f,t,a,this):typeof e=="boolean"?p=e:p=this.isCellMatched(f,t,e,t.toLowerCase()!==t);const b=o.renderer.findViewByCell(f);return b&&b.$(b.container).toggleClass("unmatched",!p),p}),c=l.length>0,u=this.options,h=new Cn;return h.resetCells(l),u.layout&&xt(u.layout,this,h,this.getGroup(s)),this.$groups[s]&&this.$groups[s].toggleClass("unmatched",!c),o.fitToContent({gridWidth:1,gridHeight:1,padding:u.stencilGraphPadding||10}),r||c},!1);this.$container.toggleClass("not-found",!n)}isCellMatched(t,e,n,r){return e&&n?Object.keys(n).some(s=>{if(s==="*"||t.shape===s){const o=n[s];return typeof o=="boolean"?o:(Array.isArray(o)?o:[o]).some(l=>{let c=t.getPropByPath(l);return c!=null?(c=`${c}`,r||(c=c.toLowerCase()),c.indexOf(e)>=0):!1})}return!1}):!0}onSearch(t){this.filter(t.target.value,this.options.search)}onSearchFocusIn(){this.$container.addClass("is-focused")}onSearchFocusOut(){this.$container.removeClass("is-focused")}onTitleClick(){this.options.collapsable&&(this.$container.toggleClass("collapsed"),this.$container.hasClass("collapsed")?this.collapseGroups():this.expandGroups())}onGroupTitleClick(t){const e=this.$(t.target).closest(`.${this.prefixClassName(qn.group)}`);this.toggleGroup(e.attr("data-name")||"");const n=Object.keys(this.$groups).every(r=>{const s=this.getGroup(r),o=this.$groups[r];return s&&s.collapsable===!1||o.hasClass("collapsed")});this.$container.toggleClass("collapsed",n)}getModel(t){const e=this.getGraph(t);return e?e.model:null}getGraph(t){return this.graphs[t||Ja.defaultGroupName]}getGroup(t){const e=this.options.groups;return t!=null&&e&&e.length?e.find(n=>n.name===t):null}toggleGroup(t){return this.isGroupCollapsed(t)?this.expandGroup(t):this.collapseGroup(t),this}collapseGroup(t){if(this.isGroupCollapsable(t)){const e=this.$groups[t];e&&!this.isGroupCollapsed(t)&&(this.trigger("group:collapse",{name:t}),e.addClass("collapsed"))}return this}expandGroup(t){if(this.isGroupCollapsable(t)){const e=this.$groups[t];e&&this.isGroupCollapsed(t)&&(this.trigger("group:expand",{name:t}),e.removeClass("collapsed"))}return this}isGroupCollapsable(t){return this.$groups[t].hasClass("collapsable")}isGroupCollapsed(t){const e=this.$groups[t];return e&&e.hasClass("collapsed")}collapseGroups(){return Object.keys(this.$groups).forEach(t=>this.collapseGroup(t)),this}expandGroups(){return Object.keys(this.$groups).forEach(t=>this.expandGroup(t)),this}resizeGroup(t,e){const n=this.graphs[t];return n&&n.resize(e.width,e.height),this}onRemove(){Object.keys(this.graphs).forEach(t=>{this.graphs[t].view.remove(),delete this.graphs[t]}),this.dnd.remove(),this.stopListening(),this.undelegateDocumentEvents()}}(function(i){i.defaultOptions=Object.assign({stencilGraphWidth:200,stencilGraphHeight:800,title:"Stencil",collapsable:!1,placeholder:"Search",notFoundText:"No matches found",layout(t,e){const n={columnWidth:this.options.stencilGraphWidth/2-10,columns:2,rowHeight:80,resizeToFit:!1,dx:10,dy:10};C9(t,Object.assign(Object.assign(Object.assign({},n),this.options.layoutOptions),e?e.layoutOptions:{}))}},es.defaults)})(Ml||(Ml={}));var qn;(function(i){i.base="widget-stencil",i.title=`${i.base}-title`,i.search=`${i.base}-search`,i.searchText=`${i.search}-text`,i.content=`${i.base}-content`,i.group=`${i.base}-group`,i.groupTitle=`${i.group}-title`,i.groupContent=`${i.group}-content`})(qn||(qn={}));var Ja;(function(i){i.defaultGroupName="__default__"})(Ja||(Ja={}));function E9(){if(ir.trackable){const i="https://kcart.alipay.com/web/bi.do",t=new Image,e=Object.assign(Object.assign({},ir.trackInfo),{version:kF,pg:document.URL,r:new Date().getTime(),x6:!0,page_type:"syslog"}),n=encodeURIComponent(JSON.stringify([e]));t.src=`${i}?BIProfile=merge&d=${n}`}}ir.trackable&&setTimeout(E9,3e3);const S9=i=>{i.bindKey(["meta+c","ctrl+c"],()=>{const e=i.getSelectedCells();return e.length&&i.copy(e),!1}),i.bindKey(["meta+x","ctrl+x"],()=>{const e=i.getSelectedCells();return e.length&&i.cut(e),!1}),i.bindKey(["meta+v","ctrl+v"],()=>{if(!i.isClipboardEmpty()){const e=i.paste({offset:32});i.cleanSelection(),i.select(e)}return!1}),i.bindKey(["meta+z","ctrl+z"],()=>(i.history.canUndo()&&i.history.undo(),!1)),i.bindKey(["meta+shift+z","ctrl+shift+z"],()=>(i.history.canRedo()&&i.history.redo(),!1)),i.bindKey(["meta+a","ctrl+a"],()=>{const e=i.getNodes();e&&i.select(e)}),i.bindKey("backspace",()=>{const e=i.getSelectedCells();e.length&&i.removeCells(e)}),i.bindKey(["ctrl+1","meta+1"],()=>{i.zoom()<1.5&&i.zoom(.1)}),i.bindKey(["ctrl+2","meta+2"],()=>{i.zoom()>.5&&i.zoom(-.1)});const t=(e,n)=>{for(let r=0,s=e.length;r<s;r=r+1)e[r].style.visibility=n?"visible":"hidden"};i.on("node:mouseenter",()=>{const n=document.getElementById("graph-container").querySelectorAll(".x6-port-body");t(n,!0)}),i.on("node:mouseleave",()=>{const n=document.getElementById("graph-container").querySelectorAll(".x6-port-body");t(n,!1)})},A9=(i,t)=>{const e={groups:{top:{position:"top",attrs:{circle:{r:4,magnet:!0,stroke:"#22dd33",strokeWidth:1,fill:"#fff",style:{visibility:"hidden"}}}},right:{position:"right",attrs:{circle:{r:4,magnet:!0,stroke:"#5F95FF",strokeWidth:1,fill:"#fff",style:{visibility:"hidden"}}}},bottom:{position:"bottom",attrs:{circle:{r:4,magnet:!0,stroke:"#5F95FF",strokeWidth:1,fill:"#fff",style:{visibility:"hidden"}}}},left:{position:"left",attrs:{circle:{r:4,magnet:!0,stroke:"#5F95FF",strokeWidth:1,fill:"#fff",style:{visibility:"hidden"}}}}},items:[{group:"top"},{group:"right"},{group:"bottom"},{group:"left"}]};ae.registerNode("custom-rect",{inherit:"rect",width:66,height:36,attrs:{body:{strokeWidth:1,stroke:"#5F95FF",fill:"#EFF4FF"},text:{fontSize:12,fill:"#262626"}},ports:{...e},data:[{key:"state",title:"\u72B6\u6001",value:"on"},{key:"apply",title:"\u7533\u8BF7\u4EBA",value:"\u5F20\u4E09"}]},!0),ae.registerNode("custom-polygon",{inherit:"polygon",width:66,height:36,attrs:{body:{strokeWidth:1,stroke:"#5F95FF",fill:"#EFF4FF"},text:{fontSize:12,fill:"#262626"}},ports:{...e,items:[{group:"top"},{group:"bottom"}]}},!0),ae.registerNode("custom-circle",{inherit:"circle",width:45,height:45,attrs:{body:{strokeWidth:1,stroke:"#5F95FF",fill:"#EFF4FF"},text:{fontSize:12,fill:"#262626"}},ports:{...e}},!0),ae.registerNode("custom-image",{inherit:"rect",width:52,height:52,markup:[{tagName:"rect",selector:"body"},{tagName:"image"},{tagName:"text",selector:"label"}],attrs:{body:{stroke:"#5F95FF",fill:"#5F95FF"},image:{width:26,height:26,refX:13,refY:16},label:{refX:3,refY:2,textAnchor:"left",textVerticalAnchor:"top",fontSize:12,fill:"#fff"}},ports:{...e}},!0);const n=i.createNode({shape:"custom-rect",label:"\u5F00\u59CB",attrs:{body:{rx:20,ry:26}}}),r=i.createNode({shape:"custom-rect",label:"\u8FC7\u7A0B"}),s=i.createNode({shape:"custom-rect",attrs:{body:{rx:6,ry:6}},label:"\u53EF\u9009\u8FC7\u7A0B"}),o=i.createNode({shape:"custom-polygon",attrs:{body:{refPoints:"0,10 10,0 20,10 10,20"}},label:"\u51B3\u7B56"}),a=i.createNode({shape:"custom-polygon",attrs:{body:{refPoints:"10,0 40,0 30,20 0,20"}},label:"\u6570\u636E"}),l=i.createNode({shape:"custom-circle",label:"\u8FDE\u63A5"});t.load([n,r,s,o,a,l],"group1");const u=[{label:"\u81EA\u5B9A\u4E49A",image:"https://pngimg.com/uploads/letter_a/small/letter_a_PNG21.png"},{label:"Http",image:"https://gw.alipayobjects.com/zos/bmw-prod/dc1ced06-417d-466f-927b-b4a4d3265791.svg"},{label:"Api",image:"https://gw.alipayobjects.com/zos/bmw-prod/c55d7ae1-8d20-4585-bd8f-ca23653a4489.svg"},{label:"Sql",image:"https://gw.alipayobjects.com/zos/bmw-prod/6eb71764-18ed-4149-b868-53ad1542c405.svg"},{label:"Clound",image:"https://gw.alipayobjects.com/zos/bmw-prod/c36fe7cb-dc24-4854-aeb5-88d8dc36d52e.svg"},{label:"Mq",image:"https://gw.alipayobjects.com/zos/bmw-prod/2010ac9f-40e7-49d4-8c4a-4fcf2f83033b.svg"}].map(h=>i.createNode({shape:"custom-image",label:h.label,attrs:{image:{"xlink:href":h.image}}}));t.load(u,"group2")},M9=()=>{const i=new ae({container:document.getElementById("graph-container"),grid:!0,mousewheel:{enabled:!0,zoomAtMousePosition:!0,modifiers:"ctrl",minScale:.5,maxScale:3},connecting:{router:{name:"manhattan",args:{padding:1}},connector:{name:"rounded",args:{radius:8}},anchor:"center",connectionPoint:"anchor",allowBlank:!1,snap:{radius:20},createEdge(){return new mp({attrs:{line:{stroke:"#A2B1C3",strokeWidth:2,targetMarker:{name:"block",width:12,height:8}}},zIndex:0})},validateConnection({targetMagnet:e}){return!!e}},highlighting:{magnetAdsorbed:{name:"stroke",args:{attrs:{fill:"#5F95FF",stroke:"#5F95FF"}}}},resizing:!0,rotating:!0,selecting:{enabled:!0,rubberband:!0,showNodeSelectionBox:!0},snapline:!0,keyboard:!0,clipboard:!0}),t=new Ml({title:"\u6D41\u7A0B\u56FE",target:i,stencilGraphWidth:200,stencilGraphHeight:180,collapsable:!0,groups:[{title:"\u57FA\u7840\u6D41\u7A0B\u56FE",name:"group1"},{title:"\u7CFB\u7EDF\u8BBE\u8BA1\u56FE",name:"group2",graphHeight:250,layoutOptions:{rowHeight:70}}],layoutOptions:{columns:2,columnWidth:80,rowHeight:55}});return document.getElementById("stencil").appendChild(t.container),S9(i),A9(i,t),i};var P1=(i,t)=>{const e=i.__vccOpts||i;for(const[n,r]of t)e[n]=r;return e};const O9=Ie({__name:"RightMenu",props:{visible:{type:Boolean},position:null},emits:["deleteNode"],setup(i){const t=vt(()=>({display:i.visible?"block":"none",left:`${i.position.x+180}px`,top:`${i.position.y}px`}));return(e,n)=>(St(),Zt("ul",{class:"menu-list",style:En(U(t))},[Yt("li",{onClick:n[0]||(n[0]=r=>e.$emit("deleteNode"))},"\u5220\u9664\u8282\u70B9")],4))}});var T9=P1(O9,[["__scopeId","data-v-ba6a11de"]]);let No,Yu=[],ls=[],cu=[],Ku=new Set,Ap=new Set,Ol=[],Tl=[],Pc=[];const P9=()=>{Yu=[],ls=[],cu=[],Ku=new Set,Ap=new Set,Ol=[],Tl=[],Pc=[]},k1=i=>{P9(),No=i;const t=No.getCells();cu=No.toJSON().cells;for(let e of cu)e.shape==="edge"&&(Ku.add(e.source.cell),Ap.add(e.target.cell));for(let e of t)e.isNode()&&ls.push(e),e.isEdge()&&Yu.push(e)},k9=(i=1e3)=>new Promise(t=>{setTimeout(t,i)}),kc=()=>ls.find(t=>{if(!Ap.has(t.id))return t}),_9=()=>ls.find(t=>{if(!Ku.has(t.id))return t}),_1=i=>{const t=cu.filter(e=>e.shape==="edge"&&e.source.cell===i.id);for(let e of t){const n=Yu.find(s=>{if(s.id===e.id)return s}),r=ls.find(s=>{if(s.id===e.target.cell)return s});n&&r&&(Ol.push(n),Ol.push(r),Tl.push(r),n.isReplay=!0,Tl.push(n),_1(r))}},D1=i=>(k1(i),Ol.push(kc()),Tl.push(kc()),_1(kc()),Ol),D9=async i=>{D1(i),No.clearCells();for(const t of Tl)t.isEdge()&&No.addEdge(t),t.isNode()&&No.addNode(t),await k9(300)},N9=()=>{for(let i of ls){let t=i;t.branchEdges=[];for(let e of Yu)e.isEdge()&&e.getSource().cell===t.id&&t.branchEdges.push(e)}},$9=i=>ls.find(e=>{if(!Ku.has(e.id))return e}).id===i.id,G2=i=>ls.find(e=>{if(e.id===i.getTarget().cell)return e}),_c=(i,t,e,n)=>{let r={edge:t,node:$9(i)?null:i,branch:[],level:n};e.push(r);const s=i.branchEdges;if(!(!s||s.length===0))if(s.length>1)for(let o of s){const a=G2(o);_c(a,o,r.branch,r.level+1)}else{const o=G2(s[0]);n===0?_c(o,s[0],e,n):_c(o,s[0],r.branch,n+1)}},F9=i=>{k1(i),N9();let t=kc();_c(t,null,Pc,0);let e=_9();return Pc.push({edge:null,node:e,branch:[],level:0}),Pc},N1=i=>(Lw("data-v-1980809c"),i=i(),Iw(),i),L9={class:"toolbar"},I9=Zi(" \u7EBF\u989C\u8272\uFF1A "),z9=Zi(" \u4FDD\u5B58 "),j9=Zi(" \u6E05\u7A7A "),B9=Zi(" \u64AD\u653E "),R9=Zi(" \u83B7\u53D6\u987A\u5E8F\u64AD\u653E\u6570\u636E "),V9=Zi(" \u83B7\u53D6\u6811\u7ED3\u6784\u683C\u5F0F\u6570\u636E "),H9={id:"container"},G9=N1(()=>Yt("div",{id:"stencil"},null,-1)),q9=N1(()=>Yt("div",{id:"graph-container"},null,-1)),U9=Ie({__name:"FlowChart",props:["jsonData"],emits:["saveJsonData"],setup(i,{emit:t}){let e;const n=Mt([]);let r,s,o=Mt("#dd0022"),a=Mt(!1),l=Mt({x:0,y:0});const c=()=>{e=M9(),e.on("node:click",({e:x,x:E,y:S,node:O,view:k})=>{r=O;const m=O.getData()||[],T=O.getAttrs().label?O.getAttrs().label.text:O.getAttrs().text.text;n.value=[{key:"label",value:T,title:"\u6807\u7B7E"},...m]}),e.on("edge:click",({e:x,x:E,y:S,edge:O,view:k})=>{r=O;const m=O.getData()||[];let T=O.getLabelAt(0)?O.getLabelAt(0).attrs.label.text:"",D=O.getAttrs().line.stroke;n.value=[{key:"label",value:T,title:"\u6807\u7B7E"},{key:"color",value:D,title:"\u989C\u8272"},...m]}),e.on("edge:added",({edge:x,index:E,options:S})=>{x.isReplay||x.setAttrs({line:{stroke:o.value}})}),e.on("cell:contextmenu",x=>{a.value=!0,l.value={x:x.x,y:x.y},s=x.node||x.edge})};Qt(n,()=>{if(n.value){let x=n.value.filter(S=>S.key==="label")[0].value;r instanceof Le&&r.setLabel(x),r instanceof Ne&&r.setLabels([x]);let E=n.value.filter(S=>S.key==="color");if(E[0]){let S=E[0].value;r.setAttrs({line:{stroke:S}})}}},{deep:!0});const u=()=>{const x=e.toJSON();t("saveJsonData",JSON.stringify(x))},h=()=>{a.value=!1,s.remove()},f=()=>{e.clearCells()},p=()=>{D9(e)},b=()=>{var E;let x=D1(e);for(const S of x)if(S.isNode())console.log("\u8282\u70B9\uFF1A "+S.getLabel());else{let O=S.getLabels()[0];O&&console.log("\u7EBF\uFF1A "+((E=O==null?void 0:O.attrs)==null?void 0:E.label.text))}},v=x=>{var E,S;for(const O of x){const k=O.node&&O.node.getLabel()||"",m=O.edge&&((S=(E=O.edge.getLabels()[0])==null?void 0:E.attrs)==null?void 0:S.label.text)||"",T="  ".repeat(O.level*2);console.log(`${T}${m?m+":":""}${k||"(\u7ED3\u675F)"}`),O.branch.length>0&&v(O.branch)}},w=()=>{const x=F9(e);console.log(x),v(x)};return Nn(()=>{c(),e.fromJSON(JSON.parse(i.jsonData))}),(x,E)=>{const S=Jv,O=t8,k=Yv;return St(),Zt(tn,null,[Yt("div",L9,[I9,Jt(S,{modelValue:o.value,"onUpdate:modelValue":E[0]||(E[0]=m=>o.value=m)},null,8,["modelValue"]),Jt(O,{direction:"vertical"}),Jt(k,{type:"primary",size:"small",onClick:u},{default:we(()=>[z9]),_:1}),Jt(O,{direction:"vertical"}),Jt(k,{type:"danger",size:"small",onClick:f},{default:we(()=>[j9]),_:1}),Jt(k,{type:"success",size:"small",onClick:p},{default:we(()=>[B9]),_:1}),Jt(k,{type:"primary",size:"small",onClick:b},{default:we(()=>[R9]),_:1}),Jt(k,{type:"primary",size:"small",onClick:w},{default:we(()=>[V9]),_:1})]),Yt("div",H9,[G9,q9,Jt(Z8,{class:"form-detail",detailData:n.value},null,8,["detailData"]),Jt(T9,{visible:a.value,position:l.value,onDeleteNode:h},null,8,["visible","position"])])],64)}}});var W9=P1(U9,[["__scopeId","data-v-1980809c"]]);const X9=Ie({__name:"App",setup(i){let e=V3("jsonData",'{"cells":[{"shape":"edge","attrs":{"line":{"stroke":"#dd0022","targetMarker":{"name":"block","width":12,"height":8}}},"id":"c80475c5-2fe8-4a15-89bb-a7ca6a78e636","zIndex":0,"source":{"cell":"5ed1461c-6271-461d-9ab1-cf7f535fdd45","port":"778b9379-4a33-4961-8f31-97054945c99c"},"target":{"cell":"8c62f5d7-e80d-4c82-8706-e05d708a9217","port":"2f7b1f4e-4bf9-4486-ba21-4b6a23c8a558"}},{"shape":"edge","attrs":{"line":{"stroke":"#00DD21","targetMarker":{"name":"block","width":12,"height":8}}},"id":"420705b7-a921-4003-b9e9-e79c3e7f9b17","zIndex":0,"source":{"cell":"8c62f5d7-e80d-4c82-8706-e05d708a9217","port":"df08c7c6-80fa-47f1-ba36-9caf651663fe"},"target":{"cell":"eef39a56-e967-46c1-8c0a-9fcf2b4c4737","port":"f4115e0d-f244-4c8d-8f13-122ab2aecbf7"}},{"shape":"edge","attrs":{"line":{"stroke":"#DD0700","targetMarker":{"name":"block","width":12,"height":8}}},"id":"786b1beb-6446-4ebe-8030-5ba9c4f6fd35","zIndex":0,"source":{"cell":"eef39a56-e967-46c1-8c0a-9fcf2b4c4737","port":"2a964d22-843e-4c40-a5e8-c973863880c8"},"target":{"cell":"07b4d929-f7e6-4d3d-a165-8bac4f5eee5e","port":"b64b0b98-9910-4929-ac9c-ca74803ce230"}},{"shape":"edge","attrs":{"line":{"stroke":"#DD0700","targetMarker":{"name":"block","width":12,"height":8}}},"id":"9e987b6c-513c-400d-be90-576acfc66f42","zIndex":0,"source":{"cell":"07b4d929-f7e6-4d3d-a165-8bac4f5eee5e","port":"61b0aaad-9370-4630-afec-eda370e39479"},"target":{"cell":"d2633c63-78f0-49e6-91d9-dd0557d48589","port":"b4a994d4-26a4-4a10-bf2a-628a25b2ba66"}},{"position":{"x":230,"y":80},"size":{"width":66,"height":36},"attrs":{"text":{"text":"\u5F00\u59CB"},"body":{"rx":20,"ry":26}},"shape":"custom-rect","data":[{"key":"state","title":"\u72B6\u6001","value":"on"},{"key":"apply","title":"\u7533\u8BF7\u4EBA","value":"\u5F20\u4E09"}],"ports":{"groups":{"top":{"position":"top","attrs":{"circle":{"r":4,"magnet":true,"stroke":"#22dd33","strokeWidth":1,"fill":"#fff","style":{"visibility":"hidden"}}}},"right":{"position":"right","attrs":{"circle":{"r":4,"magnet":true,"stroke":"#5F95FF","strokeWidth":1,"fill":"#fff","style":{"visibility":"hidden"}}}},"bottom":{"position":"bottom","attrs":{"circle":{"r":4,"magnet":true,"stroke":"#5F95FF","strokeWidth":1,"fill":"#fff","style":{"visibility":"hidden"}}}},"left":{"position":"left","attrs":{"circle":{"r":4,"magnet":true,"stroke":"#5F95FF","strokeWidth":1,"fill":"#fff","style":{"visibility":"hidden"}}}}},"items":[{"group":"top","id":"b4a994d4-26a4-4a10-bf2a-628a25b2ba66"},{"group":"right","id":"00a64b03-d578-4a3c-8d97-54a9673f4895"},{"group":"bottom","id":"778b9379-4a33-4961-8f31-97054945c99c"},{"group":"left","id":"38c5d440-4879-4353-b7e9-7dd5e466605f"}]},"id":"5ed1461c-6271-461d-9ab1-cf7f535fdd45","zIndex":1},{"position":{"x":230,"y":159},"size":{"width":66,"height":36},"attrs":{"text":{"text":"\u51B3\u7B56"},"body":{"refPoints":"0,10 10,0 20,10 10,20"}},"shape":"custom-polygon","ports":{"groups":{"top":{"position":"top","attrs":{"circle":{"r":4,"magnet":true,"stroke":"#22dd33","strokeWidth":1,"fill":"#fff","style":{"visibility":"hidden"}}}},"right":{"position":"right","attrs":{"circle":{"r":4,"magnet":true,"stroke":"#5F95FF","strokeWidth":1,"fill":"#fff","style":{"visibility":"hidden"}}}},"bottom":{"position":"bottom","attrs":{"circle":{"r":4,"magnet":true,"stroke":"#5F95FF","strokeWidth":1,"fill":"#fff","style":{"visibility":"hidden"}}}},"left":{"position":"left","attrs":{"circle":{"r":4,"magnet":true,"stroke":"#5F95FF","strokeWidth":1,"fill":"#fff","style":{"visibility":"hidden"}}}}},"items":[{"group":"top","id":"2f7b1f4e-4bf9-4486-ba21-4b6a23c8a558"},{"group":"bottom","id":"df08c7c6-80fa-47f1-ba36-9caf651663fe"}]},"id":"8c62f5d7-e80d-4c82-8706-e05d708a9217","zIndex":2},{"position":{"x":230,"y":252},"size":{"width":66,"height":36},"attrs":{"text":{"text":"\u8FC7\u7A0B"}},"shape":"custom-rect","data":[{"key":"state","title":"\u72B6\u6001","value":"on"},{"key":"apply","title":"\u7533\u8BF7\u4EBA","value":"\u5F20\u4E09"}],"ports":{"groups":{"top":{"position":"top","attrs":{"circle":{"r":4,"magnet":true,"stroke":"#22dd33","strokeWidth":1,"fill":"#fff","style":{"visibility":"hidden"}}}},"right":{"position":"right","attrs":{"circle":{"r":4,"magnet":true,"stroke":"#5F95FF","strokeWidth":1,"fill":"#fff","style":{"visibility":"hidden"}}}},"bottom":{"position":"bottom","attrs":{"circle":{"r":4,"magnet":true,"stroke":"#5F95FF","strokeWidth":1,"fill":"#fff","style":{"visibility":"hidden"}}}},"left":{"position":"left","attrs":{"circle":{"r":4,"magnet":true,"stroke":"#5F95FF","strokeWidth":1,"fill":"#fff","style":{"visibility":"hidden"}}}}},"items":[{"group":"top","id":"f4115e0d-f244-4c8d-8f13-122ab2aecbf7"},{"group":"right","id":"157ffd90-33e0-4cb4-8de0-d2083eca5635"},{"group":"bottom","id":"2a964d22-843e-4c40-a5e8-c973863880c8"},{"group":"left","id":"187f06b6-c421-456a-b878-0aff5579b847"}]},"id":"eef39a56-e967-46c1-8c0a-9fcf2b4c4737","zIndex":3},{"position":{"x":241,"y":320},"size":{"width":45,"height":45},"attrs":{"text":{"text":"\u8FDE\u63A5"}},"shape":"custom-circle","ports":{"groups":{"top":{"position":"top","attrs":{"circle":{"r":4,"magnet":true,"stroke":"#22dd33","strokeWidth":1,"fill":"#fff","style":{"visibility":"hidden"}}}},"right":{"position":"right","attrs":{"circle":{"r":4,"magnet":true,"stroke":"#5F95FF","strokeWidth":1,"fill":"#fff","style":{"visibility":"hidden"}}}},"bottom":{"position":"bottom","attrs":{"circle":{"r":4,"magnet":true,"stroke":"#5F95FF","strokeWidth":1,"fill":"#fff","style":{"visibility":"hidden"}}}},"left":{"position":"left","attrs":{"circle":{"r":4,"magnet":true,"stroke":"#5F95FF","strokeWidth":1,"fill":"#fff","style":{"visibility":"hidden"}}}}},"items":[{"group":"top","id":"b64b0b98-9910-4929-ac9c-ca74803ce230"},{"group":"right","id":"14bbed71-b041-4df5-9616-f8bf802cd709"},{"group":"bottom","id":"61b0aaad-9370-4630-afec-eda370e39479"},{"group":"left","id":"4f918164-5a87-4bf4-ad31-8a1d909d1f76"}]},"id":"07b4d929-f7e6-4d3d-a165-8bac4f5eee5e","zIndex":4},{"position":{"x":230,"y":407},"size":{"width":66,"height":36},"attrs":{"text":{"text":"\u7ED3\u675F"},"body":{"rx":20,"ry":26}},"shape":"custom-rect","data":[{"key":"state","title":"\u72B6\u6001","value":"on"},{"key":"apply","title":"\u7533\u8BF7\u4EBA","value":"\u5F20\u4E09"}],"ports":{"groups":{"top":{"position":"top","attrs":{"circle":{"r":4,"magnet":true,"stroke":"#22dd33","strokeWidth":1,"fill":"#fff","style":{"visibility":"hidden"}}}},"right":{"position":"right","attrs":{"circle":{"r":4,"magnet":true,"stroke":"#5F95FF","strokeWidth":1,"fill":"#fff","style":{"visibility":"hidden"}}}},"bottom":{"position":"bottom","attrs":{"circle":{"r":4,"magnet":true,"stroke":"#5F95FF","strokeWidth":1,"fill":"#fff","style":{"visibility":"hidden"}}}},"left":{"position":"left","attrs":{"circle":{"r":4,"magnet":true,"stroke":"#5F95FF","strokeWidth":1,"fill":"#fff","style":{"visibility":"hidden"}}}}},"items":[{"group":"top","id":"b4a994d4-26a4-4a10-bf2a-628a25b2ba66"},{"group":"right","id":"00a64b03-d578-4a3c-8d97-54a9673f4895"},{"group":"bottom","id":"778b9379-4a33-4961-8f31-97054945c99c"},{"group":"left","id":"38c5d440-4879-4353-b7e9-7dd5e466605f"}]},"id":"d2633c63-78f0-49e6-91d9-dd0557d48589","zIndex":5}]}');const n=r=>{e.value=r};return(r,s)=>(St(),Ae(W9,{jsonData:U(e),onSaveJsonData:n},null,8,["jsonData"]))}});g3(X9).mount("#app")});export default Y9();
